"undefined"!=typeof __GAME_ENTRY__&&function(){"use strict";goblin.BallgameBettingCart=function(){this.matchIndex2BettingIndex2ResultIndexes={},this.bettingType2FullIndexes={},this.unmarkedBettingType=null,this.unmarkedBettingFullIndexes=null};var e=goblin.BallgameBettingCart.prototype,t=function(e,t){return"{}:{}".format(e,t)},n=function(e){return e.split(":").map(Number)};e.toggleBettingResult=function(e){var n=e.parent,i=n.parent,d=this.matchIndex2BettingIndex2ResultIndexes[i.index];void 0==d&&(d={},this.matchIndex2BettingIndex2ResultIndexes[i.index]=d);var r=d[n.index];void 0==r&&(r=[],d[n.index]=r);var a=r.length,s=r.indexOf(e.index);s<0?r.push(e.index):r.splice(s,1);var l=r.length,u=this.bettingType2FullIndexes[n.data.type],x=t(i.index,n.index);0==a?(void 0==u&&(u={},this.bettingType2FullIndexes[n.data.type]=u),u[x]=!0):0==l&&delete u[x]},e._clearBetting=function(e,n,i){var d=this.matchIndex2BettingIndex2ResultIndexes[e],r=this.bettingType2FullIndexes[i],a=t(e,n);delete d[n],delete r[a]},e.clearBetting=function(e){var t=e.parent;this._clearBetting(t.index,e.index,e.data.type)},e.clearBettings=function(e){var n=this.bettingType2FullIndexes[e];void 0==n&&(n={});for(var i in this.matchIndex2BettingIndex2ResultIndexes){var d=this.matchIndex2BettingIndex2ResultIndexes[i];for(var r in d){var a=t(i,r);n[a]&&(delete d[r],delete n[a])}}},e.clearUnmarkedBettingsBegin=function(e){this.unmarkedBettingType=e,this.unmarkedBettingFullIndexes={};var t=this.bettingType2FullIndexes[e];if(void 0!=t)for(var n in t)this.unmarkedBettingFullIndexes[n]=!0},e.markBetting=function(e){var n=e.parent,i=t(n.index,e.index);delete this.unmarkedBettingFullIndexes[i]},e.clearUnmarkedBettingsEnd=function(){for(var e in this.unmarkedBettingFullIndexes){var t=n(e);this._clearBetting(t[0],t[1],this.unmarkedBettingType)}this.unmarkedBettingType=null,this.unmarkedBettingFullIndexes=null},e.getNumberOfBettingResults=function(e){var n=0,i=this.bettingType2FullIndexes[e];void 0==i&&(i={});for(var d in this.matchIndex2BettingIndex2ResultIndexes){var r=this.matchIndex2BettingIndex2ResultIndexes[d];for(var a in r){if(i[t(d,a)]){n+=r[a].length}}}return n},e.testBettingResult=function(e){var t=e.parent,n=t.parent,i=this.matchIndex2BettingIndex2ResultIndexes[n.index];if(void 0==i)return!1;var d=i[t.index];if(void 0==d)return!1;return d.indexOf(e.index)>=0},e.testBetting=function(e){var t=e.parent,n=this.matchIndex2BettingIndex2ResultIndexes[t.index];if(void 0==n)return!1;var i=n[e.index];return void 0!=i&&i.length>=1},e.getBetInfos=function(e,t){var n=e.parent,i=this.matchIndex2BettingIndex2ResultIndexes[n.index];if(void 0==i)return[];var d=i[e.index];if(void 0==d)return[];for(var r=[],a=0;a<d.length;++a)r.push([n.index,e.index,d[a],t]);return r}}();