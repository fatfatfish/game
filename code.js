
/***********************************/
/*http://www.layabox.com  2017/3/23*/
/***********************************/
var Laya=window.Laya=(function(window,document){
	var Laya={
		__internals:[],
		__packages:{},
		__classmap:{'Object':Object,'Function':Function,'Array':Array,'String':String},
		__sysClass:{'object':'Object','array':'Array','string':'String','dictionary':'Dictionary'},
		__propun:{writable: true,enumerable: false,configurable: true},
		__presubstr:String.prototype.substr,
		__substr:function(ofs,sz){return arguments.length==1?Laya.__presubstr.call(this,ofs):Laya.__presubstr.call(this,ofs,sz>0?sz:(this.length+sz));},
		__init:function(_classs){_classs.forEach(function(o){o.__init$ && o.__init$();});},
		__isClass:function(o){return o && (o.__isclass || o==Object || o==String || o==Array);},
		__newvec:function(sz,value){
			var d=[];
			d.length=sz;
			for(var i=0;i<sz;i++) d[i]=value;
			return d;
		},
		__extend:function(d,b){
			for (var p in b){
				if (!b.hasOwnProperty(p)) continue;
				var gs=Object.getOwnPropertyDescriptor(b, p);
				var g = gs.get, s = gs.set; 
				if ( g || s ) {
					if ( g && s)
						Object.defineProperty(d,p,gs);
					else{
						g && Object.defineProperty(d, p, g);
						s && Object.defineProperty(d, p, s);
					}
				}
				else d[p] = b[p];
			}
			function __() { Laya.un(this,'constructor',d); }__.prototype=b.prototype;d.prototype=new __();Laya.un(d.prototype,'__imps',Laya.__copy({},b.prototype.__imps));
		},
		__copy:function(dec,src){
			if(!src) return null;
			dec=dec||{};
			for(var i in src) dec[i]=src[i];
			return dec;
		},
		__package:function(name,o){
			if(Laya.__packages[name]) return;
			Laya.__packages[name]=true;
			var p=window,strs=name.split('.');
			if(strs.length>1){
				for(var i=0,sz=strs.length-1;i<sz;i++){
					var c=p[strs[i]];
					p=c?c:(p[strs[i]]={});
				}
			}
			p[strs[strs.length-1]] || (p[strs[strs.length-1]]=o||{});
		},
		__hasOwnProperty:function(name,o){
			o=o ||this;
		    function classHas(name,o){
				if(Object.hasOwnProperty.call(o.prototype,name)) return true;
				var s=o.prototype.__super;
				return s==null?null:classHas(name,s);
			}
			return (Object.hasOwnProperty.call(o,name)) || classHas(name,o.__class);
		},
		__typeof:function(o,value){
			if(!o || !value) return false;
			if(value===String) return (typeof o==='string');
			if(value===Number) return (typeof o==='number');
			if(value.__interface__) value=value.__interface__;
			else if(typeof value!='string')  return (o instanceof value);
			return (o.__imps && o.__imps[value]) || (o.__class==value);
		},
		__as:function(value,type){
			return (this.__typeof(value,type))?value:null;
		},		
		interface:function(name,_super){
			Laya.__package(name,{});
			var ins=Laya.__internals;
			var a=ins[name]=ins[name] || {self:name};
			if(_super)
			{
				var supers=_super.split(',');
				a.extend=[];
				for(var i=0;i<supers.length;i++){
					var nm=supers[i];
					ins[nm]=ins[nm] || {self:nm};
					a.extend.push(ins[nm]);
				}
			}
			var o=window,words=name.split('.');
			for(var i=0;i<words.length-1;i++) o=o[words[i]];
			o[words[words.length-1]]={__interface__:name};
		},
		class:function(o,fullName,_super,miniName){
			_super && Laya.__extend(o,_super);
			if(fullName){
				Laya.__package(fullName,o);
				Laya.__classmap[fullName]=o;
				if(fullName.indexOf('.')>0){
					if(fullName.indexOf('laya.')==0){
						var paths=fullName.split('.');
						miniName=miniName || paths[paths.length-1];
						if(Laya[miniName]) console.log("Warning!,this class["+miniName+"] already exist:",Laya[miniName]);
						Laya[miniName]=o;
					}
				}
				else {
					if(fullName=="Main")
						window.Main=o;
					else{
						if(Laya[fullName]){
							console.log("Error!,this class["+fullName+"] already exist:",Laya[fullName]);
						}
						Laya[fullName]=o;
					}
				}
			}
			var un=Laya.un,p=o.prototype;
			un(p,'hasOwnProperty',Laya.__hasOwnProperty);
			un(p,'__class',o);
			un(p,'__super',_super);
			un(p,'__className',fullName);
			un(o,'__super',_super);
			un(o,'__className',fullName);
			un(o,'__isclass',true);
			un(o,'super',function(o){this.__super.call(o);});
		},
		imps:function(dec,src){
			if(!src) return null;
			var d=dec.__imps|| Laya.un(dec,'__imps',{});
			function __(name){
				var c,exs;
				if(! (c=Laya.__internals[name]) ) return;
				d[name]=true;
				if(!(exs=c.extend)) return;
				for(var i=0;i<exs.length;i++){
					__(exs[i].self);
				}
			}
			for(var i in src) __(i);
		},
        superSet:function(clas,o,prop,value){
            var fun = clas.prototype["_$set_"+prop];
            fun && fun.call(o,value);
        },
        superGet:function(clas,o,prop){
            var fun = clas.prototype["_$get_"+prop];
           	return fun?fun.call(o):null;
        },
		getset:function(isStatic,o,name,getfn,setfn){
			if(!isStatic){
				getfn && Laya.un(o,'_$get_'+name,getfn);
				setfn && Laya.un(o,'_$set_'+name,setfn);
			}
			else{
				getfn && (o['_$GET_'+name]=getfn);
				setfn && (o['_$SET_'+name]=setfn);
			}
			if(getfn && setfn) 
				Object.defineProperty(o,name,{get:getfn,set:setfn,enumerable:false});
			else{
				getfn && Object.defineProperty(o,name,{get:getfn,enumerable:false});
				setfn && Object.defineProperty(o,name,{set:setfn,enumerable:false});
			}
		},
		static:function(_class,def){
				for(var i=0,sz=def.length;i<sz;i+=2){
					if(def[i]=='length') 
						_class.length=def[i+1].call(_class);
					else{
						function tmp(){
							var name=def[i];
							var getfn=def[i+1];
							Object.defineProperty(_class,name,{
								get:function(){delete this[name];return this[name]=getfn.call(this);},
								set:function(v){delete this[name];this[name]=v;},enumerable: true,configurable: true});
						}
						tmp();
					}
				}
		},		
		un:function(obj,name,value){
			value || (value=obj[name]);
			Laya.__propun.value=value;
			Object.defineProperty(obj, name, Laya.__propun);
			return value;
		},
		uns:function(obj,names){
			names.forEach(function(o){Laya.un(obj,o)});
		}
	};

    window.console=window.console || ({log:function(){}});
	window.trace=window.console.log;
	Error.prototype.throwError=function(){throw arguments;};
	//String.prototype.substr=Laya.__substr;
	Object.defineProperty(Array.prototype,'fixed',{enumerable: false});

	return Laya;
})(window,document);

(function(window,document,Laya){
	var __un=Laya.un,__uns=Laya.uns,__static=Laya.static,__class=Laya.class,__getset=Laya.getset,__newvec=Laya.__newvec;

})(window,document,Laya);


(function(window,document,Laya){
	var __un=Laya.un,__uns=Laya.uns,__static=Laya.static,__class=Laya.class,__getset=Laya.getset,__newvec=Laya.__newvec;
Laya.interface('laya.runtime.IMarket');
Laya.interface('laya.filters.IFilter');
Laya.interface('laya.display.ILayout');
Laya.interface('laya.resource.IDispose');
Laya.interface('laya.runtime.IPlatform');
Laya.interface('laya.resource.IDestroy');
Laya.interface('laya.runtime.IConchNode');
Laya.interface('laya.filters.IFilterAction');
Laya.interface('laya.runtime.ICPlatformClass');
Laya.interface('laya.resource.ICreateResource');
Laya.interface('laya.runtime.IConchRenderObject');
Laya.interface('laya.runtime.IPlatformClass','laya.runtime.IPlatform');
/**
*@private
*/
//class laya.utils.RunDriver
var RunDriver=(function(){
	function RunDriver(){}
	__class(RunDriver,'laya.utils.RunDriver');
	RunDriver.FILTER_ACTIONS=[];
	RunDriver.pixelRatio=-1;
	RunDriver._charSizeTestDiv=null;
	RunDriver.now=function(){
		return /*__JS__ */Date.now();
	}

	RunDriver.getWindow=function(){
		return /*__JS__ */window;
	}

	RunDriver.getPixelRatio=function(){
		if (RunDriver.pixelRatio < 0){
			var ctx=Browser.context;
			var backingStore=ctx.backingStorePixelRatio || ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;
			RunDriver.pixelRatio=(Browser.window.devicePixelRatio || 1)/ backingStore;
			if (RunDriver.pixelRatio < 1)RunDriver.pixelRatio=1;
		}
		return RunDriver.pixelRatio;
	}

	RunDriver.getIncludeStr=function(name){
		return null;
	}

	RunDriver.createShaderCondition=function(conditionScript){
		var fn="(function() {return "+conditionScript+";})";
		return Browser.window.eval(fn);
	}

	RunDriver.fontMap=[];
	RunDriver.measureText=function(txt,font){
		var isChinese=RunDriver.hanzi.test(txt);
		if (isChinese && RunDriver.fontMap[font]){
			return RunDriver.fontMap[font];
		};
		var ctx=Browser.context;
		ctx.font=font;
		var r=ctx.measureText(txt);
		if (isChinese)RunDriver.fontMap[font]=r;
		return r;
	}

	RunDriver.getWebGLContext=function(canvas){
	};

	RunDriver.beginFlush=function(){
	};

	RunDriver.endFinish=function(){
	};

	RunDriver.addToAtlas=null;
	RunDriver.flashFlushImage=function(atlasWebGLCanvas){
	};

	RunDriver.drawToCanvas=function(sprite,_renderType,canvasWidth,canvasHeight,offsetX,offsetY){
		var canvas=HTMLCanvas.create("2D");
		var context=new RenderContext(canvasWidth,canvasHeight,canvas);
		RenderSprite.renders[_renderType]._fun(sprite,context,offsetX,offsetY);
		return canvas;
	}

	RunDriver.createParticleTemplate2D=null;
	RunDriver.createGLTextur=null;
	RunDriver.createWebGLContext2D=null;
	RunDriver.changeWebGLSize=function(w,h){
	};

	RunDriver.createRenderSprite=function(type,next){
		return new RenderSprite(type,next);
	}

	RunDriver.createFilterAction=function(type){
		return new ColorFilterAction();
	}

	RunDriver.createGraphics=function(){
		return new Graphics();
	}

	RunDriver.clear=function(value){
		Render._context.ctx.clear();
	}

	RunDriver.clearAtlas=function(value){
	};

	RunDriver.isAtlas=function(bitmap){
		return false;
	}

	RunDriver.addTextureToAtlas=function(value){
	};

	RunDriver.getTexturePixels=function(value,x,y,width,height){
		return null;
	}

	RunDriver.skinAniSprite=function(){
		return null;
	}

	RunDriver.update3DLoop=function(){
	};

	__static(RunDriver,
	['hanzi',function(){return this.hanzi=new RegExp("^[\u4E00-\u9FA5]$");}
	]);
	return RunDriver;
})()


/**
*<code>Laya</code> 是全局对象的引用入口集。
*Laya类引用了一些常用的全局对象，比如Laya.stage：舞台，Laya.timer：时间管理器，Laya.loader：加载管理器，使用时注意大小写。
*/
//class Laya
var ___Laya=(function(){
	//function Laya(){}
	/**
	*表示是否捕获全局错误并弹出提示。默认为false。
	*适用于移动设备等不方便调试的时候，设置为true后，如有未知错误，可以弹窗抛出详细错误堆栈。
	*/
	__getset(1,Laya,'alertGlobalError',null,function(value){
		var erralert=0;
		if (value){
			Browser.window.onerror=function (msg,url,line,column,detail){
				if (erralert++< 5 && detail)
					alert("出错啦，请把此信息截图给研发商\n"+msg+"\n"+detail.stack||detail);
			}
			}else {
			Browser.window.onerror=null;
		}
	});

	Laya.init=function(width,height,__plugins){
		var plugins=[];for(var i=2,sz=arguments.length;i<sz;i++)plugins.push(arguments[i]);
		if (Laya._isinit)return;
		ArrayBuffer.prototype.slice || (ArrayBuffer.prototype.slice=Laya._arrayBufferSlice);
		Laya._isinit=true;
		Browser.__init__();
		Context.__init__();
		Graphics.__init__();
		Laya.timer=new Timer();
		Laya.scaleTimer=new Timer();
		Laya.loader=new LoaderManager();
		WeakObject.__init__();
		for (var i=0,n=plugins.length;i < n;i++){
			if (plugins[i].enable)plugins[i].enable();
		}
		Font.__init__();
		Style.__init__();
		ResourceManager.__init__();
		CacheManager.beginCheck();
		Laya._currentStage=Laya.stage=new Stage();
		Laya.stage.conchModel && Laya.stage.conchModel.setRootNode();
		Laya.getUrlPath();
		Laya.render=new Render(0,0);
		Laya.stage.size(width,height);
		RenderSprite.__init__();
		KeyBoardManager.__init__();
		MouseManager.instance.__init__(Laya.stage,Render.canvas);
		Input.__init__();
		SoundManager.autoStopMusic=true;
		LocalStorage.__init__();
		return Render.canvas;
	}

	Laya.getUrlPath=function(){
		var location=Browser.window.location;
		var pathName=location.pathname;
		pathName=pathName.charAt(2)==':' ? pathName.substring(1):pathName;
		URL.rootPath=URL.basePath=URL.getPath(location.protocol=="file:" ? pathName :location.protocol+"//"+location.host+location.pathname);
	}

	Laya._arrayBufferSlice=function(start,end){
		var arr=/*__JS__ */this;
		var arrU8List=new Uint8Array(arr,start,end-start);
		var newU8List=new Uint8Array(arrU8List.length);
		newU8List.set(arrU8List);
		return newU8List.buffer;
	}

	Laya.stage=null;
	Laya.timer=null;
	Laya.scaleTimer=null;
	Laya.loader=null;
	Laya.version="1.7.15";
	Laya.render=null;
	Laya._currentStage=null;
	Laya._isinit=false;
	__static(Laya,
	['conchMarket',function(){return this.conchMarket=/*__JS__ */window.conch?conchMarket:null;},'PlatformClass',function(){return this.PlatformClass=/*__JS__ */window.PlatformClass;},'MiniAdpter',function(){return this.MiniAdpter=/*__JS__ */{init:function(){if (window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf("MiniGame")>-1)console.error("请先引用小游戏适配库laya.wxmini.js,详细教程：https://ldc.layabox.com/doc/?nav=zh-ts-5-0-0")}};}
	]);
	return Laya;
})()


/**
*Config 用于配置一些全局参数。如需更改，请在初始化引擎之前设置。
*/
//class Config
var Config=(function(){
	function Config(){}
	__class(Config,'Config');
	Config.WebGLTextCacheCount=500;
	Config.atlasEnable=false;
	Config.showCanvasMark=false;
	Config.animationInterval=50;
	Config.isAntialias=false;
	Config.isAlpha=false;
	Config.premultipliedAlpha=true;
	Config.isStencil=true;
	Config.preserveDrawingBuffer=false;
	return Config;
})()


/**
*<code>EventDispatcher</code> 类是可调度事件的所有类的基类。
*/
//class laya.events.EventDispatcher
var EventDispatcher=(function(){
	var EventHandler;
	function EventDispatcher(){
		/**@private */
		this._events=null;
	}

	__class(EventDispatcher,'laya.events.EventDispatcher');
	var __proto=EventDispatcher.prototype;
	/**
	*检查 EventDispatcher 对象是否为特定事件类型注册了任何侦听器。
	*@param type 事件的类型。
	*@return 如果指定类型的侦听器已注册，则值为 true；否则，值为 false。
	*/
	__proto.hasListener=function(type){
		var listener=this._events && this._events[type];
		return !!listener;
	}

	/**
	*派发事件。
	*@param type 事件类型。
	*@param data （可选）回调数据。<b>注意：</b>如果是需要传递多个参数 p1,p2,p3,...可以使用数组结构如：[p1,p2,p3,...] ；如果需要回调单个参数 p ，且 p 是一个数组，则需要使用结构如：[p]，其他的单个参数 p ，可以直接传入参数 p。
	*@return 此事件类型是否有侦听者，如果有侦听者则值为 true，否则值为 false。
	*/
	__proto.event=function(type,data){
		if (!this._events || !this._events[type])return false;
		var listeners=this._events[type];
		if (listeners.run){
			if (listeners.once)delete this._events[type];
			data !=null ? listeners.runWith(data):listeners.run();
			}else {
			for (var i=0,n=listeners.length;i < n;i++){
				var listener=listeners[i];
				if (listener){
					(data !=null)? listener.runWith(data):listener.run();
				}
				if (!listener || listener.once){
					listeners.splice(i,1);
					i--;
					n--;
				}
			}
			if (listeners.length===0 && this._events)delete this._events[type];
		}
		return true;
	}

	/**
	*使用 EventDispatcher 对象注册指定类型的事件侦听器对象，以使侦听器能够接收事件通知。
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param args （可选）事件侦听函数的回调参数。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.on=function(type,caller,listener,args){
		return this._createListener(type,caller,listener,args,false);
	}

	/**
	*使用 EventDispatcher 对象注册指定类型的事件侦听器对象，以使侦听器能够接收事件通知，此侦听事件响应一次后自动移除。
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param args （可选）事件侦听函数的回调参数。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.once=function(type,caller,listener,args){
		return this._createListener(type,caller,listener,args,true);
	}

	/**@private */
	__proto._createListener=function(type,caller,listener,args,once,offBefore){
		(offBefore===void 0)&& (offBefore=true);
		offBefore && this.off(type,caller,listener,once);
		var handler=EventHandler.create(caller || this,listener,args,once);
		this._events || (this._events={});
		var events=this._events;
		if (!events[type])events[type]=handler;
		else {
			if (!events[type].run)events[type].push(handler);
			else events[type]=[events[type],handler];
		}
		return this;
	}

	/**
	*从 EventDispatcher 对象中删除侦听器。
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param onceOnly （可选）如果值为 true ,则只移除通过 once 方法添加的侦听器。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.off=function(type,caller,listener,onceOnly){
		(onceOnly===void 0)&& (onceOnly=false);
		if (!this._events || !this._events[type])return this;
		var listeners=this._events[type];
		if (listener !=null){
			if (listeners.run){
				if ((!caller || listeners.caller===caller)&& listeners.method===listener && (!onceOnly || listeners.once)){
					delete this._events[type];
					listeners.recover();
				}
				}else {
				var count=0;
				for (var i=0,n=listeners.length;i < n;i++){
					var item=listeners[i];
					if (item && (!caller || item.caller===caller)&& item.method===listener && (!onceOnly || item.once)){
						count++;
						listeners[i]=null;
						item.recover();
					}
				}
				if (count===n)delete this._events[type];
			}
		}
		return this;
	}

	/**
	*从 EventDispatcher 对象中删除指定事件类型的所有侦听器。
	*@param type （可选）事件类型，如果值为 null，则移除本对象所有类型的侦听器。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.offAll=function(type){
		var events=this._events;
		if (!events)return this;
		if (type){
			this._recoverHandlers(events[type]);
			delete events[type];
			}else {
			for (var name in events){
				this._recoverHandlers(events[name]);
			}
			this._events=null;
		}
		return this;
	}

	__proto._recoverHandlers=function(arr){
		if (!arr)return;
		if (arr.run){
			arr.recover();
			}else {
			for (var i=arr.length-1;i >-1;i--){
				if (arr[i]){
					arr[i].recover();
					arr[i]=null;
				}
			}
		}
	}

	/**
	*检测指定事件类型是否是鼠标事件。
	*@param type 事件的类型。
	*@return 如果是鼠标事件，则值为 true;否则，值为 false。
	*/
	__proto.isMouseEvent=function(type){
		return EventDispatcher.MOUSE_EVENTS[type];
	}

	__static(EventDispatcher,
	['MOUSE_EVENTS',function(){return this.MOUSE_EVENTS={"rightmousedown":true,"rightmouseup":true,"rightclick":true,"mousedown":true,"mouseup":true,"mousemove":true,"mouseover":true,"mouseout":true,"click":true,"doubleclick":true};}
	]);
	EventDispatcher.__init$=function(){
		Object.defineProperty(laya.events.EventDispatcher.prototype,"_events",{enumerable:false,writable:true});
		/**@private */
		//class EventHandler extends laya.utils.Handler
		EventHandler=(function(_super){
			function EventHandler(caller,method,args,once){
				EventHandler.__super.call(this,caller,method,args,once);
			}
			__class(EventHandler,'',_super);
			var __proto=EventHandler.prototype;
			__proto.recover=function(){
				if (this._id > 0){
					this._id=0;
					EventHandler._pool.push(this.clear());
				}
			}
			EventHandler.create=function(caller,method,args,once){
				(once===void 0)&& (once=true);
				if (EventHandler._pool.length)return EventHandler._pool.pop().setTo(caller,method,args,once);
				return new EventHandler(caller,method,args,once);
			}
			EventHandler._pool=[];
			return EventHandler;
		})(Handler)
	}

	return EventDispatcher;
})()


/**
*<p><code>Handler</code> 是事件处理器类。</p>
*<p>推荐使用 Handler.create()方法从对象池创建，减少对象创建消耗。创建的 Handler 对象不再使用后，可以使用 Handler.recover()将其回收到对象池，回收后不要再使用此对象，否则会导致不可预料的错误。</p>
*<p><b>注意：</b>由于鼠标事件也用本对象池，不正确的回收及调用，可能会影响鼠标事件的执行。</p>
*/
//class laya.utils.Handler
var Handler=(function(){
	function Handler(caller,method,args,once){
		/**执行域(this)。*/
		//this.caller=null;
		/**处理方法。*/
		//this.method=null;
		/**参数。*/
		//this.args=null;
		/**表示是否只执行一次。如果为true，回调后执行recover()进行回收，回收后会被再利用，默认为false 。*/
		this.once=false;
		/**@private */
		this._id=0;
		(once===void 0)&& (once=false);
		this.setTo(caller,method,args,once);
	}

	__class(Handler,'laya.utils.Handler');
	var __proto=Handler.prototype;
	/**
	*设置此对象的指定属性值。
	*@param caller 执行域(this)。
	*@param method 回调方法。
	*@param args 携带的参数。
	*@param once 是否只执行一次，如果为true，执行后执行recover()进行回收。
	*@return 返回 handler 本身。
	*/
	__proto.setTo=function(caller,method,args,once){
		this._id=Handler._gid++;
		this.caller=caller;
		this.method=method;
		this.args=args;
		this.once=once;
		return this;
	}

	/**
	*执行处理器。
	*/
	__proto.run=function(){
		if (this.method==null)return null;
		var id=this._id;
		var result=this.method.apply(this.caller,this.args);
		this._id===id && this.once && this.recover();
		return result;
	}

	/**
	*执行处理器，携带额外数据。
	*@param data 附加的回调数据，可以是单数据或者Array(作为多参)。
	*/
	__proto.runWith=function(data){
		if (this.method==null)return null;
		var id=this._id;
		if (data==null)
			var result=this.method.apply(this.caller,this.args);
		else if (!this.args && !data.unshift)result=this.method.call(this.caller,data);
		else if (this.args)result=this.method.apply(this.caller,this.args.concat(data));
		else result=this.method.apply(this.caller,data);
		this._id===id && this.once && this.recover();
		return result;
	}

	/**
	*清理对象引用。
	*/
	__proto.clear=function(){
		this.caller=null;
		this.method=null;
		this.args=null;
		return this;
	}

	/**
	*清理并回收到 Handler 对象池内。
	*/
	__proto.recover=function(){
		if (this._id > 0){
			this._id=0;
			Handler._pool.push(this.clear());
		}
	}

	Handler.create=function(caller,method,args,once){
		(once===void 0)&& (once=true);
		if (Handler._pool.length)return Handler._pool.pop().setTo(caller,method,args,once);
		return new Handler(caller,method,args,once);
	}

	Handler._pool=[];
	Handler._gid=1;
	return Handler;
})()


/**
*<code>BitmapFont</code> 是位图字体类，用于定义位图字体信息。
*/
//class laya.display.BitmapFont
var BitmapFont=(function(){
	function BitmapFont(){
		this._texture=null;
		this._fontCharDic={};
		this._fontWidthMap={};
		this._complete=null;
		this._path=null;
		this._maxWidth=0;
		this._spaceWidth=10;
		this._padding=null;
		/**当前位图字体字号。*/
		this.fontSize=12;
		/**表示是否根据实际使用的字体大小缩放位图字体大小。*/
		this.autoScaleSize=false;
		/**字符间距（以像素为单位）。*/
		this.letterSpacing=0;
	}

	__class(BitmapFont,'laya.display.BitmapFont');
	var __proto=BitmapFont.prototype;
	/**
	*通过指定位图字体文件路径，加载位图字体文件，加载完成后会自动解析。
	*@param path 位图字体文件的路径。
	*@param complete 加载并解析完成的回调。如果成功返回this,如果失败返回null
	*/
	__proto.loadFont=function(path,complete){
		this._path=path;
		this._complete=complete;
		Laya.loader.load([{url:this._path,type:/*laya.net.Loader.XML*/"xml"},{url:this._path.replace(".fnt",".png"),type:/*laya.net.Loader.IMAGE*/"image"}],Handler.create(this,this.onLoaded));
	}

	/**
	*@private
	*/
	__proto.onLoaded=function(){
		this.parseFont(Loader.getRes(this._path),Loader.getRes(this._path.replace(".fnt",".png")));
		this._complete && this._complete.runWith(this._texture?this:null);
	}

	/**
	*解析字体文件。
	*@param xml 字体文件XML。
	*@param texture 字体的纹理。
	*/
	__proto.parseFont=function(xml,texture){
		if (xml==null || texture==null)return;
		this._texture=texture;
		var tX=0;
		var tScale=1;
		var tInfo=xml.getElementsByTagName("info");
		if (!tInfo[0].getAttributeNode){
			return this.parseFont2(xml,texture);
		}
		this.fontSize=parseInt(tInfo[0].getAttributeNode("size").nodeValue);
		var tPadding=tInfo[0].getAttributeNode("padding").nodeValue;
		var tPaddingArray=tPadding.split(",");
		this._padding=[parseInt(tPaddingArray[0]),parseInt(tPaddingArray[1]),parseInt(tPaddingArray[2]),parseInt(tPaddingArray[3])];
		var chars;
		chars=xml.getElementsByTagName("char");
		var i=0;
		for (i=0;i < chars.length;i++){
			var tAttribute=chars[i];
			var tId=parseInt(tAttribute.getAttributeNode("id").nodeValue);
			var xOffset=parseInt(tAttribute.getAttributeNode("xoffset").nodeValue)/ tScale;
			var yOffset=parseInt(tAttribute.getAttributeNode("yoffset").nodeValue)/ tScale;
			var xAdvance=parseInt(tAttribute.getAttributeNode("xadvance").nodeValue)/ tScale;
			var region=new Rectangle();
			region.x=parseInt(tAttribute.getAttributeNode("x").nodeValue);
			region.y=parseInt(tAttribute.getAttributeNode("y").nodeValue);
			region.width=parseInt(tAttribute.getAttributeNode("width").nodeValue);
			region.height=parseInt(tAttribute.getAttributeNode("height").nodeValue);
			var tTexture=Texture.create(texture,region.x,region.y,region.width,region.height,xOffset,yOffset);
			this._maxWidth=Math.max(this._maxWidth,xAdvance+this.letterSpacing);
			this._fontCharDic[tId]=tTexture;
			this._fontWidthMap[tId]=xAdvance;
		}
	}

	/**
	*@private
	*解析字体文件。
	*@param xml 字体文件XML。
	*@param texture 字体的纹理。
	*/
	__proto.parseFont2=function(xml,texture){
		if (xml==null || texture==null)return;
		this._texture=texture;
		var tX=0;
		var tScale=1;
		var tInfo=xml.getElementsByTagName("info");
		this.fontSize=parseInt(tInfo[0].attributes["size"].nodeValue);
		var tPadding=tInfo[0].attributes["padding"].nodeValue;
		var tPaddingArray=tPadding.split(",");
		this._padding=[parseInt(tPaddingArray[0]),parseInt(tPaddingArray[1]),parseInt(tPaddingArray[2]),parseInt(tPaddingArray[3])];
		var chars=xml.getElementsByTagName("char");
		var i=0;
		for (i=0;i < chars.length;i++){
			var tAttribute=chars[i].attributes;
			var tId=parseInt(tAttribute["id"].nodeValue);
			var xOffset=parseInt(tAttribute["xoffset"].nodeValue)/ tScale;
			var yOffset=parseInt(tAttribute["yoffset"].nodeValue)/ tScale;
			var xAdvance=parseInt(tAttribute["xadvance"].nodeValue)/ tScale;
			var region=new Rectangle();
			region.x=parseInt(tAttribute["x"].nodeValue);
			region.y=parseInt(tAttribute["y"].nodeValue);
			region.width=parseInt(tAttribute["width"].nodeValue);
			region.height=parseInt(tAttribute["height"].nodeValue);
			var tTexture=Texture.create(texture,region.x,region.y,region.width,region.height,xOffset,yOffset);
			this._maxWidth=Math.max(this._maxWidth,xAdvance+this.letterSpacing);
			this._fontCharDic[tId]=tTexture;
			this._fontWidthMap[tId]=xAdvance;
		}
	}

	/**
	*获取指定字符的字体纹理对象。
	*@param char 字符。
	*@return 指定的字体纹理对象。
	*/
	__proto.getCharTexture=function(char){
		return this._fontCharDic[char.charCodeAt(0)];
	}

	/**
	*销毁位图字体，调用Text.unregisterBitmapFont 时，默认会销毁。
	*/
	__proto.destroy=function(){
		if (this._texture){
			for (var p in this._fontCharDic){
				var tTexture=this._fontCharDic[p];
				if (tTexture)tTexture.destroy();
			}
			this._texture.destroy();
			this._fontCharDic=null;
			this._fontWidthMap=null;
			this._texture=null;
		}
	}

	/**
	*设置空格的宽（如果字体库有空格，这里就可以不用设置了）。
	*@param spaceWidth 宽度，单位为像素。
	*/
	__proto.setSpaceWidth=function(spaceWidth){
		this._spaceWidth=spaceWidth;
	}

	/**
	*获取指定字符的宽度。
	*@param char 字符。
	*@return 宽度。
	*/
	__proto.getCharWidth=function(char){
		var code=char.charCodeAt(0);
		if (this._fontWidthMap[code])return this._fontWidthMap[code]+this.letterSpacing;
		if (char==" ")return this._spaceWidth+this.letterSpacing;
		return 0;
	}

	/**
	*获取指定文本内容的宽度。
	*@param text 文本内容。
	*@return 宽度。
	*/
	__proto.getTextWidth=function(text){
		var tWidth=0;
		for (var i=0,n=text.length;i < n;i++){
			tWidth+=this.getCharWidth(text.charAt(i));
		}
		return tWidth;
	}

	/**
	*获取最大字符宽度。
	*/
	__proto.getMaxWidth=function(){
		return this._maxWidth;
	}

	/**
	*获取最大字符高度。
	*/
	__proto.getMaxHeight=function(){
		return this.fontSize;
	}

	/**
	*@private
	*将指定的文本绘制到指定的显示对象上。
	*/
	__proto.drawText=function(text,sprite,drawX,drawY,align,width){
		var tWidth=this.getTextWidth(text);
		var tTexture;
		var dx=0;
		align==="center" && (dx=(width-tWidth)/ 2);
		align==="right" && (dx=(width-tWidth));
		var tX=0;
		for (var i=0,n=text.length;i < n;i++){
			tTexture=this.getCharTexture(text.charAt(i));
			if (tTexture){
				sprite.graphics.drawTexture(tTexture,drawX+tX+dx,drawY);
				tX+=this.getCharWidth(text.charAt(i));
			}
		}
	}

	return BitmapFont;
})()


/**
*@private
*<code>Style</code> 类是元素样式定义类。
*/
//class laya.display.css.Style
var Style=(function(){
	function Style(){
		/**透明度。*/
		this.alpha=1;
		/**表示是否显示。*/
		this.visible=true;
		/**表示滚动区域。*/
		this.scrollRect=null;
		/**混合模式。*/
		this.blendMode=null;
		/**@private */
		this._type=0;
		this._tf=Style._TF_EMPTY;
	}

	__class(Style,'laya.display.css.Style');
	var __proto=Style.prototype;
	__proto.getTransform=function(){
		return this._tf;
	}

	__proto.setTransform=function(value){
		this._tf=value==='none' || !value ? Style._TF_EMPTY :value;
	}

	__proto.setTranslateX=function(value){
		this._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());
		this._tf.translateX=value;
	}

	__proto.setTranslateY=function(value){
		this._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());
		this._tf.translateY=value;
	}

	__proto.setScaleX=function(value){
		this._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());
		this._tf.scaleX=value;
	}

	__proto.setScale=function(x,y){
		this._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());
		this._tf.scaleX=x;
		this._tf.scaleY=y;
	}

	__proto.setScaleY=function(value){
		this._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());
		this._tf.scaleY=value;
	}

	__proto.setRotate=function(value){
		this._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());
		this._tf.rotate=value;
	}

	__proto.setSkewX=function(value){
		this._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());
		this._tf.skewX=value;
	}

	__proto.setSkewY=function(value){
		this._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());
		this._tf.skewY=value;
	}

	/**销毁此对象。*/
	__proto.destroy=function(){
		this.scrollRect=null;
	}

	/**@private */
	__proto.render=function(sprite,context,x,y){}
	/**@private */
	__proto.getCSSStyle=function(){
		return CSSStyle.EMPTY;
	}

	/**@private */
	__proto._enableLayout=function(){
		return false;
	}

	/**X 轴缩放值。*/
	__getset(0,__proto,'scaleX',function(){
		return this._tf.scaleX;
		},function(value){
		this.setScaleX(value);
	});

	/**元素应用的 2D 或 3D 转换的值。该属性允许我们对元素进行旋转、缩放、移动或倾斜。*/
	__getset(0,__proto,'transform',function(){
		return this.getTransform();
		},function(value){
		this.setTransform(value);
	});

	/**定义转换，只是用 X 轴的值。*/
	__getset(0,__proto,'translateX',function(){
		return this._tf.translateX;
		},function(value){
		this.setTranslateX(value);
	});

	/**定义转换，只是用 Y 轴的值。*/
	__getset(0,__proto,'translateY',function(){
		return this._tf.translateY;
		},function(value){
		this.setTranslateY(value);
	});

	/**Y 轴缩放值。*/
	__getset(0,__proto,'scaleY',function(){
		return this._tf.scaleY;
		},function(value){
		this.setScaleY(value);
	});

	/**表示元素是否显示为块级元素。*/
	__getset(0,__proto,'block',function(){
		return (this._type & 0x1)!=0;
	});

	/**定义沿着 Y 轴的 2D 倾斜转换。*/
	__getset(0,__proto,'skewY',function(){
		return this._tf.skewY;
		},function(value){
		this.setSkewY(value);
	});

	/**定义旋转角度。*/
	__getset(0,__proto,'rotate',function(){
		return this._tf.rotate;
		},function(value){
		this.setRotate(value);
	});

	/**定义沿着 X 轴的 2D 倾斜转换。*/
	__getset(0,__proto,'skewX',function(){
		return this._tf.skewX;
		},function(value){
		this.setSkewX(value);
	});

	/**表示元素的左内边距。*/
	__getset(0,__proto,'paddingLeft',function(){
		return 0;
	});

	/**表示元素的上内边距。*/
	__getset(0,__proto,'paddingTop',function(){
		return 0;
	});

	/**是否为绝对定位。*/
	__getset(0,__proto,'absolute',function(){
		return true;
	});

	Style.__init__=function(){
		Style._TF_EMPTY=new TransformInfo();
		Style.EMPTY=new Style();
	}

	Style.EMPTY=null;
	Style._TF_EMPTY=null;
	return Style;
})()


/**
*@private
*<code>Font</code> 类是字体显示定义类。
*/
//class laya.display.css.Font
var Font=(function(){
	function Font(src){
		this._type=0;
		this._weight=0;
		this._decoration=null;
		this._text=null;
		/**
		*首行缩进 （以像素为单位）。
		*/
		this.indent=0;
		this._color=Color.create(Font.defaultColor);
		this.family=Font.defaultFamily;
		this.stroke=Font._STROKE;
		this.size=Font.defaultSize;
		src && src!==Font.EMPTY && src.copyTo(this);
	}

	__class(Font,'laya.display.css.Font');
	var __proto=Font.prototype;
	/**
	*字体样式字符串。
	*/
	__proto.set=function(value){
		this._text=null;
		var strs=value.split(' ');
		for (var i=0,n=strs.length;i < n;i++){
			var str=strs[i];
			switch (str){
				case 'italic':
					this.italic=true;
					continue ;
				case 'bold':
					this.bold=true;
					continue ;
				}
			if (str.indexOf('px')> 0){
				this.size=parseInt(str);
				this.family=strs[i+1];
				i++;
				continue ;
			}
		}
	}

	/**
	*返回字体样式字符串。
	*@return 字体样式字符串。
	*/
	__proto.toString=function(){
		this._text=""
		this.italic && (this._text+="italic ");
		this.bold && (this._text+="bold ");
		return this._text+=this.size+"px "+this.family;
	}

	/**
	*将当前的属性值复制到传入的 <code>Font</code> 对象。
	*@param dec 一个 Font 对象。
	*/
	__proto.copyTo=function(dec){
		dec._type=this._type;
		dec._text=this._text;
		dec._weight=this._weight;
		dec._color=this._color;
		dec.family=this.family;
		dec.stroke=this.stroke !=Font._STROKE ? this.stroke.slice():Font._STROKE;
		dec.indent=this.indent;
		dec.size=this.size;
	}

	/**
	*表示是否为密码格式。
	*/
	__getset(0,__proto,'password',function(){
		return (this._type & 0x400)!==0;
		},function(value){
		value ? (this._type |=0x400):(this._type &=~0x400);
	});

	/**
	*表示颜色字符串。
	*/
	__getset(0,__proto,'color',function(){
		return this._color.strColor;
		},function(value){
		this._color=Color.create(value);
	});

	/**
	*表示是否为斜体。
	*/
	__getset(0,__proto,'italic',function(){
		return (this._type & 0x200)!==0;
		},function(value){
		value ? (this._type |=0x200):(this._type &=~0x200);
	});

	/**
	*表示是否为粗体。
	*/
	__getset(0,__proto,'bold',function(){
		return (this._type & 0x800)!==0;
		},function(value){
		value ? (this._type |=0x800):(this._type &=~0x800);
	});

	/**
	*文本的粗细。
	*/
	__getset(0,__proto,'weight',function(){
		return ""+this._weight;
		},function(value){
		var weight=0;
		switch (value){
			case 'normal':
				break ;
			case 'bold':
				this.bold=true;
				weight=700;
				break ;
			case 'bolder':
				weight=800;
				break ;
			case 'lighter':
				weight=100;
				break ;
			default :
				weight=parseInt(value);
			}
		this._weight=weight;
		this._text=null;
	});

	/**
	*规定添加到文本的修饰。
	*/
	__getset(0,__proto,'decoration',function(){
		return this._decoration ? this._decoration.value :"none";
		},function(value){
		var strs=value.split(' ');
		this._decoration || (this._decoration={});
		switch (strs[0]){
			case '_':
				this._decoration.type='underline'
				break ;
			case '-':
				this._decoration.type='line-through'
				break ;
			case 'overline':
				this._decoration.type='overline'
				break ;
			default :
				this._decoration.type=strs[0];
			}
		strs[1] && (this._decoration.color=Color.create(strs));
		this._decoration.value=value;
	});

	Font.__init__=function(){
		Font.EMPTY=new Font(null);
	}

	Font.EMPTY=null;
	Font.defaultColor="#000000";
	Font.defaultSize=12;
	Font.defaultFamily="Arial";
	Font.defaultFont="12px Arial";
	Font._ITALIC=0x200;
	Font._PASSWORD=0x400;
	Font._BOLD=0x800;
	__static(Font,
	['_STROKE',function(){return this._STROKE=[0,"#000000"];}
	]);
	return Font;
})()


/**
*@private
*/
//class laya.display.css.TransformInfo
var TransformInfo=(function(){
	function TransformInfo(){
		this.translateX=0;
		this.translateY=0;
		this.scaleX=1;
		this.scaleY=1;
		this.rotate=0;
		this.skewX=0;
		this.skewY=0;
	}

	__class(TransformInfo,'laya.display.css.TransformInfo');
	return TransformInfo;
})()


/**
*<code>Graphics</code> 类用于创建绘图显示对象。Graphics可以同时绘制多个位图或者矢量图，还可以结合save，restore，transform，scale，rotate，translate，alpha等指令对绘图效果进行变化。
*Graphics以命令流方式存储，可以通过cmds属性访问所有命令流。Graphics是比Sprite更轻量级的对象，合理使用能提高应用性能(比如把大量的节点绘图改为一个节点的Graphics命令集合，能减少大量节点创建消耗)。
*@see laya.display.Sprite#graphics
*/
//class laya.display.Graphics
var Graphics=(function(){
	function Graphics(){
		/**@private */
		//this._sp=null;
		/**@private */
		this._one=null;
		/**@private */
		this._cmds=null;
		/**@private */
		//this._vectorgraphArray=null;
		/**@private */
		//this._graphicBounds=null;
		this._render=this._renderEmpty;
		if (Render.isConchNode){
			var _this_=this;
			_this_._nativeObj=new (window)._conchGraphics();
			_this_.id=_this_._nativeObj.conchID;
		}
	}

	__class(Graphics,'laya.display.Graphics');
	var __proto=Graphics.prototype;
	/**
	*<p>销毁此对象。</p>
	*/
	__proto.destroy=function(){
		this.clear();
		if (this._graphicBounds)this._graphicBounds.destroy();
		this._graphicBounds=null;
		this._vectorgraphArray=null;
		this._sp && (this._sp._renderType=0);
		this._sp=null;
	}

	/**
	*<p>清空绘制命令。</p>
	*@param recoverCmds 是否回收绘图指令
	*/
	__proto.clear=function(recoverCmds){
		(recoverCmds===void 0)&& (recoverCmds=false);
		var i=0,len=0;
		if (recoverCmds){
			var tCmd=this._one;
			if (this._cmds){
				len=this._cmds.length;
				for (i=0;i < len;i++){
					tCmd=this._cmds[i];
					if (tCmd && (tCmd.callee===Render._context._drawTexture || tCmd.callee===Render._context._drawTextureWithTransform)){
						tCmd[0]=null;
						Graphics._cache.push(tCmd);
					}
				}
				this._cmds.length=0;
				}else if (tCmd){
				if (tCmd && (tCmd.callee===Render._context._drawTexture || tCmd.callee===Render._context._drawTextureWithTransform)){
					tCmd[0]=null;
					Graphics._cache.push(tCmd);
				}
			}
			}else {
			this._cmds=null;
		}
		this._one=null;
		this._render=this._renderEmpty;
		this._sp && (this._sp._renderType &=~ /*laya.renders.RenderSprite.IMAGE*/0x01 & ~ /*laya.renders.RenderSprite.GRAPHICS*/0x200);
		this._repaint();
		if (this._vectorgraphArray){
			for (i=0,len=this._vectorgraphArray.length;i < len;i++){
				VectorGraphManager.getInstance().deleteShape(this._vectorgraphArray[i]);
			}
			this._vectorgraphArray.length=0;
		}
	}

	/**@private */
	__proto._clearBoundsCache=function(){
		if (this._graphicBounds)this._graphicBounds.reset();
	}

	/**@private */
	__proto._initGraphicBounds=function(){
		if (!this._graphicBounds){
			this._graphicBounds=new GraphicsBounds();
			this._graphicBounds._graphics=this;
		}
	}

	/**
	*@private
	*重绘此对象。
	*/
	__proto._repaint=function(){
		this._clearBoundsCache();
		this._sp && this._sp.repaint();
	}

	/**@private */
	__proto._isOnlyOne=function(){
		return !this._cmds || this._cmds.length===0;
	}

	/**
	*获取位置及宽高信息矩阵(比较耗CPU，频繁使用会造成卡顿，尽量少用)。
	*@param realSize （可选）使用图片的真实大小，默认为false
	*@return 位置与宽高组成的 一个 Rectangle 对象。
	*/
	__proto.getBounds=function(realSize){
		(realSize===void 0)&& (realSize=false);
		this._initGraphicBounds();
		return this._graphicBounds.getBounds(realSize);
	}

	/**
	*@private
	*@param realSize （可选）使用图片的真实大小，默认为false
	*获取端点列表。
	*/
	__proto.getBoundPoints=function(realSize){
		(realSize===void 0)&& (realSize=false);
		this._initGraphicBounds();
		return this._graphicBounds.getBoundPoints(realSize);
	}

	__proto._addCmd=function(a){
		this._cmds=this._cmds || [];
		a.callee=a.shift();
		this._cmds.push(a);
	}

	__proto.setFilters=function(fs){
		this._saveToCmd(Render._context._setFilters,fs);
	}

	/**
	*绘制纹理。
	*@param tex 纹理。
	*@param x （可选）X轴偏移量。
	*@param y （可选）Y轴偏移量。
	*@param width （可选）宽度。
	*@param height （可选）高度。
	*@param m （可选）矩阵信息。
	*@param alpha （可选）透明度。
	*/
	__proto.drawTexture=function(tex,x,y,width,height,m,alpha){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		(alpha===void 0)&& (alpha=1);
		if (!tex || alpha < 0.01)return null;
		if (!width)width=tex.sourceWidth;
		if (!height)height=tex.sourceHeight;
		alpha=alpha < 0 ? 0 :(alpha > 1 ? 1 :alpha);
		var wRate=width / tex.sourceWidth;
		var hRate=height / tex.sourceHeight;
		width=tex.width *wRate;
		height=tex.height *hRate;
		if (tex.loaded && (width <=0 || height <=0))return null;
		x+=tex.offsetX *wRate;
		y+=tex.offsetY *hRate;
		this._sp && (this._sp._renderType |=/*laya.renders.RenderSprite.GRAPHICS*/0x200);
		var args;
		if (Graphics._cache.length){
			args=Graphics._cache.pop();
			args[0]=tex;
			args[1]=x;
			args[2]=y;
			args[3]=width;
			args[4]=height;
			args[5]=m;
			args[6]=alpha;
			}else {
			args=[tex,x,y,width,height,m,alpha];
		}
		args.callee=(m || alpha !=1)? Render._context._drawTextureWithTransform :Render._context._drawTexture;
		if (this._one==null && !m && alpha==1){
			this._one=args;
			this._render=this._renderOneImg;
			}else {
			this._saveToCmd(args.callee,args);
		}
		if (!tex.loaded){
			tex.once(/*laya.events.Event.LOADED*/"loaded",this,this._textureLoaded,[tex,args]);
		}
		this._repaint();
		return args;
	}

	/**
	*@private 清理贴图并替换为最新的
	*@param tex
	*/
	__proto.cleanByTexture=function(tex,x,y,width,height){
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		if (!tex)return this.clear();
		if (this._one && this._render===this._renderOneImg){
			if (!width)width=tex.sourceWidth;
			if (!height)height=tex.sourceHeight;
			var wRate=width / tex.sourceWidth;
			var hRate=height / tex.sourceHeight;
			width=tex.width *wRate;
			height=tex.height *hRate;
			x+=tex.offsetX *wRate;
			y+=tex.offsetY *hRate;
			this._one[0]=tex;
			this._one[1]=x;
			this._one[2]=y;
			this._one[3]=width;
			this._one[4]=height;
			}else {
			this.clear();
			tex && this.drawTexture(tex,x,y,width,height);
		}
	}

	/**
	*批量绘制同样纹理。
	*@param tex 纹理。
	*@param pos 绘制坐标。
	*/
	__proto.drawTextures=function(tex,pos){
		if (!tex)return;
		this._saveToCmd(Render._context._drawTextures,[tex,pos]);
	}

	/**
	*用texture填充。
	*@param tex 纹理。
	*@param x X轴偏移量。
	*@param y Y轴偏移量。
	*@param width （可选）宽度。
	*@param height （可选）高度。
	*@param type （可选）填充类型 repeat|repeat-x|repeat-y|no-repeat
	*@param offset （可选）贴图纹理偏移
	*/
	__proto.fillTexture=function(tex,x,y,width,height,type,offset){
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		(type===void 0)&& (type="repeat");
		if (!tex)return;
		var args=[tex,x,y,width,height,type,offset || Point.EMPTY,{}];
		if (!tex.loaded){
			tex.once(/*laya.events.Event.LOADED*/"loaded",this,this._textureLoaded,[tex,args]);
		}
		this._saveToCmd(Render._context._fillTexture,args);
	}

	__proto._textureLoaded=function(tex,param){
		param[3]=param[3] || tex.width;
		param[4]=param[4] || tex.height;
		this._repaint();
	}

	/**
	*@private
	*保存到命令流。
	*/
	__proto._saveToCmd=function(fun,args){
		this._sp && (this._sp._renderType |=/*laya.renders.RenderSprite.GRAPHICS*/0x200);
		if (this._one==null){
			this._one=args;
			this._render=this._renderOne;
			}else {
			this._sp && (this._sp._renderType &=~ /*laya.renders.RenderSprite.IMAGE*/0x01);
			this._render=this._renderAll;
			(this._cmds || (this._cmds=[])).length===0 && this._cmds.push(this._one);
			this._cmds.push(args);
		}
		args.callee=fun;
		this._repaint();
		return args;
	}

	/**
	*设置剪裁区域，超出剪裁区域的坐标不显示。
	*@param x X 轴偏移量。
	*@param y Y 轴偏移量。
	*@param width 宽度。
	*@param height 高度。
	*/
	__proto.clipRect=function(x,y,width,height){
		this._saveToCmd(Render._context._clipRect,[x,y,width,height]);
	}

	/**
	*在画布上绘制文本。
	*@param text 在画布上输出的文本。
	*@param x 开始绘制文本的 x 坐标位置（相对于画布）。
	*@param y 开始绘制文本的 y 坐标位置（相对于画布）。
	*@param font 定义字号和字体，比如"20px Arial"。
	*@param color 定义文本颜色，比如"#ff0000"。
	*@param textAlign 文本对齐方式，可选值："left"，"center"，"right"。
	*/
	__proto.fillText=function(text,x,y,font,color,textAlign,underLine){
		(underLine===void 0)&& (underLine=0);
		this._saveToCmd(Render._context._fillText,[text,x,y,font || Font.defaultFont,color,textAlign]);
	}

	/**
	*在画布上绘制“被填充且镶边的”文本。
	*@param text 在画布上输出的文本。
	*@param x 开始绘制文本的 x 坐标位置（相对于画布）。
	*@param y 开始绘制文本的 y 坐标位置（相对于画布）。
	*@param font 定义字体和字号，比如"20px Arial"。
	*@param fillColor 定义文本颜色，比如"#ff0000"。
	*@param borderColor 定义镶边文本颜色。
	*@param lineWidth 镶边线条宽度。
	*@param textAlign 文本对齐方式，可选值："left"，"center"，"right"。
	*/
	__proto.fillBorderText=function(text,x,y,font,fillColor,borderColor,lineWidth,textAlign){
		this._saveToCmd(Render._context._fillBorderText,[text,x,y,font || Font.defaultFont,fillColor,borderColor,lineWidth,textAlign]);
	}

	/**
	*在画布上绘制文本（没有填色）。文本的默认颜色是黑色。
	*@param text 在画布上输出的文本。
	*@param x 开始绘制文本的 x 坐标位置（相对于画布）。
	*@param y 开始绘制文本的 y 坐标位置（相对于画布）。
	*@param font 定义字体和字号，比如"20px Arial"。
	*@param color 定义文本颜色，比如"#ff0000"。
	*@param lineWidth 线条宽度。
	*@param textAlign 文本对齐方式，可选值："left"，"center"，"right"。
	*/
	__proto.strokeText=function(text,x,y,font,color,lineWidth,textAlign){
		this._saveToCmd(Render._context._strokeText,[text,x,y,font || Font.defaultFont,color,lineWidth,textAlign]);
	}

	/**
	*设置透明度。
	*@param value 透明度。
	*/
	__proto.alpha=function(value){
		value=value < 0 ? 0 :(value > 1 ? 1 :value);
		this._saveToCmd(Render._context._alpha,[value]);
	}

	/**
	*设置当前透明度。
	*@param value 透明度。
	*/
	__proto.setAlpha=function(value){
		value=value < 0 ? 0 :(value > 1 ? 1 :value);
		this._saveToCmd(Render._context._setAlpha,[value]);
	}

	/**
	*替换绘图的当前转换矩阵。
	*@param mat 矩阵。
	*@param pivotX （可选）水平方向轴心点坐标。
	*@param pivotY （可选）垂直方向轴心点坐标。
	*/
	__proto.transform=function(matrix,pivotX,pivotY){
		(pivotX===void 0)&& (pivotX=0);
		(pivotY===void 0)&& (pivotY=0);
		this._saveToCmd(Render._context._transform,[matrix,pivotX,pivotY]);
	}

	/**
	*旋转当前绘图。(推荐使用transform，性能更高)
	*@param angle 旋转角度，以弧度计。
	*@param pivotX （可选）水平方向轴心点坐标。
	*@param pivotY （可选）垂直方向轴心点坐标。
	*/
	__proto.rotate=function(angle,pivotX,pivotY){
		(pivotX===void 0)&& (pivotX=0);
		(pivotY===void 0)&& (pivotY=0);
		this._saveToCmd(Render._context._rotate,[angle,pivotX,pivotY]);
	}

	/**
	*缩放当前绘图至更大或更小。(推荐使用transform，性能更高)
	*@param scaleX 水平方向缩放值。
	*@param scaleY 垂直方向缩放值。
	*@param pivotX （可选）水平方向轴心点坐标。
	*@param pivotY （可选）垂直方向轴心点坐标。
	*/
	__proto.scale=function(scaleX,scaleY,pivotX,pivotY){
		(pivotX===void 0)&& (pivotX=0);
		(pivotY===void 0)&& (pivotY=0);
		this._saveToCmd(Render._context._scale,[scaleX,scaleY,pivotX,pivotY]);
	}

	/**
	*重新映射画布上的 (0,0)位置。
	*@param x 添加到水平坐标（x）上的值。
	*@param y 添加到垂直坐标（y）上的值。
	*/
	__proto.translate=function(x,y){
		this._saveToCmd(Render._context._translate,[x,y]);
	}

	/**
	*保存当前环境的状态。
	*/
	__proto.save=function(){
		this._saveToCmd(Render._context._save,[]);
	}

	/**
	*返回之前保存过的路径状态和属性。
	*/
	__proto.restore=function(){
		this._saveToCmd(Render._context._restore,[]);
	}

	/**
	*@private
	*替换文本内容。
	*@param text 文本内容。
	*@return 替换成功则值为true，否则值为flase。
	*/
	__proto.replaceText=function(text){
		this._repaint();
		var cmds=this._cmds;
		if (!cmds){
			if (this._one && this._isTextCmd(this._one.callee)){
				if (this._one[0].toUpperCase)this._one[0]=text;
				else this._one[0].setText(text);
				return true;
			}
			}else {
			for (var i=cmds.length-1;i >-1;i--){
				if (this._isTextCmd(cmds[i].callee)){
					if (cmds[i][0].toUpperCase)cmds[i][0]=text;
					else cmds[i][0].setText(text);
					return true;
				}
			}
		}
		return false;
	}

	/**@private */
	__proto._isTextCmd=function(fun){
		return fun===Render._context._fillText || fun===Render._context._fillBorderText || fun===Render._context._strokeText;
	}

	/**
	*@private
	*替换文本颜色。
	*@param color 颜色。
	*/
	__proto.replaceTextColor=function(color){
		this._repaint();
		var cmds=this._cmds;
		if (!cmds){
			if (this._one && this._isTextCmd(this._one.callee)){
				this._one[4]=color;
				if (!this._one[0].toUpperCase)this._one[0].changed=true;
			}
			}else {
			for (var i=cmds.length-1;i >-1;i--){
				if (this._isTextCmd(cmds[i].callee)){
					cmds[i][4]=color;
					if (!cmds[i][0].toUpperCase)cmds[i][0].changed=true;
				}
			}
		}
	}

	/**
	*加载并显示一个图片。
	*@param url 图片地址。
	*@param x （可选）显示图片的x位置。
	*@param y （可选）显示图片的y位置。
	*@param width （可选）显示图片的宽度，设置为0表示使用图片默认宽度。
	*@param height （可选）显示图片的高度，设置为0表示使用图片默认高度。
	*@param complete （可选）加载完成回调。
	*/
	__proto.loadImage=function(url,x,y,width,height,complete){
		var _$this=this;
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		var tex=Loader.getRes(url);
		if (tex)onloaded(tex);
		else Laya.loader.load(url,Handler.create(null,onloaded),null,/*laya.net.Loader.IMAGE*/"image");
		function onloaded (tex){
			if (tex){
				_$this.drawTexture(tex,x,y,width,height);
				if (complete !=null)complete.call(_$this._sp,tex);
			}
		}
	}

	/**
	*@private
	*/
	__proto._renderEmpty=function(sprite,context,x,y){}
	/**
	*@private
	*/
	__proto._renderAll=function(sprite,context,x,y){
		var cmds=this._cmds,cmd;
		for (var i=0,n=cmds.length;i < n;i++){
			(cmd=cmds[i]).callee.call(context,x,y,cmd);
		}
	}

	/**
	*@private
	*/
	__proto._renderOne=function(sprite,context,x,y){
		this._one.callee.call(context,x,y,this._one);
	}

	/**
	*@private
	*/
	__proto._renderOneImg=function(sprite,context,x,y){
		this._one.callee.call(context,x,y,this._one);
		if (sprite._renderType!==2305){
			sprite._renderType |=/*laya.renders.RenderSprite.IMAGE*/0x01;
		}
	}

	/**
	*绘制一条线。
	*@param fromX X轴开始位置。
	*@param fromY Y轴开始位置。
	*@param toX X轴结束位置。
	*@param toY Y轴结束位置。
	*@param lineColor 颜色。
	*@param lineWidth （可选）线条宽度。
	*/
	__proto.drawLine=function(fromX,fromY,toX,toY,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var tId=0;
		if (Render.isWebGL){
			tId=VectorGraphManager.getInstance().getId();
			if (this._vectorgraphArray==null)this._vectorgraphArray=[];
			this._vectorgraphArray.push(tId);
		};
		var offset=lineWidth % 2===0 ? 0 :0.5;
		var arr=[fromX+offset,fromY+offset,toX+offset,toY+offset,lineColor,lineWidth,tId];
		this._saveToCmd(Render._context._drawLine,arr);
	}

	/**
	*绘制一系列线段。
	*@param x 开始绘制的X轴位置。
	*@param y 开始绘制的Y轴位置。
	*@param points 线段的点集合。格式:[x1,y1,x2,y2,x3,y3...]。
	*@param lineColor 线段颜色，或者填充绘图的渐变对象。
	*@param lineWidth （可选）线段宽度。
	*/
	__proto.drawLines=function(x,y,points,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var tId=0;
		if (!points || points.length < 4)return;
		if (Render.isWebGL){
			tId=VectorGraphManager.getInstance().getId();
			if (this._vectorgraphArray==null)this._vectorgraphArray=[];
			this._vectorgraphArray.push(tId);
		};
		var offset=lineWidth % 2===0 ? 0 :0.5;
		var arr=[x+offset,y+offset,points,lineColor,lineWidth,tId];
		this._saveToCmd(Render._context._drawLines,arr);
	}

	/**
	*绘制一系列曲线。
	*@param x 开始绘制的 X 轴位置。
	*@param y 开始绘制的 Y 轴位置。
	*@param points 线段的点集合，格式[startx,starty,ctrx,ctry,startx,starty...]。
	*@param lineColor 线段颜色，或者填充绘图的渐变对象。
	*@param lineWidth （可选）线段宽度。
	*/
	__proto.drawCurves=function(x,y,points,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var arr=[x,y,points,lineColor,lineWidth];
		this._saveToCmd(Render._context._drawCurves,arr);
	}

	/**
	*绘制矩形。
	*@param x 开始绘制的 X 轴位置。
	*@param y 开始绘制的 Y 轴位置。
	*@param width 矩形宽度。
	*@param height 矩形高度。
	*@param fillColor 填充颜色，或者填充绘图的渐变对象。
	*@param lineColor （可选）边框颜色，或者填充绘图的渐变对象。
	*@param lineWidth （可选）边框宽度。
	*/
	__proto.drawRect=function(x,y,width,height,fillColor,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var offset=lineColor ? lineWidth / 2 :0;
		var lineOffset=lineColor ? lineWidth :0;
		var arr=[x+offset,y+offset,width-lineOffset,height-lineOffset,fillColor,lineColor,lineWidth];
		this._saveToCmd(Render._context._drawRect,arr);
	}

	/**
	*绘制圆形。
	*@param x 圆点X 轴位置。
	*@param y 圆点Y 轴位置。
	*@param radius 半径。
	*@param fillColor 填充颜色，或者填充绘图的渐变对象。
	*@param lineColor （可选）边框颜色，或者填充绘图的渐变对象。
	*@param lineWidth （可选）边框宽度。
	*/
	__proto.drawCircle=function(x,y,radius,fillColor,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var offset=lineColor ? lineWidth / 2 :0;
		var tId=0;
		if (Render.isWebGL){
			tId=VectorGraphManager.getInstance().getId();
			if (this._vectorgraphArray==null)this._vectorgraphArray=[];
			this._vectorgraphArray.push(tId);
		};
		var arr=[x,y,radius-offset,fillColor,lineColor,lineWidth,tId];
		this._saveToCmd(Render._context._drawCircle,arr);
	}

	/**
	*绘制扇形。
	*@param x 开始绘制的 X 轴位置。
	*@param y 开始绘制的 Y 轴位置。
	*@param radius 扇形半径。
	*@param startAngle 开始角度。
	*@param endAngle 结束角度。
	*@param fillColor 填充颜色，或者填充绘图的渐变对象。
	*@param lineColor （可选）边框颜色，或者填充绘图的渐变对象。
	*@param lineWidth （可选）边框宽度。
	*/
	__proto.drawPie=function(x,y,radius,startAngle,endAngle,fillColor,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var offset=lineColor ? lineWidth / 2 :0;
		var lineOffset=lineColor ? lineWidth :0;
		var tId=0;
		if (Render.isWebGL){
			tId=VectorGraphManager.getInstance().getId();
			if (this._vectorgraphArray==null)this._vectorgraphArray=[];
			this._vectorgraphArray.push(tId);
		};
		var arr=[x+offset,y+offset,radius-lineOffset,startAngle,endAngle,fillColor,lineColor,lineWidth,tId];
		arr[3]=Utils.toRadian(startAngle);
		arr[4]=Utils.toRadian(endAngle);
		this._saveToCmd(Render._context._drawPie,arr);
	}

	/**
	*绘制多边形。
	*@param x 开始绘制的 X 轴位置。
	*@param y 开始绘制的 Y 轴位置。
	*@param points 多边形的点集合。
	*@param fillColor 填充颜色，或者填充绘图的渐变对象。
	*@param lineColor （可选）边框颜色，或者填充绘图的渐变对象。
	*@param lineWidth （可选）边框宽度。
	*/
	__proto.drawPoly=function(x,y,points,fillColor,lineColor,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var tId=0;
		var tIsConvexPolygon=false;
		if (Render.isWebGL){
			tId=VectorGraphManager.getInstance().getId();
			if (this._vectorgraphArray==null)this._vectorgraphArray=[];
			this._vectorgraphArray.push(tId);
			if (points.length > 6){
				tIsConvexPolygon=false;
				}else {
				tIsConvexPolygon=true;
			}
		};
		var offset=lineColor ? (lineWidth % 2===0 ? 0 :0.5):0;
		var arr=[x+offset,y+offset,points,fillColor,lineColor,lineWidth,tId,tIsConvexPolygon];
		this._saveToCmd(Render._context._drawPoly,arr);
	}

	/**
	*绘制路径。
	*@param x 开始绘制的 X 轴位置。
	*@param y 开始绘制的 Y 轴位置。
	*@param paths 路径集合，路径支持以下格式：[["moveTo",x,y],["lineTo",x,y,x,y,x,y],["arcTo",x1,y1,x2,y2,r],["closePath"]]。
	*@param brush （可选）刷子定义，支持以下设置{fillStyle}。
	*@param pen （可选）画笔定义，支持以下设置{strokeStyle,lineWidth,lineJoin,lineCap,miterLimit}。
	*/
	__proto.drawPath=function(x,y,paths,brush,pen){
		var arr=[x,y,paths,brush,pen];
		this._saveToCmd(Render._context._drawPath,arr);
	}

	/**
	*@private
	*命令流。存储了所有绘制命令。
	*/
	__getset(0,__proto,'cmds',function(){
		return this._cmds;
		},function(value){
		this._sp && (this._sp._renderType |=/*laya.renders.RenderSprite.GRAPHICS*/0x200);
		this._cmds=value;
		this._render=this._renderAll;
		this._repaint();
	});

	Graphics.__init__=function(){
		if (Render.isConchNode){
			var from=laya.display.Graphics.prototype;
			var to=Browser.window.ConchGraphics.prototype;
			var list=["clear","destroy","alpha","rotate","transform","scale","translate","save","restore","clipRect","blendMode","fillText","fillBorderText","_fands","drawRect","drawCircle","drawPie","drawPoly","drawPath","drawImageM","drawLine","drawLines","_drawPs","drawCurves","replaceText","replaceTextColor","_fillImage","fillTexture","setSkinMesh","drawParticle","drawImageS"];
			for (var i=0,len=list.length;i <=len;i++){
				var temp=list[i];
				from[temp]=to[temp];
			}
			from._saveToCmd=null;
			if (to.drawImageS){
				from.drawTextures=function (tex,pos){
					if (!tex)return;
					if (!(tex.loaded && tex.bitmap && tex.source)){
						return;
					};
					var uv=tex.uv,w=tex.bitmap.width,h=tex.bitmap.height;
					this.drawImageS(tex.bitmap.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,tex.offsetX,tex.offsetY,tex.width,tex.height,pos);
				}
			}
			from.drawTexture=function (tex,x,y,width,height,m,alpha){
				(x===void 0)&& (x=0);
				(y===void 0)&& (y=0);
				(width===void 0)&& (width=0);
				(height===void 0)&& (height=0);
				(alpha===void 0)&& (alpha=1);
				if (!tex)return;
				if (!tex.loaded){
					tex.once(/*laya.events.Event.LOADED*/"loaded",this,function(){
						this.drawTexture(tex,x,y,width,height,m);
					});
					return;
				}
				if (!(tex.loaded && tex.bitmap && tex.source)){
					return;
				}
				if (!width)width=tex.sourceWidth;
				if (!height)height=tex.sourceHeight;
				alpha=alpha < 0 ? 0 :(alpha > 1 ? 1 :alpha);
				width=width-tex.sourceWidth+tex.width;
				height=height-tex.sourceHeight+tex.height;
				if (width <=0 || height <=0)return;
				x+=tex.offsetX;
				y+=tex.offsetY;
				var uv=tex.uv,w=tex.bitmap.width,h=tex.bitmap.height;
				this.drawImageM(tex.bitmap.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,x,y,width,height,m,alpha);
				this._repaint();
			}
			from.fillTexture=function (tex,x,y,width,height,type,offset){
				(width===void 0)&& (width=0);
				(height===void 0)&& (height=0);
				(type===void 0)&& (type="repeat");
				if (!tex)return;
				if (tex.loaded){
					var ctxi=Render._context.ctx;
					var w=tex.bitmap.width,h=tex.bitmap.height,uv=tex.uv;
					var pat;
					if (tex.uv !=Texture.DEF_UV){
						pat=ctxi.createPattern(tex.bitmap.source,type,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h);
						}else {
						pat=ctxi.createPattern(tex.bitmap.source,type);
					};
					var sX=0,sY=0;
					if (offset){
						x+=offset.x % tex.width;
						y+=offset.y % tex.height;
						sX-=offset.x % tex.width;
						sY-=offset.y % tex.height;
					}
					this._fillImage(pat,x,y,sX,sY,width,height);
				}
			}
		}
	}

	Graphics._cache=[];
	return Graphics;
})()


/**
*@private
*Graphic bounds数据类
*/
//class laya.display.GraphicsBounds
var GraphicsBounds=(function(){
	function GraphicsBounds(){
		/**@private */
		//this._temp=null;
		/**@private */
		//this._bounds=null;
		/**@private */
		//this._rstBoundPoints=null;
		/**@private */
		this._cacheBoundsType=false;
		/**@private */
		//this._graphics=null;
	}

	__class(GraphicsBounds,'laya.display.GraphicsBounds');
	var __proto=GraphicsBounds.prototype;
	/**
	*销毁
	*/
	__proto.destroy=function(){
		this._graphics=null;
		this._temp=null;
		this._rstBoundPoints=null;
		this._bounds=null;
	}

	/**
	*重置数据
	*/
	__proto.reset=function(){
		this._temp && (this._temp.length=0);
	}

	/**
	*获取位置及宽高信息矩阵(比较耗CPU，频繁使用会造成卡顿，尽量少用)。
	*@param realSize （可选）使用图片的真实大小，默认为false
	*@return 位置与宽高组成的 一个 Rectangle 对象。
	*/
	__proto.getBounds=function(realSize){
		(realSize===void 0)&& (realSize=false);
		if (!this._bounds || !this._temp || this._temp.length < 1 || realSize !=this._cacheBoundsType){
			this._bounds=Rectangle._getWrapRec(this.getBoundPoints(realSize),this._bounds)
		}
		this._cacheBoundsType=realSize;
		return this._bounds;
	}

	/**
	*@private
	*@param realSize （可选）使用图片的真实大小，默认为false
	*获取端点列表。
	*/
	__proto.getBoundPoints=function(realSize){
		(realSize===void 0)&& (realSize=false);
		if (!this._temp || this._temp.length < 1 || realSize !=this._cacheBoundsType)
			this._temp=this._getCmdPoints(realSize);
		this._cacheBoundsType=realSize;
		return this._rstBoundPoints=Utils.copyArray(this._rstBoundPoints,this._temp);
	}

	__proto._getCmdPoints=function(realSize){
		(realSize===void 0)&& (realSize=false);
		var context=Render._context;
		var cmds=this._graphics.cmds;
		var rst;
		rst=this._temp || (this._temp=[]);
		rst.length=0;
		if (!cmds && this._graphics._one !=null){
			GraphicsBounds._tempCmds.length=0;
			GraphicsBounds._tempCmds.push(this._graphics._one);
			cmds=GraphicsBounds._tempCmds;
		}
		if (!cmds)
			return rst;
		var matrixs;
		matrixs=GraphicsBounds._tempMatrixArrays;
		matrixs.length=0;
		var tMatrix=GraphicsBounds._initMatrix;
		tMatrix.identity();
		var tempMatrix=GraphicsBounds._tempMatrix;
		var cmd;
		var tex;
		var wRate=NaN;
		var hRate=NaN;
		var oWidth=NaN;
		var oHeight=NaN;
		var offX=NaN;
		var offY=NaN;
		for (var i=0,n=cmds.length;i < n;i++){
			cmd=cmds[i];
			if (!cmd.callee)continue ;
			switch (cmd.callee){
				case context._save:
				case 7:
					matrixs.push(tMatrix);
					tMatrix=tMatrix.clone();
					break ;
				case context._restore:
				case 8:
					tMatrix=matrixs.pop();
					break ;
				case context._scale:
				case 5:
					tempMatrix.identity();
					tempMatrix.translate(-cmd[2],-cmd[3]);
					tempMatrix.scale(cmd[0],cmd[1]);
					tempMatrix.translate(cmd[2],cmd[3]);
					this._switchMatrix(tMatrix,tempMatrix);
					break ;
				case context._rotate:
				case 3:
					tempMatrix.identity();
					tempMatrix.translate(-cmd[1],-cmd[2]);
					tempMatrix.rotate(cmd[0]);
					tempMatrix.translate(cmd[1],cmd[2]);
					this._switchMatrix(tMatrix,tempMatrix);
					break ;
				case context._translate:
				case 6:
					tempMatrix.identity();
					tempMatrix.translate(cmd[0],cmd[1]);
					this._switchMatrix(tMatrix,tempMatrix);
					break ;
				case context._transform:
				case 4:
					tempMatrix.identity();
					tempMatrix.translate(-cmd[1],-cmd[2]);
					tempMatrix.concat(cmd[0]);
					tempMatrix.translate(cmd[1],cmd[2]);
					this._switchMatrix(tMatrix,tempMatrix);
					break ;
				case 16:
				case 24:
					GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[0],cmd[1],cmd[2],cmd[3]),tMatrix);
					break ;
				case 17:
					tMatrix.copyTo(tempMatrix);
					tempMatrix.concat(cmd[4]);
					GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[0],cmd[1],cmd[2],cmd[3]),tempMatrix);
					break ;
				case context._drawTexture:
					tex=cmd[0];
					if (realSize){
						if (cmd[3] && cmd[4]){
							GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1],cmd[2],cmd[3],cmd[4]),tMatrix);
							}else {
							tex=cmd[0];
							GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1],cmd[2],tex.width,tex.height),tMatrix);
						}
						}else {
						wRate=(cmd[3] || tex.sourceWidth)/ tex.width;
						hRate=(cmd[4] || tex.sourceHeight)/ tex.height;
						oWidth=wRate *tex.sourceWidth;
						oHeight=hRate *tex.sourceHeight;
						offX=tex.offsetX > 0 ? tex.offsetX :0;
						offY=tex.offsetY > 0 ? tex.offsetY :0;
						offX *=wRate;
						offY *=hRate;
						GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1]-offX,cmd[2]-offY,oWidth,oHeight),tMatrix);
					}
					break ;
				case context._fillTexture:
					if (cmd[3] && cmd[4]){
						GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1],cmd[2],cmd[3],cmd[4]),tMatrix);
						}else {
						tex=cmd[0];
						GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1],cmd[2],tex.width,tex.height),tMatrix);
					}
					break ;
				case context._drawTextureWithTransform:;
					var drawMatrix;
					if (cmd[5]){
						tMatrix.copyTo(tempMatrix);
						tempMatrix.concat(cmd[5]);
						drawMatrix=tempMatrix;
						}else {
						drawMatrix=tMatrix;
					}
					if (realSize){
						if (cmd[3] && cmd[4]){
							GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1],cmd[2],cmd[3],cmd[4]),drawMatrix);
							}else {
							tex=cmd[0];
							GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1],cmd[2],tex.width,tex.height),drawMatrix);
						}
						}else {
						tex=cmd[0];
						wRate=(cmd[3] || tex.sourceWidth)/ tex.width;
						hRate=(cmd[4] || tex.sourceHeight)/ tex.height;
						oWidth=wRate *tex.sourceWidth;
						oHeight=hRate *tex.sourceHeight;
						offX=tex.offsetX > 0 ? tex.offsetX :0;
						offY=tex.offsetY > 0 ? tex.offsetY :0;
						offX *=wRate;
						offY *=hRate;
						GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[1]-offX,cmd[2]-offY,oWidth,oHeight),drawMatrix);
					}
					break ;
				case context._drawRect:
				case 13:
					GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[0],cmd[1],cmd[2],cmd[3]),tMatrix);
					break ;
				case context._drawCircle:
				case context._fillCircle:
				case 14:
					GraphicsBounds._addPointArrToRst(rst,Rectangle._getBoundPointS(cmd[0]-cmd[2],cmd[1]-cmd[2],cmd[2]+cmd[2],cmd[2]+cmd[2]),tMatrix);
					break ;
				case context._drawLine:
				case 20:
					GraphicsBounds._tempPoints.length=0;
					var lineWidth=NaN;
					lineWidth=cmd[5] *0.5;
					if (cmd[0]==cmd[2]){
						GraphicsBounds._tempPoints.push(cmd[0]+lineWidth,cmd[1],cmd[2]+lineWidth,cmd[3],cmd[0]-lineWidth,cmd[1],cmd[2]-lineWidth,cmd[3]);
						}else if (cmd[1]==cmd[3]){
						GraphicsBounds._tempPoints.push(cmd[0],cmd[1]+lineWidth,cmd[2],cmd[3]+lineWidth,cmd[0],cmd[1]-lineWidth,cmd[2],cmd[3]-lineWidth);
						}else {
						GraphicsBounds._tempPoints.push(cmd[0],cmd[1],cmd[2],cmd[3]);
					}
					GraphicsBounds._addPointArrToRst(rst,GraphicsBounds._tempPoints,tMatrix);
					break ;
				case context._drawCurves:
				case 22:
					GraphicsBounds._addPointArrToRst(rst,Bezier.I.getBezierPoints(cmd[2]),tMatrix,cmd[0],cmd[1]);
					break ;
				case context._drawPoly:
				case context._drawLines:
				case 18:
					GraphicsBounds._addPointArrToRst(rst,cmd[2],tMatrix,cmd[0],cmd[1]);
					break ;
				case context._drawPath:
				case 19:
					GraphicsBounds._addPointArrToRst(rst,this._getPathPoints(cmd[2]),tMatrix,cmd[0],cmd[1]);
					break ;
				case context._drawPie:
				case 15:
					GraphicsBounds._addPointArrToRst(rst,this._getPiePoints(cmd[0],cmd[1],cmd[2],cmd[3],cmd[4]),tMatrix);
					break ;
				}
		}
		if (rst.length > 200){
			rst=Utils.copyArray(rst,Rectangle._getWrapRec(rst)._getBoundPoints());
		}else if (rst.length > 8)
		rst=GrahamScan.scanPList(rst);
		return rst;
	}

	__proto._switchMatrix=function(tMatix,tempMatrix){
		tempMatrix.concat(tMatix);
		tempMatrix.copyTo(tMatix);
	}

	__proto._getPiePoints=function(x,y,radius,startAngle,endAngle){
		var rst=GraphicsBounds._tempPoints;
		GraphicsBounds._tempPoints.length=0;
		rst.push(x,y);
		var delta=(endAngle-startAngle)% (2 *Math.PI);
		var segnum=10;
		var step=delta / segnum;
		var i=NaN;
		var angle=startAngle;
		for (i=0;i <=segnum;i++){
			rst.push(x+radius *Math.cos(angle),y+radius *Math.sin(angle));
			angle+=step;
		}
		return rst;
	}

	__proto._getPathPoints=function(paths){
		var i=0,len=0;
		var rst=GraphicsBounds._tempPoints;
		rst.length=0;
		len=paths.length;
		var tCMD;
		for (i=0;i < len;i++){
			tCMD=paths[i];
			if (tCMD.length > 1){
				rst.push(tCMD[1],tCMD[2]);
				if (tCMD.length > 3){
					rst.push(tCMD[3],tCMD[4]);
				}
			}
		}
		return rst;
	}

	GraphicsBounds._addPointArrToRst=function(rst,points,matrix,dx,dy){
		(dx===void 0)&& (dx=0);
		(dy===void 0)&& (dy=0);
		var i=0,len=0;
		len=points.length;
		for (i=0;i < len;i+=2){
			GraphicsBounds._addPointToRst(rst,points[i]+dx,points[i+1]+dy,matrix);
		}
	}

	GraphicsBounds._addPointToRst=function(rst,x,y,matrix){
		var _tempPoint=Point.TEMP;
		_tempPoint.setTo(x ? x :0,y ? y :0);
		matrix.transformPoint(_tempPoint);
		rst.push(_tempPoint.x,_tempPoint.y);
	}

	GraphicsBounds._tempPoints=[];
	GraphicsBounds._tempMatrixArrays=[];
	GraphicsBounds._tempCmds=[];
	__static(GraphicsBounds,
	['_tempMatrix',function(){return this._tempMatrix=new Matrix();},'_initMatrix',function(){return this._initMatrix=new Matrix();}
	]);
	return GraphicsBounds;
})()


/**
*<code>Event</code> 是事件类型的集合。一般当发生事件时，<code>Event</code> 对象将作为参数传递给事件侦听器。
*/
//class laya.events.Event
var Event=(function(){
	function Event(){
		/**事件类型。*/
		//this.type=null;
		/**原生浏览器事件。*/
		//this.nativeEvent=null;
		/**事件目标触发对象。*/
		//this.target=null;
		/**事件当前冒泡对象。*/
		//this.currentTarget=null;
		/**@private */
		//this._stoped=false;
		/**分配给触摸点的唯一标识号（作为 int）。*/
		//this.touchId=0;
		/**键盘值*/
		//this.keyCode=0;
		/**滚轮滑动增量*/
		//this.delta=0;
	}

	__class(Event,'laya.events.Event');
	var __proto=Event.prototype;
	/**
	*设置事件数据。
	*@param type 事件类型。
	*@param currentTarget 事件目标触发对象。
	*@param target 事件当前冒泡对象。
	*@return 返回当前 Event 对象。
	*/
	__proto.setTo=function(type,currentTarget,target){
		this.type=type;
		this.currentTarget=currentTarget;
		this.target=target;
		return this;
	}

	/**
	*阻止对事件流中当前节点的后续节点中的所有事件侦听器进行处理。此方法不会影响当前节点 (currentTarget)中的任何事件侦听器。
	*/
	__proto.stopPropagation=function(){
		this._stoped=true;
	}

	/**鼠标在 Stage 上的 Y 轴坐标*/
	__getset(0,__proto,'stageY',function(){
		return Laya.stage.mouseY;
	});

	/**
	*包含按下或释放的键的字符代码值。字符代码值为英文键盘值。
	*/
	__getset(0,__proto,'charCode',function(){
		return this.nativeEvent.charCode;
	});

	/**
	*触摸点列表。
	*/
	__getset(0,__proto,'touches',function(){
		var arr=this.nativeEvent.touches;
		if (arr){
			var stage=Laya.stage;
			for (var i=0,n=arr.length;i < n;i++){
				var e=arr[i];
				var point=Point.TEMP;
				point.setTo(e.clientX,e.clientY);
				stage._canvasTransform.invertTransformPoint(point);
				stage.transform.invertTransformPoint(point);
				e.stageX=point.x;
				e.stageY=point.y;
			}
		}
		return arr;
	});

	/**
	*表示键在键盘上的位置。这对于区分在键盘上多次出现的键非常有用。<br>
	*例如，您可以根据此属性的值来区分左 Shift 键和右 Shift 键：左 Shift 键的值为 KeyLocation.LEFT，右 Shift 键的值为 KeyLocation.RIGHT。另一个示例是区分标准键盘 (KeyLocation.STANDARD)与数字键盘 (KeyLocation.NUM_PAD)上按下的数字键。
	*/
	__getset(0,__proto,'keyLocation',function(){
		return this.nativeEvent.keyLocation;
	});

	/**
	*表示 Ctrl 键是处于活动状态 (true)还是非活动状态 (false)。
	*/
	__getset(0,__proto,'ctrlKey',function(){
		return this.nativeEvent.ctrlKey;
	});

	/**
	*表示 Alt 键是处于活动状态 (true)还是非活动状态 (false)。
	*/
	__getset(0,__proto,'altKey',function(){
		return this.nativeEvent.altKey;
	});

	/**
	*表示 Shift 键是处于活动状态 (true)还是非活动状态 (false)。
	*/
	__getset(0,__proto,'shiftKey',function(){
		return this.nativeEvent.shiftKey;
	});

	/**鼠标在 Stage 上的 X 轴坐标*/
	__getset(0,__proto,'stageX',function(){
		return Laya.stage.mouseX;
	});

	Event.MOUSE_DOWN="mousedown";
	Event.MOUSE_UP="mouseup";
	Event.CLICK="click";
	Event.RIGHT_MOUSE_DOWN="rightmousedown";
	Event.RIGHT_MOUSE_UP="rightmouseup";
	Event.RIGHT_CLICK="rightclick";
	Event.MOUSE_MOVE="mousemove";
	Event.MOUSE_OVER="mouseover";
	Event.MOUSE_OUT="mouseout";
	Event.MOUSE_WHEEL="mousewheel";
	Event.ROLL_OVER="mouseover";
	Event.ROLL_OUT="mouseout";
	Event.DOUBLE_CLICK="doubleclick";
	Event.CHANGE="change";
	Event.CHANGED="changed";
	Event.RESIZE="resize";
	Event.ADDED="added";
	Event.REMOVED="removed";
	Event.DISPLAY="display";
	Event.UNDISPLAY="undisplay";
	Event.ERROR="error";
	Event.COMPLETE="complete";
	Event.LOADED="loaded";
	Event.PROGRESS="progress";
	Event.INPUT="input";
	Event.RENDER="render";
	Event.OPEN="open";
	Event.MESSAGE="message";
	Event.CLOSE="close";
	Event.KEY_DOWN="keydown";
	Event.KEY_PRESS="keypress";
	Event.KEY_UP="keyup";
	Event.FRAME="enterframe";
	Event.DRAG_START="dragstart";
	Event.DRAG_MOVE="dragmove";
	Event.DRAG_END="dragend";
	Event.ENTER="enter";
	Event.SELECT="select";
	Event.BLUR="blur";
	Event.FOCUS="focus";
	Event.VISIBILITY_CHANGE="visibilitychange";
	Event.FOCUS_CHANGE="focuschange";
	Event.PLAYED="played";
	Event.PAUSED="paused";
	Event.STOPPED="stopped";
	Event.START="start";
	Event.END="end";
	Event.ENABLE_CHANGED="enablechanged";
	Event.ACTIVE_IN_HIERARCHY_CHANGED="activeinhierarchychanged";
	Event.COMPONENT_ADDED="componentadded";
	Event.COMPONENT_REMOVED="componentremoved";
	Event.LAYER_CHANGED="layerchanged";
	Event.HIERARCHY_LOADED="hierarchyloaded";
	Event.RECOVERED="recovered";
	Event.RELEASED="released";
	Event.LINK="link";
	Event.LABEL="label";
	Event.FULL_SCREEN_CHANGE="fullscreenchange";
	Event.DEVICE_LOST="devicelost";
	Event.MESH_CHANGED="meshchanged";
	Event.MATERIAL_CHANGED="materialchanged";
	Event.WORLDMATRIX_NEEDCHANGE="worldmatrixneedchanged";
	Event.ANIMATION_CHANGED="animationchanged";
	Event.TRIGGER_ENTER="triggerenter";
	Event.TRIGGER_STAY="triggerstay";
	Event.TRIGGER_EXIT="triggerexit";
	Event.TRAIL_Filter_CHANGE="trailfilterchange";
	__static(Event,
	['EMPTY',function(){return this.EMPTY=new Event();}
	]);
	return Event;
})()


/**
*<code>Keyboard</code> 类的属性是一些常数，这些常数表示控制游戏时最常用的键。
*/
//class laya.events.Keyboard
var Keyboard=(function(){
	function Keyboard(){}
	__class(Keyboard,'laya.events.Keyboard');
	Keyboard.NUMBER_0=48;
	Keyboard.NUMBER_1=49;
	Keyboard.NUMBER_2=50;
	Keyboard.NUMBER_3=51;
	Keyboard.NUMBER_4=52;
	Keyboard.NUMBER_5=53;
	Keyboard.NUMBER_6=54;
	Keyboard.NUMBER_7=55;
	Keyboard.NUMBER_8=56;
	Keyboard.NUMBER_9=57;
	Keyboard.A=65;
	Keyboard.B=66;
	Keyboard.C=67;
	Keyboard.D=68;
	Keyboard.E=69;
	Keyboard.F=70;
	Keyboard.G=71;
	Keyboard.H=72;
	Keyboard.I=73;
	Keyboard.J=74;
	Keyboard.K=75;
	Keyboard.L=76;
	Keyboard.M=77;
	Keyboard.N=78;
	Keyboard.O=79;
	Keyboard.P=80;
	Keyboard.Q=81;
	Keyboard.R=82;
	Keyboard.S=83;
	Keyboard.T=84;
	Keyboard.U=85;
	Keyboard.V=86;
	Keyboard.W=87;
	Keyboard.X=88;
	Keyboard.Y=89;
	Keyboard.Z=90;
	Keyboard.F1=112;
	Keyboard.F2=113;
	Keyboard.F3=114;
	Keyboard.F4=115;
	Keyboard.F5=116;
	Keyboard.F6=117;
	Keyboard.F7=118;
	Keyboard.F8=119;
	Keyboard.F9=120;
	Keyboard.F10=121;
	Keyboard.F11=122;
	Keyboard.F12=123;
	Keyboard.F13=124;
	Keyboard.F14=125;
	Keyboard.F15=126;
	Keyboard.NUMPAD=21;
	Keyboard.NUMPAD_0=96;
	Keyboard.NUMPAD_1=97;
	Keyboard.NUMPAD_2=98;
	Keyboard.NUMPAD_3=99;
	Keyboard.NUMPAD_4=100;
	Keyboard.NUMPAD_5=101;
	Keyboard.NUMPAD_6=102;
	Keyboard.NUMPAD_7=103;
	Keyboard.NUMPAD_8=104;
	Keyboard.NUMPAD_9=105;
	Keyboard.NUMPAD_ADD=107;
	Keyboard.NUMPAD_DECIMAL=110;
	Keyboard.NUMPAD_DIVIDE=111;
	Keyboard.NUMPAD_ENTER=108;
	Keyboard.NUMPAD_MULTIPLY=106;
	Keyboard.NUMPAD_SUBTRACT=109;
	Keyboard.SEMICOLON=186;
	Keyboard.EQUAL=187;
	Keyboard.COMMA=188;
	Keyboard.MINUS=189;
	Keyboard.PERIOD=190;
	Keyboard.SLASH=191;
	Keyboard.BACKQUOTE=192;
	Keyboard.LEFTBRACKET=219;
	Keyboard.BACKSLASH=220;
	Keyboard.RIGHTBRACKET=221;
	Keyboard.QUOTE=222;
	Keyboard.ALTERNATE=18;
	Keyboard.BACKSPACE=8;
	Keyboard.CAPS_LOCK=20;
	Keyboard.COMMAND=15;
	Keyboard.CONTROL=17;
	Keyboard.DELETE=46;
	Keyboard.ENTER=13;
	Keyboard.ESCAPE=27;
	Keyboard.PAGE_UP=33;
	Keyboard.PAGE_DOWN=34;
	Keyboard.END=35;
	Keyboard.HOME=36;
	Keyboard.LEFT=37;
	Keyboard.UP=38;
	Keyboard.RIGHT=39;
	Keyboard.DOWN=40;
	Keyboard.SHIFT=16;
	Keyboard.SPACE=32;
	Keyboard.TAB=9;
	Keyboard.INSERT=45;
	return Keyboard;
})()


/**
*<p><code>KeyBoardManager</code> 是键盘事件管理类。该类从浏览器中接收键盘事件，并派发该事件。</p>
*<p>派发事件时若 Stage.focus 为空则只从 Stage 上派发该事件，否则将从 Stage.focus 对象开始一直冒泡派发该事件。所以在 Laya.stage 上监听键盘事件一定能够收到，如果在其他地方监听，则必须处在Stage.focus的冒泡链上才能收到该事件。</p>
*<p>用户可以通过代码 Laya.stage.focus=someNode 的方式来设置focus对象。</p>
*<p>用户可统一的根据事件对象中 e.keyCode 来判断按键类型，该属性兼容了不同浏览器的实现。</p>
*/
//class laya.events.KeyBoardManager
var KeyBoardManager=(function(){
	function KeyBoardManager(){}
	__class(KeyBoardManager,'laya.events.KeyBoardManager');
	KeyBoardManager.__init__=function(){
		KeyBoardManager._addEvent("keydown");
		KeyBoardManager._addEvent("keypress");
		KeyBoardManager._addEvent("keyup");
	}

	KeyBoardManager._addEvent=function(type){
		Browser.document.addEventListener(type,function(e){
			laya.events.KeyBoardManager._dispatch(e,type);
		},true);
	}

	KeyBoardManager._dispatch=function(e,type){
		if (!KeyBoardManager.enabled)return;
		KeyBoardManager._event._stoped=false;
		KeyBoardManager._event.nativeEvent=e;
		KeyBoardManager._event.keyCode=e.keyCode || e.which || e.charCode;
		if (type==="keydown")KeyBoardManager._pressKeys[KeyBoardManager._event.keyCode]=true;
		else if (type==="keyup")KeyBoardManager._pressKeys[KeyBoardManager._event.keyCode]=null;
		var target=(Laya.stage.focus && (Laya.stage.focus.event !=null)&& Laya.stage.focus.displayedInStage)? Laya.stage.focus :Laya.stage;
		var ct=target;
		while (ct){
			ct.event(type,KeyBoardManager._event.setTo(type,ct,target));
			ct=ct.parent;
		}
	}

	KeyBoardManager.hasKeyDown=function(key){
		return KeyBoardManager._pressKeys[key];
	}

	KeyBoardManager._pressKeys={};
	KeyBoardManager.enabled=true;
	__static(KeyBoardManager,
	['_event',function(){return this._event=new Event();}
	]);
	return KeyBoardManager;
})()


/**
*<p><code>KeyLocation</code> 类包含表示在键盘或类似键盘的输入设备上按键位置的常量。</p>
*<p><code>KeyLocation</code> 常数用在键盘事件对象的 <code>keyLocation </code>属性中。</p>
*/
//class laya.events.KeyLocation
var KeyLocation=(function(){
	function KeyLocation(){}
	__class(KeyLocation,'laya.events.KeyLocation');
	KeyLocation.STANDARD=0;
	KeyLocation.LEFT=1;
	KeyLocation.RIGHT=2;
	KeyLocation.NUM_PAD=3;
	return KeyLocation;
})()


/**
*<p><code>MouseManager</code> 是鼠标、触摸交互管理器。</p>
*<p>鼠标事件流包括捕获阶段、目标阶段、冒泡阶段。<br/>
*捕获阶段：此阶段引擎会从stage开始递归检测stage及其子对象，直到找到命中的目标对象或者未命中任何对象；<br/>
*目标阶段：找到命中的目标对象；<br/>
*冒泡阶段：事件离开目标对象，按节点层级向上逐层通知，直到到达舞台的过程。</p>
*/
//class laya.events.MouseManager
var MouseManager=(function(){
	function MouseManager(){
		/**canvas 上的鼠标X坐标。*/
		this.mouseX=0;
		/**canvas 上的鼠标Y坐标。*/
		this.mouseY=0;
		/**是否禁用除 stage 以外的鼠标事件检测。*/
		this.disableMouseEvent=false;
		/**鼠标按下的时间。单位为毫秒。*/
		this.mouseDownTime=0;
		/**鼠标移动精度。*/
		this.mouseMoveAccuracy=2;
		this._stage=null;
		this._target=null;
		this._lastMoveTimer=0;
		this._isLeftMouse=false;
		this._eventList=[];
		this._touchIDs={};
		this._id=1;
		this._tTouchID=0;
		this._event=new Event();
		this._matrix=new Matrix();
		this._point=new Point();
		this._rect=new Rectangle();
		this._prePoint=new Point();
		this._curTouchID=NaN;
	}

	__class(MouseManager,'laya.events.MouseManager');
	var __proto=MouseManager.prototype;
	/**
	*@private
	*初始化。
	*/
	__proto.__init__=function(stage,canvas){
		var _$this=this;
		this._stage=stage;
		var _this=this;
		var list=this._eventList;
		canvas.oncontextmenu=function (e){
			if (MouseManager.enabled)return false;
		}
		canvas.addEventListener('mousedown',function(e){
			if (MouseManager.enabled){
				if(!Browser.onIE)e.preventDefault();
				list.push(e);
				_this.mouseDownTime=Browser.now();
			}
		});
		canvas.addEventListener('mouseup',function(e){
			if (MouseManager.enabled){
				e.preventDefault();
				list.push(e);
				_this.mouseDownTime=-Browser.now();
			}
		},true);
		canvas.addEventListener('mousemove',function(e){
			if (MouseManager.enabled){
				e.preventDefault();
				var now=Browser.now();
				if (now-_this._lastMoveTimer < 10)return;
				_this._lastMoveTimer=now;
				list.push(e);
			}
		},true);
		canvas.addEventListener("mouseout",function(e){
			if (MouseManager.enabled)list.push(e);
		})
		canvas.addEventListener("mouseover",function(e){
			if (MouseManager.enabled)list.push(e);
		})
		canvas.addEventListener("touchstart",function(e){
			if (MouseManager.enabled){
				list.push(e);
				if (!MouseManager._isFirstTouch&&!Input.isInputting)e.preventDefault();
				_this.mouseDownTime=Browser.now();
			}
		});
		canvas.addEventListener("touchend",function(e){
			if (MouseManager.enabled){
				if (!MouseManager._isFirstTouch&&!Input.isInputting)e.preventDefault();
				MouseManager._isFirstTouch=false;
				list.push(e);
				_this.mouseDownTime=-Browser.now();
				}else {
				_$this._curTouchID=NaN;
			}
		},true);
		canvas.addEventListener("touchmove",function(e){
			if (MouseManager.enabled){
				e.preventDefault();
				list.push(e);
			}
		},true);
		canvas.addEventListener("touchcancel",function(e){
			if (MouseManager.enabled){
				e.preventDefault();
				list.push(e);
				}else {
				_$this._curTouchID=NaN;
			}
		},true);
		canvas.addEventListener('mousewheel',function(e){
			if (MouseManager.enabled)list.push(e);
		});
		canvas.addEventListener('DOMMouseScroll',function(e){
			if (MouseManager.enabled)list.push(e);
		});
	}

	__proto.initEvent=function(e,nativeEvent){
		var _this=this;
		_this._event._stoped=false;
		_this._event.nativeEvent=nativeEvent || e;
		_this._target=null;
		this._point.setTo(e.pageX || e.clientX,e.pageY || e.clientY);
		this._stage._canvasTransform.invertTransformPoint(this._point);
		_this.mouseX=this._point.x;
		_this.mouseY=this._point.y;
		_this._event.touchId=e.identifier || 0;
		this._tTouchID=_this._event.touchId;
		var evt;
		evt=TouchManager.I._event;
		evt._stoped=false;
		evt.nativeEvent=_this._event.nativeEvent;
		evt.touchId=_this._event.touchId;
	}

	__proto.checkMouseWheel=function(e){
		this._event.delta=e.wheelDelta ? e.wheelDelta *0.025 :-e.detail;
		var _lastOvers=TouchManager.I.getLastOvers();
		for (var i=0,n=_lastOvers.length;i < n;i++){
			var ele=_lastOvers[i];
			ele.event(/*laya.events.Event.MOUSE_WHEEL*/"mousewheel",this._event.setTo(/*laya.events.Event.MOUSE_WHEEL*/"mousewheel",ele,this._target));
		}
	}

	// _stage.event(Event.MOUSE_WHEEL,_event.setTo(Event.MOUSE_WHEEL,_stage,_target));
	__proto.onMouseMove=function(ele){
		TouchManager.I.onMouseMove(ele,this._tTouchID);
	}

	__proto.onMouseDown=function(ele){
		if (Input.isInputting && Laya.stage.focus && Laya.stage.focus["focus"] && !Laya.stage.focus.contains(this._target)){
			var pre_input=Laya.stage.focus['_tf'] || Laya.stage.focus;
			var new_input=ele['_tf'] || ele;
			if ((new_input instanceof laya.display.Input )&& new_input.multiline==pre_input.multiline)
				pre_input['_focusOut']();
			else
			pre_input.focus=false;
		}
		TouchManager.I.onMouseDown(ele,this._tTouchID,this._isLeftMouse);
	}

	__proto.onMouseUp=function(ele){
		TouchManager.I.onMouseUp(ele,this._tTouchID,this._isLeftMouse);
	}

	__proto.check=function(sp,mouseX,mouseY,callBack){
		this._point.setTo(mouseX,mouseY);
		sp.fromParentPoint(this._point);
		mouseX=this._point.x;
		mouseY=this._point.y;
		var scrollRect=sp.scrollRect;
		if (scrollRect){
			this._rect.setTo(scrollRect.x,scrollRect.y,scrollRect.width,scrollRect.height);
			if (!this._rect.contains(mouseX,mouseY))return false;
		}
		if (!this.disableMouseEvent){
			if (sp.hitTestPrior && !sp.mouseThrough && !this.hitTest(sp,mouseX,mouseY)){
				return false;
			}
			for (var i=sp._childs.length-1;i >-1;i--){
				var child=sp._childs[i];
				if (!child.destroyed && child.mouseEnabled && child.visible){
					if (this.check(child,mouseX,mouseY,callBack))return true;
				}
			}
		};
		var isHit=(sp.hitTestPrior && !sp.mouseThrough && !this.disableMouseEvent)? true :this.hitTest(sp,mouseX,mouseY);
		if (isHit){
			this._target=sp;
			callBack.call(this,sp);
			}else if (callBack===this.onMouseUp && sp===this._stage){
			this._target=this._stage;
			callBack.call(this,this._target);
		}
		return isHit;
	}

	__proto.hitTest=function(sp,mouseX,mouseY){
		var isHit=false;
		if (sp.scrollRect){
			mouseX-=sp.scrollRect.x;
			mouseY-=sp.scrollRect.y;
		}
		if ((sp.hitArea instanceof laya.utils.HitArea )){
			return sp.hitArea.isHit(mouseX,mouseY);
		}
		if (sp.width > 0 && sp.height > 0 || sp.mouseThrough || sp.hitArea){
			if (!sp.mouseThrough){
				var hitRect=this._rect;
				if (sp.hitArea)hitRect=sp.hitArea;
				else hitRect.setTo(0,0,sp.width,sp.height);
				isHit=hitRect.contains(mouseX,mouseY);
				}else {
				isHit=sp.getGraphicBounds().contains(mouseX,mouseY);
			}
		}
		return isHit;
	}

	/**
	*执行事件处理。
	*/
	__proto.runEvent=function(){
		var len=this._eventList.length;
		if (!len)return;
		var _this=this;
		var i=0,j=0,n=0,touch;
		while (i < len){
			var evt=this._eventList[i];
			if (evt.type!=='mousemove')this._prePoint.x=this._prePoint.y=-1000000;
			switch (evt.type){
				case 'mousedown':
					this._touchIDs[0]=this._id++;
					if (!MouseManager._isTouchRespond){
						_this._isLeftMouse=evt.button===0;
						_this.initEvent(evt);
						_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseDown);
					}else
					MouseManager._isTouchRespond=false;
					break ;
				case 'mouseup':
					_this._isLeftMouse=evt.button===0;
					_this.initEvent(evt);
					_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseUp);
					break ;
				case 'mousemove':
					if ((Math.abs(this._prePoint.x-evt.clientX)+Math.abs(this._prePoint.y-evt.clientY))>=this.mouseMoveAccuracy){
						this._prePoint.x=evt.clientX;
						this._prePoint.y=evt.clientY;
						_this.initEvent(evt);
						_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseMove);
					}
					break ;
				case "touchstart":
					MouseManager._isTouchRespond=true;
					_this._isLeftMouse=true;
					var touches=evt.changedTouches;
					for (j=0,n=touches.length;j < n;j++){
						touch=touches[j];
						if (MouseManager.multiTouchEnabled || isNaN(this._curTouchID)){
							this._curTouchID=touch.identifier;
							if (this._id % 200===0)this._touchIDs={};
							this._touchIDs[touch.identifier]=this._id++;
							_this.initEvent(touch,evt);
							_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseDown);
						}
					}
					break ;
				case "touchend":
				case "touchcancel":
					MouseManager._isTouchRespond=true;
					_this._isLeftMouse=true;
					var touchends=evt.changedTouches;
					for (j=0,n=touchends.length;j < n;j++){
						touch=touchends[j];
						if (MouseManager.multiTouchEnabled || touch.identifier==this._curTouchID){
							this._curTouchID=NaN;
							_this.initEvent(touch,evt);
							var isChecked=false;
							isChecked=_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseUp);
							if (!isChecked){
								_this.onMouseUp(null);
							}
						}
					}
					break ;
				case "touchmove":;
					var touchemoves=evt.changedTouches;
					for (j=0,n=touchemoves.length;j < n;j++){
						touch=touchemoves[j];
						if (MouseManager.multiTouchEnabled || touch.identifier==this._curTouchID){
							_this.initEvent(touch,evt);
							_this.check(_this._stage,_this.mouseX,_this.mouseY,_this.onMouseMove);
						}
					}
					break ;
				case "wheel":
				case "mousewheel":
				case "DOMMouseScroll":
					_this.checkMouseWheel(evt);
					break ;
				case "mouseout":
					TouchManager.I.stageMouseOut();
					break ;
				case "mouseover":
					_this._stage.event(/*laya.events.Event.MOUSE_OVER*/"mouseover",_this._event.setTo(/*laya.events.Event.MOUSE_OVER*/"mouseover",_this._stage,_this._stage));
					break ;
				}
			i++;
		}
		this._eventList.length=0;
	}

	MouseManager.enabled=true;
	MouseManager.multiTouchEnabled=true;
	MouseManager._isTouchRespond=false;
	MouseManager._isFirstTouch=true;
	__static(MouseManager,
	['instance',function(){return this.instance=new MouseManager();}
	]);
	return MouseManager;
})()


/**
*@private
*Touch事件管理类，处理多点触控下的鼠标事件
*/
//class laya.events.TouchManager
var TouchManager=(function(){
	function TouchManager(){
		/**
		*当前over的touch表
		*/
		this.preOvers=[];
		/**
		*当前down的touch表
		*/
		this.preDowns=[];
		this.preRightDowns=[];
		/**
		*是否启用
		*/
		this.enable=true;
		this._lastClickTime=0;
		this._event=new Event();
	}

	__class(TouchManager,'laya.events.TouchManager');
	var __proto=TouchManager.prototype;
	__proto._clearTempArrs=function(){
		TouchManager._oldArr.length=0;
		TouchManager._newArr.length=0;
		TouchManager._tEleArr.length=0;
	}

	/**
	*从touch表里查找对应touchID的数据
	*@param touchID touch ID
	*@param arr touch表
	*@return
	*
	*/
	__proto.getTouchFromArr=function(touchID,arr){
		var i=0,len=0;
		len=arr.length;
		var tTouchO;
		for (i=0;i < len;i++){
			tTouchO=arr[i];
			if (tTouchO.id==touchID){
				return tTouchO;
			}
		}
		return null;
	}

	/**
	*从touch表里移除一个元素
	*@param touchID touch ID
	*@param arr touch表
	*
	*/
	__proto.removeTouchFromArr=function(touchID,arr){
		var i=0;
		for (i=arr.length-1;i >=0;i--){
			if (arr[i].id==touchID){
				arr.splice(i,1);
			}
		}
	}

	/**
	*创建一个touch数据
	*@param ele 当前的根节点
	*@param touchID touchID
	*@return
	*
	*/
	__proto.createTouchO=function(ele,touchID){
		var rst;
		rst=Pool.getItem("TouchData")|| {};
		rst.id=touchID;
		rst.tar=ele;
		return rst;
	}

	/**
	*处理touchStart
	*@param ele 根节点
	*@param touchID touchID
	*@param isLeft （可选）是否为左键
	*/
	__proto.onMouseDown=function(ele,touchID,isLeft){
		(isLeft===void 0)&& (isLeft=false);
		if (!this.enable)
			return;
		var preO;
		var tO;
		var arrs;
		preO=this.getTouchFromArr(touchID,this.preOvers);
		arrs=this.getEles(ele,null,TouchManager._tEleArr);
		if (!preO){
			tO=this.createTouchO(ele,touchID);
			this.preOvers.push(tO);
			}else {
			preO.tar=ele;
		}
		if (Browser.onMobile)
			this.sendEvents(arrs,/*laya.events.Event.MOUSE_OVER*/"mouseover",touchID);
		var preDowns;
		preDowns=isLeft ? this.preDowns :this.preRightDowns;
		preO=this.getTouchFromArr(touchID,preDowns);
		if (!preO){
			tO=this.createTouchO(ele,touchID);
			preDowns.push(tO);
			}else {
			preO.tar=ele;
		}
		this.sendEvents(arrs,isLeft ? /*laya.events.Event.MOUSE_DOWN*/"mousedown" :/*laya.events.Event.RIGHT_MOUSE_DOWN*/"rightmousedown",touchID);
		this._clearTempArrs();
	}

	/**
	*派发事件。
	*@param eles 对象列表。
	*@param type 事件类型。
	*@param touchID （可选）touchID，默认为0。
	*/
	__proto.sendEvents=function(eles,type,touchID){
		(touchID===void 0)&& (touchID=0);
		var i=0,len=0;
		len=eles.length;
		this._event._stoped=false;
		var _target;
		_target=eles[0];
		var tE;
		for (i=0;i < len;i++){
			tE=eles[i];
			if (tE.destroyed)return;
			tE.event(type,this._event.setTo(type,tE,_target));
			if (this._event._stoped)
				break ;
		}
	}

	/**
	*获取对象列表。
	*@param start 起始节点。
	*@param end 结束节点。
	*@param rst 返回值。如果此值不为空，则将其赋值为计算结果，从而避免创建新数组；如果此值为空，则创建新数组返回。
	*@return Array 返回节点列表。
	*/
	__proto.getEles=function(start,end,rst){
		if (!rst){
			rst=[];
			}else {
			rst.length=0;
		}
		while (start && start !=end){
			rst.push(start);
			start=start.parent;
		}
		return rst;
	}

	/**
	*touchMove时处理out事件和over时间。
	*@param eleNew 新的根节点。
	*@param elePre 旧的根节点。
	*@param touchID （可选）touchID，默认为0。
	*/
	__proto.checkMouseOutAndOverOfMove=function(eleNew,elePre,touchID){
		(touchID===void 0)&& (touchID=0);
		if (elePre==eleNew)
			return;
		var tar;
		var arrs;
		var i=0,len=0;
		if (elePre.contains(eleNew)){
			arrs=this.getEles(eleNew,elePre,TouchManager._tEleArr);
			this.sendEvents(arrs,/*laya.events.Event.MOUSE_OVER*/"mouseover",touchID);
			}else if (eleNew.contains(elePre)){
			arrs=this.getEles(elePre,eleNew,TouchManager._tEleArr);
			this.sendEvents(arrs,/*laya.events.Event.MOUSE_OUT*/"mouseout",touchID);
			}else {
			arrs=TouchManager._tEleArr;
			arrs.length=0;
			var oldArr;
			oldArr=this.getEles(elePre,null,TouchManager._oldArr);
			var newArr;
			newArr=this.getEles(eleNew,null,TouchManager._newArr);
			len=oldArr.length;
			var tIndex=0;
			for (i=0;i < len;i++){
				tar=oldArr[i];
				tIndex=newArr.indexOf(tar);
				if (tIndex >=0){
					newArr.splice(tIndex,newArr.length-tIndex);
					break ;
					}else {
					arrs.push(tar);
				}
			}
			if (arrs.length > 0){
				this.sendEvents(arrs,/*laya.events.Event.MOUSE_OUT*/"mouseout",touchID);
			}
			if (newArr.length > 0){
				this.sendEvents(newArr,/*laya.events.Event.MOUSE_OVER*/"mouseover",touchID);
			}
		}
	}

	/**
	*处理TouchMove事件
	*@param ele 根节点
	*@param touchID touchID
	*
	*/
	__proto.onMouseMove=function(ele,touchID){
		if (!this.enable)
			return;
		var preO;
		preO=this.getTouchFromArr(touchID,this.preOvers);
		var arrs;
		var tO;
		if (!preO){
			arrs=this.getEles(ele,null,TouchManager._tEleArr);
			this.sendEvents(arrs,/*laya.events.Event.MOUSE_OVER*/"mouseover",touchID);
			this.preOvers.push(this.createTouchO(ele,touchID));
			}else {
			this.checkMouseOutAndOverOfMove(ele,preO.tar);
			preO.tar=ele;
			arrs=this.getEles(ele,null,TouchManager._tEleArr);
		}
		this.sendEvents(arrs,/*laya.events.Event.MOUSE_MOVE*/"mousemove",touchID);
		this._clearTempArrs();
	}

	__proto.getLastOvers=function(){
		TouchManager._tEleArr.length=0;
		if (this.preOvers.length > 0 && this.preOvers[0].tar){
			return this.getEles(this.preOvers[0].tar,null,TouchManager._tEleArr);
		}
		TouchManager._tEleArr.push(Laya.stage);
		return TouchManager._tEleArr;
	}

	__proto.stageMouseOut=function(){
		var lastOvers;
		lastOvers=this.getLastOvers();
		this.preOvers.length=0;
		this.sendEvents(lastOvers,/*laya.events.Event.MOUSE_OUT*/"mouseout",0);
	}

	/**
	*处理TouchEnd事件
	*@param ele 根节点
	*@param touchID touchID
	*@param isLeft 是否为左键
	*/
	__proto.onMouseUp=function(ele,touchID,isLeft){
		(isLeft===void 0)&& (isLeft=false);
		if (!this.enable)
			return;
		var preO;
		var tO;
		var arrs;
		var oldArr;
		var i=0,len=0;
		var tar;
		var sendArr;
		var onMobile=Browser.onMobile;
		arrs=this.getEles(ele,null,TouchManager._tEleArr);
		this.sendEvents(arrs,isLeft ? /*laya.events.Event.MOUSE_UP*/"mouseup" :/*laya.events.Event.RIGHT_MOUSE_UP*/"rightmouseup",touchID);
		var preDowns;
		preDowns=isLeft ? this.preDowns :this.preRightDowns;
		preO=this.getTouchFromArr(touchID,preDowns);
		if (!preO){
			}else {
			var isDouble=false;
			var now=Browser.now();
			isDouble=now-this._lastClickTime < 300;
			this._lastClickTime=now;
			if (ele==preO.tar){
				sendArr=arrs;
				}else {
				oldArr=this.getEles(preO.tar,null,TouchManager._oldArr);
				sendArr=TouchManager._newArr;
				sendArr.length=0;
				len=oldArr.length;
				for (i=0;i < len;i++){
					tar=oldArr[i];
					if (arrs.indexOf(tar)>=0){
						sendArr.push(tar);
					}
				}
			}
			if (sendArr.length > 0){
				this.sendEvents(sendArr,isLeft ? /*laya.events.Event.CLICK*/"click" :/*laya.events.Event.RIGHT_CLICK*/"rightclick",touchID);
			}
			if (isLeft && isDouble){
				this.sendEvents(sendArr,/*laya.events.Event.DOUBLE_CLICK*/"doubleclick",touchID);
			}
			this.removeTouchFromArr(touchID,preDowns);
			preO.tar=null;
			Pool.recover("TouchData",preO);
		}
		preO=this.getTouchFromArr(touchID,this.preOvers);
		if (!preO){
			}else {
			if (onMobile){
				sendArr=this.getEles(preO.tar,null,sendArr);
				if (sendArr && sendArr.length > 0){
					this.sendEvents(sendArr,/*laya.events.Event.MOUSE_OUT*/"mouseout",touchID);
				}
				this.removeTouchFromArr(touchID,this.preOvers);
				preO.tar=null;
				Pool.recover("TouchData",preO);
			}
		}
		this._clearTempArrs();
	}

	TouchManager._oldArr=[];
	TouchManager._newArr=[];
	TouchManager._tEleArr=[];
	__static(TouchManager,
	['I',function(){return this.I=new TouchManager();}
	]);
	return TouchManager;
})()


/**
*<code>Filter</code> 是滤镜基类。
*/
//class laya.filters.Filter
var Filter=(function(){
	function Filter(){
		/**@private */
		this._action=null;
	}

	__class(Filter,'laya.filters.Filter');
	var __proto=Filter.prototype;
	Laya.imps(__proto,{"laya.filters.IFilter":true})
	/**@private */
	__proto.callNative=function(sp){}
	/**@private 滤镜类型。*/
	__getset(0,__proto,'type',function(){return-1});
	/**@private 滤镜动作。*/
	__getset(0,__proto,'action',function(){return this._action });
	Filter.BLUR=0x10;
	Filter.COLOR=0x20;
	Filter.GLOW=0x08;
	Filter._filterStart=null;
	Filter._filterEnd=null;
	Filter._EndTarget=null;
	Filter._recycleScope=null;
	Filter._filter=null;
	Filter._useSrc=null;
	Filter._endSrc=null;
	Filter._useOut=null;
	Filter._endOut=null;
	return Filter;
})()


/**
*@private
*<code>ColorFilterAction</code> 是一个颜色滤镜应用类。
*/
//class laya.filters.ColorFilterAction
var ColorFilterAction=(function(){
	function ColorFilterAction(){
		this.data=null;
	}

	__class(ColorFilterAction,'laya.filters.ColorFilterAction');
	var __proto=ColorFilterAction.prototype;
	Laya.imps(__proto,{"laya.filters.IFilterAction":true})
	/**
	*给指定的对象应用颜色滤镜。
	*@param srcCanvas 需要应用画布对象。
	*@return 应用了滤镜后的画布对象。
	*/
	__proto.apply=function(srcCanvas){
		var ctx=srcCanvas.ctx.ctx;
		var canvas=srcCanvas.ctx.ctx.canvas;
		if (canvas.width==0 || canvas.height==0)return canvas;
		var imgdata=ctx.getImageData(0,0,canvas.width,canvas.height);
		var data=imgdata.data;
		var nData;
		for (var i=0,n=data.length;i < n;i+=4){
			nData=this.getColor(data[i],data[i+1],data[i+2],data[i+3]);
			if (data[i+3]==0)continue ;
			data[i]=nData[0];
			data[i+1]=nData[1];
			data[i+2]=nData[2];
			data[i+3]=nData[3];
		}
		ctx.putImageData(imgdata,0,0);
		return srcCanvas;
	}

	__proto.getColor=function(red,green,blue,alpha){
		var rst=[];
		if (this.data._mat && this.data._alpha){
			var mat=this.data._mat;
			var tempAlpha=this.data._alpha;
			rst[0]=mat[0] *red+mat[1] *green+mat[2] *blue+mat[3] *alpha+tempAlpha[0];
			rst[1]=mat[4] *red+mat[5] *green+mat[6] *blue+mat[7] *alpha+tempAlpha[1];
			rst[2]=mat[8] *red+mat[9] *green+mat[10] *blue+mat[11] *alpha+tempAlpha[2];
			rst[3]=mat[12] *red+mat[13] *green+mat[14] *blue+mat[15] *alpha+tempAlpha[3];
		}
		return rst;
	}

	return ColorFilterAction;
})()


/**
*@private
*/
//class laya.maths.Arith
var Arith=(function(){
	function Arith(){}
	__class(Arith,'laya.maths.Arith');
	Arith.formatR=function(r){
		if (r > Math.PI)r-=Math.PI *2;
		if (r <-Math.PI)r+=Math.PI *2;
		return r;
	}

	Arith.isPOT=function(w,h){
		return (w > 0 && (w & (w-1))===0 && h > 0 && (h & (h-1))===0);
	}

	Arith.setMatToArray=function(mat,array){
		mat.a,mat.b,0,0,mat.c,mat.d,0,0,0,0,1,0,mat.tx+20,mat.ty+20,0,1
		array[0]=mat.a;
		array[1]=mat.b;
		array[4]=mat.c;
		array[5]=mat.d;
		array[12]=mat.tx;
		array[13]=mat.ty;
	}

	return Arith;
})()


/**
*@private
*计算贝塞尔曲线的工具类。
*/
//class laya.maths.Bezier
var Bezier=(function(){
	function Bezier(){
		/**@private */
		this._controlPoints=[new Point(),new Point(),new Point()];
		this._calFun=this.getPoint2;
	}

	__class(Bezier,'laya.maths.Bezier');
	var __proto=Bezier.prototype;
	/**@private */
	__proto._switchPoint=function(x,y){
		var tPoint=this._controlPoints.shift();
		tPoint.setTo(x,y);
		this._controlPoints.push(tPoint);
	}

	/**
	*计算二次贝塞尔点。
	*@param t
	*@param rst
	*
	*/
	__proto.getPoint2=function(t,rst){
		var p1=this._controlPoints[0];
		var p2=this._controlPoints[1];
		var p3=this._controlPoints[2];
		var lineX=Math.pow((1-t),2)*p1.x+2 *t *(1-t)*p2.x+Math.pow(t,2)*p3.x;
		var lineY=Math.pow((1-t),2)*p1.y+2 *t *(1-t)*p2.y+Math.pow(t,2)*p3.y;
		rst.push(lineX,lineY);
	}

	/**
	*计算三次贝塞尔点
	*@param t
	*@param rst
	*
	*/
	__proto.getPoint3=function(t,rst){
		var p1=this._controlPoints[0];
		var p2=this._controlPoints[1];
		var p3=this._controlPoints[2];
		var p4=this._controlPoints[3];
		var lineX=Math.pow((1-t),3)*p1.x+3 *p2.x *t *(1-t)*(1-t)+3 *p3.x *t *t *(1-t)+p4.x *Math.pow(t,3);
		var lineY=Math.pow((1-t),3)*p1.y+3 *p2.y *t *(1-t)*(1-t)+3 *p3.y *t *t *(1-t)+p4.y *Math.pow(t,3);
		rst.push(lineX,lineY);
	}

	/**
	*计算贝塞尔点序列
	*@param count
	*@param rst
	*
	*/
	__proto.insertPoints=function(count,rst){
		var i=NaN;
		count=count > 0 ? count :5;
		var dLen=NaN;
		dLen=1 / count;
		for (i=0;i <=1;i+=dLen){
			this._calFun(i,rst);
		}
	}

	/**
	*获取贝塞尔曲线上的点。
	*@param pList 控制点[x0,y0,x1,y1...]
	*@param inSertCount 每次曲线的插值数量
	*@return
	*
	*/
	__proto.getBezierPoints=function(pList,inSertCount,count){
		(inSertCount===void 0)&& (inSertCount=5);
		(count===void 0)&& (count=2);
		var i=0,len=0;
		len=pList.length;
		if (len < (count+1)*2)return [];
		var rst;
		rst=[];
		switch (count){
			case 2:
				this._calFun=this.getPoint2;
				break ;
			case 3:
				this._calFun=this.getPoint3;
				break ;
			default :
				return [];
			}
		while (this._controlPoints.length <=count){
			this._controlPoints.push(new Point());
		}
		for (i=0;i < count *2;i+=2){
			this._switchPoint(pList[i],pList[i+1]);
		}
		for (i=count *2;i < len;i+=2){
			this._switchPoint(pList[i],pList[i+1]);
			if ((i / 2)% count==0)
				this.insertPoints(inSertCount,rst);
		}
		return rst;
	}

	__static(Bezier,
	['I',function(){return this.I=new Bezier();}
	]);
	return Bezier;
})()


/**
*@private
*凸包算法。
*/
//class laya.maths.GrahamScan
var GrahamScan=(function(){
	function GrahamScan(){}
	__class(GrahamScan,'laya.maths.GrahamScan');
	GrahamScan.multiply=function(p1,p2,p0){
		return ((p1.x-p0.x)*(p2.y-p0.y)-(p2.x-p0.x)*(p1.y-p0.y));
	}

	GrahamScan.dis=function(p1,p2){
		return (p1.x-p2.x)*(p1.x-p2.x)+(p1.y-p2.y)*(p1.y-p2.y);
	}

	GrahamScan._getPoints=function(count,tempUse,rst){
		(tempUse===void 0)&& (tempUse=false);
		if (!GrahamScan._mPointList)GrahamScan._mPointList=[];
		while (GrahamScan._mPointList.length < count)GrahamScan._mPointList.push(new Point());
		if (!rst)rst=[];
		rst.length=0;
		if (tempUse){
			GrahamScan.getFrom(rst,GrahamScan._mPointList,count);
			}else {
			GrahamScan.getFromR(rst,GrahamScan._mPointList,count);
		}
		return rst;
	}

	GrahamScan.getFrom=function(rst,src,count){
		var i=0;
		for (i=0;i < count;i++){
			rst.push(src[i]);
		}
		return rst;
	}

	GrahamScan.getFromR=function(rst,src,count){
		var i=0;
		for (i=0;i < count;i++){
			rst.push(src.pop());
		}
		return rst;
	}

	GrahamScan.pListToPointList=function(pList,tempUse){
		(tempUse===void 0)&& (tempUse=false);
		var i=0,len=pList.length / 2,rst=GrahamScan._getPoints(len,tempUse,GrahamScan._tempPointList);
		for (i=0;i < len;i++){
			rst[i].setTo(pList[i+i],pList[i+i+1]);
		}
		return rst;
	}

	GrahamScan.pointListToPlist=function(pointList){
		var i=0,len=pointList.length,rst=GrahamScan._temPList,tPoint;
		rst.length=0;
		for (i=0;i < len;i++){
			tPoint=pointList[i];
			rst.push(tPoint.x,tPoint.y);
		}
		return rst;
	}

	GrahamScan.scanPList=function(pList){
		return Utils.copyArray(pList,GrahamScan.pointListToPlist(GrahamScan.scan(GrahamScan.pListToPointList(pList,true))));
	}

	GrahamScan.scan=function(PointSet){
		var i=0,j=0,k=0,top=2,tmp,n=PointSet.length,ch;
		var _tmpDic={};
		var key;
		ch=GrahamScan._temArr;
		ch.length=0;
		n=PointSet.length;
		for (i=n-1;i >=0;i--){
			tmp=PointSet[i];
			key=tmp.x+"_"+tmp.y;
			if (!_tmpDic.hasOwnProperty(key)){
				_tmpDic[key]=true;
				ch.push(tmp);
			}
		}
		n=ch.length;
		Utils.copyArray(PointSet,ch);
		for (i=1;i < n;i++)
		if ((PointSet[i].y < PointSet[k].y)|| ((PointSet[i].y==PointSet[k].y)&& (PointSet[i].x < PointSet[k].x)))
			k=i;
		tmp=PointSet[0];
		PointSet[0]=PointSet[k];
		PointSet[k]=tmp;
		for (i=1;i < n-1;i++){
			k=i;
			for (j=i+1;j < n;j++)
			if ((GrahamScan.multiply(PointSet[j],PointSet[k],PointSet[0])> 0)|| ((GrahamScan.multiply(PointSet[j],PointSet[k],PointSet[0])==0)&& (GrahamScan.dis(PointSet[0],PointSet[j])< GrahamScan.dis(PointSet[0],PointSet[k]))))
				k=j;
			tmp=PointSet[i];
			PointSet[i]=PointSet[k];
			PointSet[k]=tmp;
		}
		ch=GrahamScan._temArr;
		ch.length=0;
		if (PointSet.length < 3){
			return Utils.copyArray(ch,PointSet);
		}
		ch.push(PointSet[0],PointSet[1],PointSet[2]);
		for (i=3;i < n;i++){
			while (ch.length >=2 && GrahamScan.multiply(PointSet[i],ch[ch.length-1],ch[ch.length-2])>=0)ch.pop();
			PointSet[i] && ch.push(PointSet[i]);
		}
		return ch;
	}

	GrahamScan._mPointList=null;
	GrahamScan._tempPointList=[];
	GrahamScan._temPList=[];
	GrahamScan._temArr=[];
	return GrahamScan;
})()


/**
*@private
*<code>MathUtil</code> 是一个数据处理工具类。
*/
//class laya.maths.MathUtil
var MathUtil=(function(){
	function MathUtil(){}
	__class(MathUtil,'laya.maths.MathUtil');
	MathUtil.subtractVector3=function(l,r,o){
		o[0]=l[0]-r[0];
		o[1]=l[1]-r[1];
		o[2]=l[2]-r[2];
	}

	MathUtil.lerp=function(left,right,amount){
		return left *(1-amount)+right *amount;
	}

	MathUtil.scaleVector3=function(f,b,e){
		e[0]=f[0] *b;
		e[1]=f[1] *b;
		e[2]=f[2] *b;
	}

	MathUtil.lerpVector3=function(l,r,t,o){
		var ax=l[0],ay=l[1],az=l[2];
		o[0]=ax+t *(r[0]-ax);
		o[1]=ay+t *(r[1]-ay);
		o[2]=az+t *(r[2]-az);
	}

	MathUtil.lerpVector4=function(l,r,t,o){
		var ax=l[0],ay=l[1],az=l[2],aw=l[3];
		o[0]=ax+t *(r[0]-ax);
		o[1]=ay+t *(r[1]-ay);
		o[2]=az+t *(r[2]-az);
		o[3]=aw+t *(r[3]-aw);
	}

	MathUtil.slerpQuaternionArray=function(a,Offset1,b,Offset2,t,out,Offset3){
		var ax=a[Offset1+0],ay=a[Offset1+1],az=a[Offset1+2],aw=a[Offset1+3],bx=b[Offset2+0],by=b[Offset2+1],bz=b[Offset2+2],bw=b[Offset2+3];
		var omega,cosom,sinom,scale0,scale1;
		cosom=ax *bx+ay *by+az *bz+aw *bw;
		if (cosom < 0.0){
			cosom=-cosom;
			bx=-bx;
			by=-by;
			bz=-bz;
			bw=-bw;
		}
		if ((1.0-cosom)> 0.000001){
			omega=Math.acos(cosom);
			sinom=Math.sin(omega);
			scale0=Math.sin((1.0-t)*omega)/ sinom;
			scale1=Math.sin(t *omega)/ sinom;
			}else {
			scale0=1.0-t;
			scale1=t;
		}
		out[Offset3+0]=scale0 *ax+scale1 *bx;
		out[Offset3+1]=scale0 *ay+scale1 *by;
		out[Offset3+2]=scale0 *az+scale1 *bz;
		out[Offset3+3]=scale0 *aw+scale1 *bw;
		return out;
	}

	MathUtil.getRotation=function(x0,y0,x1,y1){
		return Math.atan2(y1-y0,x1-x0)/ Math.PI *180;
	}

	MathUtil.sortBigFirst=function(a,b){
		if (a==b)
			return 0;
		return b > a ? 1 :-1;
	}

	MathUtil.sortSmallFirst=function(a,b){
		if (a==b)
			return 0;
		return b > a ?-1 :1;
	}

	MathUtil.sortNumBigFirst=function(a,b){
		return parseFloat(b)-parseFloat(a);
	}

	MathUtil.sortNumSmallFirst=function(a,b){
		return parseFloat(a)-parseFloat(b);
	}

	MathUtil.sortByKey=function(key,bigFirst,forceNum){
		(bigFirst===void 0)&& (bigFirst=false);
		(forceNum===void 0)&& (forceNum=true);
		var _sortFun;
		if (bigFirst){
			_sortFun=forceNum ? MathUtil.sortNumBigFirst :MathUtil.sortBigFirst;
			}else {
			_sortFun=forceNum ? MathUtil.sortNumSmallFirst :MathUtil.sortSmallFirst;
		}
		return function (a,b){
			return _sortFun(a[key],b[key]);
		}
	}

	return MathUtil;
})()


/**
*<p> <code>Matrix</code> 类表示一个转换矩阵，它确定如何将点从一个坐标空间映射到另一个坐标空间。</p>
*<p>您可以对一个显示对象执行不同的图形转换，方法是设置 Matrix 对象的属性，将该 Matrix 对象应用于 Transform 对象的 matrix 属性，然后应用该 Transform 对象作为显示对象的 transform 属性。这些转换函数包括平移（x 和 y 重新定位）、旋转、缩放和倾斜。</p>
*/
//class laya.maths.Matrix
var Matrix=(function(){
	function Matrix(a,b,c,d,tx,ty){
		/**缩放或旋转图像时影响像素沿 x 轴定位的值。*/
		//this.a=NaN;
		/**旋转或倾斜图像时影响像素沿 y 轴定位的值。*/
		//this.b=NaN;
		/**旋转或倾斜图像时影响像素沿 x 轴定位的值。*/
		//this.c=NaN;
		/**缩放或旋转图像时影响像素沿 y 轴定位的值。*/
		//this.d=NaN;
		/**沿 x 轴平移每个点的距离。*/
		//this.tx=NaN;
		/**沿 y 轴平移每个点的距离。*/
		//this.ty=NaN;
		/**@private 表示此对象是否在对象池中。*/
		this.inPool=false;
		/**@private 是否有改变矩阵的值。*/
		this.bTransform=false;
		(a===void 0)&& (a=1);
		(b===void 0)&& (b=0);
		(c===void 0)&& (c=0);
		(d===void 0)&& (d=1);
		(tx===void 0)&& (tx=0);
		(ty===void 0)&& (ty=0);
		this.a=a;
		this.b=b;
		this.c=c;
		this.d=d;
		this.tx=tx;
		this.ty=ty;
		this._checkTransform();
	}

	__class(Matrix,'laya.maths.Matrix');
	var __proto=Matrix.prototype;
	/**
	*将本矩阵设置为单位矩阵。
	*@return 返回当前矩形。
	*/
	__proto.identity=function(){
		this.a=this.d=1;
		this.b=this.tx=this.ty=this.c=0;
		this.bTransform=false;
		return this;
	}

	/**@private */
	__proto._checkTransform=function(){
		return this.bTransform=(this.a!==1 || this.b!==0 || this.c!==0 || this.d!==1);
	}

	/**
	*设置沿 x 、y 轴平移每个点的距离。
	*@param x 沿 x 轴平移每个点的距离。
	*@param y 沿 y 轴平移每个点的距离。
	*@return 返回对象本身
	*/
	__proto.setTranslate=function(x,y){
		this.tx=x;
		this.ty=y;
		return this;
	}

	/**
	*沿 x 和 y 轴平移矩阵，平移的变化量由 x 和 y 参数指定。
	*@param x 沿 x 轴向右移动的量（以像素为单位）。
	*@param y 沿 y 轴向下移动的量（以像素为单位）。
	*@return 返回此矩形对象。
	*/
	__proto.translate=function(x,y){
		this.tx+=x;
		this.ty+=y;
		return this;
	}

	/**
	*对矩阵应用缩放转换。
	*@param x 用于沿 x 轴缩放对象的乘数。
	*@param y 用于沿 y 轴缩放对象的乘数。
	*/
	__proto.scale=function(x,y){
		this.a *=x;
		this.d *=y;
		this.c *=x;
		this.b *=y;
		this.tx *=x;
		this.ty *=y;
		this.bTransform=true;
	}

	/**
	*对 Matrix 对象应用旋转转换。
	*@param angle 以弧度为单位的旋转角度。
	*/
	__proto.rotate=function(angle){
		var cos=Math.cos(angle);
		var sin=Math.sin(angle);
		var a1=this.a;
		var c1=this.c;
		var tx1=this.tx;
		this.a=a1 *cos-this.b *sin;
		this.b=a1 *sin+this.b *cos;
		this.c=c1 *cos-this.d *sin;
		this.d=c1 *sin+this.d *cos;
		this.tx=tx1 *cos-this.ty *sin;
		this.ty=tx1 *sin+this.ty *cos;
		this.bTransform=true;
	}

	/**
	*对 Matrix 对象应用倾斜转换。
	*@param x 沿着 X 轴的 2D 倾斜弧度。
	*@param y 沿着 Y 轴的 2D 倾斜弧度。
	*@return 当前 Matrix 对象。
	*/
	__proto.skew=function(x,y){
		var tanX=Math.tan(x);
		var tanY=Math.tan(y);
		var a1=this.a;
		var b1=this.b;
		this.a+=tanY *this.c;
		this.b+=tanY *this.d;
		this.c+=tanX *a1;
		this.d+=tanX *b1;
		return this;
	}

	/**
	*对指定的点应用当前矩阵的逆转化并返回此点。
	*@param out 待转化的点 Point 对象。
	*@return 返回out
	*/
	__proto.invertTransformPoint=function(out){
		var a1=this.a;
		var b1=this.b;
		var c1=this.c;
		var d1=this.d;
		var tx1=this.tx;
		var n=a1 *d1-b1 *c1;
		var a2=d1 / n;
		var b2=-b1 / n;
		var c2=-c1 / n;
		var d2=a1 / n;
		var tx2=(c1 *this.ty-d1 *tx1)/ n;
		var ty2=-(a1 *this.ty-b1 *tx1)/ n;
		return out.setTo(a2 *out.x+c2 *out.y+tx2,b2 *out.x+d2 *out.y+ty2);
	}

	/**
	*将 Matrix 对象表示的几何转换应用于指定点。
	*@param out 用来设定输出结果的点。
	*@return 返回out
	*/
	__proto.transformPoint=function(out){
		return out.setTo(this.a *out.x+this.c *out.y+this.tx,this.b *out.x+this.d *out.y+this.ty);
	}

	/**
	*将 Matrix 对象表示的几何转换应用于指定点，忽略tx、ty。
	*@param out 用来设定输出结果的点。
	*@return 返回out
	*/
	__proto.transformPointN=function(out){
		return out.setTo(this.a *out.x+this.c *out.y ,this.b *out.x+this.d *out.y);
	}

	/**
	*@private
	*将 Matrix 对象表示的几何转换应用于指定点。
	*@param data 点集合。
	*@param out 存储应用转化的点的列表。
	*@return 返回out数组
	*/
	__proto.transformPointArray=function(data,out){
		var len=data.length;
		for (var i=0;i < len;i+=2){
			var x=data[i],y=data[i+1];
			out[i]=this.a *x+this.c *y+this.tx;
			out[i+1]=this.b *x+this.d *y+this.ty;
		}
		return out;
	}

	/**
	*@private
	*将 Matrix 对象表示的几何缩放转换应用于指定点。
	*@param data 点集合。
	*@param out 存储应用转化的点的列表。
	*@return 返回out数组
	*/
	__proto.transformPointArrayScale=function(data,out){
		var len=data.length;
		for (var i=0;i < len;i+=2){
			var x=data[i],y=data[i+1];
			out[i]=this.a *x+this.c *y;
			out[i+1]=this.b *x+this.d *y;
		}
		return out;
	}

	/**
	*获取 X 轴缩放值。
	*@return X 轴缩放值。
	*/
	__proto.getScaleX=function(){
		return this.b===0 ? this.a :Math.sqrt(this.a *this.a+this.b *this.b);
	}

	/**
	*获取 Y 轴缩放值。
	*@return Y 轴缩放值。
	*/
	__proto.getScaleY=function(){
		return this.c===0 ? this.d :Math.sqrt(this.c *this.c+this.d *this.d);
	}

	/**
	*执行原始矩阵的逆转换。
	*@return 当前矩阵对象。
	*/
	__proto.invert=function(){
		var a1=this.a;
		var b1=this.b;
		var c1=this.c;
		var d1=this.d;
		var tx1=this.tx;
		var n=a1 *d1-b1 *c1;
		this.a=d1 / n;
		this.b=-b1 / n;
		this.c=-c1 / n;
		this.d=a1 / n;
		this.tx=(c1 *this.ty-d1 *tx1)/ n;
		this.ty=-(a1 *this.ty-b1 *tx1)/ n;
		return this;
	}

	/**
	*将 Matrix 的成员设置为指定值。
	*@param a 缩放或旋转图像时影响像素沿 x 轴定位的值。
	*@param b 旋转或倾斜图像时影响像素沿 y 轴定位的值。
	*@param c 旋转或倾斜图像时影响像素沿 x 轴定位的值。
	*@param d 缩放或旋转图像时影响像素沿 y 轴定位的值。
	*@param tx 沿 x 轴平移每个点的距离。
	*@param ty 沿 y 轴平移每个点的距离。
	*@return 当前矩阵对象。
	*/
	__proto.setTo=function(a,b,c,d,tx,ty){
		this.a=a,this.b=b,this.c=c,this.d=d,this.tx=tx,this.ty=ty;
		return this;
	}

	/**
	*将指定矩阵与当前矩阵连接，从而将这两个矩阵的几何效果有效地结合在一起。
	*@param matrix 要连接到源矩阵的矩阵。
	*@return 当前矩阵。
	*/
	__proto.concat=function(matrix){
		var a=this.a;
		var c=this.c;
		var tx=this.tx;
		this.a=a *matrix.a+this.b *matrix.c;
		this.b=a *matrix.b+this.b *matrix.d;
		this.c=c *matrix.a+this.d *matrix.c;
		this.d=c *matrix.b+this.d *matrix.d;
		this.tx=tx *matrix.a+this.ty *matrix.c+matrix.tx;
		this.ty=tx *matrix.b+this.ty *matrix.d+matrix.ty;
		return this;
	}

	/**
	*@private
	*对矩阵应用缩放转换。反向相乘
	*@param x 用于沿 x 轴缩放对象的乘数。
	*@param y 用于沿 y 轴缩放对象的乘数。
	*/
	__proto.scaleEx=function(x,y){
		var ba=this.a,bb=this.b,bc=this.c,bd=this.d;
		if (bb!==0 || bc!==0){
			this.a=x *ba;
			this.b=x *bb;
			this.c=y *bc;
			this.d=y *bd;
			}else {
			this.a=x *ba;
			this.b=0 *bd;
			this.c=0 *ba;
			this.d=y *bd;
		}
		this.bTransform=true;
	}

	/**
	*@private
	*对 Matrix 对象应用旋转转换。反向相乘
	*@param angle 以弧度为单位的旋转角度。
	*/
	__proto.rotateEx=function(angle){
		var cos=Math.cos(angle);
		var sin=Math.sin(angle);
		var ba=this.a,bb=this.b,bc=this.c,bd=this.d;
		if (bb!==0 || bc!==0){
			this.a=cos *ba+sin *bc;
			this.b=cos *bb+sin *bd;
			this.c=-sin *ba+cos *bc;
			this.d=-sin *bb+cos *bd;
			}else {
			this.a=cos *ba;
			this.b=sin *bd;
			this.c=-sin *ba;
			this.d=cos *bd;
		}
		this.bTransform=true;
	}

	/**
	*返回此 Matrix 对象的副本。
	*@return 与原始实例具有完全相同的属性的新 Matrix 实例。
	*/
	__proto.clone=function(){
		var dec=Matrix.create();
		dec.a=this.a;
		dec.b=this.b;
		dec.c=this.c;
		dec.d=this.d;
		dec.tx=this.tx;
		dec.ty=this.ty;
		dec.bTransform=this.bTransform;
		return dec;
	}

	/**
	*将当前 Matrix 对象中的所有矩阵数据复制到指定的 Matrix 对象中。
	*@param dec 要复制当前矩阵数据的 Matrix 对象。
	*@return 已复制当前矩阵数据的 Matrix 对象。
	*/
	__proto.copyTo=function(dec){
		dec.a=this.a;
		dec.b=this.b;
		dec.c=this.c;
		dec.d=this.d;
		dec.tx=this.tx;
		dec.ty=this.ty;
		dec.bTransform=this.bTransform;
		return dec;
	}

	/**
	*返回列出该 Matrix 对象属性的文本值。
	*@return 一个字符串，它包含 Matrix 对象的属性值：a、b、c、d、tx 和 ty。
	*/
	__proto.toString=function(){
		return this.a+","+this.b+","+this.c+","+this.d+","+this.tx+","+this.ty;
	}

	/**
	*销毁此对象。
	*/
	__proto.destroy=function(){
		if (this.inPool)return;
		var cache=Matrix._cache;
		this.inPool=true;
		cache._length || (cache._length=0);
		cache[cache._length++]=this;
		this.a=this.d=1;
		this.b=this.c=this.tx=this.ty=0;
		this.bTransform=false;
	}

	Matrix.mul=function(m1,m2,out){
		var aa=m1.a,ab=m1.b,ac=m1.c,ad=m1.d,atx=m1.tx,aty=m1.ty;
		var ba=m2.a,bb=m2.b,bc=m2.c,bd=m2.d,btx=m2.tx,bty=m2.ty;
		if (bb!==0 || bc!==0){
			out.a=aa *ba+ab *bc;
			out.b=aa *bb+ab *bd;
			out.c=ac *ba+ad *bc;
			out.d=ac *bb+ad *bd;
			out.tx=ba *atx+bc *aty+btx;
			out.ty=bb *atx+bd *aty+bty;
			}else {
			out.a=aa *ba;
			out.b=ab *bd;
			out.c=ac *ba;
			out.d=ad *bd;
			out.tx=ba *atx+btx;
			out.ty=bd *aty+bty;
		}
		return out;
	}

	Matrix.mul16=function(m1,m2,out){
		var aa=m1.a,ab=m1.b,ac=m1.c,ad=m1.d,atx=m1.tx,aty=m1.ty;
		var ba=m2.a,bb=m2.b,bc=m2.c,bd=m2.d,btx=m2.tx,bty=m2.ty;
		if (bb!==0 || bc!==0){
			out[0]=aa *ba+ab *bc;
			out[1]=aa *bb+ab *bd;
			out[4]=ac *ba+ad *bc;
			out[5]=ac *bb+ad *bd;
			out[12]=ba *atx+bc *aty+btx;
			out[13]=bb *atx+bd *aty+bty;
			}else {
			out[0]=aa *ba;
			out[1]=ab *bd;
			out[4]=ac *ba;
			out[5]=ad *bd;
			out[12]=ba *atx+btx;
			out[13]=bd *aty+bty;
		}
		return out;
	}

	Matrix.mulPre=function(m1,ba,bb,bc,bd,btx,bty,out){
		var aa=m1.a,ab=m1.b,ac=m1.c,ad=m1.d,atx=m1.tx,aty=m1.ty;
		if (bb!==0 || bc!==0){
			out.a=aa *ba+ab *bc;
			out.b=aa *bb+ab *bd;
			out.c=ac *ba+ad *bc;
			out.d=ac *bb+ad *bd;
			out.tx=ba *atx+bc *aty+btx;
			out.ty=bb *atx+bd *aty+bty;
			}else {
			out.a=aa *ba;
			out.b=ab *bd;
			out.c=ac *ba;
			out.d=ad *bd;
			out.tx=ba *atx+btx;
			out.ty=bd *aty+bty;
		}
		return out;
	}

	Matrix.mulPos=function(m1,aa,ab,ac,ad,atx,aty,out){
		var ba=m1.a,bb=m1.b,bc=m1.c,bd=m1.d,btx=m1.tx,bty=m1.ty;
		if (bb!==0 || bc!==0){
			out.a=aa *ba+ab *bc;
			out.b=aa *bb+ab *bd;
			out.c=ac *ba+ad *bc;
			out.d=ac *bb+ad *bd;
			out.tx=ba *atx+bc *aty+btx;
			out.ty=bb *atx+bd *aty+bty;
			}else {
			out.a=aa *ba;
			out.b=ab *bd;
			out.c=ac *ba;
			out.d=ad *bd;
			out.tx=ba *atx+btx;
			out.ty=bd *aty+bty;
		}
		return out;
	}

	Matrix.preMul=function(parent,self,out){
		var pa=parent.a,pb=parent.b,pc=parent.c,pd=parent.d;
		var na=self.a,nb=self.b,nc=self.c,nd=self.d,ntx=self.tx,nty=self.ty;
		out.a=na *pa;
		out.b=out.c=0;
		out.d=nd *pd;
		out.tx=ntx *pa+parent.tx;
		out.ty=nty *pd+parent.ty;
		if (nb!==0 || nc!==0 || pb!==0 || pc!==0){
			out.a+=nb *pc;
			out.d+=nc *pb;
			out.b+=na *pb+nb *pd;
			out.c+=nc *pa+nd *pc;
			out.tx+=nty *pc;
			out.ty+=ntx *pb;
		}
		return out;
	}

	Matrix.preMulXY=function(parent,x,y,out){
		var pa=parent.a,pb=parent.b,pc=parent.c,pd=parent.d;
		out.a=pa;
		out.b=pb;
		out.c=pc;
		out.d=pd;
		out.tx=x *pa+parent.tx+y *pc;
		out.ty=y *pd+parent.ty+x *pb;
		return out;
	}

	Matrix.create=function(){
		var cache=Matrix._cache;
		var mat=!cache._length ? (new Matrix()):cache[--cache._length];
		mat.inPool=false;
		return mat;
	}

	Matrix._cache=[];
	__static(Matrix,
	['EMPTY',function(){return this.EMPTY=new Matrix();},'TEMP',function(){return this.TEMP=new Matrix();}
	]);
	return Matrix;
})()


/**
*<code>Point</code> 对象表示二维坐标系统中的某个位置，其中 x 表示水平轴，y 表示垂直轴。
*/
//class laya.maths.Point
var Point=(function(){
	function Point(x,y){
		/**该点的水平坐标。*/
		//this.x=NaN;
		/**该点的垂直坐标。*/
		//this.y=NaN;
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		this.x=x;
		this.y=y;
	}

	__class(Point,'laya.maths.Point');
	var __proto=Point.prototype;
	/**
	*将 <code>Point</code> 的成员设置为指定值。
	*@param x 水平坐标。
	*@param y 垂直坐标。
	*@return 当前 Point 对象。
	*/
	__proto.setTo=function(x,y){
		this.x=x;
		this.y=y;
		return this;
	}

	/**
	*计算当前点和目标点(x，y)的距离。
	*@param x 水平坐标。
	*@param y 垂直坐标。
	*@return 返回当前点和目标点之间的距离。
	*/
	__proto.distance=function(x,y){
		return Math.sqrt((this.x-x)*(this.x-x)+(this.y-y)*(this.y-y));
	}

	/**返回包含 x 和 y 坐标的值的字符串。*/
	__proto.toString=function(){
		return this.x+","+this.y;
	}

	/**
	*标准化向量。
	*/
	__proto.normalize=function(){
		var d=Math.sqrt(this.x *this.x+this.y *this.y);
		if (d > 0){
			var id=1.0 / d;
			this.x *=id;
			this.y *=id;
		}
	}

	__static(Point,
	['TEMP',function(){return this.TEMP=new Point();},'EMPTY',function(){return this.EMPTY=new Point();}
	]);
	return Point;
})()


/**
*<p><code>Rectangle</code> 对象是按其位置（由它左上角的点 (x,y)确定）以及宽度和高度定义的区域。</p>
*<p>Rectangle 类的 x、y、width 和 height 属性相互独立；更改一个属性的值不会影响其他属性。</p>
*/
//class laya.maths.Rectangle
var Rectangle=(function(){
	function Rectangle(x,y,width,height){
		/**矩形左上角的 X 轴坐标。*/
		//this.x=NaN;
		/**矩形左上角的 Y 轴坐标。*/
		//this.y=NaN;
		/**矩形的宽度。*/
		//this.width=NaN;
		/**矩形的高度。*/
		//this.height=NaN;
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		this.x=x;
		this.y=y;
		this.width=width;
		this.height=height;
	}

	__class(Rectangle,'laya.maths.Rectangle');
	var __proto=Rectangle.prototype;
	/**
	*将 Rectangle 的属性设置为指定值。
	*@param x x 矩形左上角的 X 轴坐标。
	*@param y x 矩形左上角的 Y 轴坐标。
	*@param width 矩形的宽度。
	*@param height 矩形的高。
	*@return 返回属性值修改后的矩形对象本身。
	*/
	__proto.setTo=function(x,y,width,height){
		this.x=x;
		this.y=y;
		this.width=width;
		this.height=height;
		return this;
	}

	/**
	*复制 source 对象的属性值到此矩形对象中。
	*@param sourceRect 源 Rectangle 对象。
	*@return 返回属性值修改后的矩形对象本身。
	*/
	__proto.copyFrom=function(source){
		this.x=source.x;
		this.y=source.y;
		this.width=source.width;
		this.height=source.height;
		return this;
	}

	/**
	*确定由此 Rectangle 对象定义的矩形区域内是否包含指定的点。
	*@param x 点的 X 轴坐标值（水平位置）。
	*@param y 点的 Y 轴坐标值（垂直位置）。
	*@return 如果 Rectangle 对象包含指定的点，则值为 true；否则为 false。
	*/
	__proto.contains=function(x,y){
		if (this.width <=0 || this.height <=0)return false;
		if (x >=this.x && x < this.right){
			if (y >=this.y && y < this.bottom){
				return true;
			}
		}
		return false;
	}

	/**
	*确定在 rect 参数中指定的对象是否与此 Rectangle 对象相交。此方法检查指定的 Rectangle 对象的 x、y、width 和 height 属性，以查看它是否与此 Rectangle 对象相交。
	*@param rect Rectangle 对象。
	*@return 如果传入的矩形对象与此对象相交，则返回 true 值，否则返回 false。
	*/
	__proto.intersects=function(rect){
		return !(rect.x > (this.x+this.width)|| (rect.x+rect.width)< this.x || rect.y > (this.y+this.height)|| (rect.y+rect.height)< this.y);
	}

	/**
	*如果在 rect 参数中指定的 Rectangle 对象与此 Rectangle 对象相交，则返回交集区域作为 Rectangle 对象。如果矩形不相交，则此方法返回null。
	*@param rect 待比较的矩形区域。
	*@param out （可选）待输出的矩形区域。如果为空则创建一个新的。建议：尽量复用对象，减少对象创建消耗。
	*@return 返回相交的矩形区域对象。
	*/
	__proto.intersection=function(rect,out){
		if (!this.intersects(rect))return null;
		out || (out=new Rectangle());
		out.x=Math.max(this.x,rect.x);
		out.y=Math.max(this.y,rect.y);
		out.width=Math.min(this.right,rect.right)-out.x;
		out.height=Math.min(this.bottom,rect.bottom)-out.y;
		return out;
	}

	/**
	*<p>矩形联合，通过填充两个矩形之间的水平和垂直空间，将这两个矩形组合在一起以创建一个新的 Rectangle 对象。</p>
	*<p>注意：union()方法忽略高度或宽度值为 0 的矩形，如：var rect2:Rectangle=new Rectangle(300,300,50,0);</p>
	*@param 要添加到此 Rectangle 对象的 Rectangle 对象。
	*@param out 用于存储输出结果的矩形对象。如果为空，则创建一个新的。建议：尽量复用对象，减少对象创建消耗。Rectangle.TEMP对象用于对象复用。
	*@return 充当两个矩形的联合的新 Rectangle 对象。
	*/
	__proto.union=function(source,out){
		out || (out=new Rectangle());
		this.clone(out);
		if (source.width <=0 || source.height <=0)return out;
		out.addPoint(source.x,source.y);
		out.addPoint(source.right,source.bottom);
		return this;
	}

	/**
	*返回一个 Rectangle 对象，其 x、y、width 和 height 属性的值与当前 Rectangle 对象的对应值相同。
	*@param out （可选）用于存储结果的矩形对象。如果为空，则创建一个新的。建议：尽量复用对象，减少对象创建消耗。。Rectangle.TEMP对象用于对象复用。
	*@return Rectangle 对象，其 x、y、width 和 height 属性的值与当前 Rectangle 对象的对应值相同。
	*/
	__proto.clone=function(out){
		out || (out=new Rectangle());
		out.x=this.x;
		out.y=this.y;
		out.width=this.width;
		out.height=this.height;
		return out;
	}

	/**
	*当前 Rectangle 对象的水平位置 x 和垂直位置 y 以及高度 width 和宽度 height 以逗号连接成的字符串。
	*/
	__proto.toString=function(){
		return this.x+","+this.y+","+this.width+","+this.height;
	}

	/**
	*检测传入的 Rectangle 对象的属性是否与当前 Rectangle 对象的属性 x、y、width、height 属性值都相等。
	*@param rect 待比较的 Rectangle 对象。
	*@return 如果判断的属性都相等，则返回 true ,否则返回 false。
	*/
	__proto.equals=function(rect){
		if (!rect || rect.x!==this.x || rect.y!==this.y || rect.width!==this.width || rect.height!==this.height)return false;
		return true;
	}

	/**
	*<p>为当前矩形对象加一个点，以使当前矩形扩展为包含当前矩形和此点的最小矩形。</p>
	*<p>此方法会修改本对象。</p>
	*@param x 点的 X 坐标。
	*@param y 点的 Y 坐标。
	*@return 返回此 Rectangle 对象。
	*/
	__proto.addPoint=function(x,y){
		this.x > x && (this.width+=this.x-x,this.x=x);
		this.y > y && (this.height+=this.y-y,this.y=y);
		if (this.width < x-this.x)this.width=x-this.x;
		if (this.height < y-this.y)this.height=y-this.y;
		return this;
	}

	/**
	*@private
	*返回代表当前矩形的顶点数据。
	*@return 顶点数据。
	*/
	__proto._getBoundPoints=function(){
		var rst=Rectangle._temB;
		rst.length=0;
		if (this.width==0 || this.height==0)return rst;
		rst.push(this.x,this.y,this.x+this.width,this.y,this.x,this.y+this.height,this.x+this.width,this.y+this.height);
		return rst;
	}

	/**
	*确定此 Rectangle 对象是否为空。
	*@return 如果 Rectangle 对象的宽度或高度小于等于 0，则返回 true 值，否则返回 false。
	*/
	__proto.isEmpty=function(){
		if (this.width <=0 || this.height <=0)return true;
		return false;
	}

	/**此矩形右侧的 X 轴坐标。 x 和 width 属性的和。*/
	__getset(0,__proto,'right',function(){
		return this.x+this.width;
	});

	/**此矩形底端的 Y 轴坐标。y 和 height 属性的和。*/
	__getset(0,__proto,'bottom',function(){
		return this.y+this.height;
	});

	Rectangle._getBoundPointS=function(x,y,width,height){
		var rst=Rectangle._temA;
		rst.length=0;
		if (width==0 || height==0)return rst;
		rst.push(x,y,x+width,y,x,y+height,x+width,y+height);
		return rst;
	}

	Rectangle._getWrapRec=function(pointList,rst){
		if (!pointList || pointList.length < 1)return rst ? rst.setTo(0,0,0,0):Rectangle.TEMP.setTo(0,0,0,0);
		rst=rst ? rst :new Rectangle();
		var i,len=pointList.length,minX,maxX,minY,maxY,tPoint=Point.TEMP;
		minX=minY=99999;
		maxX=maxY=-minX;
		for (i=0;i < len;i+=2){
			tPoint.x=pointList[i];
			tPoint.y=pointList[i+1];
			minX=minX < tPoint.x ? minX :tPoint.x;
			minY=minY < tPoint.y ? minY :tPoint.y;
			maxX=maxX > tPoint.x ? maxX :tPoint.x;
			maxY=maxY > tPoint.y ? maxY :tPoint.y;
		}
		return rst.setTo(minX,minY,maxX-minX,maxY-minY);
	}

	Rectangle._temB=[];
	Rectangle._temA=[];
	__static(Rectangle,
	['EMPTY',function(){return this.EMPTY=new Rectangle();},'TEMP',function(){return this.TEMP=new Rectangle();}
	]);
	return Rectangle;
})()


/**
*<code>SoundManager</code> 是一个声音管理类。提供了对背景音乐、音效的播放控制方法。
*引擎默认有两套声音方案：WebAudio和H5Audio
*播放音效，优先使用WebAudio播放声音，如果WebAudio不可用，则用H5Audio播放，H5Audio在部分机器上有兼容问题（比如不能混音，播放有延迟等）。
*播放背景音乐，则使用H5Audio播放（使用WebAudio会增加特别大的内存，并且要等加载完毕后才能播放，有延迟）
*建议背景音乐用mp3类型，音效用wav或者mp3类型（如果打包为app，音效只能用wav格式）。
*详细教程及声音格式请参考：http://ldc.layabox.com/doc/?nav=ch-as-1-7-0
*/
//class laya.media.SoundManager
var SoundManager=(function(){
	function SoundManager(){}
	__class(SoundManager,'laya.media.SoundManager');
	__getset(1,SoundManager,'useAudioMusic',function(){
		return SoundManager._useAudioMusic;
		},function(value){
		SoundManager._useAudioMusic=value;
		if (value)SoundManager._musicClass=AudioSound;
	});

	/**
	*失去焦点后是否自动停止背景音乐。
	*@param v Boolean 失去焦点后是否自动停止背景音乐。
	*
	*/
	/**
	*失去焦点后是否自动停止背景音乐。
	*/
	__getset(1,SoundManager,'autoStopMusic',function(){
		return SoundManager._autoStopMusic;
		},function(v){
		Laya.stage.off(/*laya.events.Event.BLUR*/"blur",null,SoundManager._stageOnBlur);
		Laya.stage.off(/*laya.events.Event.FOCUS*/"focus",null,SoundManager._stageOnFocus);
		Laya.stage.off(/*laya.events.Event.VISIBILITY_CHANGE*/"visibilitychange",null,SoundManager._visibilityChange);
		SoundManager._autoStopMusic=v;
		if (v){
			Laya.stage.on(/*laya.events.Event.BLUR*/"blur",null,SoundManager._stageOnBlur);
			Laya.stage.on(/*laya.events.Event.FOCUS*/"focus",null,SoundManager._stageOnFocus);
			Laya.stage.on(/*laya.events.Event.VISIBILITY_CHANGE*/"visibilitychange",null,SoundManager._visibilityChange);
		}
	});

	/**
	*背景音乐和所有音效是否静音。
	*/
	__getset(1,SoundManager,'muted',function(){
		return SoundManager._muted;
		},function(value){
		if (value){
			SoundManager.stopAllSound();
		}
		SoundManager.musicMuted=value;
		SoundManager._muted=value;
	});

	/**
	*背景音乐（不包括音效）是否静音。
	*/
	__getset(1,SoundManager,'musicMuted',function(){
		return SoundManager._musicMuted;
		},function(value){
		if (value){
			if (SoundManager._tMusic)
				SoundManager.stopSound(SoundManager._tMusic);
			SoundManager._musicMuted=value;
			}else {
			SoundManager._musicMuted=value;
			if (SoundManager._tMusic){
				SoundManager.playMusic(SoundManager._tMusic);
			}
		}
	});

	/**
	*所有音效（不包括背景音乐）是否静音。
	*/
	__getset(1,SoundManager,'soundMuted',function(){
		return SoundManager._soundMuted;
		},function(value){
		SoundManager._soundMuted=value;
	});

	SoundManager.addChannel=function(channel){
		if (SoundManager._channels.indexOf(channel)>=0)return;
		SoundManager._channels.push(channel);
	}

	SoundManager.removeChannel=function(channel){
		var i=0;
		for (i=SoundManager._channels.length-1;i >=0;i--){
			if (SoundManager._channels[i]==channel){
				SoundManager._channels.splice(i,1);
			}
		}
	}

	SoundManager.disposeSoundIfNotUsed=function(url){
		var i=0;
		for (i=SoundManager._channels.length-1;i >=0;i--){
			if (SoundManager._channels[i].url==url){
				return;
			}
		}
		SoundManager.destroySound(url);
	}

	SoundManager._visibilityChange=function(){
		if (Laya.stage.isVisibility){
			SoundManager._stageOnFocus();
			}else {
			SoundManager._stageOnBlur();
		}
	}

	SoundManager._stageOnBlur=function(){
		SoundManager._isActive=false;
		if (SoundManager._musicChannel){
			if (!SoundManager._musicChannel.isStopped){
				SoundManager._blurPaused=true;
				SoundManager._musicLoops=SoundManager._musicChannel.loops;
				SoundManager._musicCompleteHandler=SoundManager._musicChannel.completeHandler;
				SoundManager._musicPosition=SoundManager._musicChannel.position;
				SoundManager._musicChannel.stop();
				Laya.stage.once(/*laya.events.Event.MOUSE_DOWN*/"mousedown",null,SoundManager._stageOnFocus);
			}
		}
		SoundManager.stopAllSound();
	}

	SoundManager._stageOnFocus=function(){
		SoundManager._isActive=true;
		Laya.stage.off(/*laya.events.Event.MOUSE_DOWN*/"mousedown",null,SoundManager._stageOnFocus);
		if (SoundManager._blurPaused){
			if (SoundManager._tMusic){
				SoundManager.playMusic(SoundManager._tMusic,SoundManager._musicLoops,SoundManager._musicCompleteHandler,SoundManager._musicPosition);
			}
			SoundManager._blurPaused=false;
		}
	}

	SoundManager.playSound=function(url,loops,complete,soundClass,startTime){
		(loops===void 0)&& (loops=1);
		(startTime===void 0)&& (startTime=0);
		if (!SoundManager._isActive || !url)return null;
		if (SoundManager._muted)return null;
		url=URL.formatURL(url);
		if (url==SoundManager._tMusic){
			if (SoundManager._musicMuted)return null;
			}else {
			if (Render.isConchApp){
				var ext=Utils.getFileExtension(url);
				if (ext !="wav" && ext !="ogg"){
					alert("The sound only supports wav or ogg format,for optimal performance reason,please refer to the official website document.");
					return null;
				}
			}
			if (SoundManager._soundMuted)return null;
		};
		var tSound=Laya.loader.getRes(url);
		if (!soundClass)soundClass=SoundManager._soundClass;
		if (!tSound){
			tSound=new soundClass();
			tSound.load(url);
			Loader.cacheRes(url,tSound);
		};
		var channel;
		channel=tSound.play(startTime,loops);
		if (!channel)return null;
		channel.url=url;
		channel.volume=(url==SoundManager._tMusic)? SoundManager.musicVolume :SoundManager.soundVolume;
		channel.completeHandler=complete;
		return channel;
	}

	SoundManager.destroySound=function(url){
		var tSound=Laya.loader.getRes(url);
		if (tSound){
			Loader.clearRes(url);
			tSound.dispose();
		}
	}

	SoundManager.playMusic=function(url,loops,complete,startTime){
		(loops===void 0)&& (loops=0);
		(startTime===void 0)&& (startTime=0);
		url=URL.formatURL(url);
		SoundManager._tMusic=url;
		if (SoundManager._musicChannel)SoundManager._musicChannel.stop();
		return SoundManager._musicChannel=SoundManager.playSound(url,loops,complete,SoundManager._musicClass,startTime);
	}

	SoundManager.stopSound=function(url){
		url=URL.formatURL(url);
		var i=0;
		var channel;
		for (i=SoundManager._channels.length-1;i >=0;i--){
			channel=SoundManager._channels[i];
			if (channel.url==url){
				channel.stop();
			}
		}
	}

	SoundManager.stopAll=function(){
		SoundManager._tMusic=null;
		var i=0;
		var channel;
		for (i=SoundManager._channels.length-1;i >=0;i--){
			channel=SoundManager._channels[i];
			channel.stop();
		}
	}

	SoundManager.stopAllSound=function(){
		var i=0;
		var channel;
		for (i=SoundManager._channels.length-1;i >=0;i--){
			channel=SoundManager._channels[i];
			if (channel.url !=SoundManager._tMusic){
				channel.stop();
			}
		}
	}

	SoundManager.stopMusic=function(){
		if (SoundManager._musicChannel)SoundManager._musicChannel.stop();
		SoundManager._tMusic=null;
	}

	SoundManager.setSoundVolume=function(volume,url){
		if (url){
			url=URL.formatURL(url);
			SoundManager._setVolume(url,volume);
			}else {
			SoundManager.soundVolume=volume;
			var i=0;
			var channel;
			for (i=SoundManager._channels.length-1;i >=0;i--){
				channel=SoundManager._channels[i];
				if (channel.url !=SoundManager._tMusic){
					channel.volume=volume;
				}
			}
		}
	}

	SoundManager.setMusicVolume=function(volume){
		SoundManager.musicVolume=volume;
		SoundManager._setVolume(SoundManager._tMusic,volume);
	}

	SoundManager._setVolume=function(url,volume){
		url=URL.formatURL(url);
		var i=0;
		var channel;
		for (i=SoundManager._channels.length-1;i >=0;i--){
			channel=SoundManager._channels[i];
			if (channel.url==url){
				channel.volume=volume;
			}
		}
	}

	SoundManager.musicVolume=1;
	SoundManager.soundVolume=1;
	SoundManager.playbackRate=1;
	SoundManager._useAudioMusic=true;
	SoundManager._muted=false;
	SoundManager._soundMuted=false;
	SoundManager._musicMuted=false;
	SoundManager._tMusic=null;
	SoundManager._musicChannel=null;
	SoundManager._channels=[];
	SoundManager._autoStopMusic=false;
	SoundManager._blurPaused=false;
	SoundManager._isActive=true;
	SoundManager._musicLoops=0;
	SoundManager._musicPosition=0;
	SoundManager._musicCompleteHandler=null;
	SoundManager._soundClass=null;
	SoundManager._musicClass=null;
	SoundManager.autoReleaseSound=true;
	return SoundManager;
})()


/**
*<p> <code>LocalStorage</code> 类用于没有时间限制的数据存储。</p>
*/
//class laya.net.LocalStorage
var LocalStorage=(function(){
	var Storage;
	function LocalStorage(){}
	__class(LocalStorage,'laya.net.LocalStorage');
	LocalStorage.__init__=function(){
		if (!LocalStorage._baseClass){
			LocalStorage._baseClass=Storage;
			Storage.init();
		}
		LocalStorage.items=LocalStorage._baseClass.items;
		LocalStorage.support=LocalStorage._baseClass.support;
	}

	LocalStorage.setItem=function(key,value){
		LocalStorage._baseClass.setItem(key,value);
	}

	LocalStorage.getItem=function(key){
		return LocalStorage._baseClass.getItem(key);
	}

	LocalStorage.setJSON=function(key,value){
		LocalStorage._baseClass.setJSON(key,value);
	}

	LocalStorage.getJSON=function(key){
		return LocalStorage._baseClass.getJSON(key);
	}

	LocalStorage.removeItem=function(key){
		LocalStorage._baseClass.removeItem(key);
	}

	LocalStorage.clear=function(){
		LocalStorage._baseClass.clear();
	}

	LocalStorage._baseClass=null;
	LocalStorage.items=null;
	LocalStorage.support=false;
	LocalStorage.__init$=function(){
		//class Storage
		Storage=(function(){
			function Storage(){}
			__class(Storage,'');
			Storage.init=function(){
				/*__JS__ */try{Storage.items=window.localStorage;Storage.setItem('laya','1');Storage.removeItem('laya');Storage.support=true;}catch(e){}if(!Storage.support)console.log('LocalStorage is not supprot or browser is private mode.');
			}
			Storage.setItem=function(key,value){
				try {
					Storage.support && Storage.items.setItem(key,value);
					}catch (e){
					console.warn("set localStorage failed",e);
				}
			}
			Storage.getItem=function(key){
				return Storage.support ? Storage.items.getItem(key):null;
			}
			Storage.setJSON=function(key,value){
				try {
					Storage.support && Storage.items.setItem(key,JSON.stringify(value));
					}catch (e){
					console.warn("set localStorage failed",e);
				}
			}
			Storage.getJSON=function(key){
				return JSON.parse(Storage.support ? Storage.items.getItem(key):null);
			}
			Storage.removeItem=function(key){
				Storage.support && Storage.items.removeItem(key);
			}
			Storage.clear=function(){
				Storage.support && Storage.items.clear();
			}
			Storage.items=null;
			Storage.support=false;
			return Storage;
		})()
	}

	return LocalStorage;
})()


/**
*<p>资源版本的生成由layacmd或IDE完成，使用 <code>ResourceVersion</code> 简化使用过程。</p>
*<p>调用 <code>enable</code> 启用资源版本管理。</p>
*/
//class laya.net.ResourceVersion
var ResourceVersion=(function(){
	function ResourceVersion(){}
	__class(ResourceVersion,'laya.net.ResourceVersion');
	ResourceVersion.enable=function(manifestFile,callback,type){
		(type===void 0)&& (type=2);
		laya.net.ResourceVersion.type=type;
		Laya.loader.load(manifestFile,Handler.create(null,ResourceVersion.onManifestLoaded,[callback]),null,/*laya.net.Loader.JSON*/"json");
		URL.customFormat=ResourceVersion.addVersionPrefix;
	}

	ResourceVersion.onManifestLoaded=function(callback,data){
		ResourceVersion.manifest=data;
		callback.run();
		if (!data){
			console.warn("资源版本清单文件不存在，不使用资源版本管理。忽略ERR_FILE_NOT_FOUND错误。");
		}
	}

	ResourceVersion.addVersionPrefix=function(originURL){
		if (ResourceVersion.manifest && ResourceVersion.manifest[originURL]){
			if (ResourceVersion.type==2)return ResourceVersion.manifest[originURL];
			return ResourceVersion.manifest[originURL]+"/"+originURL;
		}
		return originURL;
	}

	ResourceVersion.FOLDER_VERSION=1;
	ResourceVersion.FILENAME_VERSION=2;
	ResourceVersion.manifest=null;
	ResourceVersion.type=1;
	return ResourceVersion;
})()


/**
*@private
*/
//class laya.net.TTFLoader
var TTFLoader=(function(){
	function TTFLoader(){
		this.fontName=null;
		this.complete=null;
		this._fontTxt=null;
		this._url=null;
		this._div=null;
		this._txtWidth=NaN;
	}

	__class(TTFLoader,'laya.net.TTFLoader');
	var __proto=TTFLoader.prototype;
	__proto.load=function(fontPath){
		this._url=fontPath;
		var tArr=fontPath.split(".ttf")[0].split("/");
		this.fontName=tArr[tArr.length-1];
		if (Browser.window.FontFace){
			this._loadWithFontFace()
		}
		else {
			this._loadWithCSS();
		}
	}

	__proto._complete=function(){
		Laya.timer.clear(this,this._complete);
		Laya.timer.clear(this,this._checkComplete);
		if (this._div && this._div.parentNode){
			this._div.parentNode.removeChild(this._div);
			this._div=null;
		}
		if (this.complete){
			this.complete.runWith(this);
			this.complete=null;
		}
	}

	__proto._checkComplete=function(){
		if (RunDriver.measureText("LayaTTFFont",this._fontTxt).width !=this._txtWidth){
			this._complete();
		}
	}

	__proto._loadWithFontFace=function(){
		var fontFace=new Browser.window.FontFace(this.fontName,"url('"+this._url+"')");
		Browser.window.document.fonts.add(fontFace);
		var self=this;
		fontFace.loaded.then((function(){
			self._complete()
		}));
		fontFace.load();
	}

	__proto._createDiv=function(){
		this._div=Browser.createElement("div");
		this._div.innerHTML="laya";
		var _style=this._div.style;
		_style.fontFamily=this.fontName;
		_style.position="absolute";
		_style.left="-100px";
		_style.top="-100px";
		Browser.document.body.appendChild(this._div);
	}

	__proto._loadWithCSS=function(){
		var _$this=this;
		var fontStyle=Browser.createElement("style");
		fontStyle.type="text/css";
		Browser.document.body.appendChild(fontStyle);
		fontStyle.textContent="@font-face { font-family:'"+this.fontName+"'; src:url('"+this._url+"');}";
		this._fontTxt="40px "+this.fontName;
		this._txtWidth=RunDriver.measureText("LayaTTFFont",this._fontTxt).width;
		var self=this;
		fontStyle.onload=function (){
			Laya.timer.once(10000,self,_$this._complete);
		};
		Laya.timer.loop(20,this,this._checkComplete);
		this._createDiv();
	}

	TTFLoader._testString="LayaTTFFont";
	return TTFLoader;
})()


/**
*<p> <code>URL</code> 类用于定义地址信息。</p>
*/
//class laya.net.URL
var URL=(function(){
	function URL(url){
		/**@private */
		this._url=null;
		/**@private */
		this._path=null;
		this._url=URL.formatURL(url);
		this._path=URL.getPath(url);
	}

	__class(URL,'laya.net.URL');
	var __proto=URL.prototype;
	/**地址的路径。*/
	__getset(0,__proto,'path',function(){
		return this._path;
	});

	/**格式化后的地址。*/
	__getset(0,__proto,'url',function(){
		return this._url;
	});

	URL.formatURL=function(url,base){
		if (!url)return "null path";
		if (url.indexOf(":")> 0)return url;
		if (URL.customFormat !=null)url=URL.customFormat(url,base);
		var char1=url.charAt(0);
		if (char1==="."){
			return URL.formatRelativePath((base || URL.basePath)+url);
			}else if (char1==='~'){
			return URL.rootPath+url.substring(1);
			}else if (char1==="d"){
			if (url.indexOf("data:image")===0)return url;
			}else if (char1==="/"){
			return url;
		}
		return (base || URL.basePath)+url;
	}

	URL.formatRelativePath=function(value){
		var parts=value.split("/");
		for (var i=0,len=parts.length;i < len;i++){
			if (parts[i]=='..'){
				parts.splice(i-1,2);
				i-=2;
			}
		}
		return parts.join('/');
	}

	URL.isAbsolute=function(url){
		return url.indexOf(":")> 0 || url.charAt(0)=='/';
	}

	URL.getPath=function(url){
		var ofs=url.lastIndexOf('/');
		return ofs > 0 ? url.substr(0,ofs+1):"";
	}

	URL.getFileName=function(url){
		var ofs=url.lastIndexOf('/');
		return ofs > 0 ? url.substr(ofs+1):url;
	}

	URL.version={};
	URL.basePath="";
	URL.rootPath="";
	URL.customFormat=function(url){
		var newUrl=URL.version[url];
		if (!Render.isConchApp && newUrl)url+="?v="+newUrl;
		return url;
	}

	return URL;
})()


/**
*@private
*<code>Render</code> 是渲染管理类。它是一个单例，可以使用 Laya.render 访问。
*/
//class laya.renders.Render
var Render=(function(){
	function Render(width,height){
		/**@private */
		this._timeId=0;
		var style=Render._mainCanvas.source.style;
		style.position='absolute';
		style.top=style.left="0px";
		style.background="#000000";
		Render._mainCanvas.source.id="layaCanvas";
		var isWebGl=laya.renders.Render.isWebGL;
		Render._mainCanvas.source.width=width;
		Render._mainCanvas.source.height=height;
		isWebGl && Render.WebGL.init(Render._mainCanvas,width,height);
		Browser.container.appendChild(Render._mainCanvas.source);
		Render._context=new RenderContext(width,height,isWebGl ? null :Render._mainCanvas);
		Render._context.ctx.setIsMainContext();
		Browser.window.requestAnimationFrame(loop);
		function loop (){
			Laya.stage._loop();
			Browser.window.requestAnimationFrame(loop);
		}
		Laya.stage.on("visibilitychange",this,this._onVisibilitychange);
	}

	__class(Render,'laya.renders.Render');
	var __proto=Render.prototype;
	/**@private */
	__proto._onVisibilitychange=function(){
		if (!Laya.stage.isVisibility){
			this._timeId=Browser.window.setInterval(this._enterFrame,1000);
			}else if (this._timeId !=0){
			Browser.window.clearInterval(this._timeId);
		}
	}

	/**@private */
	__proto._enterFrame=function(e){
		Laya.stage._loop();
	}

	/**目前使用的渲染器。*/
	__getset(1,Render,'context',function(){
		return Render._context;
	});

	/**渲染使用的原生画布引用。 */
	__getset(1,Render,'canvas',function(){
		return Render._mainCanvas.source;
	});

	Render._context=null;
	Render._mainCanvas=null;
	Render.WebGL=null;
	Render.isConchNode=false;
	Render.isConchApp=false;
	Render.isConchWebGL=false;
	Render.isWebGL=false;
	Render.is3DMode=false;
	Render.optimizeTextureMemory=function(url,texture){
		return true;
	}

	Render.__init$=function(){
		/*__JS__ */window.ConchRenderType=window.ConchRenderType||1;
		/*__JS__ */window.ConchRenderType|=(!window.conch?0:0x04);;{
			Render.isConchNode=/*__JS__ */(window.ConchRenderType & 5)==5;
			Render.isConchApp=/*__JS__ */(window.ConchRenderType & 0x04)==0x04;
			Render.isConchWebGL=/*__JS__ */window.ConchRenderType==6;
		};;
	}

	return Render;
})()


/**
*@private
*渲染环境
*/
//class laya.renders.RenderContext
var RenderContext=(function(){
	function RenderContext(width,height,canvas){
		/**全局x坐标 */
		this.x=0;
		/**全局y坐标 */
		this.y=0;
		/**当前使用的画布 */
		//this.canvas=null;
		/**当前使用的画布上下文 */
		//this.ctx=null;
		this._drawTexture=function(x,y,args){
			if (args[0].loaded)this.ctx.drawTexture(args[0],args[1],args[2],args[3],args[4],x,y);
		}
		this._fillTexture=function(x,y,args){
			if (args[0].loaded)this.ctx.fillTexture(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5],args[6],args[7]);
		}
		this._drawTextureWithTransform=function(x,y,args){
			if (args[0].loaded)this.ctx.drawTextureWithTransform(args[0],args[1],args[2],args[3],args[4],args[5],x,y,args[6]);
		}
		this._fillQuadrangle=function(x,y,args){
			this.ctx.fillQuadrangle(args[0],args[1],args[2],args[3],args[4]);
		}
		this._drawRect=function(x,y,args){
			var ctx=this.ctx;
			if (args[4] !=null){
				ctx.fillStyle=args[4];
				ctx.fillRect(x+args[0],y+args[1],args[2],args[3],null);
			}
			if (args[5] !=null){
				ctx.strokeStyle=args[5];
				ctx.lineWidth=args[6];
				ctx.strokeRect(x+args[0],y+args[1],args[2],args[3],args[6]);
			}
		}
		//矢量方法
		this._drawPie=function(x,y,args){
			var ctx=this.ctx;
			Render.isWebGL && ctx.setPathId(args[8]);
			ctx.beginPath();
			if (Render.isWebGL){
				ctx.movePath(args[0]+x,args[1]+y);
				ctx.moveTo(0,0);
				}else {
				ctx.moveTo(x+args[0],y+args[1]);
			}
			ctx.arc(x+args[0],y+args[1],args[2],args[3],args[4]);
			ctx.closePath();
			this._fillAndStroke(args[5],args[6],args[7],true);
		}
		this._clipRect=function(x,y,args){
			this.ctx.clipRect(x+args[0],y+args[1],args[2],args[3]);
		}
		this._fillRect=function(x,y,args){
			this.ctx.fillRect(x+args[0],y+args[1],args[2],args[3],args[4]);
		}
		this._drawCircle=function(x,y,args){
			var ctx=this.ctx;
			Render.isWebGL && ctx.setPathId(args[6]);
			Stat.drawCall++;
			ctx.beginPath();
			Render.isWebGL && ctx.movePath(args[0]+x,args[1]+y);
			ctx.arc(args[0]+x,args[1]+y,args[2],0,RenderContext.PI2);
			ctx.closePath();
			this._fillAndStroke(args[3],args[4],args[5],true);
		}
		this._fillCircle=function(x,y,args){
			Stat.drawCall++;
			var ctx=this.ctx;
			ctx.beginPath();
			ctx.fillStyle=args[3];
			ctx.arc(args[0]+x,args[1]+y,args[2],0,RenderContext.PI2);
			ctx.fill();
		}
		this._setShader=function(x,y,args){
			this.ctx.setShader(args[0]);
		}
		this._drawLine=function(x,y,args){
			var ctx=this.ctx;
			Render.isWebGL && ctx.setPathId(args[6]);
			ctx.beginPath();
			ctx.strokeStyle=args[4];
			ctx.lineWidth=args[5];
			if (Render.isWebGL){
				ctx.movePath(x,y);
				ctx.moveTo(args[0],args[1]);
				ctx.lineTo(args[2],args[3]);
				}else {
				ctx.moveTo(x+args[0],y+args[1]);
				ctx.lineTo(x+args[2],y+args[3]);
			}
			ctx.stroke();
		}
		this._drawLines=function(x,y,args){
			var ctx=this.ctx;
			Render.isWebGL && ctx.setPathId(args[5]);
			ctx.beginPath();
			x+=args[0],y+=args[1];
			Render.isWebGL && ctx.movePath(x,y);
			ctx.strokeStyle=args[3];
			ctx.lineWidth=args[4];
			var points=args[2];
			var i=2,n=points.length;
			if (Render.isWebGL){
				ctx.moveTo(points[0],points[1]);
				while (i < n){
					ctx.lineTo(points[i++],points[i++]);
				}
				}else {
				ctx.moveTo(x+points[0],y+points[1]);
				while (i < n){
					ctx.lineTo(x+points[i++],y+points[i++]);
				}
			}
			ctx.stroke();
		}
		this._drawLinesWebGL=function(x,y,args){
			this.ctx.drawLines(x+this.x+args[0],y+this.y+args[1],args[2],args[3],args[4]);
		}
		//x:Number,y:Number,points:Array,lineColor:String,lineWidth:Number=1
		this._drawCurves=function(x,y,args){
			this.ctx.drawCurves(x,y,args);
		}
		this._draw=function(x,y,args){
			args[0].call(null,this,x,y);
		}
		this._transformByMatrix=function(x,y,args){
			this.ctx.transformByMatrix(args[0]);
		}
		this._setTransform=function(x,y,args){
			this.ctx.setTransform(args[0],args[1],args[2],args[3],args[4],args[5]);
		}
		this._setTransformByMatrix=function(x,y,args){
			this.ctx.setTransformByMatrix(args[0]);
		}
		this._save=function(x,y,args){
			this.ctx.save();
		}
		this._restore=function(x,y,args){
			this.ctx.restore();
		}
		this._translate=function(x,y,args){
			this.ctx.translate(args[0],args[1]);
		}
		this._transform=function(x,y,args){
			this.ctx.translate(args[1]+x,args[2]+y);
			var mat=args[0];
			this.ctx.transform(mat.a,mat.b,mat.c,mat.d,mat.tx,mat.ty);
			this.ctx.translate(-x-args[1],-y-args[2]);
		}
		this._rotate=function(x,y,args){
			this.ctx.translate(args[1]+x,args[2]+y);
			this.ctx.rotate(args[0]);
			this.ctx.translate(-x-args[1],-y-args[2]);
		}
		this._scale=function(x,y,args){
			this.ctx.translate(args[2]+x,args[3]+y);
			this.ctx.scale(args[0],args[1]);
			this.ctx.translate(-x-args[2],-y-args[3]);
		}
		this._alpha=function(x,y,args){
			this.ctx.globalAlpha *=args[0];
		}
		this._setAlpha=function(x,y,args){
			this.ctx.globalAlpha=args[0];
		}
		this._fillText=function(x,y,args){
			this.ctx.fillText(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5]);
		}
		this._strokeText=function(x,y,args){
			this.ctx.strokeText(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5],args[6]);
		}
		this._fillBorderText=function(x,y,args){
			this.ctx.fillBorderText(args[0],args[1]+x,args[2]+y,args[3],args[4],args[5],args[6],args[7]);
		}
		this._blendMode=function(x,y,args){
			this.ctx.globalCompositeOperation=args[0];
		}
		this._beginClip=function(x,y,args){
			this.ctx.beginClip && this.ctx.beginClip(x+args[0],y+args[1],args[2],args[3]);
		}
		this._setIBVB=function(x,y,args){
			this.ctx.setIBVB(args[0]+x,args[1]+y,args[2],args[3],args[4],args[5],args[6],args[7]);
		}
		this._fillTrangles=function(x,y,args){
			this.ctx.fillTrangles(args[0],args[1]+x,args[2]+y,args[3],args[4]);
		}
		//x:Number,y:Number,paths:Array,brush:Object=null,pen:Object=null
		this._drawPath=function(x,y,args){
			var ctx=this.ctx;
			Render.isWebGL && ctx.setPathId(-1);
			ctx.beginPath();
			x+=args[0],y+=args[1];
			Render.isWebGL && ctx.movePath(x,y);
			var paths=args[2];
			for (var i=0,n=paths.length;i < n;i++){
				var path=paths[i];
				switch (path[0]){
					case "moveTo":
						Render.isWebGL ? ctx.moveTo(path[1],path[2]):ctx.moveTo(x+path[1],y+path[2]);
						break ;
					case "lineTo":
						Render.isWebGL ? ctx.lineTo(path[1],path[2]):ctx.lineTo(x+path[1],y+path[2]);
						break ;
					case "arcTo":
						Render.isWebGL ? ctx.arcTo(path[1],path[2],path[3],path[4],path[5]):ctx.arcTo(x+path[1],y+path[2],x+path[3],y+path[4],path[5]);
						break ;
					case "closePath":
						ctx.closePath();
						break ;
					}
			};
			var brush=args[3];
			if (brush !=null){
				ctx.fillStyle=brush.fillStyle;
				ctx.fill();
			};
			var pen=args[4];
			if (pen !=null){
				ctx.strokeStyle=pen.strokeStyle;
				ctx.lineWidth=pen.lineWidth || 1;
				ctx.lineJoin=pen.lineJoin;
				ctx.lineCap=pen.lineCap;
				ctx.miterLimit=pen.miterLimit;
				ctx.stroke();
			}
		}
		// polygon(x:Number,y:Number,r:Number,edges:Number,color:uint,borderWidth:int=2,borderColor:uint=0)
		this.drawPoly=function(x,y,args){
			this.ctx.drawPoly(x+this.x+args[0],y+this.y+args[1],args[2],args[3],args[4],args[5],args[6]);
		}
		//x:Number,y:Number,points:Array,fillColor:String,lineColor:String=null,lineWidth:Number=1
		this._drawPoly=function(x,y,args){
			var ctx=this.ctx;
			var points=args[2];
			var i=2,n=points.length;
			if (Render.isWebGL){
				ctx.setPathId(args[6]);
				ctx.beginPath();
				x+=args[0],y+=args[1];
				ctx.movePath(x,y);
				ctx.moveTo(points[0],points[1]);
				while (i < n){
					ctx.lineTo(points[i++],points[i++]);
				}
				}else {
				ctx.beginPath();
				x+=args[0],y+=args[1];
				ctx.moveTo(x+points[0],y+points[1]);
				while (i < n){
					ctx.lineTo(x+points[i++],y+points[i++]);
				}
			}
			ctx.closePath();
			this._fillAndStroke(args[3],args[4],args[5],args[7]);
		}
		this._drawSkin=function(x,y,args){
			var tSprite=args[0];
			if (tSprite){
				var ctx=this.ctx;
				tSprite.render(ctx,x,y);
			}
		}
		this._drawParticle=function(x,y,args){
			this.ctx.drawParticle(x+this.x,y+this.y,args[0]);
		}
		this._setFilters=function(x,y,args){
			this.ctx.setFilters(args);
		}
		if (canvas){
			this.ctx=canvas.getContext('2d');
			}else {
			canvas=HTMLCanvas.create("3D");
			this.ctx=RunDriver.createWebGLContext2D(canvas);
			canvas._setContext(this.ctx);
		}
		canvas.size(width,height);
		this.canvas=canvas;
	}

	__class(RenderContext,'laya.renders.RenderContext');
	var __proto=RenderContext.prototype;
	/**销毁当前渲染环境*/
	__proto.destroy=function(){
		if (this.canvas){
			this.canvas.destroy();
			this.canvas=null;
			this.ctx=null;
		}
		if (this.ctx){
			this.ctx.destroy();
			this.ctx=null;
		}
	}

	__proto.drawTexture=function(tex,x,y,width,height){
		if (tex.loaded)this.ctx.drawTexture(tex,x,y,width,height,this.x,this.y);
	}

	__proto._drawTextures=function(x,y,args){
		if (args[0].loaded)this.ctx.drawTextures(args[0],args[1],x+this.x,y+this.y);
	}

	__proto.drawTextureWithTransform=function(tex,x,y,width,height,m,alpha){
		if (tex.loaded)this.ctx.drawTextureWithTransform(tex,x,y,width,height,m,this.x,this.y,alpha);
	}

	__proto.fillQuadrangle=function(tex,x,y,point4,m){
		this.ctx.fillQuadrangle(tex,x,y,point4,m);
	}

	__proto.drawCanvas=function(canvas,x,y,width,height){
		this.ctx.drawCanvas(canvas,x+this.x,y+this.y,width,height);
	}

	__proto.drawRect=function(x,y,width,height,color,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var ctx=this.ctx;
		ctx.strokeStyle=color;
		ctx.lineWidth=lineWidth;
		ctx.strokeRect(x+this.x,y+this.y,width,height,lineWidth);
	}

	__proto._fillAndStroke=function(fillColor,strokeColor,lineWidth,isConvexPolygon){
		(isConvexPolygon===void 0)&& (isConvexPolygon=false);
		var ctx=this.ctx;
		if (fillColor !=null){
			ctx.fillStyle=fillColor;
			if (Render.isWebGL){
				ctx.fill(isConvexPolygon);
				}else {
				ctx.fill();
			}
		}
		if (strokeColor !=null && lineWidth > 0){
			ctx.strokeStyle=strokeColor;
			ctx.lineWidth=lineWidth;
			ctx.stroke();
		}
	}

	//ctx.translate(-x-args[0],-y-args[1]);
	__proto.clipRect=function(x,y,width,height){
		this.ctx.clipRect(x+this.x,y+this.y,width,height);
	}

	__proto.fillRect=function(x,y,width,height,fillStyle){
		this.ctx.fillRect(x+this.x,y+this.y,width,height,fillStyle);
	}

	__proto.drawCircle=function(x,y,radius,color,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		Stat.drawCall++;
		var ctx=this.ctx;
		ctx.beginPath();
		ctx.strokeStyle=color;
		ctx.lineWidth=lineWidth;
		ctx.arc(x+this.x,y+this.y,radius,0,RenderContext.PI2);
		ctx.stroke();
	}

	__proto.fillCircle=function(x,y,radius,color){
		Stat.drawCall++;
		var ctx=this.ctx;
		ctx.beginPath();
		ctx.fillStyle=color;
		ctx.arc(x+this.x,y+this.y,radius,0,RenderContext.PI2);
		ctx.fill();
	}

	__proto.setShader=function(shader){
		this.ctx.setShader(shader);
	}

	__proto.drawLine=function(fromX,fromY,toX,toY,color,lineWidth){
		(lineWidth===void 0)&& (lineWidth=1);
		var ctx=this.ctx;
		ctx.beginPath();
		ctx.strokeStyle=color;
		ctx.lineWidth=lineWidth;
		ctx.moveTo(this.x+fromX,this.y+fromY);
		ctx.lineTo(this.x+toX,this.y+toY);
		ctx.stroke();
	}

	__proto.clear=function(){
		this.ctx.clear();
	}

	__proto.transformByMatrix=function(value){
		this.ctx.transformByMatrix(value);
	}

	__proto.setTransform=function(a,b,c,d,tx,ty){
		this.ctx.setTransform(a,b,c,d,tx,ty);
	}

	__proto.setTransformByMatrix=function(value){
		this.ctx.setTransformByMatrix(value);
	}

	__proto.save=function(){
		this.ctx.save();
	}

	__proto.restore=function(){
		this.ctx.restore();
	}

	__proto.translate=function(x,y){
		this.ctx.translate(x,y);
	}

	__proto.transform=function(a,b,c,d,tx,ty){
		this.ctx.transform(a,b,c,d,tx,ty);
	}

	__proto.rotate=function(angle){
		this.ctx.rotate(angle);
	}

	__proto.scale=function(scaleX,scaleY){
		this.ctx.scale(scaleX,scaleY);
	}

	__proto.alpha=function(value){
		this.ctx.globalAlpha *=value;
	}

	__proto.setAlpha=function(value){
		this.ctx.globalAlpha=value;
	}

	__proto.fillWords=function(words,x,y,font,color,underLine){
		(underLine===void 0)&& (underLine=0);
		this.ctx.fillWords(words,x,y,font,color,underLine);
	}

	/***@private */
	__proto.fillBorderWords=function(words,x,y,font,fillColor,borderColor,lineWidth){
		this.ctx.fillBorderWords(words,x,y,font,fillColor,borderColor,lineWidth);
	}

	__proto.fillText=function(text,x,y,font,color,textAlign){
		this.ctx.fillText(text,x+this.x,y+this.y,font,color,textAlign);
	}

	__proto.strokeText=function(text,x,y,font,color,lineWidth,textAlign){
		this.ctx.strokeText(text,x+this.x,y+this.y,font,color,lineWidth,textAlign);
	}

	__proto.blendMode=function(type){
		this.ctx.globalCompositeOperation=type;
	}

	__proto.flush=function(){
		this.ctx.flush && this.ctx.flush();
	}

	__proto.addRenderObject=function(o){
		this.ctx.addRenderObject(o);
	}

	__proto.beginClip=function(x,y,w,h){
		this.ctx.beginClip && this.ctx.beginClip(x,y,w,h);
	}

	__proto.endClip=function(){
		this.ctx.endClip && this.ctx.endClip();
	}

	__proto.fillTrangles=function(x,y,args){
		this.ctx.fillTrangles(args[0],args[1],args[2],args[3],args.length > 4 ? args[4] :null);
	}

	__static(RenderContext,
	['PI2',function(){return this.PI2=2 *Math.PI;}
	]);
	return RenderContext;
})()


/**
*@private
*精灵渲染器
*/
//class laya.renders.RenderSprite
var RenderSprite=(function(){
	function RenderSprite(type,next){
		/**@private */
		//this._next=null;
		/**@private */
		//this._fun=null;
		this._next=next || RenderSprite.NORENDER;
		switch (type){
			case 0:
				this._fun=this._no;
				return;
			case 0x01:
				this._fun=this._image;
				return;
			case 0x02:
				this._fun=this._alpha;
				return;
			case 0x04:
				this._fun=this._transform;
				return;
			case 0x08:
				this._fun=this._blend;
				return;
			case 0x10:
				this._fun=this._canvas;
				return;
			case 0x40:
				this._fun=this._mask;
				return;
			case 0x80:
				this._fun=this._clip;
				return;
			case 0x100:
				this._fun=this._style;
				return;
			case 0x200:
				this._fun=this._graphics;
				return;
			case 0x800:
				this._fun=this._childs;
				return;
			case 0x400:
				this._fun=this._custom;
				return;
			case 0x01 | 0x200:
				this._fun=this._image2;
				return;
			case 0x01 | 0x04 | 0x200:
				this._fun=this._image2;
				return;
			case 0x20:
				this._fun=Filter._filter;
				return;
			case 0x11111:
				this._fun=RenderSprite._initRenderFun;
				return;
			}
		this.onCreate(type);
	}

	__class(RenderSprite,'laya.renders.RenderSprite');
	var __proto=RenderSprite.prototype;
	__proto.onCreate=function(type){}
	__proto._style=function(sprite,context,x,y){
		sprite._style.render(sprite,context,x,y);
		var next=this._next;
		next._fun.call(next,sprite,context,x,y);
	}

	__proto._no=function(sprite,context,x,y){}
	__proto._custom=function(sprite,context,x,y){
		sprite.customRender(context,x,y);
		var tf=sprite._style._tf;
		this._next._fun.call(this._next,sprite,context,x-tf.translateX,y-tf.translateY);
	}

	__proto._clip=function(sprite,context,x,y){
		var next=this._next;
		if (next==RenderSprite.NORENDER)return;
		var r=sprite._style.scrollRect;
		context.ctx.save();
		context.ctx.clipRect(x,y,r.width,r.height);
		next._fun.call(next,sprite,context,x-r.x,y-r.y);
		context.ctx.restore();
	}

	__proto._blend=function(sprite,context,x,y){
		var style=sprite._style;
		if (style.blendMode){
			context.ctx.globalCompositeOperation=style.blendMode;
		};
		var next=this._next;
		next._fun.call(next,sprite,context,x,y);
		context.ctx.globalCompositeOperation="source-over";
	}

	__proto._mask=function(sprite,context,x,y){
		var next=this._next;
		next._fun.call(next,sprite,context,x,y);
		var mask=sprite.mask;
		if (mask){
			context.ctx.globalCompositeOperation="destination-in";
			if (mask.numChildren > 0 || !mask.graphics._isOnlyOne()){
				mask.cacheAsBitmap=true;
			}
			mask.render(context,x-sprite.pivotX,y-sprite.pivotY);
		}
		context.ctx.globalCompositeOperation="source-over";
	}

	__proto._graphics=function(sprite,context,x,y){
		var tf=sprite._style._tf;
		sprite._graphics && sprite._graphics._render(sprite,context,x-tf.translateX,y-tf.translateY);
		var next=this._next;
		next._fun.call(next,sprite,context,x,y);
	}

	__proto._image=function(sprite,context,x,y){
		var style=sprite._style;
		context.ctx.drawTexture2(x,y,style._tf.translateX,style._tf.translateY,sprite.transform,style.alpha,style.blendMode,sprite._graphics._one);
	}

	__proto._image2=function(sprite,context,x,y){
		var tf=sprite._style._tf;
		context.ctx.drawTexture2(x,y,tf.translateX,tf.translateY,sprite.transform,1,null,sprite._graphics._one);
	}

	__proto._alpha=function(sprite,context,x,y){
		var style=sprite._style;
		var alpha;
		if ((alpha=style.alpha)> 0.01 || sprite._needRepaint()){
			var temp=context.ctx.globalAlpha;
			context.ctx.globalAlpha *=alpha;
			var next=this._next;
			next._fun.call(next,sprite,context,x,y);
			context.ctx.globalAlpha=temp;
		}
	}

	__proto._transform=function(sprite,context,x,y){
		var transform=sprite.transform,_next=this._next;
		if (transform && _next !=RenderSprite.NORENDER){
			context.save();
			context.transform(transform.a,transform.b,transform.c,transform.d,transform.tx+x,transform.ty+y);
			_next._fun.call(_next,sprite,context,0,0);
			context.restore();
		}else
		_next._fun.call(_next,sprite,context,x,y);
	}

	__proto._childs=function(sprite,context,x,y){
		var style=sprite._style;
		var tf=style._tf;
		x=x-tf.translateX+style.paddingLeft;
		y=y-tf.translateY+style.paddingTop;
		if (style._calculation){
			var words=sprite._getWords();
			if (words){
				var tStyle=style;
				if (tStyle){
					if (tStyle.stroke){
						context.fillBorderWords(words,x,y,tStyle.font,tStyle.color,tStyle.strokeColor,tStyle.stroke);
						}else{
						context.fillWords(words,x,y,tStyle.font,tStyle.color,tStyle.underLine);
					}
				}
			}
		};
		var childs=sprite._childs,n=childs.length,ele;
		if (sprite.viewport || (sprite.optimizeScrollRect && sprite._style.scrollRect)){
			var rect=sprite.viewport || sprite._style.scrollRect;
			var left=rect.x;
			var top=rect.y;
			var right=rect.right;
			var bottom=rect.bottom;
			var _x=NaN,_y=NaN;
			for (i=0;i < n;++i){
				if ((ele=childs [i]).visible && ((_x=ele._x)< right && (_x+ele.width)> left && (_y=ele._y)< bottom && (_y+ele.height)> top)){
					ele.render(context,x,y);
				}
			}
			}else {
			for (var i=0;i < n;++i)
			(ele=(childs [i]))._style.visible && ele.render(context,x,y);
		}
	}

	//}
	__proto._canvas=function(sprite,context,x,y){
		var _cacheCanvas=sprite._$P.cacheCanvas;
		if (!_cacheCanvas){
			this._next._fun.call(this._next,sprite,context,x,y);
			return;
		}
		_cacheCanvas.type==='bitmap' ? (Stat.canvasBitmap++):(Stat.canvasNormal++);
		var tx=_cacheCanvas.ctx;
		if (sprite._needRepaint()|| !tx){
			this._canvas_repaint(sprite,context,x,y);
		}
		else{
			var tRec=_cacheCanvas._cacheRec;
			context.drawCanvas(tx.canvas,x+tRec.x,y+tRec.y,tRec.width,tRec.height);
		}
	}

	__proto._canvas_repaint=function(sprite,context,x,y){
		var _cacheCanvas=sprite._$P.cacheCanvas;
		var _next=this._next;
		if (!_cacheCanvas){
			_next._fun.call(_next,sprite,tx,x,y);
			return;
		};
		var tx=_cacheCanvas.ctx;
		var _repaint=sprite._needRepaint()|| (!tx);
		var canvas;
		var left;
		var top;
		var tRec;
		var tCacheType=_cacheCanvas.type;
		tCacheType==='bitmap' ? (Stat.canvasBitmap++):(Stat.canvasNormal++);
		if (_repaint){
			if (!_cacheCanvas._cacheRec)
				_cacheCanvas._cacheRec=new Rectangle();
			var w,h;
			if (!Render.isWebGL || tCacheType==="bitmap"){
				tRec=sprite.getSelfBounds();
				tRec.x=tRec.x-sprite.pivotX;
				tRec.y=tRec.y-sprite.pivotY;
				tRec.x=tRec.x-16;
				tRec.y=tRec.y-16;
				tRec.width=tRec.width+32;
				tRec.height=tRec.height+32;
				tRec.x=Math.floor(tRec.x+x)-x;
				tRec.y=Math.floor(tRec.y+y)-y;
				tRec.width=Math.floor(tRec.width);
				tRec.height=Math.floor(tRec.height);
				_cacheCanvas._cacheRec.copyFrom(tRec);
				}else{
				_cacheCanvas._cacheRec.setTo(-sprite.pivotX,-sprite.pivotY,1,1);
			}
			tRec=_cacheCanvas._cacheRec;
			var scaleX=Render.isWebGL ? 1 :Browser.pixelRatio *Laya.stage.clientScaleX;
			var scaleY=Render.isWebGL ? 1 :Browser.pixelRatio *Laya.stage.clientScaleY;
			if (!Render.isWebGL){
				var chainScaleX=1;
				var chainScaleY=1;
				var tar;
				tar=sprite;
				while (tar && tar !=Laya.stage){
					chainScaleX *=tar.scaleX;
					chainScaleY *=tar.scaleY;
					tar=tar.parent;
				}
				if (Render.isWebGL){
					if (chainScaleX < 1)scaleX *=chainScaleX;
					if (chainScaleY < 1)scaleY *=chainScaleY;
					}else {
					if (chainScaleX > 1)scaleX *=chainScaleX;
					if (chainScaleY > 1)scaleY *=chainScaleY;
				}
			}
			if (sprite.scrollRect){
				var scrollRect=sprite.scrollRect;
				tRec.x-=scrollRect.x;
				tRec.y-=scrollRect.y;
			}
			w=tRec.width *scaleX;
			h=tRec.height *scaleY;
			left=tRec.x;
			top=tRec.y;
			if (Render.isWebGL && tCacheType==='bitmap' && (w > 2048 || h > 2048)){
				console.warn("cache bitmap size larger than 2048,cache ignored");
				if (_cacheCanvas.ctx){
					Pool.recover("RenderContext",_cacheCanvas.ctx);
					_cacheCanvas.ctx.canvas.size(0,0);
					_cacheCanvas.ctx=null;
				}
				_next._fun.call(_next,sprite,context,x,y);
				return;
			}
			if (!tx){
				tx=_cacheCanvas.ctx=Pool.getItem("RenderContext")|| new RenderContext(w,h,HTMLCanvas.create(/*laya.resource.HTMLCanvas.TYPEAUTO*/"AUTO"));
			}
			tx.ctx.sprite=sprite;
			canvas=tx.canvas;
			canvas.clear();
			(canvas.width !=w || canvas.height !=h)&& canvas.size(w,h);
			if (tCacheType==='bitmap')canvas.context.asBitmap=true;
			else if(tCacheType==='normal')canvas.context.asBitmap=false;
			var t;
			if (scaleX !=1 || scaleY !=1){
				var ctx=(tx).ctx;
				ctx.save();
				ctx.scale(scaleX,scaleY);
				if (!Render.isConchWebGL && Render.isConchApp){
					t=sprite._$P.cf;
					t && ctx.setFilterMatrix && ctx.setFilterMatrix(t._mat,t._alpha);
				}
				_next._fun.call(_next,sprite,tx,-left,-top);
				ctx.restore();
				if (!Render.isConchApp || Render.isConchWebGL)sprite._applyFilters();
				}else {
				ctx=(tx).ctx;
				if (!Render.isConchWebGL && Render.isConchApp){
					t=sprite._$P.cf;
					t && ctx.setFilterMatrix && ctx.setFilterMatrix(t._mat,t._alpha);
				}
				_next._fun.call(_next,sprite,tx,-left,-top);
				if (!Render.isConchApp || Render.isConchWebGL)sprite._applyFilters();
			}
			if (sprite._$P.staticCache)_cacheCanvas.reCache=false;
			Stat.canvasReCache++;
			}else {
			tRec=_cacheCanvas._cacheRec;
			left=tRec.x;
			top=tRec.y;
			canvas=tx.canvas;
		}
		context.drawCanvas(canvas,x+left,y+top,tRec.width,tRec.height);
	}

	RenderSprite.__init__=function(){
		var i=0,len=0;
		var initRender;
		initRender=RunDriver.createRenderSprite(0x11111,null);
		len=RenderSprite.renders.length=0x800 *2;
		for (i=0;i < len;i++)
		RenderSprite.renders[i]=initRender;
		RenderSprite.renders[0]=RunDriver.createRenderSprite(0,null);
		function _initSame (value,o){
			var n=0;
			for (var i=0;i < value.length;i++){
				n |=value[i];
				RenderSprite.renders[n]=o;
			}
		}
		_initSame([0x01,0x200,0x04,0x02],new RenderSprite(0x01,null));
		RenderSprite.renders[0x01 | 0x200]=RunDriver.createRenderSprite(0x01 | 0x200,null);
		RenderSprite.renders[0x01 | 0x04 | 0x200]=new RenderSprite(0x01 | 0x04 | 0x200,null);
	}

	RenderSprite._initRenderFun=function(sprite,context,x,y){
		var type=sprite._renderType;
		var r=RenderSprite.renders[type]=RenderSprite._getTypeRender(type);
		r._fun(sprite,context,x,y);
	}

	RenderSprite._getTypeRender=function(type){
		var rst=null;
		var tType=0x800;
		while (tType > 1){
			if (tType & type)
				rst=RunDriver.createRenderSprite(tType,rst);
			tType=tType >> 1;
		}
		return rst;
	}

	RenderSprite.IMAGE=0x01;
	RenderSprite.ALPHA=0x02;
	RenderSprite.TRANSFORM=0x04;
	RenderSprite.BLEND=0x08;
	RenderSprite.CANVAS=0x10;
	RenderSprite.FILTERS=0x20;
	RenderSprite.MASK=0x40;
	RenderSprite.CLIP=0x80;
	RenderSprite.STYLE=0x100;
	RenderSprite.GRAPHICS=0x200;
	RenderSprite.CUSTOM=0x400;
	RenderSprite.CHILDS=0x800;
	RenderSprite.INIT=0x11111;
	RenderSprite.renders=[];
	__static(RenderSprite,
	['NORENDER',function(){return this.NORENDER=new RenderSprite(0,null);}
	]);
	return RenderSprite;
})()


/**
*@private
*Context扩展类
*/
//class laya.resource.Context
var Context=(function(){
	function Context(){
		/***@private */
		//this._canvas=null;
		this._repaint=false;
	}

	__class(Context,'laya.resource.Context');
	var __proto=Context.prototype;
	__proto.replaceReset=function(){
		var i=0,len=0;
		len=Context.replaceKeys.length;
		var key;
		for (i=0;i < len;i++){
			key=Context.replaceKeys[i];
			this[Context.newKeys[i]]=this[key];
		}
	}

	__proto.replaceResotre=function(){
		/*__JS__ */this.__restore();
		/*__JS__ */this.__reset();
	}

	__proto.setIsMainContext=function(){}
	__proto.drawTextures=function(tex,pos,tx,ty){
		Stat.drawCall+=pos.length / 2;
		var w=tex.width;
		var h=tex.height;
		for (var i=0,sz=pos.length;i < sz;i+=2){
			this.drawTexture(tex,pos[i],pos[i+1],w,h,tx,ty);
		}
	}

	/***@private */
	__proto.drawCanvas=function(canvas,x,y,width,height){
		Stat.drawCall++;
		this.drawImage(canvas.source,x,y,width,height);
	}

	/***@private */
	__proto.fillRect=function(x,y,width,height,style){
		Stat.drawCall++;
		style && (this.fillStyle=style);
		/*__JS__ */this.__fillRect(x,y,width,height);
	}

	/***@private */
	__proto.fillText=function(text,x,y,font,color,textAlign){
		Stat.drawCall++;
		if (arguments.length > 3 && font !=null){
			this.font=font;
			this.fillStyle=color;
			/*__JS__ */this.textAlign=textAlign;
			this.textBaseline="top";
		}
		/*__JS__ */this.__fillText(text,x,y);
	}

	/***@private */
	__proto.fillBorderText=function(text,x,y,font,fillColor,borderColor,lineWidth,textAlign){
		Stat.drawCall++;
		this.font=font;
		this.fillStyle=fillColor;
		this.textBaseline="top";
		/*__JS__ */this.strokeStyle=borderColor;
		/*__JS__ */this.lineWidth=lineWidth;
		/*__JS__ */this.textAlign=textAlign;
		/*__JS__ */this.__strokeText(text,x,y);
		/*__JS__ */this.__fillText(text,x,y);
	}

	/***@private */
	__proto.strokeText=function(text,x,y,font,color,lineWidth,textAlign){
		Stat.drawCall++;
		if (arguments.length > 3 && font !=null){
			this.font=font;
			/*__JS__ */this.strokeStyle=color;
			/*__JS__ */this.lineWidth=lineWidth;
			/*__JS__ */this.textAlign=textAlign;
			this.textBaseline="top";
		}
		/*__JS__ */this.__strokeText(text,x,y);
	}

	/***@private */
	__proto.transformByMatrix=function(value){
		this.transform(value.a,value.b,value.c,value.d,value.tx,value.ty);
	}

	/***@private */
	__proto.setTransformByMatrix=function(value){
		this.setTransform(value.a,value.b,value.c,value.d,value.tx,value.ty);
	}

	/***@private */
	__proto.clipRect=function(x,y,width,height){
		Stat.drawCall++;
		this.beginPath();
		this.rect(x,y,width,height);
		this.clip();
	}

	/***@private */
	__proto.drawTexture=function(tex,x,y,width,height,tx,ty){
		Stat.drawCall++;
		var uv=tex.uv,w=tex.bitmap.width,h=tex.bitmap.height;
		this.drawImage(tex.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,x+tx,y+ty,width,height);
	}

	/***@private */
	__proto.drawTextureWithTransform=function(tex,x,y,width,height,m,tx,ty,alpha){
		Stat.drawCall++;
		var uv=tex.uv,w=tex.bitmap.width,h=tex.bitmap.height;
		this.save();
		alpha !=1 && (this.globalAlpha *=alpha);
		if (m){
			this.transform(m.a,m.b,m.c,m.d,m.tx+tx,m.ty+ty);
			this.drawImage(tex.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,x ,y,width,height);
			}else {
			this.drawImage(tex.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,x+tx ,y+ty,width,height);
		}
		this.restore();
	}

	/***@private */
	__proto.drawTexture2=function(x,y,pivotX,pivotY,m,alpha,blendMode,args2){
		'use strict';
		var tex=args2[0];
		if (!(tex.loaded && tex.bitmap && tex.source)){
			return;
		}
		Stat.drawCall++;
		var alphaChanged=alpha!==1;
		if (alphaChanged){
			var temp=this.globalAlpha;
			this.globalAlpha *=alpha;
		};
		var uv=tex.uv,w=tex.bitmap.width,h=tex.bitmap.height;
		if (m){
			this.save();
			this.transform(m.a,m.b,m.c,m.d,m.tx+x,m.ty+y);
			this.drawImage(tex.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,args2[1]-pivotX ,args2[2]-pivotY,args2[3],args2[4]);
			this.restore();
			}else {
			this.drawImage(tex.source,uv[0] *w,uv[1] *h,(uv[2]-uv[0])*w,(uv[5]-uv[3])*h,args2[1]-pivotX+x ,args2[2]-pivotY+y,args2[3],args2[4]);
		}
		if (alphaChanged)this.globalAlpha=temp;
	}

	__proto.fillTexture=function(texture,x,y,width,height,type,offset,other){
		if (!other.pat){
			if (texture.uv !=Texture.DEF_UV){
				var canvas=new HTMLCanvas("2D");
				canvas.getContext('2d');
				canvas.size(texture.width,texture.height);
				canvas.context.drawTexture(texture,0,0,texture.width,texture.height,0,0);
				texture=new Texture(canvas);
			}
			other.pat=this.createPattern(texture.bitmap.source,type);
		};
		var oX=x,oY=y;
		var sX=0,sY=0;
		if (offset){
			oX+=offset.x % texture.width;
			oY+=offset.y % texture.height;
			sX-=offset.x % texture.width;
			sY-=offset.y % texture.height;
		}
		this.translate(oX,oY);
		this.fillRect(sX,sY,width,height,other.pat);
		this.translate(-oX,-oY);
	}

	/***@private */
	__proto.flush=function(){
		return 0;
	}

	/***@private */
	__proto.fillWords=function(words,x,y,font,color,underLine){
		font && (this.font=font);
		color && (this.fillStyle=color);
		var _this=this;
		this.textBaseline="top";
		/*__JS__ */this.textAlign='left';
		for (var i=0,n=words.length;i < n;i++){
			var a=words[i];
			/*__JS__ */this.__fillText(a.char,a.x+x,a.y+y);
			if (underLine===1){
				var tHeight=a.height;
				var dX=a.style.letterSpacing*0.5;
				if (!dX)dX=0;
				this.beginPath();
				this.strokeStyle=color;
				this.lineWidth=1;
				this.moveTo(x+a.x-dX+0.5,y+a.y+tHeight+0.5);
				this.lineTo(x+a.x+a.width+dX+0.5,y+a.y+tHeight+0.5);
				this.stroke();
			}
		}
	}

	/***@private */
	__proto.fillBorderWords=function(words,x,y,font,color,borderColor,lineWidth){
		font && (this.font=font);
		color && (this.fillStyle=color);
		this.textBaseline="top";
		/*__JS__ */this.lineWidth=lineWidth;
		/*__JS__ */this.textAlign='left';
		/*__JS__ */this.strokeStyle=borderColor;
		for (var i=0,n=words.length;i < n;i++){
			var a=words[i];
			/*__JS__ */this.__strokeText(a.char,a.x+x,a.y+y);
			/*__JS__ */this.__fillText(a.char,a.x+x,a.y+y);
		}
	}

	/***@private */
	__proto.destroy=function(){
		/*__JS__ */this.canvas.width=this.canvas.height=0;
	}

	/***@private */
	__proto.clear=function(){
		this.clearRect(0,0,this._canvas.width,this._canvas.height);
		this._repaint=false;
	}

	__proto.drawCurves=function(x,y,args){
		this.beginPath();
		this.strokeStyle=args[3];
		this.lineWidth=args[4];
		var points=args[2];
		x+=args[0],y+=args[1];
		this.moveTo(x+points[0],y+points[1]);
		var i=2,n=points.length;
		while (i < n){
			this.quadraticCurveTo(x+points[i++],y+points[i++],x+points[i++],y+points[i++]);
		}
		this.stroke();
	}

	Context.__init__=function(to){
		var from=laya.resource.Context.prototype;
		to=to || /*__JS__ */CanvasRenderingContext2D.prototype;
		to.__fillText=to.fillText;
		to.__fillRect=to.fillRect;
		to.__strokeText=to.strokeText;
		var funs=['drawTextures','fillWords','fillBorderWords','setIsMainContext','fillRect','strokeText','fillTexture','fillText','transformByMatrix','setTransformByMatrix','clipRect','drawTexture','drawTexture2','drawTextureWithTransform','flush','clear','destroy','drawCanvas','fillBorderText','drawCurves'];
		funs.forEach(function(i){
			to[i]=from[i];
		});
	}

	Context.replaceCanvasGetSet=function(tar,key){
		var oldO=/*__JS__ */Object.getOwnPropertyDescriptor(tar,key);
		if (!oldO||!oldO.configurable)return false;
		var newO={};
		var tkey;
		for (tkey in oldO){
			if (tkey !="set"){
				newO[tkey]=oldO[tkey];
			}
		};
		var preFun=oldO["set"];
		newO["set"]=function (v){
			var _self=/*__JS__ */this;
			preFun.call(_self,v);
			var _ct=_self.getContext("2d");
			if (_ct && "__reset" in _ct){
				_ct.__reset();
			}
		}
		/*__JS__ */Object.defineProperty(tar,key,newO);
		return true;
	}

	Context.replaceGetSet=function(tar,key){
		var oldO=/*__JS__ */Object.getOwnPropertyDescriptor(tar,key);
		if (!oldO||!oldO.configurable)return false;
		var newO={};
		var tkey;
		for (tkey in oldO){
			if (tkey !="set"){
				newO[tkey]=oldO[tkey];
			}
		};
		var preFun=oldO["set"];
		var dataKey="___"+key+"__";
		Context.newKeys.push(dataKey);
		newO["set"]=function (v){
			var _self=/*__JS__ */this;
			if (v !=_self[dataKey]){
				_self[dataKey]=v;
				preFun.call(_self,v);
			}
		}
		/*__JS__ */Object.defineProperty(tar,key,newO);
		return true;
	}

	Context.newKeys=[];
	__static(Context,
	['_default',function(){return this._default=new Context();},'replaceKeys',function(){return this.replaceKeys=["font","fillStyle","textBaseline"];}
	]);
	return Context;
})()


/**
*@private
*<code>ResourceManager</code> 是资源管理类。它用于资源的载入、获取、销毁。
*/
//class laya.resource.ResourceManager
var ResourceManager=(function(){
	function ResourceManager(name){
		/**唯一标识ID。*/
		this._id=0;
		/**名字。*/
		this._name=null;
		/**所管理资源。*/
		this._resources=null;
		/**所管理资源的累计内存,以字节为单位。*/
		this._memorySize=0;
		/**垃圾回收比例，范围是0到1。*/
		this._garbageCollectionRate=NaN;
		/**自动释放机制中内存是否溢出。*/
		this._isOverflow=false;
		/**是否启用自动释放机制。*/
		this.autoRelease=false;
		/**自动释放机制的内存触发上限,以字节为单位。*/
		this.autoReleaseMaxSize=0;
		this._id=++ResourceManager._uniqueIDCounter;
		this._name=name ? name :"Content Manager";
		ResourceManager._isResourceManagersSorted=false;
		this._memorySize=0;
		this._isOverflow=false;
		this.autoRelease=false;
		this.autoReleaseMaxSize=1024 *1024 *512;
		this._garbageCollectionRate=0.2;
		ResourceManager._resourceManagers.push(this);
		this._resources=[];
	}

	__class(ResourceManager,'laya.resource.ResourceManager');
	var __proto=ResourceManager.prototype;
	Laya.imps(__proto,{"laya.resource.IDispose":true})
	/**
	*获取指定索引的资源 Resource 对象。
	*@param 索引。
	*@return 资源 Resource 对象。
	*/
	__proto.getResourceByIndex=function(index){
		return this._resources[index];
	}

	/**
	*获取此管理器所管理的资源个数。
	*@return 资源个数。
	*/
	__proto.getResourcesLength=function(){
		return this._resources.length;
	}

	/**
	*添加指定资源。
	*@param resource 需要添加的资源 Resource 对象。
	*@return 是否添加成功。
	*/
	__proto.addResource=function(resource){
		if (resource.resourceManager)
			resource.resourceManager.removeResource(resource);
		var index=this._resources.indexOf(resource);
		if (index===-1){
			resource._resourceManager=this;
			this._resources.push(resource);
			this.addSize(resource.memorySize);
			return true;
		}
		return false;
	}

	/**
	*移除指定资源。
	*@param resource 需要移除的资源 Resource 对象
	*@return 是否移除成功。
	*/
	__proto.removeResource=function(resource){
		var index=this._resources.indexOf(resource);
		if (index!==-1){
			this._resources.splice(index,1);
			resource._resourceManager=null;
			this._memorySize-=resource.memorySize;
			return true;
		}
		return false;
	}

	/**
	*卸载此资源管理器载入的资源。
	*/
	__proto.unload=function(){
		var tempResources=this._resources.slice(0,this._resources.length);
		for (var i=0;i < tempResources.length;i++){
			var resource=tempResources[i];
			resource.destroy();
		}
		tempResources.length=0;
	}

	/**释放资源。*/
	__proto.dispose=function(){
		if (this===ResourceManager._systemResourceManager)
			throw new Error("systemResourceManager不能被释放！");
		ResourceManager._resourceManagers.splice(ResourceManager._resourceManagers.indexOf(this),1);
		ResourceManager._isResourceManagersSorted=false;
		var tempResources=this._resources.slice(0,this._resources.length);
		for (var i=0;i < tempResources.length;i++){
			var resource=tempResources[i];
			resource.resourceManager.removeResource(resource);
			resource.destroy();
		}
		tempResources.length=0;
	}

	/**
	*增加内存。
	*@param add 需要增加的内存大小。
	*/
	__proto.addSize=function(add){
		if (add){
			if (this.autoRelease && add > 0)
				((this._memorySize+add)> this.autoReleaseMaxSize)&& (this.garbageCollection((1-this._garbageCollectionRate)*this.autoReleaseMaxSize));
			this._memorySize+=add;
		}
	}

	/**
	*垃圾回收。
	*@param reserveSize 保留尺寸。
	*/
	__proto.garbageCollection=function(reserveSize){
		var all=this._resources;
		all=all.slice();
		all.sort(function(a,b){
			if (!a || !b)
				throw new Error("a或b不能为空！");
			if (a.released && b.released)
				return 0;
			else if (a.released)
			return 1;
			else if (b.released)
			return-1;
			return a._lastUseFrameCount-b._lastUseFrameCount;
		});
		var currentFrameCount=Stat.loopCount;
		for (var i=0,n=all.length;i < n;i++){
			var resou=all[i];
			if (currentFrameCount-resou._lastUseFrameCount > 1){
				resou.releaseResource();
				}else {
				if (this._memorySize >=reserveSize)
					this._isOverflow=true;
				return;
			}
			if (this._memorySize < reserveSize){
				this._isOverflow=false;
				return;
			}
		}
	}

	/**
	*唯一标识 ID 。
	*/
	__getset(0,__proto,'id',function(){
		return this._id;
	});

	/**
	*名字。
	*/
	__getset(0,__proto,'name',function(){
		return this._name;
		},function(value){
		if ((value || value!=="")&& this._name!==value){
			this._name=value;
			ResourceManager._isResourceManagersSorted=false;
		}
	});

	/**
	*此管理器所管理资源的累计内存，以字节为单位。
	*/
	__getset(0,__proto,'memorySize',function(){
		return this._memorySize;
	});

	/**
	*系统资源管理器。
	*/
	__getset(1,ResourceManager,'systemResourceManager',function(){
		return ResourceManager._systemResourceManager;
	});

	ResourceManager.__init__=function(){
		ResourceManager.currentResourceManager=ResourceManager.systemResourceManager;
	}

	ResourceManager.getLoadedResourceManagerByIndex=function(index){
		return ResourceManager._resourceManagers[index];
	}

	ResourceManager.getLoadedResourceManagersCount=function(){
		return ResourceManager._resourceManagers.length;
	}

	ResourceManager.recreateContentManagers=function(force){
		(force===void 0)&& (force=false);
		var temp=ResourceManager.currentResourceManager;
		for (var i=0;i < ResourceManager._resourceManagers.length;i++){
			ResourceManager.currentResourceManager=ResourceManager._resourceManagers[i];
			for (var j=0;j < ResourceManager.currentResourceManager._resources.length;j++){
				ResourceManager.currentResourceManager._resources[j].releaseResource(force);
				ResourceManager.currentResourceManager._resources[j].activeResource(force);
			}
		}
		ResourceManager.currentResourceManager=temp;
	}

	ResourceManager.releaseContentManagers=function(force){
		(force===void 0)&& (force=false);
		var temp=ResourceManager.currentResourceManager;
		for (var i=0;i < ResourceManager._resourceManagers.length;i++){
			ResourceManager.currentResourceManager=ResourceManager._resourceManagers[i];
			for (var j=0;j < ResourceManager.currentResourceManager._resources.length;j++){
				var resource=ResourceManager.currentResourceManager._resources[j];
				(!resource.released)&& (resource.releaseResource(force));
			}
		}
		ResourceManager.currentResourceManager=temp;
	}

	ResourceManager._uniqueIDCounter=0;
	ResourceManager._isResourceManagersSorted=false;
	ResourceManager._resourceManagers=[];
	__static(ResourceManager,
	['_systemResourceManager',function(){return this._systemResourceManager=new ResourceManager("System Resource Manager");},'currentResourceManager',function(){return this.currentResourceManager=ResourceManager._systemResourceManager;}
	]);
	return ResourceManager;
})()


/**
*@private
*/
//class laya.system.System
var System=(function(){
	function System(){}
	__class(System,'laya.system.System');
	System.changeDefinition=function(name,classObj){
		Laya[name]=classObj;
		var str=name+"=classObj";
		/*__JS__ */eval(str);
	}

	System.__init__=function(){
		if (Render.isConchApp){
			/*__JS__ */conch.disableConchResManager();
			/*__JS__ */conch.disableConchAutoRestoreLostedDevice();
		}
	}

	return System;
})()


SoundManager;
/**
*<code>Browser</code> 是浏览器代理类。封装浏览器及原生 js 提供的一些功能。
*/
//class laya.utils.Browser
var Browser=(function(){
	function Browser(){}
	__class(Browser,'laya.utils.Browser');
	/**设备像素比。*/
	__getset(1,Browser,'pixelRatio',function(){
		Browser.__init__();
		if (Browser.userAgent.indexOf("Mozilla/6.0(Linux; Android 6.0; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10)")>-1)return 2;
		return RunDriver.getPixelRatio();
	});

	/**浏览器窗口物理高度，其值等于clientHeight *pixelRatio，并且浏览器发生反转之后，宽高会互换。*/
	__getset(1,Browser,'height',function(){
		Browser.__init__();
		return ((Laya.stage && Laya.stage.canvasRotation)? Browser.clientWidth :Browser.clientHeight)*Browser.pixelRatio;
	});

	/**
	*浏览器窗口可视宽度。
	*通过分析浏览器信息获得。浏览器多个属性值优先级为：window.innerWidth(包含滚动条宽度)> document.body.clientWidth(不包含滚动条宽度)，如果前者为0或为空，则选择后者。
	*/
	__getset(1,Browser,'clientWidth',function(){
		Browser.__init__();
		return Browser.window.innerWidth || Browser.document.body.clientWidth;
	});

	/**浏览器原生 window 对象的引用。*/
	__getset(1,Browser,'window',function(){
		Browser.__init__();
		return Browser._window;
	});

	/**
	*浏览器窗口可视高度。
	*通过分析浏览器信息获得。浏览器多个属性值优先级为：window.innerHeight(包含滚动条高度)> document.body.clientHeight(不包含滚动条高度)> document.documentElement.clientHeight(不包含滚动条高度)，如果前者为0或为空，则选择后者。
	*/
	__getset(1,Browser,'clientHeight',function(){
		Browser.__init__();
		return Browser.window.innerHeight || Browser.document.body.clientHeight || Browser.document.documentElement.clientHeight;
	});

	/**浏览器窗口物理宽度，其值等于clientWidth *pixelRatio，并且浏览器发生反转之后，宽高会互换。*/
	__getset(1,Browser,'width',function(){
		Browser.__init__();
		return ((Laya.stage && Laya.stage.canvasRotation)? Browser.clientHeight :Browser.clientWidth)*Browser.pixelRatio;
	});

	/**画布容器，用来盛放画布的容器。方便对画布进行控制*/
	__getset(1,Browser,'container',function(){
		Browser.__init__();
		if (!Browser._container){
			Browser._container=Browser.createElement("div");
			Browser._container.id="layaContainer";
			Browser.document.body.appendChild(Browser._container);
		}
		return Browser._container;
		},function(value){
		Browser._container=value;
	});

	/**浏览器原生 document 对象的引用。*/
	__getset(1,Browser,'document',function(){
		Browser.__init__();
		return Browser._document;
	});

	Browser.__init__=function(){
		SoundManager;
		if (Browser._window)return;
		Browser._window=RunDriver.getWindow();
		Browser._document=Browser.window.document;
		Browser._window.addEventListener('message',function(e){
			laya.utils.Browser._onMessage(e);
		},false);
		/*__JS__ */Browser.document.__createElement=Browser.document.createElement;
		/*__JS__ */window.requestAnimationFrame=window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (c){return window.setTimeout(c,1000 / 60);};;
		Browser.userAgent=Browser.window.navigator.userAgent;
		Browser.u=Browser.userAgent;
		Browser.onIOS=!!Browser.u.match(/\(i[^;]+;(U;)? CPU.+Mac OS X/);
		Browser.onMobile=Browser.u.indexOf("Mobile")>-1;
		Browser.onIPhone=Browser.u.indexOf("iPhone")>-1;
		Browser.onMac=Browser.u.indexOf("Mac OS X")>-1;
		Browser.onIPad=Browser.u.indexOf("iPad")>-1;
		Browser.onAndriod=Browser.u.indexOf('Android')>-1 || Browser.u.indexOf('Adr')>-1;
		Browser.onWP=Browser.u.indexOf("Windows Phone")>-1;
		Browser.onQQBrowser=Browser.u.indexOf("QQBrowser")>-1;
		Browser.onMQQBrowser=Browser.u.indexOf("MQQBrowser")>-1 || (Browser.u.indexOf("Mobile")>-1 && Browser.u.indexOf("QQ")>-1);
		Browser.onIE=!!Browser.window.ActiveXObject || "ActiveXObject" in Browser.window;
		Browser.onWeiXin=Browser.u.indexOf('MicroMessenger')>-1;
		Browser.onPC=!Browser.onMobile;
		Browser.onSafari=!!Browser.u.match(/Version\/\d+\.\d\x20Mobile\/\S+\x20Safari/);
		Browser.onFirefox=Browser.u.indexOf('Firefox')>-1;
		Browser.onEdge=Browser.u.indexOf('Edge')>-1;
		Browser.onMiniGame=Browser.u.indexOf('MiniGame')>-1;
		Browser.httpProtocol=Browser.window.location.protocol=="http:";
		if (Browser.onMiniGame && Browser.window.focus==null){
			console.error("请先初始化小游戏适配库，详细教程https://ldc.layabox.com/doc/?nav=zh-ts-5-0-0");
		}
		Browser.webAudioEnabled=Browser.window["AudioContext"] || Browser.window["webkitAudioContext"] || Browser.window["mozAudioContext"] ? true :false;
		Browser.soundType=Browser.webAudioEnabled ? "WEBAUDIOSOUND" :"AUDIOSOUND";
		/*__JS__ */Sound=Browser.webAudioEnabled?WebAudioSound:AudioSound;;
		/*__JS__ */if (Browser.webAudioEnabled)WebAudioSound.initWebAudio();;
		AudioSound._initMusicAudio();
		/*__JS__ */Browser.enableTouch=(('ontouchstart' in window)|| window.DocumentTouch && document instanceof DocumentTouch);
		/*__JS__ */window.focus();
		/*__JS__ */SoundManager._soundClass=Sound;;
		Render._mainCanvas=Render._mainCanvas || HTMLCanvas.create('2D');
		if (Browser.canvas)return;
		Browser.canvas=HTMLCanvas.create('2D');
		Browser.context=Browser.canvas.getContext('2d');
	}

	Browser._onMessage=function(e){
		if (!e.data)return;
		if (e.data.name=="size"){
			Browser.window.innerWidth=e.data.width;
			Browser.window.innerHeight=e.data.height;
			Browser.window.__innerHeight=e.data.clientHeight;
			if (!Browser.document.createEvent){
				console.warn("no document.createEvent");
				return;
			};
			var evt=Browser.document.createEvent("HTMLEvents");
			evt.initEvent("resize",false,false);
			Browser.window.dispatchEvent(evt);
			return;
		}
	}

	Browser.createElement=function(type){
		Browser.__init__();
		return Browser.document.__createElement(type);
	}

	Browser.getElementById=function(type){
		Browser.__init__();
		return Browser.document.getElementById(type);
	}

	Browser.removeElement=function(ele){
		if (ele && ele.parentNode)ele.parentNode.removeChild(ele);
	}

	Browser.now=function(){
		return RunDriver.now();
	}

	Browser._window=null;
	Browser._document=null;
	Browser._container=null;
	Browser.userAgent=null;
	Browser.u=null;
	Browser.onIOS=false;
	Browser.onMac=false;
	Browser.onMobile=false;
	Browser.onIPhone=false;
	Browser.onIPad=false;
	Browser.onAndriod=false;
	Browser.onAndroid=false;
	Browser.onWP=false;
	Browser.onQQBrowser=false;
	Browser.onMQQBrowser=false;
	Browser.onSafari=false;
	Browser.onFirefox=false;
	Browser.onEdge=false;
	Browser.onIE=false;
	Browser.onWeiXin=false;
	Browser.onMiniGame=false;
	Browser.onPC=false;
	Browser.httpProtocol=false;
	Browser.webAudioEnabled=false;
	Browser.soundType=null;
	Browser.enableTouch=false;
	Browser.canvas=null;
	Browser.context=null;
	Browser.__init$=function(){
		AudioSound;
		WebAudioSound;
	}

	return Browser;
})()


/**
*<p> <code>Byte</code> 类提供用于优化读取、写入以及处理二进制数据的方法和属性。</p>
*<p><b>注意：</b> <code>Byte</code> 类适用于需要在字节层访问数据的高级开发人员。</p>
*/
//class laya.utils.Byte
var Byte=(function(){
	function Byte(data){
		/**
		*@private
		*是否为小端数据。
		*/
		this._xd_=true;
		this._allocated_=8;
		/**
		*@private
		*原始数据。
		*/
		//this._d_=null;
		/**
		*@private
		*DataView
		*/
		//this._u8d_=null;
		/**@private */
		this._pos_=0;
		/**@private */
		this._length=0;
		if (data){
			this._u8d_=new Uint8Array(data);
			this._d_=new DataView(this._u8d_.buffer);
			this._length=this._d_.byteLength;
			}else {
			this.___resizeBuffer(this._allocated_);
		}
	}

	__class(Byte,'laya.utils.Byte');
	var __proto=Byte.prototype;
	/**@private */
	__proto.___resizeBuffer=function(len){
		try {
			var newByteView=new Uint8Array(len);
			if (this._u8d_ !=null){
				if (this._u8d_.length <=len)newByteView.set(this._u8d_);
				else newByteView.set(this._u8d_.subarray(0,len));
			}
			this._u8d_=newByteView;
			this._d_=new DataView(newByteView.buffer);
			}catch (err){
			throw "___resizeBuffer err:"+len;
		}
	}

	/**
	*<p>常用于解析固定格式的字节流。</p>
	*<p>先从字节流的当前字节偏移位置处读取一个 <code>Uint16</code> 值，然后以此值为长度，读取此长度的字符串。</p>
	*@return 读取的字符串。
	*/
	__proto.getString=function(){
		return this.rUTF(this.getUint16());
	}

	/**
	*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Float32Array</code> 对象并返回此对象。
	*@param start 开始位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Float32Array 对象。
	*/
	__proto.getFloat32Array=function(start,len){
		var end=start+len;
		end=(end > this._length)? this._length :end;
		var v=new Float32Array(this._d_.buffer.slice(start,end));
		this._pos_=end;
		return v;
	}

	/**
	*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Uint8Array</code> 对象并返回此对象。
	*@param start 开始位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Uint8Array 对象。
	*/
	__proto.getUint8Array=function(start,len){
		var end=start+len;
		end=(end > this._length)? this._length :end;
		var v=new Uint8Array(this._d_.buffer.slice(start,end));
		this._pos_=end;
		return v;
	}

	/**
	*从字节流中 <code>start</code> 参数指定的位置开始，读取 <code>len</code> 参数指定的字节数的数据，用于创建一个 <code>Int16Array</code> 对象并返回此对象。
	*@param start 开始读取的字节偏移量位置。
	*@param len 需要读取的字节长度。如果要读取的长度超过可读取范围，则只返回可读范围内的值。
	*@return 读取的 Uint8Array 对象。
	*/
	__proto.getInt16Array=function(start,len){
		var end=start+len;
		end=(end > this._length)? this._length :end;
		var v=new Int16Array(this._d_.buffer.slice(start,end));
		this._pos_=end;
		return v;
	}

	/**
	*从字节流的当前字节偏移位置处读取一个 IEEE 754 单精度（32 位）浮点数。
	*@return 单精度（32 位）浮点数。
	*/
	__proto.getFloat32=function(){
		if (this._pos_+4 > this._length)throw "getFloat32 error - Out of bounds";
		var v=this._d_.getFloat32(this._pos_,this._xd_);
		this._pos_+=4;
		return v;
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 IEEE 754 双精度（64 位）浮点数。
	*@return 双精度（64 位）浮点数。
	*/
	__proto.getFloat64=function(){
		if (this._pos_+8 > this._length)throw "getFloat64 error - Out of bounds";
		var v=this._d_.getFloat64(this._pos_,this._xd_);
		this._pos_+=8;
		return v;
	}

	/**
	*在字节流的当前字节偏移量位置处写入一个 IEEE 754 单精度（32 位）浮点数。
	*@param value 单精度（32 位）浮点数。
	*/
	__proto.writeFloat32=function(value){
		this.ensureWrite(this._pos_+4);
		this._d_.setFloat32(this._pos_,value,this._xd_);
		this._pos_+=4;
	}

	/**
	*在字节流的当前字节偏移量位置处写入一个 IEEE 754 双精度（64 位）浮点数。
	*@param value 双精度（64 位）浮点数。
	*/
	__proto.writeFloat64=function(value){
		this.ensureWrite(this._pos_+8);
		this._d_.setFloat64(this._pos_,value,this._xd_);
		this._pos_+=8;
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Int32 值。
	*@return Int32 值。
	*/
	__proto.getInt32=function(){
		if (this._pos_+4 > this._length)throw "getInt32 error - Out of bounds";
		var float=this._d_.getInt32(this._pos_,this._xd_);
		this._pos_+=4;
		return float;
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Uint32 值。
	*@return Uint32 值。
	*/
	__proto.getUint32=function(){
		if (this._pos_+4 > this._length)throw "getUint32 error - Out of bounds";
		var v=this._d_.getUint32(this._pos_,this._xd_);
		this._pos_+=4;
		return v;
	}

	/**
	*在字节流的当前字节偏移量位置处写入指定的 Int32 值。
	*@param value 需要写入的 Int32 值。
	*/
	__proto.writeInt32=function(value){
		this.ensureWrite(this._pos_+4);
		this._d_.setInt32(this._pos_,value,this._xd_);
		this._pos_+=4;
	}

	/**
	*在字节流的当前字节偏移量位置处写入 Uint32 值。
	*@param value 需要写入的 Uint32 值。
	*/
	__proto.writeUint32=function(value){
		this.ensureWrite(this._pos_+4);
		this._d_.setUint32(this._pos_,value,this._xd_);
		this._pos_+=4;
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Int16 值。
	*@return Int16 值。
	*/
	__proto.getInt16=function(){
		if (this._pos_+2 > this._length)throw "getInt16 error - Out of bounds";
		var us=this._d_.getInt16(this._pos_,this._xd_);
		this._pos_+=2;
		return us;
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Uint16 值。
	*@return Uint16 值。
	*/
	__proto.getUint16=function(){
		if (this._pos_+2 > this._length)throw "getUint16 error - Out of bounds";
		var us=this._d_.getUint16(this._pos_,this._xd_);
		this._pos_+=2;
		return us;
	}

	/**
	*在字节流的当前字节偏移量位置处写入指定的 Uint16 值。
	*@param value 需要写入的Uint16 值。
	*/
	__proto.writeUint16=function(value){
		this.ensureWrite(this._pos_+2);
		this._d_.setUint16(this._pos_,value,this._xd_);
		this._pos_+=2;
	}

	/**
	*在字节流的当前字节偏移量位置处写入指定的 Int16 值。
	*@param value 需要写入的 Int16 值。
	*/
	__proto.writeInt16=function(value){
		this.ensureWrite(this._pos_+2);
		this._d_.setInt16(this._pos_,value,this._xd_);
		this._pos_+=2;
	}

	/**
	*从字节流的当前字节偏移量位置处读取一个 Uint8 值。
	*@return Uint8 值。
	*/
	__proto.getUint8=function(){
		if (this._pos_+1 > this._length)throw "getUint8 error - Out of bounds";
		return this._d_.getUint8(this._pos_++);
	}

	/**
	*在字节流的当前字节偏移量位置处写入指定的 Uint8 值。
	*@param value 需要写入的 Uint8 值。
	*/
	__proto.writeUint8=function(value){
		this.ensureWrite(this._pos_+1);
		this._d_.setUint8(this._pos_,value);
		this._pos_++;
	}

	/**
	*@private
	*从字节流的指定字节偏移量位置处读取一个 Uint8 值。
	*@param pos 字节读取位置。
	*@return Uint8 值。
	*/
	__proto._getUInt8=function(pos){
		return this._d_.getUint8(pos);
	}

	/**
	*@private
	*从字节流的指定字节偏移量位置处读取一个 Uint16 值。
	*@param pos 字节读取位置。
	*@return Uint16 值。
	*/
	__proto._getUint16=function(pos){
		return this._d_.getUint16(pos,this._xd_);
	}

	/**
	*@private
	*使用 getFloat32()读取6个值，用于创建并返回一个 Matrix 对象。
	*@return Matrix 对象。
	*/
	__proto._getMatrix=function(){
		var rst=new Matrix(this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32(),this.getFloat32());
		return rst;
	}

	/**
	*@private
	*读取指定长度的 UTF 型字符串。
	*@param len 需要读取的长度。
	*@return 读取的字符串。
	*/
	__proto.rUTF=function(len){
		var v="",max=this._pos_+len,c=0,c2=0,c3=0,f=String.fromCharCode;
		var u=this._u8d_,i=0;
		while (this._pos_ < max){
			c=u[this._pos_++];
			if (c < 0x80){
				if (c !=0){
					v+=f(c);
				}
				}else if (c < 0xE0){
				v+=f(((c & 0x3F)<< 6)| (u[this._pos_++] & 0x7F));
				}else if (c < 0xF0){
				c2=u[this._pos_++];
				v+=f(((c & 0x1F)<< 12)| ((c2 & 0x7F)<< 6)| (u[this._pos_++] & 0x7F));
				}else {
				c2=u[this._pos_++];
				c3=u[this._pos_++];
				v+=f(((c & 0x0F)<< 18)| ((c2 & 0x7F)<< 12)| ((c3 << 6)& 0x7F)| (u[this._pos_++] & 0x7F));
			}
			i++;
		}
		return v;
	}

	/**
	*@private
	*读取 <code>len</code> 参数指定的长度的字符串。
	*@param len 要读取的字符串的长度。
	*@return 指定长度的字符串。
	*/
	__proto.getCustomString=function(len){
		var v="",ulen=0,c=0,c2=0,f=String.fromCharCode;
		var u=this._u8d_,i=0;
		while (len > 0){
			c=u[this._pos_];
			if (c < 0x80){
				v+=f(c);
				this._pos_++;
				len--;
				}else {
				ulen=c-0x80;
				this._pos_++;
				len-=ulen;
				while (ulen > 0){
					c=u[this._pos_++];
					c2=u[this._pos_++];
					v+=f((c2 << 8)| c);
					ulen--;
				}
			}
		}
		return v;
	}

	/**
	*清除字节数组的内容，并将 length 和 pos 属性重置为 0。调用此方法将释放 Byte 实例占用的内存。
	*/
	__proto.clear=function(){
		this._pos_=0;
		this.length=0;
	}

	/**
	*@private
	*获取此对象的 ArrayBuffer 引用。
	*@return
	*/
	__proto.__getBuffer=function(){
		return this._d_.buffer;
	}

	/**
	*<p>将 UTF-8 字符串写入字节流。类似于 writeUTF()方法，但 writeUTFBytes()不使用 16 位长度的字为字符串添加前缀。</p>
	*<p>对应的读取方法为： getUTFBytes 。</p>
	*@param value 要写入的字符串。
	*/
	__proto.writeUTFBytes=function(value){
		value=value+"";
		for (var i=0,sz=value.length;i < sz;i++){
			var c=value.charCodeAt(i);
			if (c <=0x7F){
				this.writeByte(c);
				}else if (c <=0x7FF){
				this.ensureWrite(this._pos_+2);
				this._u8d_.set([0xC0 | (c >> 6),0x80 | (c & 0x3F)],this._pos_);
				this._pos_+=2;
				}else if (c <=0xFFFF){
				this.ensureWrite(this._pos_+3);
				this._u8d_.set([0xE0 | (c >> 12),0x80 | ((c >> 6)& 0x3F),0x80 | (c & 0x3F)],this._pos_);
				this._pos_+=3;
				}else {
				this.ensureWrite(this._pos_+4);
				this._u8d_.set([0xF0 | (c >> 18),0x80 | ((c >> 12)& 0x3F),0x80 | ((c >> 6)& 0x3F),0x80 | (c & 0x3F)],this._pos_);
				this._pos_+=4;
			}
		}
	}

	/**
	*<p>将 UTF-8 字符串写入字节流。先写入以字节表示的 UTF-8 字符串长度（作为 16 位整数），然后写入表示字符串字符的字节。</p>
	*<p>对应的读取方法为： getUTFString 。</p>
	*@param value 要写入的字符串值。
	*/
	__proto.writeUTFString=function(value){
		var tPos=this.pos;
		this.writeUint16(1);
		this.writeUTFBytes(value);
		var dPos=this.pos-tPos-2;
		if (dPos >=65536){
			throw "writeUTFString byte len more than 65536";
		}
		this._d_.setUint16(tPos,dPos,this._xd_);
	}

	/**
	*@private
	*读取 UTF-8 字符串。
	*@return 读取的字符串。
	*/
	__proto.readUTFString=function(){
		return this.readUTFBytes(this.getUint16());
	}

	/**
	*<p>从字节流中读取一个 UTF-8 字符串。假定字符串的前缀是一个无符号的短整型（以此字节表示要读取的长度）。</p>
	*<p>对应的写入方法为： writeUTFString 。</p>
	*@return 读取的字符串。
	*/
	__proto.getUTFString=function(){
		return this.readUTFString();
	}

	/**
	*@private
	*读字符串，必须是 writeUTFBytes 方法写入的字符串。
	*@param len 要读的buffer长度，默认将读取缓冲区全部数据。
	*@return 读取的字符串。
	*/
	__proto.readUTFBytes=function(len){
		(len===void 0)&& (len=-1);
		if (len==0)return "";
		var lastBytes=this.bytesAvailable;
		if (len > lastBytes)throw "readUTFBytes error - Out of bounds";
		len=len > 0 ? len :lastBytes;
		return this.rUTF(len);
	}

	/**
	*<p>从字节流中读取一个由 length 参数指定的长度的 UTF-8 字节序列，并返回一个字符串。</p>
	*<p>一般读取的是由 writeUTFBytes 方法写入的字符串。</p>
	*@param len 要读的buffer长度，默认将读取缓冲区全部数据。
	*@return 读取的字符串。
	*/
	__proto.getUTFBytes=function(len){
		(len===void 0)&& (len=-1);
		return this.readUTFBytes(len);
	}

	/**
	*<p>在字节流中写入一个字节。</p>
	*<p>使用参数的低 8 位。忽略高 24 位。</p>
	*@param value
	*/
	__proto.writeByte=function(value){
		this.ensureWrite(this._pos_+1);
		this._d_.setInt8(this._pos_,value);
		this._pos_+=1;
	}

	/**
	*@private
	*从字节流中读取带符号的字节。
	*/
	__proto.readByte=function(){
		if (this._pos_+1 > this._length)throw "readByte error - Out of bounds";
		return this._d_.getInt8(this._pos_++);
	}

	/**
	*<p>从字节流中读取带符号的字节。</p>
	*<p>返回值的范围是从-128 到 127。</p>
	*@return 介于-128 和 127 之间的整数。
	*/
	__proto.getByte=function(){
		return this.readByte();
	}

	/**
	*<p>保证该字节流的可用长度不小于 <code>lengthToEnsure</code> 参数指定的值。</p>
	*@param lengthToEnsure 指定的长度。
	*/
	__proto.ensureWrite=function(lengthToEnsure){
		if (this._length < lengthToEnsure)this._length=lengthToEnsure;
		if (this._allocated_ < lengthToEnsure)this.length=lengthToEnsure;
	}

	/**
	*<p>将指定 arraybuffer 对象中的以 offset 为起始偏移量， length 为长度的字节序列写入字节流。</p>
	*<p>如果省略 length 参数，则使用默认长度 0，该方法将从 offset 开始写入整个缓冲区；如果还省略了 offset 参数，则写入整个缓冲区。</p>
	*<p>如果 offset 或 length 小于0，本函数将抛出异常。</p>
	*$NEXTBIG 由于没有判断length和arraybuffer的合法性，当开发者填写了错误的length值时，会导致写入多余的空白数据甚至内存溢出，为了避免影响开发者正在使用此方法的功能，下个重大版本会修复这些问题。
	*@param arraybuffer 需要写入的 Arraybuffer 对象。
	*@param offset Arraybuffer 对象的索引的偏移量（以字节为单位）
	*@param length 从 Arraybuffer 对象写入到 Byte 对象的长度（以字节为单位）
	*/
	__proto.writeArrayBuffer=function(arraybuffer,offset,length){
		(offset===void 0)&& (offset=0);
		(length===void 0)&& (length=0);
		if (offset < 0 || length < 0)throw "writeArrayBuffer error - Out of bounds";
		if (length==0)length=arraybuffer.byteLength-offset;
		this.ensureWrite(this._pos_+length);
		var uint8array=new Uint8Array(arraybuffer);
		this._u8d_.set(uint8array.subarray(offset,offset+length),this._pos_);
		this._pos_+=length;
	}

	/**
	*获取此对象的 ArrayBuffer 数据，数据只包含有效数据部分。
	*/
	__getset(0,__proto,'buffer',function(){
		var rstBuffer=this._d_.buffer;
		if (rstBuffer.byteLength==this.length)return rstBuffer;
		return rstBuffer.slice(0,this.length);
	});

	/**
	*<p> <code>Byte</code> 实例的字节序。取值为：<code>BIG_ENDIAN</code> 或 <code>BIG_ENDIAN</code> 。</p>
	*<p>主机字节序，是 CPU 存放数据的两种不同顺序，包括小端字节序和大端字节序。通过 <code>getSystemEndian</code> 可以获取当前系统的字节序。</p>
	*<p> <code>BIG_ENDIAN</code> ：大端字节序，地址低位存储值的高位，地址高位存储值的低位。有时也称之为网络字节序。<br/>
	*<code>LITTLE_ENDIAN</code> ：小端字节序，地址低位存储值的低位，地址高位存储值的高位。</p>
	*/
	__getset(0,__proto,'endian',function(){
		return this._xd_ ? "littleEndian" :"bigEndian";
		},function(endianStr){
		this._xd_=(endianStr=="littleEndian");
	});

	/**
	*<p> <code>Byte</code> 对象的长度（以字节为单位）。</p>
	*<p>如果将长度设置为大于当前长度的值，则用零填充字节数组的右侧；如果将长度设置为小于当前长度的值，将会截断该字节数组。</p>
	*<p>如果要设置的长度大于当前已分配的内存空间的字节长度，则重新分配内存空间，大小为以下两者较大者：要设置的长度、当前已分配的长度的2倍，并将原有数据拷贝到新的内存空间中；如果要设置的长度小于当前已分配的内存空间的字节长度，也会重新分配内存空间，大小为要设置的长度，并将原有数据从头截断为要设置的长度存入新的内存空间中。</p>
	*/
	__getset(0,__proto,'length',function(){
		return this._length;
		},function(value){
		if (this._allocated_ < value)
			this.___resizeBuffer(this._allocated_=Math.floor(Math.max(value,this._allocated_ *2)));
		else if (this._allocated_ > value)
		this.___resizeBuffer(this._allocated_=value);
		this._length=value;
	});

	/**
	*移动或返回 Byte 对象的读写指针的当前位置（以字节为单位）。下一次调用读取方法时将在此位置开始读取，或者下一次调用写入方法时将在此位置开始写入。
	*/
	__getset(0,__proto,'pos',function(){
		return this._pos_;
		},function(value){
		this._pos_=value;
	});

	/**
	*可从字节流的当前位置到末尾读取的数据的字节数。
	*/
	__getset(0,__proto,'bytesAvailable',function(){
		return this._length-this._pos_;
	});

	Byte.getSystemEndian=function(){
		if (!Byte._sysEndian){
			var buffer=new ArrayBuffer(2);
			new DataView(buffer).setInt16(0,256,true);
			Byte._sysEndian=(new Int16Array(buffer))[0]===256 ? /*CLASS CONST:laya.utils.Byte.LITTLE_ENDIAN*/"littleEndian" :/*CLASS CONST:laya.utils.Byte.BIG_ENDIAN*/"bigEndian";
		}
		return Byte._sysEndian;
	}

	Byte.BIG_ENDIAN="bigEndian";
	Byte.LITTLE_ENDIAN="littleEndian";
	Byte._sysEndian=null;
	return Byte;
})()


/**
*@private
*对象缓存统一管理类
*/
//class laya.utils.CacheManager
var CacheManager=(function(){
	function CacheManager(){}
	__class(CacheManager,'laya.utils.CacheManager');
	CacheManager.regCacheByFunction=function(disposeFunction,getCacheListFunction){
		CacheManager.unRegCacheByFunction(disposeFunction,getCacheListFunction);
		var cache;
		cache={tryDispose:disposeFunction,getCacheList:getCacheListFunction};
		CacheManager._cacheList.push(cache);
	}

	CacheManager.unRegCacheByFunction=function(disposeFunction,getCacheListFunction){
		var i=0,len=0;
		len=CacheManager._cacheList.length;
		for (i=0;i < len;i++){
			if (CacheManager._cacheList[i].tryDispose==disposeFunction && CacheManager._cacheList[i].getCacheList==getCacheListFunction){
				CacheManager._cacheList.splice(i,1);
				return;
			}
		}
	}

	CacheManager.forceDispose=function(){
		var i=0,len=CacheManager._cacheList.length;
		for (i=0;i < len;i++){
			CacheManager._cacheList[i].tryDispose(true);
		}
	}

	CacheManager.beginCheck=function(waitTime){
		(waitTime===void 0)&& (waitTime=15000);
		Laya.timer.loop(waitTime,null,CacheManager._checkLoop);
	}

	CacheManager.stopCheck=function(){
		Laya.timer.clear(null,CacheManager._checkLoop);
	}

	CacheManager._checkLoop=function(){
		var cacheList=CacheManager._cacheList;
		if (cacheList.length < 1)return;
		var tTime=Browser.now();
		var count=0;
		var len=0;
		len=count=cacheList.length;
		while (count > 0){
			CacheManager._index++;
			CacheManager._index=CacheManager._index % len;
			cacheList[CacheManager._index].tryDispose(false);
			if (Browser.now()-tTime > CacheManager.loopTimeLimit)break ;
			count--;
		}
	}

	CacheManager.loopTimeLimit=2;
	CacheManager._cacheList=[];
	CacheManager._index=0;
	return CacheManager;
})()


/**
*<code>ClassUtils</code> 是一个类工具类。
*/
//class laya.utils.ClassUtils
var ClassUtils=(function(){
	function ClassUtils(){}
	__class(ClassUtils,'laya.utils.ClassUtils');
	ClassUtils.regClass=function(className,classDef){
		ClassUtils._classMap[className]=classDef;
	}

	ClassUtils.getRegClass=function(className){
		return ClassUtils._classMap[className];
	}

	ClassUtils.getInstance=function(className){
		var compClass=ClassUtils.getClass(className);
		if (compClass)
			return new compClass();
		else
		console.warn("[error] Undefined class:",className);
		return null;
	}

	ClassUtils.createByJson=function(json,node,root,customHandler,instanceHandler){
		if ((typeof json=='string'))
			json=JSON.parse(json);
		var props=json.props;
		if (!node){
			node=instanceHandler ? instanceHandler.runWith(json):ClassUtils.getInstance(props.runtime || json.type);
			if (!node)
				return null;
		};
		var child=json.child;
		if (child){
			for (var i=0,n=child.length;i < n;i++){
				var data=child[i];
				if ((data.props.name==="render" || data.props.renderType==="render")&& node["_$set_itemRender"])
					node.itemRender=data;
				else {
					if (data.type=="Graphic"){
						ClassUtils.addGraphicsToSprite(data,node);
						}else if (ClassUtils.isDrawType(data.type)){
						ClassUtils.addGraphicToSprite(data,node,true);
						}else {
						var tChild=ClassUtils.createByJson(data,null,root,customHandler,instanceHandler)
						if (data.type=="Script"){
							if (tChild.hasOwnProperty("owner")){
								tChild["owner"]=node;
								}else if (tChild.hasOwnProperty("target")){
								tChild["target"]=node;
							}
							}else if (data.props.renderType=="mask"){
							node.mask=tChild;
							}else {
							node.addChild(tChild);
						}
					}
				}
			}
		}
		if (props){
			for (var prop in props){
				var value=props[prop];
				if (prop==="var" && root){
					root[value]=node;
					}else if ((value instanceof Array)&& (typeof (node[prop])=='function')){
					node[prop].apply(node,value);
					}else {
					node[prop]=value;
				}
			}
		}
		if (customHandler && json.customProps){
			customHandler.runWith([node,json]);
		}
		if (node["created"])
			node.created();
		return node;
	}

	ClassUtils.addGraphicsToSprite=function(graphicO,sprite){
		var graphics;
		graphics=graphicO.child;
		if (!graphics || graphics.length < 1)
			return;
		var g;
		g=ClassUtils._getGraphicsFromSprite(graphicO,sprite);
		var ox=0;
		var oy=0;
		if (graphicO.props){
			ox=ClassUtils._getObjVar(graphicO.props,"x",0);
			oy=ClassUtils._getObjVar(graphicO.props,"y",0);
		}
		if (ox !=0 && oy !=0){
			g.translate(ox,oy);
		};
		var i=0,len=0;
		len=graphics.length;
		for (i=0;i < len;i++){
			ClassUtils._addGraphicToGraphics(graphics[i],g);
		}
		if (ox !=0 && oy !=0){
			g.translate(-ox,-oy);
		}
	}

	ClassUtils.addGraphicToSprite=function(graphicO,sprite,isChild){
		(isChild===void 0)&& (isChild=false);
		var g;
		g=isChild ? ClassUtils._getGraphicsFromSprite(graphicO,sprite):sprite.graphics;
		ClassUtils._addGraphicToGraphics(graphicO,g);
	}

	ClassUtils._getGraphicsFromSprite=function(dataO,sprite){
		var g;
		if (!dataO || !dataO.props)
			return sprite.graphics;
		var propsName;
		propsName=dataO.props.renderType;
		switch (propsName){
			case "hit":
			case "unHit":;
				var hitArea;
				if (!sprite.hitArea){
					sprite.hitArea=new HitArea();
				}
				hitArea=sprite.hitArea;
				if (!hitArea[propsName]){
					hitArea[propsName]=new Graphics();
				}
				g=hitArea[propsName];
				break ;
			default :
			}
		if (!g)
			g=sprite.graphics;
		return g;
	}

	ClassUtils._getTransformData=function(propsO){
		var m;
		if (propsO.hasOwnProperty("pivotX")|| propsO.hasOwnProperty("pivotY")){
			m=m || new Matrix();
			m.translate(-ClassUtils._getObjVar(propsO,"pivotX",0),-ClassUtils._getObjVar(propsO,"pivotY",0));
		};
		var sx=ClassUtils._getObjVar(propsO,"scaleX",1),sy=ClassUtils._getObjVar(propsO,"scaleY",1);
		var rotate=ClassUtils._getObjVar(propsO,"rotation",0);
		var skewX=ClassUtils._getObjVar(propsO,"skewX",0);
		var skewY=ClassUtils._getObjVar(propsO,"skewY",0);
		if (sx !=1 || sy !=1 || rotate !=0){
			m=m || new Matrix();
			m.scale(sx,sy);
			m.rotate(rotate *0.0174532922222222);
		}
		return m;
	}

	ClassUtils._addGraphicToGraphics=function(graphicO,graphic){
		var propsO;
		propsO=graphicO.props;
		if (!propsO)
			return;
		var drawConfig;
		drawConfig=ClassUtils.DrawTypeDic[graphicO.type];
		if (!drawConfig)
			return;
		var g;
		g=graphic;
		var m;
		var params=ClassUtils._getParams(propsO,drawConfig[1],drawConfig[2],drawConfig[3]);
		m=ClassUtils._tM;
		if (m || ClassUtils._alpha !=1){
			g.save();
			if (m)
				g.transform(m);
			if (ClassUtils._alpha !=1)
				g.alpha(ClassUtils._alpha);
		}
		g[drawConfig[0]].apply(g,params);
		if (m || ClassUtils._alpha !=1){
			g.restore();
		}
	}

	ClassUtils._adptLineData=function(params){
		params[2]=parseFloat(params[0])+parseFloat(params[2]);
		params[3]=parseFloat(params[1])+parseFloat(params[3]);
		return params;
	}

	ClassUtils._adptTextureData=function(params){
		params[0]=Loader.getRes(params[0]);
		return params;
	}

	ClassUtils._adptLinesData=function(params){
		params[2]=ClassUtils._getPointListByStr(params[2]);
		return params;
	}

	ClassUtils.isDrawType=function(type){
		if (type=="Image")
			return false;
		return ClassUtils.DrawTypeDic.hasOwnProperty(type);
	}

	ClassUtils._getParams=function(obj,params,xPos,adptFun){
		(xPos===void 0)&& (xPos=0);
		var rst;
		rst=ClassUtils._temParam;
		rst.length=params.length;
		var i=0,len=0;
		len=params.length;
		for (i=0;i < len;i++){
			rst[i]=ClassUtils._getObjVar(obj,params[i][0],params[i][1]);
		}
		ClassUtils._alpha=ClassUtils._getObjVar(obj,"alpha",1);
		var m;
		m=ClassUtils._getTransformData(obj);
		if (m){
			if (!xPos)xPos=0;
			m.translate(rst[xPos],rst[xPos+1]);
			rst[xPos]=rst[xPos+1]=0;
			ClassUtils._tM=m;
			}else {
			ClassUtils._tM=null;
		}
		if (adptFun && ClassUtils[adptFun]){
			rst=ClassUtils[adptFun](rst);
		}
		return rst;
	}

	ClassUtils._getPointListByStr=function(str){
		var pointArr;
		pointArr=str.split(",");
		var i=0,len=0;
		len=pointArr.length;
		for (i=0;i < len;i++){
			pointArr[i]=parseFloat(pointArr[i]);
		}
		return pointArr;
	}

	ClassUtils._getObjVar=function(obj,key,noValue){
		if (obj.hasOwnProperty(key)){
			return obj[key];
		}
		return noValue;
	}

	ClassUtils._temParam=[];
	ClassUtils.getClass=function(className){
		var classObject=ClassUtils._classMap[className] || className;
		if ((typeof classObject=='string'))
			return Laya["__classmap"][classObject];
		return classObject;
	}

	ClassUtils._tM=null;
	ClassUtils._alpha=NaN;
	__static(ClassUtils,
	['DrawTypeDic',function(){return this.DrawTypeDic={"Rect":["drawRect",[["x",0],["y",0],["width",0],["height",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],"Circle":["drawCircle",[["x",0],["y",0],["radius",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],"Pie":["drawPie",[["x",0],["y",0],["radius",0],["startAngle",0],["endAngle",0],["fillColor",null],["lineColor",null],["lineWidth",1]]],"Image":["drawTexture",[["x",0],["y",0],["width",0],["height",0]]],"Texture":["drawTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0]],1,"_adptTextureData"],"FillTexture":["fillTexture",[["skin",null],["x",0],["y",0],["width",0],["height",0],["repeat",null]],1,"_adptTextureData"],"FillText":["fillText",[["text",""],["x",0],["y",0],["font",null],["color",null],["textAlign",null]],1],"Line":["drawLine",[["x",0],["y",0],["toX",0],["toY",0],["lineColor",null],["lineWidth",0]],0,"_adptLineData"],"Lines":["drawLines",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],"Curves":["drawCurves",[["x",0],["y",0],["points",""],["lineColor",null],["lineWidth",0]],0,"_adptLinesData"],"Poly":["drawPoly",[["x",0],["y",0],["points",""],["fillColor",null],["lineColor",null],["lineWidth",1]],0,"_adptLinesData"]};},'_classMap',function(){return this._classMap={'Sprite':'laya.display.Sprite','Text':'laya.display.Text','Animation':'laya.display.Animation','Skeleton':'laya.ani.bone.Skeleton','Particle2D':'laya.particle.Particle2D','div':'laya.html.dom.HTMLDivElement','p':'laya.html.dom.HTMLElement','img':'laya.html.dom.HTMLImageElement','span':'laya.html.dom.HTMLElement','br':'laya.html.dom.HTMLBrElement','style':'laya.html.dom.HTMLStyleElement','font':'laya.html.dom.HTMLElement','a':'laya.html.dom.HTMLElement','#text':'laya.html.dom.HTMLElement'};}
	]);
	return ClassUtils;
})()


/**
*@private
*<code>Color</code> 是一个颜色值处理类。
*/
//class laya.utils.Color
var Color=(function(){
	function Color(str){
		/**@private */
		this._color=[];
		/**字符串型颜色值。*/
		//this.strColor=null;
		/**uint 型颜色值。*/
		//this.numColor=0;
		//this._drawStyle=null;
		if ((typeof str=='string')){
			this.strColor=str;
			if (str===null)str="#000000";
			str.charAt(0)=='#' && (str=str.substr(1));
			var len=str.length;
			if (len==3 || len==4){
				var temp="";
				for (var i=0;i < len;i++){
					temp+=(str[i]+str[i]);
				}
				str=temp;
			};
			var color=this.numColor=parseInt(str,16);
			var flag=(str.length==8);
			if (flag){
				this._color=[parseInt(str.substr(0,2),16)/ 255,((0x00FF0000 & color)>> 16)/ 255,((0x0000FF00 & color)>> 8)/ 255,(0x000000FF & color)/ 255];
				return;
			}
			}else {
			color=this.numColor=str;
			this.strColor=Utils.toHexColor(color);
		}
		this._color=[((0xFF0000 & color)>> 16)/ 255,((0xFF00 & color)>> 8)/ 255,(0xFF & color)/ 255,1];
		(this._color).__id=++Color._COLODID;
	}

	__class(Color,'laya.utils.Color');
	Color._initDefault=function(){
		Color._DEFAULT={};
		for (var i in Color._COLOR_MAP)Color._SAVE[i]=Color._DEFAULT[i]=new Color(Color._COLOR_MAP[i]);
		return Color._DEFAULT;
	}

	Color._initSaveMap=function(){
		Color._SAVE_SIZE=0;
		Color._SAVE={};
		for (var i in Color._DEFAULT)Color._SAVE[i]=Color._DEFAULT[i];
	}

	Color.create=function(str){
		var color=Color._SAVE[str+""];
		if (color !=null)return color;
		(Color._SAVE_SIZE < 1000)|| Color._initSaveMap();
		return Color._SAVE[str+""]=new Color(str);
	}

	Color._SAVE={};
	Color._SAVE_SIZE=0;
	Color._COLODID=1;
	__static(Color,
	['_COLOR_MAP',function(){return this._COLOR_MAP={"white":'#FFFFFF',"red":'#FF0000',"green":'#00FF00',"blue":'#0000FF',"black":'#000000',"yellow":'#FFFF00','gray':'#AAAAAA'};},'_DEFAULT',function(){return this._DEFAULT=Color._initDefault();}
	]);
	return Color;
})()


/**
*<code>Dictionary</code> 是一个字典型的数据存取类。
*/
//class laya.utils.Dictionary
var Dictionary=(function(){
	function Dictionary(){
		this._values=[];
		this._keys=[];
	}

	__class(Dictionary,'laya.utils.Dictionary');
	var __proto=Dictionary.prototype;
	/**
	*给指定的键名设置值。
	*@param key 键名。
	*@param value 值。
	*/
	__proto.set=function(key,value){
		var index=this.indexOf(key);
		if (index >=0){
			this._values[index]=value;
			return;
		}
		this._keys.push(key);
		this._values.push(value);
	}

	/**
	*获取指定对象的键名索引。
	*@param key 键名对象。
	*@return 键名索引。
	*/
	__proto.indexOf=function(key){
		var index=this._keys.indexOf(key);
		if (index >=0)return index;
		key=((typeof key=='string'))? Number(key):(((typeof key=='number'))? key.toString():key);
		return this._keys.indexOf(key);
	}

	/**
	*返回指定键名的值。
	*@param key 键名对象。
	*@return 指定键名的值。
	*/
	__proto.get=function(key){
		var index=this.indexOf(key);
		return index < 0 ? null :this._values[index];
	}

	/**
	*移除指定键名的值。
	*@param key 键名对象。
	*@return 是否成功移除。
	*/
	__proto.remove=function(key){
		var index=this.indexOf(key);
		if (index >=0){
			this._keys.splice(index,1);
			this._values.splice(index,1);
			return true;
		}
		return false;
	}

	/**
	*清除此对象的键名列表和键值列表。
	*/
	__proto.clear=function(){
		this._values.length=0;
		this._keys.length=0;
	}

	/**
	*获取所有的子元素列表。
	*/
	__getset(0,__proto,'values',function(){
		return this._values;
	});

	/**
	*获取所有的子元素键名列表。
	*/
	__getset(0,__proto,'keys',function(){
		return this._keys;
	});

	return Dictionary;
})()


/**
*@private
*<code>Dragging</code> 类是触摸滑动控件。
*/
//class laya.utils.Dragging
var Dragging=(function(){
	function Dragging(){
		/**被拖动的对象。*/
		//this.target=null;
		/**缓动衰减系数。*/
		this.ratio=0.92;
		/**单帧最大偏移量。*/
		this.maxOffset=60;
		/**滑动范围。*/
		//this.area=null;
		/**表示拖动是否有惯性。*/
		//this.hasInertia=false;
		/**橡皮筋最大值。*/
		//this.elasticDistance=NaN;
		/**橡皮筋回弹时间，单位为毫秒。*/
		//this.elasticBackTime=NaN;
		/**事件携带数据。*/
		//this.data=null;
		this._dragging=false;
		this._clickOnly=true;
		//this._elasticRateX=NaN;
		//this._elasticRateY=NaN;
		//this._lastX=NaN;
		//this._lastY=NaN;
		//this._offsetX=NaN;
		//this._offsetY=NaN;
		//this._offsets=null;
		//this._disableMouseEvent=false;
		//this._tween=null;
		//this._parent=null;
	}

	__class(Dragging,'laya.utils.Dragging');
	var __proto=Dragging.prototype;
	/**
	*开始拖拽。
	*@param target 待拖拽的 <code>Sprite</code> 对象。
	*@param area 滑动范围。
	*@param hasInertia 拖动是否有惯性。
	*@param elasticDistance 橡皮筋最大值。
	*@param elasticBackTime 橡皮筋回弹时间，单位为毫秒。
	*@param data 事件携带数据。
	*@param disableMouseEvent 鼠标事件是否有效。
	*@param ratio 惯性阻尼系数
	*/
	__proto.start=function(target,area,hasInertia,elasticDistance,elasticBackTime,data,disableMouseEvent,ratio){
		(ratio===void 0)&& (ratio=0.92);
		this.clearTimer();
		this.target=target;
		this.area=area;
		this.hasInertia=hasInertia;
		this.elasticDistance=area ? elasticDistance :0;
		this.elasticBackTime=elasticBackTime;
		this.data=data;
		this._disableMouseEvent=disableMouseEvent;
		this.ratio=ratio;
		if (target.globalScaleX !=1 || target.globalScaleY !=1){
			this._parent=target.parent;
			}else {
			this._parent=Laya.stage;
		}
		this._clickOnly=true;
		this._dragging=true;
		this._elasticRateX=this._elasticRateY=1;
		this._lastX=this._parent.mouseX;
		this._lastY=this._parent.mouseY;
		Laya.stage.on(/*laya.events.Event.MOUSE_UP*/"mouseup",this,this.onStageMouseUp);
		Laya.stage.on(/*laya.events.Event.MOUSE_OUT*/"mouseout",this,this.onStageMouseUp);
		Laya.timer.frameLoop(1,this,this.loop);
	}

	/**
	*清除计时器。
	*/
	__proto.clearTimer=function(){
		Laya.timer.clear(this,this.loop);
		Laya.timer.clear(this,this.tweenMove);
		if (this._tween){
			this._tween.recover();
			this._tween=null;
		}
	}

	/**
	*停止拖拽。
	*/
	__proto.stop=function(){
		if (this._dragging){
			MouseManager.instance.disableMouseEvent=false;
			Laya.stage.off(/*laya.events.Event.MOUSE_UP*/"mouseup",this,this.onStageMouseUp);
			Laya.stage.off(/*laya.events.Event.MOUSE_OUT*/"mouseout",this,this.onStageMouseUp);
			this._dragging=false;
			this.target && this.area && this.backToArea();
			this.clear();
		}
	}

	/**
	*拖拽的循环处理函数。
	*/
	__proto.loop=function(){
		var point=this._parent.getMousePoint();
		var mouseX=point.x;
		var mouseY=point.y;
		var offsetX=mouseX-this._lastX;
		var offsetY=mouseY-this._lastY;
		if (this._clickOnly){
			if (Math.abs(offsetX *Laya.stage._canvasTransform.getScaleX())> 1 || Math.abs(offsetY *Laya.stage._canvasTransform.getScaleY())> 1){
				this._clickOnly=false;
				this._offsets || (this._offsets=[]);
				this._offsets.length=0;
				this.target.event(/*laya.events.Event.DRAG_START*/"dragstart",this.data);
				MouseManager.instance.disableMouseEvent=this._disableMouseEvent;
				this.target._set$P("$_MOUSEDOWN",false);
			}else return;
			}else {
			this._offsets.push(offsetX,offsetY);
		}
		if (offsetX===0 && offsetY===0)return;
		this._lastX=mouseX;
		this._lastY=mouseY;
		this.target.x+=offsetX *this._elasticRateX;
		this.target.y+=offsetY *this._elasticRateY;
		this.area && this.checkArea();
		this.target.event(/*laya.events.Event.DRAG_MOVE*/"dragmove",this.data);
	}

	/**
	*拖拽区域检测。
	*/
	__proto.checkArea=function(){
		if (this.elasticDistance <=0){
			this.backToArea();
			}else {
			if (this.target.x < this.area.x){
				var offsetX=this.area.x-this.target.x;
				}else if (this.target.x > this.area.x+this.area.width){
				offsetX=this.target.x-this.area.x-this.area.width;
				}else {
				offsetX=0;
			}
			this._elasticRateX=Math.max(0,1-(offsetX / this.elasticDistance));
			if (this.target.y < this.area.y){
				var offsetY=this.area.y-this.target.y;
				}else if (this.target.y > this.area.y+this.area.height){
				offsetY=this.target.y-this.area.y-this.area.height;
				}else {
				offsetY=0;
			}
			this._elasticRateY=Math.max(0,1-(offsetY / this.elasticDistance));
		}
	}

	/**
	*移动至设定的拖拽区域。
	*/
	__proto.backToArea=function(){
		this.target.x=Math.min(Math.max(this.target.x,this.area.x),this.area.x+this.area.width);
		this.target.y=Math.min(Math.max(this.target.y,this.area.y),this.area.y+this.area.height);
	}

	/**
	*舞台的抬起事件侦听函数。
	*@param e Event 对象。
	*/
	__proto.onStageMouseUp=function(e){
		MouseManager.instance.disableMouseEvent=false;
		Laya.stage.off(/*laya.events.Event.MOUSE_UP*/"mouseup",this,this.onStageMouseUp);
		Laya.stage.off(/*laya.events.Event.MOUSE_OUT*/"mouseout",this,this.onStageMouseUp);
		Laya.timer.clear(this,this.loop);
		if (this._clickOnly || !this.target)return;
		if (this.hasInertia){
			if (this._offsets.length < 1){
				this._offsets.push(this._parent.mouseX-this._lastX,this._parent.mouseY-this._lastY);
			}
			this._offsetX=this._offsetY=0;
			var len=this._offsets.length;
			var n=Math.min(len,6);
			var m=this._offsets.length-n;
			for (var i=len-1;i > m;i--){
				this._offsetY+=this._offsets[i--];
				this._offsetX+=this._offsets[i];
			}
			this._offsetX=this._offsetX / n *2;
			this._offsetY=this._offsetY / n *2;
			if (Math.abs(this._offsetX)> this.maxOffset)this._offsetX=this._offsetX > 0 ? this.maxOffset :-this.maxOffset;
			if (Math.abs(this._offsetY)> this.maxOffset)this._offsetY=this._offsetY > 0 ? this.maxOffset :-this.maxOffset;
			Laya.timer.frameLoop(1,this,this.tweenMove);
			}else if (this.elasticDistance > 0){
			this.checkElastic();
			}else {
			this.clear();
		}
	}

	/**
	*橡皮筋效果检测。
	*/
	__proto.checkElastic=function(){
		var tx=NaN;
		var ty=NaN;
		if (this.target.x < this.area.x)tx=this.area.x;
		else if (this.target.x > this.area.x+this.area.width)tx=this.area.x+this.area.width;
		if (this.target.y < this.area.y)ty=this.area.y;
		else if (this.target.y > this.area.y+this.area.height)ty=this.area.y+this.area.height;
		if (!isNaN(tx)|| !isNaN(ty)){
			var obj={};
			if (!isNaN(tx))obj.x=tx;
			if (!isNaN(ty))obj.y=ty;
			this._tween=Tween.to(this.target,obj,this.elasticBackTime,Ease.sineOut,Handler.create(this,this.clear),0,false,false);
			}else {
			this.clear();
		}
	}

	/**
	*移动。
	*/
	__proto.tweenMove=function(){
		this._offsetX *=this.ratio *this._elasticRateX;
		this._offsetY *=this.ratio *this._elasticRateY;
		this.target.x+=this._offsetX;
		this.target.y+=this._offsetY;
		this.area && this.checkArea();
		this.target.event(/*laya.events.Event.DRAG_MOVE*/"dragmove",this.data);
		if ((Math.abs(this._offsetX)< 1 && Math.abs(this._offsetY)< 1)|| this._elasticRateX < 0.5 || this._elasticRateY < 0.5){
			Laya.timer.clear(this,this.tweenMove);
			if (this.elasticDistance > 0)this.checkElastic();
			else this.clear();
		}
	}

	/**
	*结束拖拽。
	*/
	__proto.clear=function(){
		if (this.target){
			this.clearTimer();
			var sp=this.target;
			this.target=null;
			this._parent=null;
			sp.event(/*laya.events.Event.DRAG_END*/"dragend",this.data);
		}
	}

	return Dragging;
})()


/**
*<code>Ease</code> 类定义了缓动函数，以便实现 <code>Tween</code> 动画的缓动效果。
*/
//class laya.utils.Ease
var Ease=(function(){
	function Ease(){}
	__class(Ease,'laya.utils.Ease');
	Ease.linearNone=function(t,b,c,d){
		return c *t / d+b;
	}

	Ease.linearIn=function(t,b,c,d){
		return c *t / d+b;
	}

	Ease.linearInOut=function(t,b,c,d){
		return c *t / d+b;
	}

	Ease.linearOut=function(t,b,c,d){
		return c *t / d+b;
	}

	Ease.bounceIn=function(t,b,c,d){
		return c-Ease.bounceOut(d-t,0,c,d)+b;
	}

	Ease.bounceInOut=function(t,b,c,d){
		if (t < d *0.5)return Ease.bounceIn(t *2,0,c,d)*.5+b;
		else return Ease.bounceOut(t *2-d,0,c,d)*.5+c *.5+b;
	}

	Ease.bounceOut=function(t,b,c,d){
		if ((t /=d)< (1 / 2.75))return c *(7.5625 *t *t)+b;
		else if (t < (2 / 2.75))return c *(7.5625 *(t-=(1.5 / 2.75))*t+.75)+b;
		else if (t < (2.5 / 2.75))return c *(7.5625 *(t-=(2.25 / 2.75))*t+.9375)+b;
		else return c *(7.5625 *(t-=(2.625 / 2.75))*t+.984375)+b;
	}

	Ease.backIn=function(t,b,c,d,s){
		(s===void 0)&& (s=1.70158);
		return c *(t /=d)*t *((s+1)*t-s)+b;
	}

	Ease.backInOut=function(t,b,c,d,s){
		(s===void 0)&& (s=1.70158);
		if ((t /=d *0.5)< 1)return c *0.5 *(t *t *(((s *=(1.525))+1)*t-s))+b;
		return c / 2 *((t-=2)*t *(((s *=(1.525))+1)*t+s)+2)+b;
	}

	Ease.backOut=function(t,b,c,d,s){
		(s===void 0)&& (s=1.70158);
		return c *((t=t / d-1)*t *((s+1)*t+s)+1)+b;
	}

	Ease.elasticIn=function(t,b,c,d,a,p){
		(a===void 0)&& (a=0);
		(p===void 0)&& (p=0);
		var s;
		if (t==0)return b;
		if ((t /=d)==1)return b+c;
		if (!p)p=d *.3;
		if (!a || (c > 0 && a < c)|| (c < 0 && a <-c)){
			a=c;
			s=p / 4;
		}else s=p / Ease.PI2 *Math.asin(c / a);
		return-(a *Math.pow(2,10 *(t-=1))*Math.sin((t *d-s)*Ease.PI2 / p))+b;
	}

	Ease.elasticInOut=function(t,b,c,d,a,p){
		(a===void 0)&& (a=0);
		(p===void 0)&& (p=0);
		var s;
		if (t==0)return b;
		if ((t /=d *0.5)==2)return b+c;
		if (!p)p=d *(.3 *1.5);
		if (!a || (c > 0 && a < c)|| (c < 0 && a <-c)){
			a=c;
			s=p / 4;
		}else s=p / Ease.PI2 *Math.asin(c / a);
		if (t < 1)return-.5 *(a *Math.pow(2,10 *(t-=1))*Math.sin((t *d-s)*Ease.PI2 / p))+b;
		return a *Math.pow(2,-10 *(t-=1))*Math.sin((t *d-s)*Ease.PI2 / p)*.5+c+b;
	}

	Ease.elasticOut=function(t,b,c,d,a,p){
		(a===void 0)&& (a=0);
		(p===void 0)&& (p=0);
		var s;
		if (t==0)return b;
		if ((t /=d)==1)return b+c;
		if (!p)p=d *.3;
		if (!a || (c > 0 && a < c)|| (c < 0 && a <-c)){
			a=c;
			s=p / 4;
		}else s=p / Ease.PI2 *Math.asin(c / a);
		return (a *Math.pow(2,-10 *t)*Math.sin((t *d-s)*Ease.PI2 / p)+c+b);
	}

	Ease.strongIn=function(t,b,c,d){
		return c *(t /=d)*t *t *t *t+b;
	}

	Ease.strongInOut=function(t,b,c,d){
		if ((t /=d *0.5)< 1)return c *0.5 *t *t *t *t *t+b;
		return c *0.5 *((t-=2)*t *t *t *t+2)+b;
	}

	Ease.strongOut=function(t,b,c,d){
		return c *((t=t / d-1)*t *t *t *t+1)+b;
	}

	Ease.sineInOut=function(t,b,c,d){
		return-c *0.5 *(Math.cos(Math.PI *t / d)-1)+b;
	}

	Ease.sineIn=function(t,b,c,d){
		return-c *Math.cos(t / d *Ease.HALF_PI)+c+b;
	}

	Ease.sineOut=function(t,b,c,d){
		return c *Math.sin(t / d *Ease.HALF_PI)+b;
	}

	Ease.quintIn=function(t,b,c,d){
		return c *(t /=d)*t *t *t *t+b;
	}

	Ease.quintInOut=function(t,b,c,d){
		if ((t /=d *0.5)< 1)return c *0.5 *t *t *t *t *t+b;
		return c *0.5 *((t-=2)*t *t *t *t+2)+b;
	}

	Ease.quintOut=function(t,b,c,d){
		return c *((t=t / d-1)*t *t *t *t+1)+b;
	}

	Ease.quartIn=function(t,b,c,d){
		return c *(t /=d)*t *t *t+b;
	}

	Ease.quartInOut=function(t,b,c,d){
		if ((t /=d *0.5)< 1)return c *0.5 *t *t *t *t+b;
		return-c *0.5 *((t-=2)*t *t *t-2)+b;
	}

	Ease.quartOut=function(t,b,c,d){
		return-c *((t=t / d-1)*t *t *t-1)+b;
	}

	Ease.cubicIn=function(t,b,c,d){
		return c *(t /=d)*t *t+b;
	}

	Ease.cubicInOut=function(t,b,c,d){
		if ((t /=d *0.5)< 1)return c *0.5 *t *t *t+b;
		return c *0.5 *((t-=2)*t *t+2)+b;
	}

	Ease.cubicOut=function(t,b,c,d){
		return c *((t=t / d-1)*t *t+1)+b;
	}

	Ease.quadIn=function(t,b,c,d){
		return c *(t /=d)*t+b;
	}

	Ease.quadInOut=function(t,b,c,d){
		if ((t /=d *0.5)< 1)return c *0.5 *t *t+b;
		return-c *0.5 *((--t)*(t-2)-1)+b;
	}

	Ease.quadOut=function(t,b,c,d){
		return-c *(t /=d)*(t-2)+b;
	}

	Ease.expoIn=function(t,b,c,d){
		return (t==0)? b :c *Math.pow(2,10 *(t / d-1))+b-c *0.001;
	}

	Ease.expoInOut=function(t,b,c,d){
		if (t==0)return b;
		if (t==d)return b+c;
		if ((t /=d *0.5)< 1)return c *0.5 *Math.pow(2,10 *(t-1))+b;
		return c *0.5 *(-Math.pow(2,-10 *--t)+2)+b;
	}

	Ease.expoOut=function(t,b,c,d){
		return (t==d)? b+c :c *(-Math.pow(2,-10 *t / d)+1)+b;
	}

	Ease.circIn=function(t,b,c,d){
		return-c *(Math.sqrt(1-(t /=d)*t)-1)+b;
	}

	Ease.circInOut=function(t,b,c,d){
		if ((t /=d *0.5)< 1)return-c *0.5 *(Math.sqrt(1-t *t)-1)+b;
		return c *0.5 *(Math.sqrt(1-(t-=2)*t)+1)+b;
	}

	Ease.circOut=function(t,b,c,d){
		return c *Math.sqrt(1-(t=t / d-1)*t)+b;
	}

	__static(Ease,
	['HALF_PI',function(){return this.HALF_PI=Math.PI *0.5;},'PI2',function(){return this.PI2=Math.PI *2;}
	]);
	return Ease;
})()


/**
*鼠标点击区域，可以设置绘制一系列矢量图作为点击区域和非点击区域（目前只支持圆形，矩形，多边形）
*/
//class laya.utils.HitArea
var HitArea=(function(){
	function HitArea(){
		/**@private */
		this._hit=null;
		/**@private */
		this._unHit=null;
	}

	__class(HitArea,'laya.utils.HitArea');
	var __proto=HitArea.prototype;
	/**
	*是否包含某个点
	*@param x x坐标
	*@param y y坐标
	*@return 是否点击到
	*/
	__proto.isHit=function(x,y){
		if (!HitArea.isHitGraphic(x,y,this.hit))return false;
		return !HitArea.isHitGraphic(x,y,this.unHit);
	}

	/**
	*检测对象是否包含指定的点。
	*@param x 点的 X 轴坐标值（水平位置）。
	*@param y 点的 Y 轴坐标值（垂直位置）。
	*@return 如果包含指定的点，则值为 true；否则为 false。
	*/
	__proto.contains=function(x,y){
		return this.isHit(x,y);
	}

	/**
	*可点击区域，可以设置绘制一系列矢量图作为点击区域（目前只支持圆形，矩形，多边形）
	*/
	__getset(0,__proto,'hit',function(){
		if (!this._hit)this._hit=new Graphics();
		return this._hit;
		},function(value){
		this._hit=value;
	});

	/**
	*不可点击区域，可以设置绘制一系列矢量图作为非点击区域（目前只支持圆形，矩形，多边形）
	*/
	__getset(0,__proto,'unHit',function(){
		if (!this._unHit)this._unHit=new Graphics();
		return this._unHit;
		},function(value){
		this._unHit=value;
	});

	HitArea.isHitGraphic=function(x,y,graphic){
		if (!graphic)return false;
		var cmds;
		cmds=graphic.cmds;
		if (!cmds && graphic._one){
			cmds=HitArea._cmds;
			cmds.length=1;
			cmds[0]=graphic._one;
		}
		if (!cmds)return false;
		var i=0,len=0;
		len=cmds.length;
		var cmd;
		for (i=0;i < len;i++){
			cmd=cmds[i];
			if (!cmd)continue ;
			var context=Render._context;
			switch (cmd.callee){
				case context._translate:
				case 6:
					x-=cmd[0];
					y-=cmd[1];
				default :
				}
			if (HitArea.isHitCmd(x,y,cmd))return true;
		}
		return false;
	}

	HitArea.isHitCmd=function(x,y,cmd){
		if (!cmd)return false;
		var context=Render._context;
		var rst=false;
		switch (cmd["callee"]){
			case context._drawRect:
			case 13:
				HitArea._rec.setTo(cmd[0],cmd[1],cmd[2],cmd[3]);
				rst=HitArea._rec.contains(x,y);
				break ;
			case context._drawCircle:
			case context._fillCircle:
			case 14:;
				var d=NaN;
				x-=cmd[0];
				y-=cmd[1];
				d=x *x+y *y;
				rst=d < cmd[2] *cmd[2];
				break ;
			case context._drawPoly:
			case 18:
				x-=cmd[0];
				y-=cmd[1];
				rst=HitArea.ptInPolygon(x,y,cmd[2]);
				break ;
			default :
				break ;
			}
		return rst;
	}

	HitArea.ptInPolygon=function(x,y,areaPoints){
		var p;
		p=HitArea._ptPoint;
		p.setTo(x,y);
		var nCross=0;
		var p1x=NaN,p1y=NaN,p2x=NaN,p2y=NaN;
		var len=0;
		len=areaPoints.length;
		for (var i=0;i < len;i+=2){
			p1x=areaPoints[i];
			p1y=areaPoints[i+1];
			p2x=areaPoints[(i+2)% len];
			p2y=areaPoints[(i+3)% len];
			if (p1y==p2y)
				continue ;
			if (p.y < Math.min(p1y,p2y))
				continue ;
			if (p.y >=Math.max(p1y,p2y))
				continue ;
			var tx=(p.y-p1y)*(p2x-p1x)/ (p2y-p1y)+p1x;
			if (tx > p.x){
				nCross++;
			}
		}
		return (nCross % 2==1);
	}

	HitArea._cmds=[];
	__static(HitArea,
	['_rec',function(){return this._rec=new Rectangle();},'_ptPoint',function(){return this._ptPoint=new Point();}
	]);
	return HitArea;
})()


/**
*@private
*<code>HTMLChar</code> 是一个 HTML 字符类。
*/
//class laya.utils.HTMLChar
var HTMLChar=(function(){
	function HTMLChar(char,w,h,style){
		//this._sprite=null;
		//this._x=NaN;
		//this._y=NaN;
		//this._w=NaN;
		//this._h=NaN;
		/**表示是否是正常单词(英文|.|数字)。*/
		//this.isWord=false;
		/**字符。*/
		//this.char=null;
		/**字符数量。*/
		//this.charNum=NaN;
		/**CSS 样式。*/
		//this.style=null;
		this.char=char;
		this.charNum=char.charCodeAt(0);
		this._x=this._y=0;
		this.width=w;
		this.height=h;
		this.style=style;
		this.isWord=!HTMLChar._isWordRegExp.test(char);
	}

	__class(HTMLChar,'laya.utils.HTMLChar');
	var __proto=HTMLChar.prototype;
	Laya.imps(__proto,{"laya.display.ILayout":true})
	/**
	*设置与此对象绑定的显示对象 <code>Sprite</code> 。
	*@param sprite 显示对象 <code>Sprite</code> 。
	*/
	__proto.setSprite=function(sprite){
		this._sprite=sprite;
	}

	/**
	*获取与此对象绑定的显示对象 <code>Sprite</code>。
	*@return
	*/
	__proto.getSprite=function(){
		return this._sprite;
	}

	/**@private */
	__proto._isChar=function(){
		return true;
	}

	/**@private */
	__proto._getCSSStyle=function(){
		return this.style;
	}

	/**
	*宽度。
	*/
	__getset(0,__proto,'width',function(){
		return this._w;
		},function(value){
		this._w=value;
	});

	/**
	*此对象存储的 X 轴坐标值。
	*当设置此值时，如果此对象有绑定的 Sprite 对象，则改变 Sprite 对象的属性 x 的值。
	*/
	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		if (this._sprite){
			this._sprite.x=value;
		}
		this._x=value;
	});

	/**
	*此对象存储的 Y 轴坐标值。
	*当设置此值时，如果此对象有绑定的 Sprite 对象，则改变 Sprite 对象的属性 y 的值。
	*/
	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		if (this._sprite){
			this._sprite.y=value;
		}
		this._y=value;
	});

	/**
	*高度。
	*/
	__getset(0,__proto,'height',function(){
		return this._h;
		},function(value){
		this._h=value;
	});

	__static(HTMLChar,
	['_isWordRegExp',function(){return this._isWordRegExp=new RegExp("[\\w\.]","");}
	]);
	return HTMLChar;
})()


/**
*<code>Log</code> 类用于在界面内显示日志记录信息。
*/
//class laya.utils.Log
var Log=(function(){
	function Log(){}
	__class(Log,'laya.utils.Log');
	Log.enable=function(){
		if (!Log._logdiv){
			Log._logdiv=Browser.window.document.createElement('div');
			Browser.window.document.body.appendChild(Log._logdiv);
			Log._logdiv.style.cssText="pointer-events:none;border:white;overflow:hidden;z-index:1000000;background:rgba(100,100,100,0.6);color:white;position: absolute;left:0px;top:0px;width:50%;height:50%;";
		}
	}

	Log.toggle=function(){
		var style=Log._logdiv.style;
		if (style.width=="1px"){
			style.width=style.height="50%";
			}else {
			style.width=style.height="1px";
		}
	}

	Log.print=function(value){
		if (Log._logdiv){
			if (Log._count >=Log.maxCount)Log.clear();
			Log._count++;
			Log._logdiv.innerText+=value+"\n";
			Log._logdiv.scrollTop=Log._logdiv.scrollHeight;
		}
	}

	Log.clear=function(){
		Log._logdiv.innerText="";
		Log._count=0;
	}

	Log._logdiv=null;
	Log._count=0;
	Log.maxCount=20;
	return Log;
})()


/**
*<code>Mouse</code> 类用于控制鼠标光标。
*/
//class laya.utils.Mouse
var Mouse=(function(){
	function Mouse(){}
	__class(Mouse,'laya.utils.Mouse');
	/**
	*设置鼠标样式
	*@param cursorStr
	*例如auto move no-drop col-resize
	*all-scroll pointer not-allowed row-resize
	*crosshair progress e-resize ne-resize
	*default text n-resize nw-resize
	*help vertical-text s-resize se-resize
	*inherit wait w-resize sw-resize
	*
	*/
	__getset(1,Mouse,'cursor',function(){
		return Mouse._style.cursor;
		},function(cursorStr){
		Mouse._style.cursor=cursorStr;
	});

	Mouse.hide=function(){
		if (Mouse.cursor !="none"){
			Mouse._preCursor=Mouse.cursor;
			Mouse.cursor="none";
		}
	}

	Mouse.show=function(){
		if (Mouse.cursor=="none"){
			if (Mouse._preCursor){
				Mouse.cursor=Mouse._preCursor;
				}else {
				Mouse.cursor="auto";
			}
		}
	}

	Mouse._preCursor=null;
	__static(Mouse,
	['_style',function(){return this._style=Browser.document.body.style;}
	]);
	return Mouse;
})()


/**
*<p> <code>Pool</code> 是对象池类，用于对象的存贮、重复使用。</p>
*<p>合理使用对象池，可以有效减少对象创建的开销，避免频繁的垃圾回收，从而优化游戏流畅度。</p>
*/
//class laya.utils.Pool
var Pool=(function(){
	function Pool(){}
	__class(Pool,'laya.utils.Pool');
	Pool.getPoolBySign=function(sign){
		return Pool._poolDic[sign] || (Pool._poolDic[sign]=[]);
	}

	Pool.clearBySign=function(sign){
		if (Pool._poolDic[sign])Pool._poolDic[sign].length=0;
	}

	Pool.recover=function(sign,item){
		if (item["__InPool"])return;
		item["__InPool"]=true;
		Pool.getPoolBySign(sign).push(item);
	}

	Pool.getItemByClass=function(sign,cls){
		var pool=Pool.getPoolBySign(sign);
		var rst=pool.length ? pool.pop():new cls();
		rst["__InPool"]=false;
		return rst;
	}

	Pool.getItemByCreateFun=function(sign,createFun){
		var pool=Pool.getPoolBySign(sign);
		var rst=pool.length ? pool.pop():createFun();
		rst["__InPool"]=false;
		return rst;
	}

	Pool.getItem=function(sign){
		var pool=Pool.getPoolBySign(sign);
		var rst=pool.length ? pool.pop():null;
		if (rst){
			rst["__InPool"]=false;
		}
		return rst;
	}

	Pool._poolDic={};
	Pool.InPoolSign="__InPool";
	return Pool;
})()


/**
*@private
*基于个数的对象缓存管理器
*/
//class laya.utils.PoolCache
var PoolCache=(function(){
	function PoolCache(){
		/**
		*对象在Pool中的标识
		*/
		this.sign=null;
		/**
		*允许缓存的最大数量
		*/
		this.maxCount=1000;
	}

	__class(PoolCache,'laya.utils.PoolCache');
	var __proto=PoolCache.prototype;
	/**
	*获取缓存的对象列表
	*@return
	*
	*/
	__proto.getCacheList=function(){
		return Pool.getPoolBySign(this.sign);
	}

	/**
	*尝试清理缓存
	*@param force 是否强制清理
	*
	*/
	__proto.tryDispose=function(force){
		var list;
		list=Pool.getPoolBySign(this.sign);
		if (list.length > this.maxCount){
			list.splice(this.maxCount,list.length-this.maxCount);
		}
	}

	PoolCache.addPoolCacheManager=function(sign,maxCount){
		(maxCount===void 0)&& (maxCount=100);
		var cache;
		cache=new PoolCache();
		cache.sign=sign;
		cache.maxCount=maxCount;
		CacheManager.regCacheByFunction(Utils.bind(cache.tryDispose,cache),Utils.bind(cache.getCacheList,cache));
	}

	return PoolCache;
})()


/**
*<p> <code>Stat</code> 是一个性能统计面板，可以实时更新相关的性能参数。</p>
*<p>参与统计的性能参数如下（所有参数都是每大约1秒进行更新）：<br/>
*FPS(Canvas)/FPS(WebGL)：Canvas 模式或者 WebGL 模式下的帧频，也就是每秒显示的帧数，值越高、越稳定，感觉越流畅；<br/>
*Sprite：统计所有渲染节点（包括容器）数量，它的大小会影响引擎进行节点遍历、数据组织和渲染的效率。其值越小，游戏运行效率越高；<br/>
*DrawCall：此值是决定性能的重要指标，其值越小，游戏运行效率越高。Canvas模式下表示每大约1秒的图像绘制次数；WebGL模式下表示每大约1秒的渲染提交批次，每次准备数据并通知GPU渲染绘制的过程称为1次DrawCall，在每次DrawCall中除了在通知GPU的渲染上比较耗时之外，切换材质与shader也是非常耗时的操作；<br/>
*CurMem：Canvas模式下，表示内存占用大小，值越小越好，过高会导致游戏闪退；WebGL模式下，表示内存与显存的占用，值越小越好；<br/>
*Shader：是 WebGL 模式独有的性能指标，表示每大约1秒 Shader 提交次数，值越小越好；<br/>
*Canvas：由三个数值组成，只有设置 CacheAs 后才会有值，默认为0/0/0。从左到右数值的意义分别为：每帧重绘的画布数量 / 缓存类型为"normal"类型的画布数量 / 缓存类型为"bitmap"类型的画布数量。</p>
*/
//class laya.utils.Stat
var Stat=(function(){
	function Stat(){}
	__class(Stat,'laya.utils.Stat');
	/**
	*点击性能统计显示区域的处理函数。
	*/
	__getset(1,Stat,'onclick',null,function(fn){
		if (Stat._sp){
			Stat._sp.on("click",Stat._sp,fn);
		}
		if (Stat._canvas){
			Stat._canvas.source.onclick=fn;
			Stat._canvas.source.style.pointerEvents='';
		}
	});

	Stat.show=function(x,y){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		if (Render.isConchApp){
			Browser.window.conch.showFPS && Browser.window.conch.showFPS(x,y);
			return;
		}
		if (!Browser.onMiniGame)Stat._useCanvas=true;
		Stat._show=true;
		Stat._fpsData.length=60;
		Stat._view[0]={title:"FPS(Canvas)",value:"_fpsStr",color:"yellow",units:"int"};
		Stat._view[1]={title:"Sprite",value:"_spriteStr",color:"white",units:"int"};
		Stat._view[2]={title:"DrawCall",value:"drawCall",color:"white",units:"int"};
		Stat._view[3]={title:"CurMem",value:"currentMemorySize",color:"yellow",units:"M"};
		if (Render.isWebGL){
			Stat._view[4]={title:"Shader",value:"shaderCall",color:"white",units:"int"};
			if (!Render.is3DMode){
				Stat._view[0].title="FPS(WebGL)";
				Stat._view[5]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"};
				}else {
				Stat._view[0].title="FPS(3D)";
				Stat._view[5]={title:"TriFaces",value:"trianglesFaces",color:"white",units:"int"};
				Stat._view[6]={title:"treeNodeColl",value:"treeNodeCollision",color:"white",units:"int"};
				Stat._view[7]={title:"treeSpriteColl",value:"treeSpriteCollision",color:"white",units:"int"};
			}
			}else {
			Stat._view[4]={title:"Canvas",value:"_canvasStr",color:"white",units:"int"};
		}
		if (Stat._useCanvas){
			Stat.createUIPre(x,y);
		}else
		Stat.createUI(x,y);
		Stat.enable();
	}

	Stat.createUIPre=function(x,y){
		var pixel=Browser.pixelRatio;
		Stat._width=pixel *130;
		Stat._vx=pixel *75;
		Stat._height=pixel *(Stat._view.length *12+3 *pixel)+4;
		Stat._fontSize=12 *pixel;
		for (var i=0;i < Stat._view.length;i++){
			Stat._view[i].x=4;
			Stat._view[i].y=i *Stat._fontSize+2 *pixel;
		}
		if (!Stat._canvas){
			Stat._canvas=new HTMLCanvas('2D');
			Stat._canvas.size(Stat._width,Stat._height);
			Stat._ctx=Stat._canvas.getContext('2d');
			Stat._ctx.textBaseline="top";
			Stat._ctx.font=Stat._fontSize+"px Sans-serif";
			Stat._canvas.source.style.cssText="pointer-events:none;background:rgba(150,150,150,0.8);z-index:100000;position: absolute;direction:ltr;left:"+x+"px;top:"+y+"px;width:"+(Stat._width / pixel)+"px;height:"+(Stat._height / pixel)+"px;";
		}
		Stat._first=true;
		Stat.loop();
		Stat._first=false;
		Browser.container.appendChild(Stat._canvas.source);
	}

	Stat.createUI=function(x,y){
		var stat=Stat._sp;
		var pixel=Browser.pixelRatio;
		if (!stat){
			stat=new Sprite();
			Stat._leftText=new Text();
			Stat._leftText.pos(5,5);
			Stat._leftText.color="#ffffff";
			stat.addChild(Stat._leftText);
			Stat._txt=new Text();
			Stat._txt.pos(80*pixel,5);
			Stat._txt.color="#ffffff";
			stat.addChild(Stat._txt);
			Stat._sp=stat;
		}
		stat.pos(x,y);
		var text="";
		for (var i=0;i < Stat._view.length;i++){
			var one=Stat._view[i];
			text+=one.title+"\n";
		}
		Stat._leftText.text=text;
		var width=pixel *138;
		var height=pixel *(Stat._view.length *12+3 *pixel)+4;
		Stat._txt.fontSize=Stat._fontSize *pixel;
		Stat._leftText.fontSize=Stat._fontSize *pixel;
		stat.size(width,height);
		stat.graphics.clear();
		stat.graphics.setAlpha(0.5);
		stat.graphics.drawRect(0,0,width,height,"#999999");
		stat.graphics.setAlpha(1);
		Stat.loop();
	}

	Stat.enable=function(){
		Laya.timer.frameLoop(1,Stat,Stat.loop);
	}

	Stat.hide=function(){
		Stat._show=false;
		Laya.timer.clear(Stat,Stat.loop);
		if (Stat._canvas){
			Browser.removeElement(Stat._canvas.source);
		}
	}

	Stat.clear=function(){
		Stat.trianglesFaces=Stat.drawCall=Stat.shaderCall=Stat.spriteCount=Stat.spriteRenderUseCacheCount=Stat.treeNodeCollision=Stat.treeSpriteCollision=Stat.canvasNormal=Stat.canvasBitmap=Stat.canvasReCache=0;
	}

	Stat.loop=function(){
		Stat._count++;
		var timer=Browser.now();
		if (timer-Stat._timer < 1000)return;
		var count=Stat._count;
		Stat.FPS=Math.round((count *1000)/ (timer-Stat._timer));
		if (Stat._show){
			Stat.trianglesFaces=Math.round(Stat.trianglesFaces / count);
			if (!Stat._useCanvas){
				Stat.drawCall=Math.round(Stat.drawCall / count)-2;
				Stat.shaderCall=Math.round(Stat.shaderCall / count)-4;
				Stat.spriteCount=Math.round(Stat.spriteCount / count)-4;
				}else{
				Stat.drawCall=Math.round(Stat.drawCall / count)-2;
				Stat.shaderCall=Math.round(Stat.shaderCall / count);
				Stat.spriteCount=Math.round(Stat.spriteCount / count)-1;
			}
			Stat.spriteRenderUseCacheCount=Math.round(Stat.spriteRenderUseCacheCount / count);
			Stat.canvasNormal=Math.round(Stat.canvasNormal / count);
			Stat.canvasBitmap=Math.round(Stat.canvasBitmap / count);
			Stat.canvasReCache=Math.ceil(Stat.canvasReCache / count);
			Stat.treeNodeCollision=Math.round(Stat.treeNodeCollision / count);
			Stat.treeSpriteCollision=Math.round(Stat.treeSpriteCollision / count);
			var delay=Stat.FPS > 0 ? Math.floor(1000 / Stat.FPS).toString():" ";
			Stat._fpsStr=Stat.FPS+(Stat.renderSlow ? " slow" :"")+" "+delay;
			Stat._spriteStr=Stat.spriteCount+(Stat.spriteRenderUseCacheCount ? ("/"+Stat.spriteRenderUseCacheCount):'');
			Stat._canvasStr=Stat.canvasReCache+"/"+Stat.canvasNormal+"/"+Stat.canvasBitmap;
			Stat.currentMemorySize=ResourceManager.systemResourceManager.memorySize;
			if (Stat._useCanvas){
				Stat.renderInfoPre();
			}else
			Stat.renderInfo();
			Stat.clear();
		}
		Stat._count=0;
		Stat._timer=timer;
	}

	Stat.renderInfoPre=function(){
		if (Stat._canvas){
			var ctx=Stat._ctx;
			ctx.clearRect(Stat._first ? 0 :Stat._vx,0,Stat._width,Stat._height);
			for (var i=0;i < Stat._view.length;i++){
				var one=Stat._view[i];
				if (Stat._first){
					ctx.fillStyle="white";
					ctx.fillText(one.title,one.x,one.y,null,null,null);
				}
				ctx.fillStyle=one.color;
				var value=Stat[one.value];
				(one.units=="M")&& (value=Math.floor(value / (1024 *1024)*100)/ 100+" M");
				ctx.fillText(value+"",one.x+Stat._vx,one.y,null,null,null);
			}
		}
	}

	Stat.renderInfo=function(){
		var text="";
		for (var i=0;i < Stat._view.length;i++){
			var one=Stat._view[i];
			var value=Stat[one.value];
			(one.units=="M")&& (value=Math.floor(value / (1024 *1024)*100)/ 100+" M");
			(one.units=="K")&& (value=Math.floor(value / (1024)*100)/ 100+" K");
			text+=value+"\n";
		}
		Stat._txt.text=text;
	}

	Stat.FPS=0;
	Stat.loopCount=0;
	Stat.shaderCall=0;
	Stat.drawCall=0;
	Stat.trianglesFaces=0;
	Stat.spriteCount=0;
	Stat.spriteRenderUseCacheCount=0;
	Stat.treeNodeCollision=0;
	Stat.treeSpriteCollision=0;
	Stat.canvasNormal=0;
	Stat.canvasBitmap=0;
	Stat.canvasReCache=0;
	Stat.renderSlow=false;
	Stat.currentMemorySize=0;
	Stat._fpsStr=null;
	Stat._canvasStr=null;
	Stat._spriteStr=null;
	Stat._fpsData=[];
	Stat._timer=0;
	Stat._count=0;
	Stat._view=[];
	Stat._fontSize=12;
	Stat._txt=null;
	Stat._leftText=null;
	Stat._sp=null;
	Stat._show=false;
	Stat._useCanvas=false;
	Stat._canvas=null;
	Stat._ctx=null;
	Stat._first=false;
	Stat._vx=NaN;
	Stat._width=0;
	Stat._height=100;
	return Stat;
})()


/**
*@private
*<code>StringKey</code> 类用于存取字符串对应的数字。
*/
//class laya.utils.StringKey
var StringKey=(function(){
	function StringKey(){
		this._strsToID={};
		this._idToStrs=[];
		this._length=0;
	}

	__class(StringKey,'laya.utils.StringKey');
	var __proto=StringKey.prototype;
	/**
	*添加一个字符。
	*@param str 字符，将作为key 存储相应生成的数字。
	*@return 此字符对应的数字。
	*/
	__proto.add=function(str){
		var index=this._strsToID[str];
		if (index !=null)return index;
		this._idToStrs[this._length]=str;
		return this._strsToID[str]=this._length++;
	}

	/**
	*获取指定字符对应的ID。
	*@param str 字符。
	*@return 此字符对应的ID。
	*/
	__proto.getID=function(str){
		var index=this._strsToID[str];
		return index==null ?-1 :index;
	}

	/**
	*根据指定ID获取对应字符。
	*@param id ID。
	*@return 此id对应的字符。
	*/
	__proto.getName=function(id){
		var str=this._idToStrs[id];
		return str==null ? undefined :str;
	}

	return StringKey;
})()


/**
*<code>Timer</code> 是时钟管理类。它是一个单例，不要手动实例化此类，应该通过 Laya.timer 访问。
*/
//class laya.utils.Timer
var Timer=(function(){
	var TimerHandler;
	function Timer(){
		/**两帧之间的时间间隔,单位毫秒。*/
		this._delta=0;
		/**时针缩放。*/
		this.scale=1;
		/**当前的帧数。*/
		this.currFrame=0;
		/**@private */
		this._mid=1;
		/**@private */
		this._map=[];
		/**@private */
		this._laters=[];
		/**@private */
		this._handlers=[];
		/**@private */
		this._temp=[];
		/**@private */
		this._count=0;
		this.currTimer=this._now();
		this._lastTimer=this._now();
		this._init();
	}

	__class(Timer,'laya.utils.Timer');
	var __proto=Timer.prototype;
	/**@private */
	__proto._init=function(){
		Laya.timer && Laya.timer.frameLoop(1,this,this._update);
	}

	/**@private */
	__proto._now=function(){
		return /*__JS__ */Date.now();
	}

	/**
	*@private
	*帧循环处理函数。
	*/
	__proto._update=function(){
		if (this.scale <=0){
			this._lastTimer=this._now();
			return;
		};
		var frame=this.currFrame=this.currFrame+this.scale;
		var now=this._now();
		this._delta=(now-this._lastTimer)*this.scale;
		var timer=this.currTimer=this.currTimer+this._delta;
		this._lastTimer=now;
		var handlers=this._handlers;
		this._count=0;
		for (i=0,n=handlers.length;i < n;i++){
			handler=handlers[i];
			if (handler.method!==null){
				var t=handler.userFrame ? frame :timer;
				if (t >=handler.exeTime){
					if (handler.repeat){
						if (!handler.jumpFrame){
							handler.exeTime+=handler.delay;
							handler.run(false);
							if (t > handler.exeTime){
								handler.exeTime+=Math.ceil((t-handler.exeTime)/ handler.delay)*handler.delay;
							}
							}else {
							while (t >=handler.exeTime){
								handler.exeTime+=handler.delay;
								handler.run(false);
							}
						}
						}else {
						handler.run(true);
					}
				}
				}else {
				this._count++;
			}
		}
		if (this._count > 30 || frame % 200===0)this._clearHandlers();
		var laters=this._laters;
		for (var i=0,n=laters.length-1;i <=n;i++){
			var handler=laters[i];
			if (handler.method!==null){
				this._map[handler.key]=null;
				handler.run(false);
			}
			this._recoverHandler(handler);
			i===n && (n=laters.length-1);
		}
		laters.length=0;
	}

	/**@private */
	__proto._clearHandlers=function(){
		var handlers=this._handlers;
		for (var i=0,n=handlers.length;i < n;i++){
			var handler=handlers[i];
			if (handler.method!==null)this._temp.push(handler);
			else this._recoverHandler(handler);
		}
		this._handlers=this._temp;
		this._temp=handlers;
		this._temp.length=0;
	}

	/**@private */
	__proto._recoverHandler=function(handler){
		if(this._map[handler.key]==handler)this._map[handler.key]=null;
		handler.clear();
		Timer._pool.push(handler);
	}

	/**@private */
	__proto._create=function(useFrame,repeat,delay,caller,method,args,coverBefore){
		if (!delay){
			method.apply(caller,args);
			return null;
		}
		if (coverBefore){
			var handler=this._getHandler(caller,method);
			if (handler){
				handler.repeat=repeat;
				handler.userFrame=useFrame;
				handler.delay=delay;
				handler.caller=caller;
				handler.method=method;
				handler.args=args;
				handler.exeTime=delay+(useFrame ? this.currFrame :this.currTimer+this._now()-this._lastTimer);
				return handler;
			}
		}
		handler=Timer._pool.length > 0 ? Timer._pool.pop():new TimerHandler();
		handler.repeat=repeat;
		handler.userFrame=useFrame;
		handler.delay=delay;
		handler.caller=caller;
		handler.method=method;
		handler.args=args;
		handler.exeTime=delay+(useFrame ? this.currFrame :this.currTimer+this._now()-this._lastTimer)+1;
		this._indexHandler(handler);
		this._handlers.push(handler);
		return handler;
	}

	/**@private */
	__proto._indexHandler=function(handler){
		var caller=handler.caller;
		var method=handler.method;
		var cid=caller ? caller.$_GID || (caller.$_GID=Utils.getGID()):0;
		var mid=method.$_TID || (method.$_TID=(this._mid++)*100000);
		handler.key=cid+mid;
		this._map[handler.key]=handler;
	}

	/**
	*定时执行一次。
	*@param delay 延迟时间(单位为毫秒)。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*@param args 回调参数。
	*@param coverBefore 是否覆盖之前的延迟执行，默认为 true 。
	*/
	__proto.once=function(delay,caller,method,args,coverBefore){
		(coverBefore===void 0)&& (coverBefore=true);
		this._create(false,false,delay,caller,method,args,coverBefore);
	}

	/**
	*定时重复执行。
	*@param delay 间隔时间(单位毫秒)。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*@param args 回调参数。
	*@param coverBefore 是否覆盖之前的延迟执行，默认为 true 。
	*@param jumpFrame 时钟是否跳帧。基于时间的循环回调，单位时间间隔内，如能执行多次回调，出于性能考虑，引擎默认只执行一次，设置jumpFrame=true后，则回调会连续执行多次
	*/
	__proto.loop=function(delay,caller,method,args,coverBefore,jumpFrame){
		(coverBefore===void 0)&& (coverBefore=true);
		(jumpFrame===void 0)&& (jumpFrame=false);
		var handler=this._create(false,true,delay,caller,method,args,coverBefore);
		if (handler)handler.jumpFrame=jumpFrame;
	}

	/**
	*定时执行一次(基于帧率)。
	*@param delay 延迟几帧(单位为帧)。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*@param args 回调参数。
	*@param coverBefore 是否覆盖之前的延迟执行，默认为 true 。
	*/
	__proto.frameOnce=function(delay,caller,method,args,coverBefore){
		(coverBefore===void 0)&& (coverBefore=true);
		this._create(true,false,delay,caller,method,args,coverBefore);
	}

	/**
	*定时重复执行(基于帧率)。
	*@param delay 间隔几帧(单位为帧)。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*@param args 回调参数。
	*@param coverBefore 是否覆盖之前的延迟执行，默认为 true 。
	*/
	__proto.frameLoop=function(delay,caller,method,args,coverBefore){
		(coverBefore===void 0)&& (coverBefore=true);
		this._create(true,true,delay,caller,method,args,coverBefore);
	}

	/**返回统计信息。*/
	__proto.toString=function(){
		return "callLater:"+this._laters.length+" handlers:"+this._handlers.length+" pool:"+Timer._pool.length;
	}

	/**
	*清理定时器。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*/
	__proto.clear=function(caller,method){
		var handler=this._getHandler(caller,method);
		if (handler){
			this._map[handler.key]=null;handler.key=0;
			handler.clear();
		}
	}

	/**
	*清理对象身上的所有定时器。
	*@param caller 执行域(this)。
	*/
	__proto.clearAll=function(caller){
		if (!caller)return;
		for (var i=0,n=this._handlers.length;i < n;i++){
			var handler=this._handlers[i];
			if (handler.caller===caller){
				this._map[handler.key]=null;handler.key=0;
				handler.clear();
			}
		}
	}

	/**@private */
	__proto._getHandler=function(caller,method){
		var cid=caller ? caller.$_GID || (caller.$_GID=Utils.getGID()):0;
		var mid=method.$_TID || (method.$_TID=(this._mid++)*100000);
		return this._map[cid+mid];
	}

	/**
	*延迟执行。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*@param args 回调参数。
	*/
	__proto.callLater=function(caller,method,args){
		if (this._getHandler(caller,method)==null){
			if (Timer._pool.length)
				var handler=Timer._pool.pop();
			else handler=new TimerHandler();
			handler.caller=caller;
			handler.method=method;
			handler.args=args;
			this._indexHandler(handler);
			this._laters.push(handler);
		}
	}

	/**
	*立即执行 callLater 。
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*/
	__proto.runCallLater=function(caller,method){
		var handler=this._getHandler(caller,method);
		if (handler && handler.method !=null){
			this._map[handler.key]=null;
			handler.run(true);
		}
	}

	/**
	*立即提前执行定时器，执行之后从队列中删除
	*@param caller 执行域(this)。
	*@param method 定时器回调函数。
	*/
	__proto.runTimer=function(caller,method){
		this.runCallLater(caller,method);
	}

	/**
	*两帧之间的时间间隔,单位毫秒。
	*/
	__getset(0,__proto,'delta',function(){
		return this._delta;
	});

	Timer._pool=[];
	Timer.__init$=function(){
		/**@private */
		//class TimerHandler
		TimerHandler=(function(){
			function TimerHandler(){
				this.key=0;
				this.repeat=false;
				this.delay=0;
				this.userFrame=false;
				this.exeTime=0;
				this.caller=null;
				this.method=null;
				this.args=null;
				this.jumpFrame=false;
			}
			__class(TimerHandler,'');
			var __proto=TimerHandler.prototype;
			__proto.clear=function(){
				this.caller=null;
				this.method=null;
				this.args=null;
			}
			__proto.run=function(withClear){
				var caller=this.caller;
				if (caller && caller.destroyed)return this.clear();
				var method=this.method;
				var args=this.args;
				withClear && this.clear();
				if (method==null)return;
				args ? method.apply(caller,args):method.call(caller);
			}
			return TimerHandler;
		})()
	}

	return Timer;
})()


/**
*<code>Tween</code> 是一个缓动类。使用此类能够实现对目标对象属性的渐变。
*/
//class laya.utils.Tween
var Tween=(function(){
	function Tween(){
		/**@private */
		//this._complete=null;
		/**@private */
		//this._target=null;
		/**@private */
		//this._ease=null;
		/**@private */
		//this._props=null;
		/**@private */
		//this._duration=0;
		/**@private */
		//this._delay=0;
		/**@private */
		//this._startTimer=0;
		/**@private */
		//this._usedTimer=0;
		/**@private */
		//this._usedPool=false;
		/**@private 唯一标识，TimeLintLite用到*/
		this.gid=0;
		/**更新回调，缓动数值发生变化时，回调变化的值*/
		//this.update=null;
	}

	__class(Tween,'laya.utils.Tween');
	var __proto=Tween.prototype;
	/**
	*缓动对象的props属性到目标值。
	*@param target 目标对象(即将更改属性值的对象)。
	*@param props 变化的属性列表，比如{x:100,y:20,ease:Ease.backOut,complete:Handler.create(this,onComplete),update:new Handler(this,onComplete)}。
	*@param duration 花费的时间，单位毫秒。
	*@param ease 缓动类型，默认为匀速运动。
	*@param complete 结束回调函数。
	*@param delay 延迟执行时间。
	*@param coverBefore 是否覆盖之前的缓动。
	*@return 返回Tween对象。
	*/
	__proto.to=function(target,props,duration,ease,complete,delay,coverBefore){
		(delay===void 0)&& (delay=0);
		(coverBefore===void 0)&& (coverBefore=false);
		return this._create(target,props,duration,ease,complete,delay,coverBefore,true,false,true);
	}

	/**
	*从props属性，缓动到当前状态。
	*@param target 目标对象(即将更改属性值的对象)。
	*@param props 变化的属性列表，比如{x:100,y:20,ease:Ease.backOut,complete:Handler.create(this,onComplete),update:new Handler(this,onComplete)}。
	*@param duration 花费的时间，单位毫秒。
	*@param ease 缓动类型，默认为匀速运动。
	*@param complete 结束回调函数。
	*@param delay 延迟执行时间。
	*@param coverBefore 是否覆盖之前的缓动。
	*@return 返回Tween对象。
	*/
	__proto.from=function(target,props,duration,ease,complete,delay,coverBefore){
		(delay===void 0)&& (delay=0);
		(coverBefore===void 0)&& (coverBefore=false);
		return this._create(target,props,duration,ease,complete,delay,coverBefore,false,false,true);
	}

	/**@private */
	__proto._create=function(target,props,duration,ease,complete,delay,coverBefore,isTo,usePool,runNow){
		if (!target)throw new Error("Tween:target is null");
		this._target=target;
		this._duration=duration;
		this._ease=ease || props.ease || Tween.easeNone;
		this._complete=complete || props.complete;
		this._delay=delay;
		this._props=[];
		this._usedTimer=0;
		this._startTimer=Browser.now();
		this._usedPool=usePool;
		this.update=props.update;
		var gid=(target.$_GID || (target.$_GID=Utils.getGID()));
		if (!Tween.tweenMap[gid]){
			Tween.tweenMap[gid]=[this];
			}else {
			if (coverBefore)Tween.clearTween(target);
			Tween.tweenMap[gid].push(this);
		}
		if (runNow){
			if (delay <=0)this.firstStart(target,props,isTo);
			else Laya.scaleTimer.once(delay,this,this.firstStart,[target,props,isTo]);
			}else {
			this._initProps(target,props,isTo);
		}
		return this;
	}

	__proto.firstStart=function(target,props,isTo){
		if (target.destroyed){
			this.clear();
			return;
		}
		this._initProps(target,props,isTo);
		this._beginLoop();
	}

	__proto._initProps=function(target,props,isTo){
		for (var p in props){
			if ((typeof (target[p])=='number')){
				var start=isTo ? target[p] :props[p];
				var end=isTo ? props[p] :target[p];
				this._props.push([p,start,end-start]);
				if (!isTo)target[p]=start;
			}
		}
	}

	__proto._beginLoop=function(){
		Laya.scaleTimer.frameLoop(1,this,this._doEase);
	}

	/**执行缓动**/
	__proto._doEase=function(){
		this._updateEase(Browser.now());
	}

	/**@private */
	__proto._updateEase=function(time){
		var target=this._target;
		if (!target)return;
		if (target.destroyed)return Tween.clearTween(target);
		var usedTimer=this._usedTimer=time-this._startTimer-this._delay;
		if (usedTimer < 0)return;
		if (usedTimer >=this._duration)return this.complete();
		var ratio=usedTimer > 0 ? this._ease(usedTimer,0,1,this._duration):0;
		var props=this._props;
		for (var i=0,n=props.length;i < n;i++){
			var prop=props[i];
			target[prop[0]]=prop[1]+(ratio *prop[2]);
		}
		if (this.update)this.update.run();
	}

	/**
	*立即结束缓动并到终点。
	*/
	__proto.complete=function(){
		if (!this._target)return;
		Laya.scaleTimer.runTimer(this,this.firstStart);
		var target=this._target;
		var props=this._props;
		var handler=this._complete;
		for (var i=0,n=props.length;i < n;i++){
			var prop=props[i];
			target[prop[0]]=prop[1]+prop[2];
		}
		if (this.update)this.update.run();
		this.clear();
		handler && handler.run();
	}

	/**
	*暂停缓动，可以通过resume或restart重新开始。
	*/
	__proto.pause=function(){
		Laya.scaleTimer.clear(this,this._beginLoop);
		Laya.scaleTimer.clear(this,this._doEase);
	}

	/**
	*设置开始时间。
	*@param startTime 开始时间。
	*/
	__proto.setStartTime=function(startTime){
		this._startTimer=startTime;
	}

	/**
	*停止并清理当前缓动。
	*/
	__proto.clear=function(){
		if (this._target){
			this._remove();
			this._clear();
		}
	}

	/**
	*@private
	*/
	__proto._clear=function(){
		this.pause();
		Laya.scaleTimer.clear(this,this.firstStart);
		this._complete=null;
		this._target=null;
		this._ease=null;
		this._props=null;
		if (this._usedPool){
			this.update=null;
			Pool.recover("tween",this);
		}
	}

	/**回收到对象池。*/
	__proto.recover=function(){
		this._usedPool=true;
		this._clear();
	}

	__proto._remove=function(){
		var tweens=Tween.tweenMap[this._target.$_GID];
		if (tweens){
			for (var i=0,n=tweens.length;i < n;i++){
				if (tweens[i]===this){
					tweens.splice(i,1);
					break ;
				}
			}
		}
	}

	/**
	*重新开始暂停的缓动。
	*/
	__proto.restart=function(){
		this.pause();
		this._usedTimer=0;
		this._startTimer=Browser.now();
		var props=this._props;
		for (var i=0,n=props.length;i < n;i++){
			var prop=props[i];
			this._target[prop[0]]=prop[1];
		}
		Laya.scaleTimer.once(this._delay,this,this._beginLoop);
	}

	/**
	*恢复暂停的缓动。
	*/
	__proto.resume=function(){
		if (this._usedTimer >=this._duration)return;
		this._startTimer=Browser.now()-this._usedTimer-this._delay;
		this._beginLoop();
	}

	/**设置当前执行比例**/
	__getset(0,__proto,'progress',null,function(v){
		var uTime=v *this._duration;
		this._startTimer=Browser.now()-this._delay-uTime;
	});

	Tween.to=function(target,props,duration,ease,complete,delay,coverBefore,autoRecover){
		(delay===void 0)&& (delay=0);
		(coverBefore===void 0)&& (coverBefore=false);
		(autoRecover===void 0)&& (autoRecover=true);
		return Pool.getItemByClass("tween",Tween)._create(target,props,duration,ease,complete,delay,coverBefore,true,autoRecover,true);
	}

	Tween.from=function(target,props,duration,ease,complete,delay,coverBefore,autoRecover){
		(delay===void 0)&& (delay=0);
		(coverBefore===void 0)&& (coverBefore=false);
		(autoRecover===void 0)&& (autoRecover=true);
		return Pool.getItemByClass("tween",Tween)._create(target,props,duration,ease,complete,delay,coverBefore,false,autoRecover,true);
	}

	Tween.clearAll=function(target){
		if (!target || !target.$_GID)return;
		var tweens=Tween.tweenMap[target.$_GID];
		if (tweens){
			for (var i=0,n=tweens.length;i < n;i++){
				tweens[i]._clear();
			}
			tweens.length=0;
		}
	}

	Tween.clear=function(tween){
		tween.clear();
	}

	Tween.clearTween=function(target){
		Tween.clearAll(target);
	}

	Tween.easeNone=function(t,b,c,d){
		return c *t / d+b;
	}

	Tween.tweenMap={};
	return Tween;
})()


/**
*<code>Utils</code> 是工具类。
*/
//class laya.utils.Utils
var Utils=(function(){
	function Utils(){}
	__class(Utils,'laya.utils.Utils');
	Utils.toRadian=function(angle){
		return angle *Utils._pi2;
	}

	Utils.toAngle=function(radian){
		return radian *Utils._pi;
	}

	Utils.toHexColor=function(color){
		if (color < 0 || isNaN(color))return null;
		var str=color.toString(16);
		while (str.length < 6)str="0"+str;
		return "#"+str;
	}

	Utils.getGID=function(){
		return Utils._gid++;
	}

	Utils.concatArray=function(source,array){
		if (!array)return source;
		if (!source)return array;
		var i=0,len=array.length;
		for (i=0;i < len;i++){
			source.push(array[i]);
		}
		return source;
	}

	Utils.clearArray=function(array){
		if (!array)return array;
		array.length=0;
		return array;
	}

	Utils.copyArray=function(source,array){
		source || (source=[]);
		if (!array)return source;
		source.length=array.length;
		var i=0,len=array.length;
		for (i=0;i < len;i++){
			source[i]=array[i];
		}
		return source;
	}

	Utils.getGlobalRecByPoints=function(sprite,x0,y0,x1,y1){
		var newLTPoint;
		newLTPoint=new Point(x0,y0);
		newLTPoint=sprite.localToGlobal(newLTPoint);
		var newRBPoint;
		newRBPoint=new Point(x1,y1);
		newRBPoint=sprite.localToGlobal(newRBPoint);
		return Rectangle._getWrapRec([newLTPoint.x,newLTPoint.y,newRBPoint.x,newRBPoint.y]);
	}

	Utils.getGlobalPosAndScale=function(sprite){
		return Utils.getGlobalRecByPoints(sprite,0,0,1,1);
	}

	Utils.bind=function(fun,scope){
		var rst=fun;
		/*__JS__ */rst=fun.bind(scope);;
		return rst;
	}

	Utils.measureText=function(txt,font){
		return RunDriver.measureText(txt,font);
	}

	Utils.updateOrder=function(array){
		if (!array || array.length < 2)return false;
		var i=1,j=0,len=array.length,key=NaN,c;
		while (i < len){
			j=i;
			c=array[j];
			key=array[j]._zOrder;
			while (--j >-1){
				if (array[j]._zOrder > key)array[j+1]=array[j];
				else break ;
			}
			array[j+1]=c;
			i++;
		};
		var model=c.parent.conchModel;
		if (model){
			if (model.updateZOrder !=null){
				model.updateZOrder();
				}else {
				for (i=0;i < len;i++){
					model.removeChild(array[i].conchModel);
				}
				for (i=0;i < len;i++){
					model.addChildAt(array[i].conchModel,i);
				}
			}
		}
		return true;
	}

	Utils.transPointList=function(points,x,y){
		var i=0,len=points.length;
		for (i=0;i < len;i+=2){
			points[i]+=x;
			points[i+1]+=y;
		}
	}

	Utils.parseInt=function(str,radix){
		(radix===void 0)&& (radix=0);
		var result=Browser.window.parseInt(str,radix);
		if (isNaN(result))return 0;
		return result;
	}

	Utils.getFileExtension=function(path){
		Utils._extReg.lastIndex=path.lastIndexOf(".");
		var result=Utils._extReg.exec(path);
		if (result && result.length > 1){
			return result[1].toLowerCase();
		}
		return null;
	}

	Utils.getTransformRelativeToWindow=function(coordinateSpace,x,y){
		var stage=Laya.stage;
		var globalTransform=laya.utils.Utils.getGlobalPosAndScale(coordinateSpace);
		var canvasMatrix=stage._canvasTransform.clone();
		var canvasLeft=canvasMatrix.tx;
		var canvasTop=canvasMatrix.ty;
		canvasMatrix.rotate(-Math.PI / 180 *Laya.stage.canvasDegree);
		canvasMatrix.scale(Laya.stage.clientScaleX,Laya.stage.clientScaleY);
		var perpendicular=(Laya.stage.canvasDegree % 180 !=0);
		var tx=NaN,ty=NaN;
		if (perpendicular){
			tx=y+globalTransform.y;
			ty=x+globalTransform.x;
			tx *=canvasMatrix.d;
			ty *=canvasMatrix.a;
			if (Laya.stage.canvasDegree==90){
				tx=canvasLeft-tx;
				ty+=canvasTop;
			}
			else {
				tx+=canvasLeft;
				ty=canvasTop-ty;
			}
		}
		else {
			tx=x+globalTransform.x;
			ty=y+globalTransform.y;
			tx *=canvasMatrix.a;
			ty *=canvasMatrix.d;
			tx+=canvasLeft;
			ty+=canvasTop;
		};
		var domScaleX=NaN,domScaleY=NaN;
		if (perpendicular){
			domScaleX=canvasMatrix.d *globalTransform.height;
			domScaleY=canvasMatrix.a *globalTransform.width;
			}else {
			domScaleX=canvasMatrix.a *globalTransform.width;
			domScaleY=canvasMatrix.d *globalTransform.height;
		}
		return {x:tx,y:ty,scaleX:domScaleX,scaleY:domScaleY};
	}

	Utils.fitDOMElementInArea=function(dom,coordinateSpace,x,y,width,height){
		if (!dom._fitLayaAirInitialized){
			dom._fitLayaAirInitialized=true;
			dom.style.transformOrigin=dom.style.webKittransformOrigin="left top";
			dom.style.position="absolute"
		};
		var transform=Utils.getTransformRelativeToWindow(coordinateSpace,x,y);
		dom.style.transform=dom.style.webkitTransform="scale("+transform.scaleX+","+transform.scaleY+") rotate("+(Laya.stage.canvasDegree)+"deg)";
		dom.style.width=width+'px';
		dom.style.height=height+'px';
		dom.style.left=transform.x+'px';
		dom.style.top=transform.y+'px';
	}

	Utils.isOkTextureList=function(textureList){
		if (!textureList)return false;
		var i=0,len=textureList.length;
		var tTexture;
		for (i=0;i < len;i++){
			tTexture=textureList[i];
			if (!tTexture.source)return false;
		}
		return true;
	}

	Utils.isOKCmdList=function(cmds){
		if (!cmds)return false;
		var i=0,len=cmds.length;
		var context=Render._context;
		var cmd;
		var tex;
		for (i=0;i < len;i++){
			cmd=cmds[i];
			switch(cmd.callee){
				case context._drawTexture:
				case context._fillTexture:
				case context._drawTextureWithTransform:
					tex=cmd[0];
					if (!tex || !tex.source)return false;
				}
		}
		return true;
	}

	Utils._gid=1;
	Utils.parseXMLFromString=function(value){
		var rst;
		value=value.replace(/>\s+</g,'><');
		/*__JS__ */rst=(new DOMParser()).parseFromString(value,'text/xml');
		if (rst.firstChild.textContent.indexOf("This page contains the following errors")>-1){
			throw new Error(rst.firstChild.firstChild.textContent);
		}
		return rst;
	}

	__static(Utils,
	['_pi',function(){return this._pi=180 / Math.PI;},'_pi2',function(){return this._pi2=Math.PI / 180;},'_extReg',function(){return this._extReg=/\.(\w+)\??/g;}
	]);
	return Utils;
})()


/**
*@private
*/
//class laya.utils.VectorGraphManager
var VectorGraphManager=(function(){
	function VectorGraphManager(){
		this.useDic={};
		this.shapeDic={};
		this.shapeLineDic={};
		this._id=0;
		this._checkKey=false;
		this._freeIdArray=[];
		if (Render.isWebGL){
			CacheManager.regCacheByFunction(Utils.bind(this.startDispose,this),Utils.bind(this.getCacheList,this));
		}
	}

	__class(VectorGraphManager,'laya.utils.VectorGraphManager');
	var __proto=VectorGraphManager.prototype;
	/**
	*得到个空闲的ID
	*@return
	*/
	__proto.getId=function(){
		return this._id++;
	}

	/**
	*添加一个图形到列表中
	*@param id
	*@param shape
	*/
	__proto.addShape=function(id,shape){
		this.shapeDic[id]=shape;
		if (!this.useDic[id]){
			this.useDic[id]=true;
		}
	}

	/**
	*添加一个线图形到列表中
	*@param id
	*@param Line
	*/
	__proto.addLine=function(id,Line){
		this.shapeLineDic[id]=Line;
		if (!this.shapeLineDic[id]){
			this.shapeLineDic[id]=true;
		}
	}

	/**
	*检测一个对象是否在使用中
	*@param id
	*/
	__proto.getShape=function(id){
		if (this._checkKey){
			if (this.useDic[id] !=null){
				this.useDic[id]=true;
			}
		}
	}

	/**
	*删除一个图形对象
	*@param id
	*/
	__proto.deleteShape=function(id){
		if (this.shapeDic[id]){
			this.shapeDic[id]=null;
			delete this.shapeDic[id];
		}
		if (this.shapeLineDic[id]){
			this.shapeLineDic[id]=null;
			delete this.shapeLineDic[id];
		}
		if (this.useDic[id] !=null){
			delete this.useDic[id];
		}
	}

	/**
	*得到缓存列表
	*@return
	*/
	__proto.getCacheList=function(){
		var str;
		var list=[];
		for (str in this.shapeDic){
			list.push(this.shapeDic[str]);
		}
		for (str in this.shapeLineDic){
			list.push(this.shapeLineDic[str]);
		}
		return list;
	}

	/**
	*开始清理状态，准备销毁
	*/
	__proto.startDispose=function(key){
		var str;
		for (str in this.useDic){
			this.useDic[str]=false;
		}
		this._checkKey=true;
	}

	/**
	*确认销毁
	*/
	__proto.endDispose=function(){
		if (this._checkKey){
			var str;
			for (str in this.useDic){
				if (!this.useDic[str]){
					this.deleteShape(str);
				}
			}
			this._checkKey=false;
		}
	}

	VectorGraphManager.getInstance=function(){
		return VectorGraphManager.instance=VectorGraphManager.instance|| new VectorGraphManager();
	}

	VectorGraphManager.instance=null;
	return VectorGraphManager;
})()


/**
*封装弱引用WeakMap
*如果支持WeakMap，则使用WeakMap，如果不支持，则用Object代替
*注意：如果采用Object，为了防止内存泄漏，则采用定时清理缓存策略
*/
//class laya.utils.WeakObject
var WeakObject=(function(){
	function WeakObject(){
		/**@private */
		this._obj=null;
		this._obj=WeakObject.supportWeakMap ? new Browser.window.WeakMap():{};
		if (!WeakObject.supportWeakMap)WeakObject._maps.push(this);
	}

	__class(WeakObject,'laya.utils.WeakObject');
	var __proto=WeakObject.prototype;
	/**
	*设置缓存
	*@param key kye对象，可被回收
	*@param value object对象，可被回收
	*/
	__proto.set=function(key,value){
		if (key==null)return;
		if (WeakObject.supportWeakMap){
			var objKey=key;
			if ((typeof key=='string')|| (typeof key=='number')){
				objKey=WeakObject._keys[key];
				if (!objKey)objKey=WeakObject._keys[key]={k:key};
			}
			this._obj.set(objKey,value);
			}else {
			if ((typeof key=='string')|| (typeof key=='number')){
				this._obj[key]=value;
				}else {
				key.$_GID || (key.$_GID=Utils.getGID());
				this._obj[key.$_GID]=value;
			}
		}
	}

	/**
	*获取缓存
	*@param key kye对象，可被回收
	*/
	__proto.get=function(key){
		if (key==null)return null;
		if (WeakObject.supportWeakMap){
			var objKey=((typeof key=='string')|| (typeof key=='number'))? WeakObject._keys[key] :key;
			if (!objKey)return null;
			return this._obj.get(objKey);
			}else {
			if ((typeof key=='string')|| (typeof key=='number'))return this._obj[key];
			return this._obj[key.$_GID];
		}
	}

	/**
	*删除缓存
	*/
	__proto.del=function(key){
		if (key==null)return;
		if (WeakObject.supportWeakMap){
			var objKey=((typeof key=='string')|| (typeof key=='number'))? WeakObject._keys[key] :key;
			if (!objKey)return;
			/*__JS__ */this._obj.delete(objKey);
			}else {
			if ((typeof key=='string')|| (typeof key=='number'))delete this._obj[key];
			else delete this._obj[this._obj.$_GID];
		}
	}

	/**
	*是否有缓存
	*/
	__proto.has=function(key){
		if (key==null)return false;
		if (WeakObject.supportWeakMap){
			var objKey=((typeof key=='string')|| (typeof key=='number'))? WeakObject._keys[key] :key;
			return this._obj.has(objKey);
			}else {
			if ((typeof key=='string')|| (typeof key=='number'))return this._obj[key] !=null;
			return this._obj[this._obj.$_GID] !=null;
		}
	}

	WeakObject.__init__=function(){
		WeakObject.supportWeakMap=Browser.window.WeakMap !=null;
		if (!WeakObject.supportWeakMap)Laya.timer.loop(WeakObject.delInterval,null,WeakObject.clearCache);
	}

	WeakObject.clearCache=function(){
		for (var i=0,n=WeakObject._maps.length;i < n;i++){
			var obj=WeakObject._maps[i];
			obj._obj={};
		}
	}

	WeakObject.supportWeakMap=false;
	WeakObject.delInterval=5 *60 *1000;
	WeakObject._keys={};
	WeakObject._maps=[];
	__static(WeakObject,
	['I',function(){return this.I=new WeakObject();}
	]);
	return WeakObject;
})()


/**
*@private
*/
//class laya.utils.WordText
var WordText=(function(){
	function WordText(){
		this.id=NaN;
		this.save=[];
		this.toUpperCase=null;
		this.changed=false;
		this._text=null;
	}

	__class(WordText,'laya.utils.WordText');
	var __proto=WordText.prototype;
	__proto.setText=function(txt){
		this.changed=true;
		this._text=txt;
	}

	__proto.toString=function(){
		return this._text;
	}

	__proto.charCodeAt=function(i){
		return this._text ? this._text.charCodeAt(i):NaN;
	}

	__proto.charAt=function(i){
		return this._text ? this._text.charAt(i):null;
	}

	__getset(0,__proto,'length',function(){
		return this._text ? this._text.length :0;
	});

	return WordText;
})()


/**
*<code>Node</code> 类是可放在显示列表中的所有对象的基类。该显示列表管理 Laya 运行时中显示的所有对象。使用 Node 类排列显示列表中的显示对象。Node 对象可以有子显示对象。
*/
//class laya.display.Node extends laya.events.EventDispatcher
var Node=(function(_super){
	function Node(){
		/**@private */
		this._bits=0;
		/**@private 是否在显示列表中显示*/
		this._displayedInStage=false;
		/**@private 父节点对象*/
		this._parent=null;
		/**@private */
		this.conchModel=null;
		/**节点名称。*/
		this.name="";
		/**[只读]是否已经销毁。对象销毁后不能再使用。*/
		this._destroyed=false;
		Node.__super.call(this);
		this._childs=Node.ARRAY_EMPTY;
		this._$P=Node.PROP_EMPTY;
		this.timer=Laya.scaleTimer;
		this.conchModel=Render.isConchNode ? this.createConchModel():null;
	}

	__class(Node,'laya.display.Node',_super);
	var __proto=Node.prototype;
	/**@private */
	__proto._setBit=function(type,value){
		if (type==0x1){
			var preValue=this._getBit(type);
			if (preValue !=value){
				this._updateDisplayedInstage();
			}
		}
		if (value){
			this._bits |=type;
			}else {
			this._bits &=~type;
		}
	}

	/**@private */
	__proto._getBit=function(type){
		return (this._bits & type)!=0;
	}

	/**@private */
	__proto._setUpNoticeChain=function(){
		if (this._getBit(0x1)){
			this._setUpNoticeType(0x1);
		}
	}

	/**@private */
	__proto._setUpNoticeType=function(type){
		var ele=this;
		ele._setBit(type,true);
		ele=ele.parent;
		while (ele){
			if (ele._getBit(type))return;
			ele._setBit(type,true);
			ele=ele.parent;
		}
	}

	/**
	*<p>增加事件侦听器，以使侦听器能够接收事件通知。</p>
	*<p>如果侦听鼠标事件，则会自动设置自己和父亲节点的属性 mouseEnabled 的值为 true(如果父节点mouseEnabled=false，则停止设置父节点mouseEnabled属性)。</p>
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param args （可选）事件侦听函数的回调参数。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.on=function(type,caller,listener,args){
		if (type===/*laya.events.Event.DISPLAY*/"display" || type===/*laya.events.Event.UNDISPLAY*/"undisplay"){
			if (!this._getBit(0x1)){
				this._setUpNoticeType(0x1);
			}
		}
		return this._createListener(type,caller,listener,args,false);
	}

	/**
	*<p>增加事件侦听器，以使侦听器能够接收事件通知，此侦听事件响应一次后则自动移除侦听。</p>
	*<p>如果侦听鼠标事件，则会自动设置自己和父亲节点的属性 mouseEnabled 的值为 true(如果父节点mouseEnabled=false，则停止设置父节点mouseEnabled属性)。</p>
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param args （可选）事件侦听函数的回调参数。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.once=function(type,caller,listener,args){
		if (type===/*laya.events.Event.DISPLAY*/"display" || type===/*laya.events.Event.UNDISPLAY*/"undisplay"){
			if (!this._getBit(0x1)){
				this._setUpNoticeType(0x1);
			}
		}
		return this._createListener(type,caller,listener,args,true);
	}

	/**@private */
	__proto.createConchModel=function(){
		return null;
	}

	/**
	*<p>销毁此对象。destroy对象默认会把自己从父节点移除，并且清理自身引用关系，等待js自动垃圾回收机制回收。destroy后不能再使用。</p>
	*<p>destroy时会移除自身的事情监听，自身的timer监听，移除子对象及从父节点移除自己。</p>
	*@param destroyChild （可选）是否同时销毁子节点，若值为true,则销毁子节点，否则不销毁子节点。
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this._destroyed=true;
		this._parent && this._parent.removeChild(this);
		if (this._childs){
			if (destroyChild)this.destroyChildren();
			else this.removeChildren();
		}
		this._childs=null;
		this._$P=null;
		this.offAll();
		this.timer.clearAll(this);
	}

	/**
	*销毁所有子对象，不销毁自己本身。
	*/
	__proto.destroyChildren=function(){
		if (this._childs){
			for (var i=this._childs.length-1;i >-1;i--){
				this._childs[i].destroy(true);
			}
		}
	}

	/**
	*添加子节点。
	*@param node 节点对象
	*@return 返回添加的节点
	*/
	__proto.addChild=function(node){
		if (!node || this.destroyed || node===this)return node;
		if ((node).zOrder)this._set$P("hasZorder",true);
		if (node._parent===this){
			var index=this.getChildIndex(node);
			if (index!==this._childs.length-1){
				this._childs.splice(index,1);
				this._childs.push(node);
				if (this.conchModel){
					this.conchModel.removeChild(node.conchModel);
					this.conchModel.addChildAt(node.conchModel,this._childs.length-1);
				}
				this._childChanged();
			}
			}else {
			node.parent && node.parent.removeChild(node);
			this._childs===Node.ARRAY_EMPTY && (this._childs=[]);
			this._childs.push(node);
			this.conchModel && this.conchModel.addChildAt(node.conchModel,this._childs.length-1);
			node.parent=this;
			this._childChanged();
		}
		return node;
	}

	/**
	*批量增加子节点
	*@param ...args 无数子节点。
	*/
	__proto.addChildren=function(__args){
		var args=arguments;
		var i=0,n=args.length;
		while (i < n){
			this.addChild(args[i++]);
		}
	}

	/**
	*添加子节点到指定的索引位置。
	*@param node 节点对象。
	*@param index 索引位置。
	*@return 返回添加的节点。
	*/
	__proto.addChildAt=function(node,index){
		if (!node || this.destroyed || node===this)return node;
		if ((node).zOrder)this._set$P("hasZorder",true);
		if (index >=0 && index <=this._childs.length){
			if (node._parent===this){
				var oldIndex=this.getChildIndex(node);
				this._childs.splice(oldIndex,1);
				this._childs.splice(index,0,node);
				if (this.conchModel){
					this.conchModel.removeChild(node.conchModel);
					this.conchModel.addChildAt(node.conchModel,index);
				}
				this._childChanged();
				}else {
				node.parent && node.parent.removeChild(node);
				this._childs===Node.ARRAY_EMPTY && (this._childs=[]);
				this._childs.splice(index,0,node);
				this.conchModel && this.conchModel.addChildAt(node.conchModel,index);
				node.parent=this;
			}
			return node;
			}else {
			throw new Error("appendChildAt:The index is out of bounds");
		}
	}

	/**
	*根据子节点对象，获取子节点的索引位置。
	*@param node 子节点。
	*@return 子节点所在的索引位置。
	*/
	__proto.getChildIndex=function(node){
		return this._childs.indexOf(node);
	}

	/**
	*根据子节点的名字，获取子节点对象。
	*@param name 子节点的名字。
	*@return 节点对象。
	*/
	__proto.getChildByName=function(name){
		var nodes=this._childs;
		if (nodes){
			for (var i=0,n=nodes.length;i < n;i++){
				var node=nodes[i];
				if (node.name===name)return node;
			}
		}
		return null;
	}

	/**@private */
	__proto._get$P=function(key){
		return this._$P[key];
	}

	/**@private */
	__proto._set$P=function(key,value){
		if (!this.destroyed){
			this._$P===Node.PROP_EMPTY && (this._$P={});
			this._$P[key]=value;
		}
		return value;
	}

	/**
	*根据子节点的索引位置，获取子节点对象。
	*@param index 索引位置
	*@return 子节点
	*/
	__proto.getChildAt=function(index){
		return this._childs[index];
	}

	/**
	*设置子节点的索引位置。
	*@param node 子节点。
	*@param index 新的索引。
	*@return 返回子节点本身。
	*/
	__proto.setChildIndex=function(node,index){
		var childs=this._childs;
		if (index < 0 || index >=childs.length){
			throw new Error("setChildIndex:The index is out of bounds.");
		};
		var oldIndex=this.getChildIndex(node);
		if (oldIndex < 0)throw new Error("setChildIndex:node is must child of this object.");
		childs.splice(oldIndex,1);
		childs.splice(index,0,node);
		if (this.conchModel){
			this.conchModel.removeChild(node.conchModel);
			this.conchModel.addChildAt(node.conchModel,index);
		}
		this._childChanged();
		return node;
	}

	/**
	*@private
	*子节点发生改变。
	*@param child 子节点。
	*/
	__proto._childChanged=function(child){}
	/**
	*删除子节点。
	*@param node 子节点
	*@return 被删除的节点
	*/
	__proto.removeChild=function(node){
		if (!this._childs)return node;
		var index=this._childs.indexOf(node);
		return this.removeChildAt(index);
	}

	/**
	*从父容器删除自己，如已经被删除不会抛出异常。
	*@return 当前节点（ Node ）对象。
	*/
	__proto.removeSelf=function(){
		this._parent && this._parent.removeChild(this);
		return this;
	}

	/**
	*根据子节点名字删除对应的子节点对象，如果找不到不会抛出异常。
	*@param name 对象名字。
	*@return 查找到的节点（ Node ）对象。
	*/
	__proto.removeChildByName=function(name){
		var node=this.getChildByName(name);
		node && this.removeChild(node);
		return node;
	}

	/**
	*根据子节点索引位置，删除对应的子节点对象。
	*@param index 节点索引位置。
	*@return 被删除的节点。
	*/
	__proto.removeChildAt=function(index){
		var node=this.getChildAt(index);
		if (node){
			this._childs.splice(index,1);
			this.conchModel && this.conchModel.removeChild(node.conchModel);
			node.parent=null;
		}
		return node;
	}

	/**
	*删除指定索引区间的所有子对象。
	*@param beginIndex 开始索引。
	*@param endIndex 结束索引。
	*@return 当前节点对象。
	*/
	__proto.removeChildren=function(beginIndex,endIndex){
		(beginIndex===void 0)&& (beginIndex=0);
		(endIndex===void 0)&& (endIndex=0x7fffffff);
		if (this._childs && this._childs.length > 0){
			var childs=this._childs;
			if (beginIndex===0 && endIndex >=n){
				var arr=childs;
				this._childs=Node.ARRAY_EMPTY;
				}else {
				arr=childs.splice(beginIndex,endIndex-beginIndex);
			}
			for (var i=0,n=arr.length;i < n;i++){
				arr[i].parent=null;
				this.conchModel && this.conchModel.removeChild(arr[i].conchModel);
			}
		}
		return this;
	}

	/**
	*替换子节点。
	*@internal 将传入的新节点对象替换到已有子节点索引位置处。
	*@param newNode 新节点。
	*@param oldNode 老节点。
	*@return 返回新节点。
	*/
	__proto.replaceChild=function(newNode,oldNode){
		var index=this._childs.indexOf(oldNode);
		if (index >-1){
			this._childs.splice(index,1,newNode);
			if (this.conchModel){
				this.conchModel.removeChild(oldNode.conchModel);
				this.conchModel.addChildAt(newNode.conchModel,index);
			}
			oldNode.parent=null;
			newNode.parent=this;
			return newNode;
		}
		return null;
	}

	/**@private */
	__proto._updateDisplayedInstage=function(){
		var ele;
		ele=this;
		var stage=Laya.stage;
		this._displayedInStage=false;
		while (ele){
			if (ele._getBit(0x1)){
				this._displayedInStage=ele._displayedInStage;
				break ;
			}
			if (ele==stage || ele._displayedInStage){
				this._displayedInStage=true;
				break ;
			}
			ele=ele.parent;
		}
	}

	/**@private */
	__proto._setDisplay=function(value){
		if (this._displayedInStage!==value){
			this._displayedInStage=value;
			if (value)this.event(/*laya.events.Event.DISPLAY*/"display");
			else this.event(/*laya.events.Event.UNDISPLAY*/"undisplay");
		}
	}

	/**
	*@private
	*设置指定节点对象是否可见(是否在渲染列表中)。
	*@param node 节点。
	*@param display 是否可见。
	*/
	__proto._displayChild=function(node,display){
		var childs=node._childs;
		if (childs){
			for (var i=0,n=childs.length;i < n;i++){
				var child=childs[i];
				if (!child._getBit(0x1))continue ;
				if (child._childs.length > 0){
					this._displayChild(child,display);
					}else {
					child._setDisplay(display);
				}
			}
		}
		node._setDisplay(display);
	}

	/**
	*当前容器是否包含指定的 <code>Node</code> 节点对象 。
	*@param node 指定的 <code>Node</code> 节点对象 。
	*@return 一个布尔值表示是否包含指定的 <code>Node</code> 节点对象 。
	*/
	__proto.contains=function(node){
		if (node===this)return true;
		while (node){
			if (node.parent===this)return true;
			node=node.parent;
		}
		return false;
	}

	/**
	*定时重复执行某函数。功能同Laya.timer.timerLoop()。
	*@param delay 间隔时间(单位毫秒)。
	*@param caller 执行域(this)。
	*@param method 结束时的回调方法。
	*@param args （可选）回调参数。
	*@param coverBefore （可选）是否覆盖之前的延迟执行，默认为true。
	*@param jumpFrame 时钟是否跳帧。基于时间的循环回调，单位时间间隔内，如能执行多次回调，出于性能考虑，引擎默认只执行一次，设置jumpFrame=true后，则回调会连续执行多次
	*/
	__proto.timerLoop=function(delay,caller,method,args,coverBefore,jumpFrame){
		(coverBefore===void 0)&& (coverBefore=true);
		(jumpFrame===void 0)&& (jumpFrame=false);
		this.timer.loop(delay,caller,method,args,coverBefore,jumpFrame);
	}

	/**
	*定时执行某函数一次。功能同Laya.timer.timerOnce()。
	*@param delay 延迟时间(单位毫秒)。
	*@param caller 执行域(this)。
	*@param method 结束时的回调方法。
	*@param args （可选）回调参数。
	*@param coverBefore （可选）是否覆盖之前的延迟执行，默认为true。
	*/
	__proto.timerOnce=function(delay,caller,method,args,coverBefore){
		(coverBefore===void 0)&& (coverBefore=true);
		this.timer._create(false,false,delay,caller,method,args,coverBefore);
	}

	/**
	*定时重复执行某函数(基于帧率)。功能同Laya.timer.frameLoop()。
	*@param delay 间隔几帧(单位为帧)。
	*@param caller 执行域(this)。
	*@param method 结束时的回调方法。
	*@param args （可选）回调参数。
	*@param coverBefore （可选）是否覆盖之前的延迟执行，默认为true。
	*/
	__proto.frameLoop=function(delay,caller,method,args,coverBefore){
		(coverBefore===void 0)&& (coverBefore=true);
		this.timer._create(true,true,delay,caller,method,args,coverBefore);
	}

	/**
	*定时执行一次某函数(基于帧率)。功能同Laya.timer.frameOnce()。
	*@param delay 延迟几帧(单位为帧)。
	*@param caller 执行域(this)
	*@param method 结束时的回调方法
	*@param args （可选）回调参数
	*@param coverBefore （可选）是否覆盖之前的延迟执行，默认为true
	*/
	__proto.frameOnce=function(delay,caller,method,args,coverBefore){
		(coverBefore===void 0)&& (coverBefore=true);
		this.timer._create(true,false,delay,caller,method,args,coverBefore);
	}

	/**
	*清理定时器。功能同Laya.timer.clearTimer()。
	*@param caller 执行域(this)。
	*@param method 结束时的回调方法。
	*/
	__proto.clearTimer=function(caller,method){
		this.timer.clear(caller,method);
	}

	/**
	*子对象数量。
	*/
	__getset(0,__proto,'numChildren',function(){
		return this._childs.length;
	});

	/**
	*[只读]是否已经销毁。对象销毁后不能再使用。
	*@return
	*/
	__getset(0,__proto,'destroyed',function(){
		return this._destroyed;
	});

	/**父节点。*/
	__getset(0,__proto,'parent',function(){
		return this._parent;
		},function(value){
		if (this._parent!==value){
			if (value){
				this._parent=value;
				this.event(/*laya.events.Event.ADDED*/"added");
				if (this._getBit(0x1)){
					this._setUpNoticeChain();
					value.displayedInStage && this._displayChild(this,true);
				}
				value._childChanged(this);
				}else {
				this.event(/*laya.events.Event.REMOVED*/"removed");
				this._parent._childChanged();
				if (this._getBit(0x1))this._displayChild(this,false);
				this._parent=value;
			}
		}
	});

	/**表示是否在显示列表中显示。*/
	__getset(0,__proto,'displayedInStage',function(){
		if (this._getBit(0x1))return this._displayedInStage;
		this._setUpNoticeType(0x1);
		return this._displayedInStage;
	});

	Node.ARRAY_EMPTY=[];
	Node.PROP_EMPTY={};
	Node.NOTICE_DISPLAY=0x1;
	Node.MOUSEENABLE=0x2;
	return Node;
})(EventDispatcher)


/**
*@private
*<code>CSSStyle</code> 类是元素CSS样式定义类。
*/
//class laya.display.css.CSSStyle extends laya.display.css.Style
var CSSStyle=(function(_super){
	function CSSStyle(ower){
		this._bgground=null;
		this._border=null;
		//this._ower=null;
		this._rect=null;
		/**@private */
		this.underLine=0;
		/**行高。 */
		this.lineHeight=0;
		CSSStyle.__super.call(this);
		this._padding=CSSStyle._PADDING;
		this._spacing=CSSStyle._SPACING;
		this._aligns=CSSStyle._ALIGNS;
		this._font=Font.EMPTY;
		this._ower=ower;
	}

	__class(CSSStyle,'laya.display.css.CSSStyle',_super);
	var __proto=CSSStyle.prototype;
	/**@inheritDoc */
	__proto.destroy=function(){
		this._ower=null;
		this._font=null;
		this._rect=null;
	}

	/**
	*复制传入的 CSSStyle 属性值。
	*@param src 待复制的 CSSStyle 对象。
	*/
	__proto.inherit=function(src){
		this._font=src._font;
		this._spacing=src._spacing===CSSStyle._SPACING ? CSSStyle._SPACING :src._spacing.slice();
		this.lineHeight=src.lineHeight;
	}

	/**@private */
	__proto._widthAuto=function(){
		return (this._type & 0x40000)!==0;
	}

	/**@inheritDoc */
	__proto.widthed=function(sprite){
		return (this._type & 0x8)!=0;
	}

	/**
	*@private
	*/
	__proto._calculation=function(type,value){
		if (value.indexOf('%')< 0)return false;
		var ower=this._ower;
		var parent=ower.parent;
		var rect=this._rect;
		function getValue (pw,w,nums){
			return (pw *nums[0]+w *nums[1]+nums[2]);
		}
		function onParentResize (type){
			var pw=parent.width,w=ower.width;
			rect.width && (ower.width=getValue(pw,w,rect.width));
			rect.height && (ower.height=getValue(pw,w,rect.height));
			rect.left && (ower.x=getValue(pw,w,rect.left));
			rect.top && (ower.y=getValue(pw,w,rect.top));
		}
		if (rect===null){
			parent._getCSSStyle()._type |=0x80000;
			parent.on(/*laya.events.Event.RESIZE*/"resize",this,onParentResize);
			this._rect=rect={input:{}};
		};
		var nums=value.split(' ');
		nums[0]=parseFloat(nums[0])/ 100;
		if (nums.length==1)
			nums[1]=nums[2]=0;
		else {
			nums[1]=parseFloat(nums[1])/ 100;
			nums[2]=parseFloat(nums[2]);
		}
		rect[type]=nums;
		rect.input[type]=value;
		onParentResize(type);
		return true;
	}

	/**
	*是否已设置高度。
	*@param sprite 显示对象 Sprite。
	*@return 一个Boolean 表示是否已设置高度。
	*/
	__proto.heighted=function(sprite){
		return (this._type & 0x2000)!=0;
	}

	/**
	*设置宽高。
	*@param w 宽度。
	*@param h 高度。
	*/
	__proto.size=function(w,h){
		var ower=this._ower;
		var resize=false;
		if (w!==-1 && w !=this._ower.width){
			this._type |=0x8;
			this._ower.width=w;
			resize=true;
		}
		if (h!==-1 && h !=this._ower.height){
			this._type |=0x2000;
			this._ower.height=h;
			resize=true;
		}
		if (resize){
			ower._layoutLater();
			(this._type & 0x80000)&& ower.event(/*laya.events.Event.RESIZE*/"resize",this);
		}
	}

	/**@private */
	__proto._getAlign=function(){
		return this._aligns[0];
	}

	/**@private */
	__proto._getValign=function(){
		return this._aligns[1];
	}

	/**@private */
	__proto._getCssFloat=function(){
		return (this._type & 0x8000)!=0 ? 0x8000 :0;
	}

	__proto._createFont=function(){
		return (this._type & 0x1000)? this._font :(this._type |=0x1000,this._font=new Font(this._font));
	}

	/**@inheritDoc */
	__proto.render=function(sprite,context,x,y){
		var w=sprite.width;
		var h=sprite.height;
		x-=sprite.pivotX;
		y-=sprite.pivotY;
		this._bgground && this._bgground.color !=null && context.ctx.fillRect(x,y,w,h,this._bgground.color);
		this._border && this._border.color && context.drawRect(x,y,w,h,this._border.color.strColor,this._border.size);
	}

	/**@inheritDoc */
	__proto.getCSSStyle=function(){
		return this;
	}

	/**
	*设置 CSS 样式字符串。
	*@param text CSS样式字符串。
	*/
	__proto.cssText=function(text){
		this.attrs(CSSStyle.parseOneCSS(text,';'));
	}

	/**
	*根据传入的属性名、属性值列表，设置此对象的属性值。
	*@param attrs 属性名与属性值列表。
	*/
	__proto.attrs=function(attrs){
		if (attrs){
			for (var i=0,n=attrs.length;i < n;i++){
				var attr=attrs[i];
				this[attr[0]]=attr[1];
			}
		}
	}

	/**@inheritDoc */
	__proto.setTransform=function(value){
		(value==='none')? (this._tf=Style._TF_EMPTY):this.attrs(CSSStyle.parseOneCSS(value,','));
	}

	/**
	*定义 X 轴、Y 轴移动转换。
	*@param x X 轴平移量。
	*@param y Y 轴平移量。
	*/
	__proto.translate=function(x,y){
		this._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());
		this._tf.translateX=x;
		this._tf.translateY=y;
	}

	/**
	*定义 缩放转换。
	*@param x X 轴缩放值。
	*@param y Y 轴缩放值。
	*/
	__proto.scale=function(x,y){
		this._tf===Style._TF_EMPTY && (this._tf=new TransformInfo());
		this._tf.scaleX=x;
		this._tf.scaleY=y;
	}

	/**@private */
	__proto._enableLayout=function(){
		return (this._type & 0x2)===0 && (this._type & 0x4)===0;
	}

	/**
	*是否显示为块级元素。
	*/
	__getset(0,__proto,'block',_super.prototype._$get_block,function(value){
		value ? (this._type |=0x1):(this._type &=(~0x1));
	});

	/**
	*垂直对齐方式。
	*/
	__getset(0,__proto,'valign',function(){
		return CSSStyle._valigndef[this._aligns[1]];
		},function(value){
		this._aligns===CSSStyle._ALIGNS && (this._aligns=[0,0,0]);
		this._aligns[1]=CSSStyle._valigndef[value];
	});

	/**
	*高度。
	*/
	__getset(0,__proto,'height',null,function(h){
		this._type |=0x2000;
		if ((typeof h=='string')){
			if (this._calculation("height",h))return;
			h=parseInt(h);
		}
		this.size(-1,h);
	});

	/**
	*宽度。
	*/
	__getset(0,__proto,'width',null,function(w){
		this._type |=0x8;
		if ((typeof w=='string')){
			var offset=w.indexOf('auto');
			if (offset >=0){
				this._type |=0x40000;
				w=w.substr(0,offset);
			}
			if (this._calculation("width",w))return;
			w=parseInt(w);
		}
		this.size(w,-1);
	});

	/**
	*字体粗细。
	*/
	__getset(0,__proto,'fontWeight',function(){
		return this._font.weight;
		},function(value){
		this._createFont().weight=value;
	});

	/**
	*表示左边距。
	*/
	__getset(0,__proto,'left',null,function(value){
		var ower=this._ower;
		if (((typeof value=='string'))){
			if (value==="center")
				value="50% -50% 0";
			else if (value==="right")
			value="100% -100% 0";
			if (this._calculation("left",value))return;
			value=parseInt(value);
		}
		ower.x=value;
	});

	__getset(0,__proto,'_translate',null,function(value){
		this.translate(value[0],value[1]);
	});

	/**@inheritDoc */
	__getset(0,__proto,'absolute',function(){
		return (this._type & 0x4)!==0;
	});

	/**
	*表示上边距。
	*/
	__getset(0,__proto,'top',null,function(value){
		var ower=this._ower;
		if (((typeof value=='string'))){
			if (value==="middle")
				value="50% -50% 0";
			else if (value==="bottom")
			value="100% -100% 0";
			if (this._calculation("top",value))return;
			value=parseInt(value);
		}
		ower.y=value;
	});

	/**
	*水平对齐方式。
	*/
	__getset(0,__proto,'align',function(){
		return CSSStyle._aligndef[this._aligns[0]];
		},function(value){
		this._aligns===CSSStyle._ALIGNS && (this._aligns=[0,0,0]);
		this._aligns[0]=CSSStyle._aligndef[value];
	});

	/**
	*表示是否加粗。
	*/
	__getset(0,__proto,'bold',function(){
		return this._font.bold;
		},function(value){
		this._createFont().bold=value;
	});

	/**
	*边距信息。
	*/
	__getset(0,__proto,'padding',function(){
		return this._padding;
		},function(value){
		this._padding=value;
	});

	/**
	*行间距。
	*/
	__getset(0,__proto,'leading',function(){
		return this._spacing[1];
		},function(d){
		((typeof d=='string'))&& (d=parseInt(d+""));
		this._spacing===CSSStyle._SPACING && (this._spacing=[0,0]);
		this._spacing[1]=d;
	});

	/**
	*是否是行元素。
	*/
	__getset(0,__proto,'lineElement',function(){
		return (this._type & 0x10000)!=0;
		},function(value){
		value ? (this._type |=0x10000):(this._type &=(~0x10000));
	});

	/**
	*浮动方向。
	*/
	__getset(0,__proto,'cssFloat',function(){
		return (this._type & 0x8000)!=0 ? "right" :"left";
		},function(value){
		this.lineElement=false;
		value==="right" ? (this._type |=0x8000):(this._type &=(~0x8000));
	});

	/**
	*添加到文本的修饰。
	*/
	__getset(0,__proto,'textDecoration',function(){
		return this._font.decoration;
		},function(value){
		this._createFont().decoration=value;
	});

	/**
	*设置如何处理元素内的空白。
	*/
	__getset(0,__proto,'whiteSpace',function(){
		return (this._type & 0x20000)? "nowrap" :"";
		},function(type){
		type==="nowrap" && (this._type |=0x20000);
		type==="none" && (this._type &=~0x20000);
	});

	__getset(0,__proto,'background',null,function(value){
		if (!value){
			this._bgground=null;
			return;
		}
		this._bgground || (this._bgground={});
		this._bgground.color=value;
		this._ower.conchModel && this._ower.conchModel.bgColor(value);
		this._type |=0x4000;
		this._ower._renderType |=/*laya.renders.RenderSprite.STYLE*/0x100;
	});

	/**
	*表示是否换行。
	*/
	__getset(0,__proto,'wordWrap',function(){
		return (this._type & 0x20000)===0;
		},function(value){
		value ? (this._type &=~0x20000):(this._type |=0x20000);
	});

	/**
	*字体颜色。
	*/
	__getset(0,__proto,'color',function(){
		return this._font.color;
		},function(value){
		this._createFont().color=value;
	});

	/**
	*<p>指定文本字段是否是密码文本字段。</p>
	*如果此属性的值为 true，则文本字段被视为密码文本字段，并使用星号而不是实际字符来隐藏输入的字符。如果为 false，则不会将文本字段视为密码文本字段。
	*/
	__getset(0,__proto,'password',function(){
		return this._font.password;
		},function(value){
		this._createFont().password=value;
	});

	/**
	*背景颜色。
	*/
	__getset(0,__proto,'backgroundColor',function(){
		return this._bgground ? this._bgground.color :null;
		},function(value){
		if (value==='none')this._bgground=null;
		else (this._bgground || (this._bgground={}),this._bgground.color=value);
		this._ower.conchModel && this._ower.conchModel.bgColor(value);
		this._ower._renderType |=/*laya.renders.RenderSprite.STYLE*/0x100;
	});

	/**
	*字体信息。
	*/
	__getset(0,__proto,'font',function(){
		return this._font.toString();
		},function(value){
		this._createFont().set(value);
	});

	/**
	*文本的粗细。
	*/
	__getset(0,__proto,'weight',null,function(value){
		this._createFont().weight=value;
	});

	/**
	*间距。
	*/
	__getset(0,__proto,'letterSpacing',function(){
		return this._spacing[0];
		},function(d){
		((typeof d=='string'))&& (d=parseInt(d+""));
		this._spacing===CSSStyle._SPACING && (this._spacing=[0,0]);
		this._spacing[0]=d;
	});

	/**
	*字体大小。
	*/
	__getset(0,__proto,'fontSize',function(){
		return this._font.size;
		},function(value){
		this._createFont().size=value;
	});

	/**
	*表示是否为斜体。
	*/
	__getset(0,__proto,'italic',function(){
		return this._font.italic;
		},function(value){
		this._createFont().italic=value;
	});

	/**
	*字体系列。
	*/
	__getset(0,__proto,'fontFamily',function(){
		return this._font.family;
		},function(value){
		this._createFont().family=value;
	});

	/**
	*<p>描边宽度（以像素为单位）。</p>
	*默认值0，表示不描边。
	*@default 0
	*/
	__getset(0,__proto,'stroke',function(){
		return this._font.stroke[0];
		},function(value){
		if (this._createFont().stroke===Font._STROKE)this._font.stroke=[0,"#000000"];
		this._font.stroke[0]=value;
	});

	/**
	*<p>描边颜色，以字符串表示。</p>
	*@default "#000000";
	*/
	__getset(0,__proto,'strokeColor',function(){
		return this._font.stroke[1];
		},function(value){
		if (this._createFont().stroke===Font._STROKE)this._font.stroke=[0,"#000000"];
		this._font.stroke[1]=value;
	});

	/**
	*边框属性，比如border="5px solid red"
	*/
	__getset(0,__proto,'border',function(){
		return this._border ? this._border.value :"";
		},function(value){
		if (value=='none'){
			this._border=null;
			return;
		}
		this._border || (this._border={});
		this._border.value=value;
		var values=value.split(' ');
		this._border.color=Color.create(values[values.length-1]);
		if (values.length==1){
			this._border.size=1;
			this._border.type='solid';
			return;
		};
		var i=0;
		if (values[0].indexOf('px')> 0){
			this._border.size=parseInt(values[0]);
			i++;
		}else this._border.size=1;
		this._border.type=values[i];
		this._ower._renderType |=/*laya.renders.RenderSprite.STYLE*/0x100;
	});

	/**
	*边框的颜色。
	*/
	__getset(0,__proto,'borderColor',function(){
		return (this._border && this._border.color)? this._border.color.strColor :null;
		},function(value){
		if (!value){
			this._border=null;
			return;
		}
		this._border || (this._border={size:1,type:'solid'});
		this._border.color=(value==null)? null :Color.create(value);
		this._ower.conchModel && this._ower.conchModel.border(this._border.color.strColor);
		this._ower._renderType |=/*laya.renders.RenderSprite.STYLE*/0x100;
	});

	/**
	*元素的定位类型。
	*/
	__getset(0,__proto,'position',function(){
		return (this._type & 0x4)? "absolute" :"";
		},function(value){
		value=="absolute" ? (this._type |=0x4):(this._type &=~0x4);
	});

	/**
	*规定元素应该生成的框的类型。
	*/
	__getset(0,__proto,'display',null,function(value){
		switch (value){
			case '':
				this._type &=~0x2;
				this.visible=true;
				break ;
			case 'none':
				this._type |=0x2;
				this.visible=false;
				this._ower._layoutLater();
				break ;
			}
	});

	/**@inheritDoc */
	__getset(0,__proto,'paddingLeft',function(){
		return this.padding[3];
	});

	/**@inheritDoc */
	__getset(0,__proto,'paddingTop',function(){
		return this.padding[0];
	});

	__getset(0,__proto,'_scale',null,function(value){
		this._ower.scale(value[0],value[1]);
	});

	__getset(0,__proto,'_rotate',null,function(value){
		this._ower.rotation=value;
	});

	CSSStyle.parseOneCSS=function(text,clipWord){
		var out=[];
		var attrs=text.split(clipWord);
		var valueArray;
		for (var i=0,n=attrs.length;i < n;i++){
			var attr=attrs[i];
			var ofs=attr.indexOf(':');
			var name=attr.substr(0,ofs).replace(/^\s+|\s+$/g,'');
			if (name.length==0)
				continue ;
			var value=attr.substr(ofs+1).replace(/^\s+|\s+$/g,'');
			var one=[name,value];
			switch (name){
				case 'italic':
				case 'bold':
					one[1]=value=="true";
					break ;
				case 'line-height':
					one[0]='lineHeight';
					one[1]=parseInt(value);
					break ;
				case 'font-size':
					one[0]='fontSize';
					one[1]=parseInt(value);
					break ;
				case 'padding':
					valueArray=value.split(' ');
					valueArray.length > 1 || (valueArray[1]=valueArray[2]=valueArray[3]=valueArray[0]);
					one[1]=[parseInt(valueArray[0]),parseInt(valueArray[1]),parseInt(valueArray[2]),parseInt(valueArray[3])];
					break ;
				case 'rotate':
					one[0]="_rotate";
					one[1]=parseFloat(value);
					break ;
				case 'scale':
					valueArray=value.split(' ');
					one[0]="_scale";
					one[1]=[parseFloat(valueArray[0]),parseFloat(valueArray[1])];
					break ;
				case 'translate':
					valueArray=value.split(' ');
					one[0]="_translate";
					one[1]=[parseInt(valueArray[0]),parseInt(valueArray[1])];
					break ;
				default :
					(one[0]=CSSStyle._CSSTOVALUE[name])|| (one[0]=name);
				}
			out.push(one);
		}
		return out;
	}

	CSSStyle.parseCSS=function(text,uri){
		var one;
		while ((one=CSSStyle._parseCSSRegExp.exec(text))!=null){
			CSSStyle.styleSheets[one[1]]=CSSStyle.parseOneCSS(one[2],';');
		}
	}

	CSSStyle.styleSheets={};
	CSSStyle.ALIGN_CENTER=1;
	CSSStyle.ALIGN_RIGHT=2;
	CSSStyle.VALIGN_MIDDLE=1;
	CSSStyle.VALIGN_BOTTOM=2;
	CSSStyle._CSS_BLOCK=0x1;
	CSSStyle._DISPLAY_NONE=0x2;
	CSSStyle._ABSOLUTE=0x4;
	CSSStyle._WIDTH_SET=0x8;
	CSSStyle.ADDLAYOUTED=0x200;
	CSSStyle._NEWFONT=0x1000;
	CSSStyle._HEIGHT_SET=0x2000;
	CSSStyle._BACKGROUND_SET=0x4000;
	CSSStyle._FLOAT_RIGHT=0x8000;
	CSSStyle._LINE_ELEMENT=0x10000;
	CSSStyle._NOWARP=0x20000;
	CSSStyle._WIDTHAUTO=0x40000;
	CSSStyle._LISTERRESZIE=0x80000;
	__static(CSSStyle,
	['EMPTY',function(){return this.EMPTY=new CSSStyle(null);},'_CSSTOVALUE',function(){return this._CSSTOVALUE={'letter-spacing':'letterSpacing','line-spacing':'lineSpacing','white-space':'whiteSpace','line-height':'lineHeight','scale-x':'scaleX','scale-y':'scaleY','translate-x':'translateX','translate-y':'translateY','font-family':'fontFamily','font-weight':'fontWeight','vertical-align':'valign','text-decoration':'textDecoration','background-color':'backgroundColor','border-color':'borderColor','float':'cssFloat'};},'_parseCSSRegExp',function(){return this._parseCSSRegExp=new RegExp("([\.\#]\\w+)\\s*{([\\s\\S]*?)}","g");},'_aligndef',function(){return this._aligndef={'left':0,'center':1,'right':2,0:'left',1:'center',2:'right'};},'_valigndef',function(){return this._valigndef={'top':0,'middle':1,'bottom':2,0:'top',1:'middle',2:'bottom'};},'_PADDING',function(){return this._PADDING=[0,0,0,0];},'_RECT',function(){return this._RECT=[-1,-1,-1,-1];},'_SPACING',function(){return this._SPACING=[0,0];},'_ALIGNS',function(){return this._ALIGNS=[0,0,0];}
	]);
	return CSSStyle;
})(Style)


/**
*@private
*使用Audio标签播放声音
*/
//class laya.media.h5audio.AudioSound extends laya.events.EventDispatcher
var AudioSound=(function(_super){
	function AudioSound(){
		/**
		*声音URL
		*/
		this.url=null;
		/**
		*播放用的audio标签
		*/
		this.audio=null;
		/**
		*是否已加载完成
		*/
		this.loaded=false;
		AudioSound.__super.call(this);
	}

	__class(AudioSound,'laya.media.h5audio.AudioSound',_super);
	var __proto=AudioSound.prototype;
	/**
	*释放声音
	*
	*/
	__proto.dispose=function(){
		var ad=AudioSound._audioCache[this.url];
		if (ad){
			ad.src="";
			delete AudioSound._audioCache[this.url];
		}
	}

	/**
	*加载声音
	*@param url
	*
	*/
	__proto.load=function(url){
		url=URL.formatURL(url);
		this.url=url;
		var ad;
		if (url==SoundManager._tMusic){
			AudioSound._initMusicAudio();
			ad=AudioSound._musicAudio;
			if (ad.src !=url){
				AudioSound._audioCache[ad.src]=null;
				ad=null;
			}
			}else{
			ad=AudioSound._audioCache[url];
		}
		if (ad && ad.readyState >=2){
			this.event(/*laya.events.Event.COMPLETE*/"complete");
			return;
		}
		if (!ad){
			if (url==SoundManager._tMusic){
				AudioSound._initMusicAudio();
				ad=AudioSound._musicAudio;
				}else{
				ad=Browser.createElement("audio");
			}
			AudioSound._audioCache[url]=ad;
			ad.src=url;
		}
		ad.addEventListener("canplaythrough",onLoaded);
		ad.addEventListener("error",onErr);
		var me=this;
		function onLoaded (){
			offs();
			me.loaded=true;
			me.event(/*laya.events.Event.COMPLETE*/"complete");
		}
		function onErr (){
			ad.load=null;
			offs();
			me.event(/*laya.events.Event.ERROR*/"error");
		}
		function offs (){
			ad.removeEventListener("canplaythrough",onLoaded);
			ad.removeEventListener("error",onErr);
		}
		this.audio=ad;
		if (ad.load){
			ad.load();
			}else {
			onErr();
		}
	}

	/**
	*播放声音
	*@param startTime 起始时间
	*@param loops 循环次数
	*@return
	*
	*/
	__proto.play=function(startTime,loops){
		(startTime===void 0)&& (startTime=0);
		(loops===void 0)&& (loops=0);
		if (!this.url)return null;
		var ad;
		if (this.url==SoundManager._tMusic){
			ad=AudioSound._musicAudio;
			}else{
			ad=AudioSound._audioCache[this.url];
		}
		if (!ad)return null;
		var tAd;
		tAd=Pool.getItem("audio:"+this.url);
		if (Render.isConchApp){
			if (!tAd){
				tAd=Browser.createElement("audio");
				tAd.src=this.url;
			}
		}
		else {
			if (this.url==SoundManager._tMusic){
				AudioSound._initMusicAudio();
				tAd=AudioSound._musicAudio;
				tAd.src=this.url;
				}else{
				tAd=tAd ? tAd :ad.cloneNode(true);
			}
		};
		var channel=new AudioSoundChannel(tAd);
		channel.url=this.url;
		channel.loops=loops;
		channel.startTime=startTime;
		channel.play();
		SoundManager.addChannel(channel);
		return channel;
	}

	/**
	*获取总时间。
	*/
	__getset(0,__proto,'duration',function(){
		var ad;
		ad=AudioSound._audioCache[this.url];
		if (!ad)
			return 0;
		return ad.duration;
	});

	AudioSound._initMusicAudio=function(){
		if (AudioSound._musicAudio)return;
		if (!AudioSound._musicAudio)AudioSound._musicAudio=Browser.createElement("audio");
		if (!Render.isConchApp){
			Browser.document.addEventListener("mousedown",AudioSound._makeMusicOK);
		}
	}

	AudioSound._makeMusicOK=function(){
		Browser.document.removeEventListener("mousedown",AudioSound._makeMusicOK);
		if (!AudioSound._musicAudio.src){
			AudioSound._musicAudio.src="";
			AudioSound._musicAudio.load();
			}else{
			AudioSound._musicAudio.play();
		}
	}

	AudioSound._audioCache={};
	AudioSound._musicAudio=null;
	return AudioSound;
})(EventDispatcher)


/**
*<p> <code>SoundChannel</code> 用来控制程序中的声音。每个声音均分配给一个声道，而且应用程序可以具有混合在一起的多个声道。</p>
*<p> <code>SoundChannel</code> 类包含控制声音的播放、暂停、停止、音量的方法，以及获取声音的播放状态、总时间、当前播放时间、总循环次数、播放地址等信息的方法。</p>
*/
//class laya.media.SoundChannel extends laya.events.EventDispatcher
var SoundChannel=(function(_super){
	function SoundChannel(){
		/**
		*声音地址。
		*/
		this.url=null;
		/**
		*循环次数。
		*/
		this.loops=0;
		/**
		*开始时间。
		*/
		this.startTime=NaN;
		/**
		*表示声音是否已暂停。
		*/
		this.isStopped=false;
		/**
		*播放完成处理器。
		*/
		this.completeHandler=null;
		SoundChannel.__super.call(this);
	}

	__class(SoundChannel,'laya.media.SoundChannel',_super);
	var __proto=SoundChannel.prototype;
	/**
	*播放。
	*/
	__proto.play=function(){}
	/**
	*停止。
	*/
	__proto.stop=function(){}
	/**
	*暂停。
	*/
	__proto.pause=function(){}
	/**
	*继续播放。
	*/
	__proto.resume=function(){}
	/**
	*private
	*/
	__proto.__runComplete=function(handler){
		if (handler){
			handler.run();
		}
	}

	/**
	*音量范围从 0（静音）至 1（最大音量）。
	*/
	__getset(0,__proto,'volume',function(){
		return 1;
		},function(v){
	});

	/**
	*获取当前播放时间。
	*/
	__getset(0,__proto,'position',function(){
		return 0;
	});

	/**
	*获取总时间。
	*/
	__getset(0,__proto,'duration',function(){
		return 0;
	});

	return SoundChannel;
})(EventDispatcher)


/**
*<code>Sound</code> 类是用来播放控制声音的类。
*/
//class laya.media.Sound extends laya.events.EventDispatcher
var Sound=(function(_super){
	function Sound(){
		Sound.__super.call(this);;
	}

	__class(Sound,'laya.media.Sound',_super);
	var __proto=Sound.prototype;
	/**
	*加载声音。
	*@param url 地址。
	*
	*/
	__proto.load=function(url){}
	/**
	*播放声音。
	*@param startTime 开始时间,单位秒
	*@param loops 循环次数,0表示一直循环
	*@return 声道 SoundChannel 对象。
	*
	*/
	__proto.play=function(startTime,loops){
		(startTime===void 0)&& (startTime=0);
		(loops===void 0)&& (loops=0);
		return null;
	}

	/**
	*释放声音资源。
	*
	*/
	__proto.dispose=function(){}
	/**
	*获取总时间。
	*/
	__getset(0,__proto,'duration',function(){
		return 0;
	});

	return Sound;
})(EventDispatcher)


/**
*@private
*web audio api方式播放声音
*/
//class laya.media.webaudio.WebAudioSound extends laya.events.EventDispatcher
var WebAudioSound=(function(_super){
	function WebAudioSound(){
		/**
		*声音URL
		*/
		this.url=null;
		/**
		*是否已加载完成
		*/
		this.loaded=false;
		/**
		*声音文件数据
		*/
		this.data=null;
		/**
		*声音原始文件数据
		*/
		this.audioBuffer=null;
		/**
		*待播放的声音列表
		*/
		this.__toPlays=null;
		WebAudioSound.__super.call(this);
	}

	__class(WebAudioSound,'laya.media.webaudio.WebAudioSound',_super);
	var __proto=WebAudioSound.prototype;
	/**
	*加载声音
	*@param url
	*
	*/
	__proto.load=function(url){
		var me=this;
		url=URL.formatURL(url);
		this.url=url;
		this.audioBuffer=WebAudioSound._dataCache[url];
		if (this.audioBuffer){
			this._loaded(this.audioBuffer);
			return;
		}
		WebAudioSound.e.on("loaded:"+url,this,this._loaded);
		WebAudioSound.e.on("err:"+url,this,this._err);
		if (WebAudioSound.__loadingSound[url]){
			return;
		}
		WebAudioSound.__loadingSound[url]=true;
		var request=new Browser.window.XMLHttpRequest();
		request.open("GET",url,true);
		request.responseType="arraybuffer";
		request.onload=function (){
			me.data=request.response;
			WebAudioSound.buffs.push({"buffer":me.data,"url":me.url});
			WebAudioSound.decode();
		};
		request.onerror=function (e){
			me._err();
		}
		request.send();
	}

	__proto._err=function(){
		this._removeLoadEvents();
		WebAudioSound.__loadingSound[this.url]=false;
		this.event(/*laya.events.Event.ERROR*/"error");
	}

	__proto._loaded=function(audioBuffer){
		this._removeLoadEvents();
		this.audioBuffer=audioBuffer;
		WebAudioSound._dataCache[this.url]=this.audioBuffer;
		this.loaded=true;
		this.event(/*laya.events.Event.COMPLETE*/"complete");
	}

	__proto._removeLoadEvents=function(){
		WebAudioSound.e.off("loaded:"+this.url,this,this._loaded);
		WebAudioSound.e.off("err:"+this.url,this,this._err);
	}

	__proto.__playAfterLoaded=function(){
		if (!this.__toPlays)return;
		var i=0,len=0;
		var toPlays;
		toPlays=this.__toPlays;
		len=toPlays.length;
		var tParams;
		for (i=0;i < len;i++){
			tParams=toPlays[i];
			if (tParams[2] && !(tParams [2]).isStopped){
				this.play(tParams[0],tParams[1],tParams[2]);
			}
		}
		this.__toPlays.length=0;
	}

	/**
	*播放声音
	*@param startTime 起始时间
	*@param loops 循环次数
	*@return
	*
	*/
	__proto.play=function(startTime,loops,channel){
		(startTime===void 0)&& (startTime=0);
		(loops===void 0)&& (loops=0);
		channel=channel ? channel :new WebAudioSoundChannel();
		if (!this.audioBuffer){
			if (this.url){
				if (!this.__toPlays)this.__toPlays=[];
				this.__toPlays.push([startTime,loops,channel]);
				this.once(/*laya.events.Event.COMPLETE*/"complete",this,this.__playAfterLoaded);
				this.load(this.url);
			}
		}
		channel.url=this.url;
		channel.loops=loops;
		channel["audioBuffer"]=this.audioBuffer;
		channel.startTime=startTime;
		channel.play();
		SoundManager.addChannel(channel);
		return channel;
	}

	__proto.dispose=function(){
		delete WebAudioSound._dataCache[this.url];
		delete WebAudioSound.__loadingSound[this.url];
	}

	__getset(0,__proto,'duration',function(){
		if (this.audioBuffer){
			return this.audioBuffer.duration;
		}
		return 0;
	});

	WebAudioSound.decode=function(){
		if (WebAudioSound.buffs.length <=0 || WebAudioSound.isDecoding){
			return;
		}
		WebAudioSound.isDecoding=true;
		WebAudioSound.tInfo=WebAudioSound.buffs.shift();
		WebAudioSound.ctx.decodeAudioData(WebAudioSound.tInfo["buffer"],WebAudioSound._done,WebAudioSound._fail);
	}

	WebAudioSound._done=function(audioBuffer){
		WebAudioSound.e.event("loaded:"+WebAudioSound.tInfo.url,audioBuffer);
		WebAudioSound.isDecoding=false;
		WebAudioSound.decode();
	}

	WebAudioSound._fail=function(){
		WebAudioSound.e.event("err:"+WebAudioSound.tInfo.url,null);
		WebAudioSound.isDecoding=false;
		WebAudioSound.decode();
	}

	WebAudioSound._playEmptySound=function(){
		if (WebAudioSound.ctx==null){
			return;
		};
		var source=WebAudioSound.ctx.createBufferSource();
		source.buffer=WebAudioSound._miniBuffer;
		source.connect(WebAudioSound.ctx.destination);
		source.start(0,0,0);
	}

	WebAudioSound._unlock=function(){
		if (WebAudioSound._unlocked){
			return;
		}
		WebAudioSound._playEmptySound();
		if (WebAudioSound.ctx.state=="running"){
			Browser.document.removeEventListener("mousedown",WebAudioSound._unlock,true);
			Browser.document.removeEventListener("touchend",WebAudioSound._unlock,true);
			WebAudioSound._unlocked=true;
		}
	}

	WebAudioSound.initWebAudio=function(){
		if (WebAudioSound.ctx.state !="running"){
			WebAudioSound._unlock();
			Browser.document.addEventListener("mousedown",WebAudioSound._unlock,true);
			Browser.document.addEventListener("touchend",WebAudioSound._unlock,true);
		}
	}

	WebAudioSound._dataCache={};
	WebAudioSound.buffs=[];
	WebAudioSound.isDecoding=false;
	WebAudioSound._unlocked=false;
	WebAudioSound.tInfo=null;
	WebAudioSound.__loadingSound={};
	__static(WebAudioSound,
	['window',function(){return this.window=Browser.window;},'webAudioEnabled',function(){return this.webAudioEnabled=WebAudioSound.window["AudioContext"] || WebAudioSound.window["webkitAudioContext"] || WebAudioSound.window["mozAudioContext"];},'ctx',function(){return this.ctx=WebAudioSound.webAudioEnabled ? new (WebAudioSound.window["AudioContext"] || WebAudioSound.window["webkitAudioContext"] || WebAudioSound.window["mozAudioContext"])():undefined;},'_miniBuffer',function(){return this._miniBuffer=WebAudioSound.ctx.createBuffer(1,1,22050);},'e',function(){return this.e=new EventDispatcher();}
	]);
	return WebAudioSound;
})(EventDispatcher)


/**
*<p> <code>HttpRequest</code> 通过封装 HTML <code>XMLHttpRequest</code> 对象提供了对 HTTP 协议的完全的访问，包括做出 POST 和 HEAD 请求以及普通的 GET 请求的能力。 <code>HttpRequest</code> 只提供以异步的形式返回 Web 服务器的响应，并且能够以文本或者二进制的形式返回内容。</p>
*<p><b>注意：</b>建议每次请求都使用新的 <code>HttpRequest</code> 对象，因为每次调用该对象的send方法时，都会清空之前设置的数据，并重置 HTTP 请求的状态，这会导致之前还未返回响应的请求被重置，从而得不到之前请求的响应结果。</p>
*/
//class laya.net.HttpRequest extends laya.events.EventDispatcher
var HttpRequest=(function(_super){
	function HttpRequest(){
		/**@private */
		this._responseType=null;
		/**@private */
		this._data=null;
		HttpRequest.__super.call(this);
		this._http=new Browser.window.XMLHttpRequest();
	}

	__class(HttpRequest,'laya.net.HttpRequest',_super);
	var __proto=HttpRequest.prototype;
	/**
	*发送 HTTP 请求。
	*@param url 请求的地址。大多数浏览器实施了一个同源安全策略，并且要求这个 URL 与包含脚本的文本具有相同的主机名和端口。
	*@param data (default=null)发送的数据。
	*@param method (default="get")用于请求的 HTTP 方法。值包括 "get"、"post"、"head"。
	*@param responseType (default="text")Web 服务器的响应类型，可设置为 "text"、"json"、"xml"、"arraybuffer"。
	*@param headers (default=null)HTTP 请求的头部信息。参数形如key-value数组：key是头部的名称，不应该包括空白、冒号或换行；value是头部的值，不应该包括换行。比如["Content-Type","application/json"]。
	*/
	__proto.send=function(url,data,method,responseType,headers){
		(method===void 0)&& (method="get");
		(responseType===void 0)&& (responseType="text");
		this._responseType=responseType;
		this._data=null;
		var _this=this;
		var http=this._http;
		http.open(method,url,true);
		if (headers){
			for (var i=0;i < headers.length;i++){
				http.setRequestHeader(headers[i++],headers[i]);
			}
			}else if (!Render.isConchApp){
			if (!data || (typeof data=='string'))http.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
			else http.setRequestHeader("Content-Type","application/json");
		}
		http.responseType=responseType!=="arraybuffer" ? "text" :"arraybuffer";
		http.onerror=function (e){
			_this._onError(e);
		}
		http.onabort=function (e){
			_this._onAbort(e);
		}
		http.onprogress=function (e){
			_this._onProgress(e);
		}
		http.onload=function (e){
			_this._onLoad(e);
		}
		http.send(data);
	}

	/**
	*@private
	*请求进度的侦听处理函数。
	*@param e 事件对象。
	*/
	__proto._onProgress=function(e){
		if (e && e.lengthComputable)this.event(/*laya.events.Event.PROGRESS*/"progress",e.loaded / e.total);
	}

	/**
	*@private
	*请求中断的侦听处理函数。
	*@param e 事件对象。
	*/
	__proto._onAbort=function(e){
		this.error("Request was aborted by user");
	}

	/**
	*@private
	*请求出错侦的听处理函数。
	*@param e 事件对象。
	*/
	__proto._onError=function(e){
		this.error("Request failed Status:"+this._http.status+" text:"+this._http.statusText);
	}

	/**
	*@private
	*请求消息返回的侦听处理函数。
	*@param e 事件对象。
	*/
	__proto._onLoad=function(e){
		var http=this._http;
		var status=http.status!==undefined ? http.status :200;
		if (status===200 || status===204 || status===0){
			this.complete();
			}else {
			this.error("["+http.status+"]"+http.statusText+":"+http.responseURL);
		}
	}

	/**
	*@private
	*请求错误的处理函数。
	*@param message 错误信息。
	*/
	__proto.error=function(message){
		this.clear();
		this.event(/*laya.events.Event.ERROR*/"error",message);
	}

	/**
	*@private
	*请求成功完成的处理函数。
	*/
	__proto.complete=function(){
		this.clear();
		var flag=true;
		try {
			if (this._responseType==="json"){
				this._data=JSON.parse(this._http.responseText);
				}else if (this._responseType==="xml"){
				this._data=Utils.parseXMLFromString(this._http.responseText);
				}else {
				this._data=this._http.response || this._http.responseText;
			}
			}catch (e){
			flag=false;
			this.error(e.message);
		}
		flag && this.event(/*laya.events.Event.COMPLETE*/"complete",(this._data instanceof Array)? [this._data] :this._data);
	}

	/**
	*@private
	*清除当前请求。
	*/
	__proto.clear=function(){
		var http=this._http;
		http.onerror=http.onabort=http.onprogress=http.onload=null;
	}

	/**请求的地址。*/
	__getset(0,__proto,'url',function(){
		return this._http.responseURL;
	});

	/**
	*本对象所封装的原生 XMLHttpRequest 引用。
	*/
	__getset(0,__proto,'http',function(){
		return this._http;
	});

	/**返回的数据。*/
	__getset(0,__proto,'data',function(){
		return this._data;
	});

	return HttpRequest;
})(EventDispatcher)


/**
*<code>Loader</code> 类可用来加载文本、JSON、XML、二进制、图像等资源。
*/
//class laya.net.Loader extends laya.events.EventDispatcher
var Loader=(function(_super){
	function Loader(){
		/**@private 加载后的数据对象，只读*/
		this._data=null;
		/**@private */
		this._class=null;
		/**@private */
		this._url=null;
		/**@private */
		this._type=null;
		/**@private */
		this._cache=false;
		/**@private */
		this._http=null;
		/**@private 自定义解析不派发complete事件，但会派发loaded事件，手动调用endLoad方法再派发complete事件*/
		this._customParse=false;
		Loader.__super.call(this);
	}

	__class(Loader,'laya.net.Loader',_super);
	var __proto=Loader.prototype;
	/**
	*加载资源。加载错误会派发 Event.ERROR 事件，参数为错误信息。
	*@param url 资源地址。
	*@param type (default=null)资源类型。可选值为：Loader.TEXT、Loader.JSON、Loader.XML、Loader.BUFFER、Loader.IMAGE、Loader.SOUND、Loader.ATLAS、Loader.FONT。如果为null，则根据文件后缀分析类型。
	*@param cache (default=true)是否缓存数据。
	*@param group (default=null)分组名称。
	*@param ignoreCache (default=false)是否忽略缓存，强制重新加载。
	*/
	__proto.load=function(url,type,cache,group,ignoreCache){
		(cache===void 0)&& (cache=true);
		(ignoreCache===void 0)&& (ignoreCache=false);
		this._url=url;
		if (url.indexOf("data:image")===0)this._type=type="image";
		else {
			this._type=type || (type=this.getTypeFromUrl(url));
			url=URL.formatURL(url);
		}
		this._cache=cache;
		this._data=null;
		if (!ignoreCache && Loader.loadedMap[url]){
			this._data=Loader.loadedMap[url];
			this.event(/*laya.events.Event.PROGRESS*/"progress",1);
			this.event(/*laya.events.Event.COMPLETE*/"complete",this._data);
			return;
		}
		if (group)Loader.setGroup(url,group);
		if (Loader.parserMap[type] !=null){
			this._customParse=true;
			if (((Loader.parserMap[type])instanceof laya.utils.Handler ))Loader.parserMap[type].runWith(this);
			else Loader.parserMap[type].call(null,this);
			return;
		}
		if (type==="image" || type==="htmlimage" || type==="nativeimage")return this._loadImage(url);
		if (type==="sound")return this._loadSound(url);
		if (type==="ttf")return this._loadTTF(url);
		if (type=="atlas"){
			if (Loader.preLoadedAtlasConfigMap[url]){
				this.onLoaded(Loader.preLoadedAtlasConfigMap[url]);
				delete Loader.preLoadedAtlasConfigMap[url];
				return;
			}
		}
		if (!this._http){
			this._http=new HttpRequest();
			this._http.on(/*laya.events.Event.PROGRESS*/"progress",this,this.onProgress);
			this._http.on(/*laya.events.Event.ERROR*/"error",this,this.onError);
			this._http.on(/*laya.events.Event.COMPLETE*/"complete",this,this.onLoaded);
		};
		var contentType;
		switch (type){
			case "atlas":
				contentType="json";
				break ;
			case "font":
				contentType="xml";
				break ;
			case "pkm":
				contentType="arraybuffer";
				break
			default :
				contentType=type;
			}
		this._http.send(url,null,"get",contentType);
	}

	/**
	*获取指定资源地址的数据类型。
	*@param url 资源地址。
	*@return 数据类型。
	*/
	__proto.getTypeFromUrl=function(url){
		var type=Utils.getFileExtension(url);
		if (type)return Loader.typeMap[type];
		console.warn("Not recognize the resources suffix",url);
		return "text";
	}

	/**
	*@private
	*加载TTF资源。
	*@param url 资源地址。
	*/
	__proto._loadTTF=function(url){
		url=URL.formatURL(url);
		var ttfLoader=new TTFLoader();
		ttfLoader.complete=Handler.create(this,this.onLoaded);
		ttfLoader.load(url);
	}

	/**
	*@private
	*加载图片资源。
	*@param url 资源地址。
	*/
	__proto._loadImage=function(url){
		url=URL.formatURL(url);
		var _this=this;
		var image;
		function clear (){
			image.onload=null;
			image.onerror=null;
			delete Loader.imgCache[url]
		};
		var onload=function (){
			clear();
			_this.onLoaded(image);
		};
		var onerror=function (){
			clear();
			_this.event(/*laya.events.Event.ERROR*/"error","Load image failed");
		}
		if (this._type==="nativeimage"){
			image=new Browser.window.Image();
			image.crossOrigin="";
			image.onload=onload;
			image.onerror=onerror;
			image.src=url;
			Loader.imgCache[url]=image;
			}else {
			new HTMLImage.create(url,{onload:onload,onerror:onerror,onCreate:function (img){
					image=img;
					Loader.imgCache[url]=img;
			}});
		}
	}

	/**
	*@private
	*加载声音资源。
	*@param url 资源地址。
	*/
	__proto._loadSound=function(url){
		var sound=(new SoundManager._soundClass());
		var _this=this;
		sound.on(/*laya.events.Event.COMPLETE*/"complete",this,soundOnload);
		sound.on(/*laya.events.Event.ERROR*/"error",this,soundOnErr);
		sound.load(url);
		function soundOnload (){
			clear();
			_this.onLoaded(sound);
		}
		function soundOnErr (){
			clear();
			sound.dispose();
			_this.event(/*laya.events.Event.ERROR*/"error","Load sound failed");
		}
		function clear (){
			sound.offAll();
		}
	}

	/**@private */
	__proto.onProgress=function(value){
		if (this._type==="atlas")this.event(/*laya.events.Event.PROGRESS*/"progress",value *0.3);
		else this.event(/*laya.events.Event.PROGRESS*/"progress",value);
	}

	/**@private */
	__proto.onError=function(message){
		this.event(/*laya.events.Event.ERROR*/"error",message);
	}

	/**
	*资源加载完成的处理函数。
	*@param data 数据。
	*/
	__proto.onLoaded=function(data){
		var type=this._type;
		if (type==="image"){
			var tex=new Texture(data);
			tex.url=this._url;
			this.complete(tex);
			}else if (type==="sound" || type==="htmlimage" || type==="nativeimage"){
			this.complete(data);
			}else if (type==="atlas"){
			if (!data.src && !data._setContext){
				if (!this._data){
					this._data=data;
					if (data.meta && data.meta.image){
						var toloadPics=data.meta.image.split(",");
						var split=this._url.indexOf("/")>=0 ? "/" :"\\";
						var idx=this._url.lastIndexOf(split);
						var folderPath=idx >=0 ? this._url.substr(0,idx+1):"";
						for (var i=0,len=toloadPics.length;i < len;i++){
							toloadPics[i]=folderPath+toloadPics[i];
						}
						}else {
						toloadPics=[this._url.replace(".json",".png")];
					}
					toloadPics.reverse();
					data.toLoads=toloadPics;
					data.pics=[];
				}
				this.event(/*laya.events.Event.PROGRESS*/"progress",0.3+1 / toloadPics.length *0.6);
				return this._loadImage(toloadPics.pop());
				}else {
				this._data.pics.push(data);
				if (this._data.toLoads.length > 0){
					this.event(/*laya.events.Event.PROGRESS*/"progress",0.3+1 / this._data.toLoads.length *0.6);
					return this._loadImage(this._data.toLoads.pop());
				};
				var frames=this._data.frames;
				var cleanUrl=this._url.split("?")[0];
				var directory=(this._data.meta && this._data.meta.prefix)? this._data.meta.prefix :cleanUrl.substring(0,cleanUrl.lastIndexOf("."))+"/";
				var pics=this._data.pics;
				var atlasURL=URL.formatURL(this._url);
				var map=Loader.atlasMap[atlasURL] || (Loader.atlasMap[atlasURL]=[]);
				map.dir=directory;
				var scaleRate=NaN;
				scaleRate=this._data.meta.scale;
				if (scaleRate && scaleRate !=1){
					scaleRate=parseFloat(this._data.meta.scale);
					for (var name in frames){
						var obj=frames[name];
						var tPic=pics[obj.frame.idx ? obj.frame.idx :0];
						var url=URL.formatURL(directory+name);
						tPic.scaleRate=scaleRate;
						Loader.cacheRes(url,Texture.create(tPic,obj.frame.x,obj.frame.y,obj.frame.w,obj.frame.h,obj.spriteSourceSize.x,obj.spriteSourceSize.y,obj.sourceSize.w,obj.sourceSize.h));
						Loader.loadedMap[url].url=url;
						map.push(url);
					}
					}else{
					for (name in frames){
						obj=frames[name];
						tPic=pics[obj.frame.idx ? obj.frame.idx :0];
						url=URL.formatURL(directory+name);
						Loader.cacheRes(url,Texture.create(tPic,obj.frame.x,obj.frame.y,obj.frame.w,obj.frame.h,obj.spriteSourceSize.x,obj.spriteSourceSize.y,obj.sourceSize.w,obj.sourceSize.h));
						Loader.loadedMap[url].url=url;
						map.push(url);
					}
				}
				delete this._data.pics;
				this.complete(this._data);
			}
			}else if (type=="font"){
			if (!data.src){
				this._data=data;
				this.event(/*laya.events.Event.PROGRESS*/"progress",0.5);
				return this._loadImage(this._url.replace(".fnt",".png"));
				}else {
				var bFont=new BitmapFont();
				bFont.parseFont(this._data,data);
				var tArr=this._url.split(".fnt")[0].split("/");
				var fontName=tArr[tArr.length-1];
				Text.registerBitmapFont(fontName,bFont);
				this._data=bFont;
				this.complete(this._data);
			}
			}else if (type=="pkm"){
			var image=HTMLImage.create(data,this._url);
			var tex1=new Texture(image);
			tex1.url=this._url;
			this.complete(tex1);
			}else {
			this.complete(data);
		}
	}

	/**
	*加载完成。
	*@param data 加载的数据。
	*/
	__proto.complete=function(data){
		this._data=data;
		if (this._customParse){
			this.event(/*laya.events.Event.LOADED*/"loaded",(data instanceof Array)? [data] :data);
			}else {
			Loader._loaders.push(this);
			if (!Loader._isWorking)Loader.checkNext();
		}
	}

	/**
	*结束加载，处理是否缓存及派发完成事件 <code>Event.COMPLETE</code> 。
	*@param content 加载后的数据
	*/
	__proto.endLoad=function(content){
		content && (this._data=content);
		if (this._cache)Loader.cacheRes(this._url,this._data);
		this._customParse=false;
		this.event(/*laya.events.Event.PROGRESS*/"progress",1);
		this.event(/*laya.events.Event.COMPLETE*/"complete",(this.data instanceof Array)? [this.data] :this.data);
	}

	/**加载地址。*/
	__getset(0,__proto,'url',function(){
		return this._url;
	});

	/**返回的数据。*/
	__getset(0,__proto,'data',function(){
		return this._data;
	});

	/**是否缓存。*/
	__getset(0,__proto,'cache',function(){
		return this._cache;
	});

	/**加载类型。*/
	__getset(0,__proto,'type',function(){
		return this._type;
	});

	Loader.checkNext=function(){
		Loader._isWorking=true;
		var startTimer=Browser.now();
		var thisTimer=startTimer;
		while (Loader._startIndex < Loader._loaders.length){
			thisTimer=Browser.now();
			Loader._loaders[Loader._startIndex].endLoad();
			Loader._startIndex++;
			if (Browser.now()-startTimer > Loader.maxTimeOut){
				console.warn("loader callback cost a long time:"+(Browser.now()-startTimer)+" url="+Loader._loaders[Loader._startIndex-1].url);
				Laya.timer.frameOnce(1,null,Loader.checkNext);
				return;
			}
		}
		Loader._loaders.length=0;
		Loader._startIndex=0;
		Loader._isWorking=false;
	}

	Loader.clearRes=function(url,forceDispose){
		(forceDispose===void 0)&& (forceDispose=false);
		url=URL.formatURL(url);
		var arr=Loader.getAtlas(url);
		if (arr){
			for (var i=0,n=arr.length;i < n;i++){
				var resUrl=arr[i];
				var tex=Loader.getRes(resUrl);
				delete Loader.loadedMap[resUrl];
				if (tex)tex.destroy(forceDispose);
			}
			arr.length=0;
			delete Loader.atlasMap[url];
			delete Loader.loadedMap[url];
			}else {
			var res=Loader.loadedMap[url];
			if (res){
				delete Loader.loadedMap[url];
				if ((res instanceof laya.resource.Texture )&& res.bitmap)(res).destroy(forceDispose);
			}
		}
	}

	Loader.clearTextureRes=function(url){
		url=URL.formatURL(url);
		var arr=laya.net.Loader.getAtlas(url);
		var res=(arr && arr.length>0)? laya.net.Loader.getRes(arr[0]):laya.net.Loader.getRes(url);
		if (res && res.bitmap){
			if (Render.isConchApp){
				if (res.bitmap.source.releaseTexture){
					res.bitmap.source.releaseTexture();
				}
				}else if (res.bitmap._atlaser==null){
				res.bitmap.releaseResource(true);
			}
		}
	}

	Loader.setAtlasConfigs=function(url,config){
		Loader.preLoadedAtlasConfigMap[URL.formatURL(url)]=config;
	}

	Loader.getRes=function(url){
		return Loader.loadedMap[URL.formatURL(url)];
	}

	Loader.getAtlas=function(url){
		return Loader.atlasMap[URL.formatURL(url)];
	}

	Loader.cacheRes=function(url,data){
		url=URL.formatURL(url);
		if (Loader.loadedMap[url] !=null){
			console.warn("Resources already exist,is repeated loading:",url);
			}else {
			Loader.loadedMap[url]=data;
		}
	}

	Loader.setGroup=function(url,group){
		if (!Loader.groupMap[group])Loader.groupMap[group]=[];
		Loader.groupMap[group].push(url);
	}

	Loader.clearResByGroup=function(group){
		if (!Loader.groupMap[group])return;
		var arr=Loader.groupMap[group],i=0,len=arr.length;
		for (i=0;i < len;i++){
			Loader.clearRes(arr[i]);
		}
		arr.length=0;
	}

	Loader.TEXT="text";
	Loader.JSON="json";
	Loader.XML="xml";
	Loader.BUFFER="arraybuffer";
	Loader.IMAGE="image";
	Loader.SOUND="sound";
	Loader.ATLAS="atlas";
	Loader.FONT="font";
	Loader.TTF="ttf";
	Loader.PKM="pkm";
	Loader.parserMap={};
	Loader.groupMap={};
	Loader.maxTimeOut=100;
	Loader.loadedMap={};
	Loader.preLoadedAtlasConfigMap={};
	Loader.atlasMap={};
	Loader._loaders=[];
	Loader._isWorking=false;
	Loader._startIndex=0;
	Loader.imgCache={};
	__static(Loader,
	['typeMap',function(){return this.typeMap={"png":"image","jpg":"image","jpeg":"image","txt":"text","json":"json","xml":"xml","als":"atlas","atlas":"atlas","mp3":"sound","ogg":"sound","wav":"sound","part":"json","fnt":"font","pkm":"pkm","ttf":"ttf"};}
	]);
	return Loader;
})(EventDispatcher)


/**
*<p> <code>LoaderManager</code> 类用于用于批量加载资源。此类是单例，不要手动实例化此类，请通过Laya.loader访问。</p>
*<p>全部队列加载完成，会派发 Event.COMPLETE 事件；如果队列中任意一个加载失败，会派发 Event.ERROR 事件，事件回调参数值为加载出错的资源地址。</p>
*<p> <code>LoaderManager</code> 类提供了以下几种功能：<br/>
*多线程：默认5个加载线程，可以通过maxLoader属性修改线程数量；<br/>
*多优先级：有0-4共5个优先级，优先级高的优先加载。0最高，4最低；<br/>
*重复过滤：自动过滤重复加载（不会有多个相同地址的资源同时加载）以及复用缓存资源，防止重复加载；<br/>
*错误重试：资源加载失败后，会重试加载（以最低优先级插入加载队列），retryNum设定加载失败后重试次数，retryDelay设定加载重试的时间间隔。</p>
*@see laya.net.Loader
*/
//class laya.net.LoaderManager extends laya.events.EventDispatcher
var LoaderManager=(function(_super){
	var ResInfo;
	function LoaderManager(){
		/**加载出错后的重试次数，默认重试一次*/
		this.retryNum=1;
		/**延迟时间多久再进行错误重试，默认立即重试*/
		this.retryDelay=0;
		/**最大下载线程，默认为5个*/
		this.maxLoader=5;
		/**@private */
		this._loaders=[];
		/**@private */
		this._loaderCount=0;
		/**@private */
		this._resInfos=[];
		/**@private */
		this._infoPool=[];
		/**@private */
		this._maxPriority=5;
		/**@private */
		this._failRes={};
		LoaderManager.__super.call(this);
		for (var i=0;i < this._maxPriority;i++)this._resInfos[i]=[];
	}

	__class(LoaderManager,'laya.net.LoaderManager',_super);
	var __proto=LoaderManager.prototype;
	/**
	*<p>根据clas类型创建一个未初始化资源的对象，随后进行异步加载，资源加载完成后，初始化对象的资源，并通过此对象派发 Event.LOADED 事件，事件回调参数值为此对象本身。套嵌资源的子资源会保留资源路径"?"后的部分。</p>
	*<p>如果url为数组，返回true；否则返回指定的资源类对象，可以通过侦听此对象的 Event.LOADED 事件来判断资源是否已经加载完毕。</p>
	*<p><b>注意：</b>cache参数只能对文件后缀为atlas的资源进行缓存控制，其他资源会忽略缓存，强制重新加载。</p>
	*@param url 资源地址或者数组。如果url和clas同时指定了资源类型，优先使用url指定的资源类型。参数形如：[{url:xx,clas:xx,priority:xx,params:xx},{url:xx,clas:xx,priority:xx,params:xx}]。
	*@param complete 加载结束回调。根据url类型不同分为2种情况：1. url为String类型，也就是单个资源地址，如果加载成功，则回调参数值为加载完成的资源，否则为null；2. url为数组类型，指定了一组要加载的资源，如果全部加载成功，则回调参数值为true，否则为false。
	*@param progress 资源加载进度回调，回调参数值为当前资源加载的进度信息(0-1)。
	*@param clas 资源类名。如果url和clas同时指定了资源类型，优先使用url指定的资源类型。参数形如：Texture。
	*@param params 资源构造参数。
	*@param priority (default=1)加载的优先级，优先级高的优先加载。有0-4共5个优先级，0最高，4最低。
	*@param cache 是否缓存加载的资源。
	*@return 如果url为数组，返回true；否则返回指定的资源类对象。
	*/
	__proto.create=function(url,complete,progress,clas,params,priority,cache,group){
		(priority===void 0)&& (priority=1);
		(cache===void 0)&& (cache=true);
		if ((url instanceof Array)){
			var items=url;
			var itemCount=items.length;
			var loadedCount=0;
			if (progress){
				var progress2=Handler.create(progress.caller,progress.method,progress.args,false);
			}
			for (var i=0;i < itemCount;i++){
				var item=items[i];
				if ((typeof item=='string'))item=items[i]={url:item};
				item.progress=0;
				var progressHandler=progress ? Handler.create(null,onProgress,[item],false):null;
				var completeHandler=(progress || complete)? Handler.create(null,onComplete,[item]):null;
				this._create(item.url,completeHandler,progressHandler,item.clas || clas,item.params || params,item.priority || priority,cache,item.group || group);
			}
			function onComplete (item,content){
				loadedCount++;
				item.progress=1;
				if (loadedCount===itemCount && complete){
					complete.run();
				}
			}
			function onProgress (item,value){
				item.progress=value;
				var num=0;
				for (var j=0;j < itemCount;j++){
					var item1=items[j];
					num+=item1.progress;
				};
				var v=num / itemCount;
				progress2.runWith(v);
			}
			return true;
		}else return this._create(url,complete,progress,clas,params,priority,cache,group);
	}

	__proto._create=function(url,complete,progress,clas,params,priority,cache,group){
		(priority===void 0)&& (priority=1);
		(cache===void 0)&& (cache=true);
		url=URL.formatURL(url);
		var item=this.getRes(url);
		if (!item){
			var extension=Utils.getFileExtension(url);
			var creatItem=LoaderManager.createMap[extension];
			if (!creatItem)
				throw new Error("LoaderManager:unknown file("+url+") extension with: "+extension+".");
			if (!clas)clas=creatItem[0];
			var type=creatItem[1];
			if (extension=="atlas"){
				this.load(url,complete,progress,type,priority,cache);
				}else {
				if (clas===Texture)type="htmlimage";
				item=clas ? new clas():null;
				if (item.hasOwnProperty("_loaded"))
					item._loaded=false;
				item._setUrl(url);
				(group)&& (item._setGroup(group));
				this._createLoad(item,url,Handler.create(null,onLoaded),progress,type,priority,false,group,true);
				function onLoaded (data){
					(item && !item.destroyed && data)&& (item.onAsynLoaded.call(item,url,data,params));
					if (complete)complete.run();
					Laya.loader.event(url);
				}
				(cache)&& (this.cacheRes(url,item));
			}
			}else {
			if (!item.hasOwnProperty("loaded")|| item.loaded){
				progress && progress.runWith(1);
				complete && complete.run();
				}else if (complete){
				Laya.loader._createListener(url,complete.caller,complete.method,complete.args,true,false);
			}
		}
		return item;
	}

	/**
	*<p>加载资源。资源加载错误时，本对象会派发 Event.ERROR 事件，事件回调参数值为加载出错的资源地址。</p>
	*<p>因为返回值为 LoaderManager 对象本身，所以可以使用如下语法：Laya.loader.load(...).load(...);</p>
	*@param url 要加载的单个资源地址或资源信息数组。比如：简单数组：["a.png","b.png"]；复杂数组[{url:"a.png",type:Loader.IMAGE,size:100,priority:1},{url:"b.json",type:Loader.JSON,size:50,priority:1}]。
	*@param complete 加载结束回调。根据url类型不同分为2种情况：1. url为String类型，也就是单个资源地址，如果加载成功，则回调参数值为加载完成的资源，否则为null；2. url为数组类型，指定了一组要加载的资源，如果全部加载成功，则回调参数值为true，否则为false。
	*@param progress 加载进度回调。回调参数值为当前资源的加载进度信息(0-1)。
	*@param type 资源类型。比如：Loader.IMAGE。
	*@param priority (default=1)加载的优先级，优先级高的优先加载。有0-4共5个优先级，0最高，4最低。
	*@param cache 是否缓存加载结果。
	*@param group 分组，方便对资源进行管理。
	*@param ignoreCache 是否忽略缓存，强制重新加载。
	*@return 此 LoaderManager 对象本身。
	*/
	__proto.load=function(url,complete,progress,type,priority,cache,group,ignoreCache){
		var _$this=this;
		(priority===void 0)&& (priority=1);
		(cache===void 0)&& (cache=true);
		(ignoreCache===void 0)&& (ignoreCache=false);
		if ((url instanceof Array))return this._loadAssets(url,complete,progress,type,priority,cache,group);
		var content=Loader.getRes(url);
		if (content !=null){
			Laya.timer.frameOnce(1,null,function(){
				progress && progress.runWith(1);
				complete && complete.runWith(content);
				_$this._loaderCount || _$this.event(/*laya.events.Event.COMPLETE*/"complete");
			});
			}else {
			var info=LoaderManager._resMap[url];
			if (!info){
				info=this._infoPool.length ? this._infoPool.pop():new ResInfo();
				info.url=url;
				info.type=type;
				info.cache=cache;
				info.group=group;
				info.ignoreCache=ignoreCache;
				complete && info.on(/*laya.events.Event.COMPLETE*/"complete",complete.caller,complete.method,complete.args);
				progress && info.on(/*laya.events.Event.PROGRESS*/"progress",progress.caller,progress.method,progress.args);
				LoaderManager._resMap[url]=info;
				priority=priority < this._maxPriority ? priority :this._maxPriority-1;
				this._resInfos[priority].push(info);
				this._next();
				}else {
				complete && info._createListener(/*laya.events.Event.COMPLETE*/"complete",complete.caller,complete.method,complete.args,false,false);
				progress && info._createListener(/*laya.events.Event.PROGRESS*/"progress",progress.caller,progress.method,progress.args,false,false);
			}
		}
		return this;
	}

	/**
	*@private
	*/
	__proto._createLoad=function(item,url,complete,progress,type,priority,cache,group,ignoreCache){
		var _$this=this;
		(priority===void 0)&& (priority=1);
		(cache===void 0)&& (cache=true);
		(ignoreCache===void 0)&& (ignoreCache=false);
		if ((url instanceof Array))return this._loadAssets(url,complete,progress,type,priority,cache,group);
		var content=Loader.getRes(url);
		if (content !=null){
			Laya.timer.frameOnce(1,null,function(){
				progress && progress.runWith(1);
				complete && complete.runWith(content);
				_$this._loaderCount || _$this.event(/*laya.events.Event.COMPLETE*/"complete");
			});
			}else {
			var info=LoaderManager._resMap[url];
			if (!info){
				info=this._infoPool.length ? this._infoPool.pop():new ResInfo();
				info.url=url;
				info.clas=item;
				info.type=type;
				info.cache=cache;
				info.group=group;
				info.ignoreCache=ignoreCache;
				complete && info.on(/*laya.events.Event.COMPLETE*/"complete",complete.caller,complete.method,complete.args);
				progress && info.on(/*laya.events.Event.PROGRESS*/"progress",progress.caller,progress.method,progress.args);
				LoaderManager._resMap[url]=info;
				priority=priority < this._maxPriority ? priority :this._maxPriority-1;
				this._resInfos[priority].push(info);
				this._next();
				}else {
				complete && info._createListener(/*laya.events.Event.COMPLETE*/"complete",complete.caller,complete.method,complete.args,false,false);
				progress && info._createListener(/*laya.events.Event.PROGRESS*/"progress",progress.caller,progress.method,progress.args,false,false);
			}
		}
		return this;
	}

	__proto._next=function(){
		if (this._loaderCount >=this.maxLoader)return;
		for (var i=0;i < this._maxPriority;i++){
			var infos=this._resInfos[i];
			while (infos.length > 0){
				var info=infos.shift();
				if (info)return this._doLoad(info);
			}
		}
		this._loaderCount || this.event(/*laya.events.Event.COMPLETE*/"complete");
	}

	__proto._doLoad=function(resInfo){
		this._loaderCount++;
		var loader=this._loaders.length ? this._loaders.pop():new Loader();
		loader.on(/*laya.events.Event.COMPLETE*/"complete",null,onLoaded);
		loader.on(/*laya.events.Event.PROGRESS*/"progress",null,function(num){
			resInfo.event(/*laya.events.Event.PROGRESS*/"progress",num);
		});
		loader.on(/*laya.events.Event.ERROR*/"error",null,function(msg){
			onLoaded(null);
		});
		var _this=this;
		function onLoaded (data){
			loader.offAll();
			loader._data=null;
			_this._loaders.push(loader);
			_this._endLoad(resInfo,(data instanceof Array)? [data] :data);
			_this._loaderCount--;
			_this._next();
		}
		loader._class=resInfo.clas;
		loader.load(resInfo.url,resInfo.type,resInfo.cache,resInfo.group,resInfo.ignoreCache);
	}

	__proto._endLoad=function(resInfo,content){
		var url=resInfo.url;
		if (content==null){
			var errorCount=this._failRes[url] || 0;
			if (errorCount < this.retryNum){
				console.warn("[warn]Retry to load:",url);
				this._failRes[url]=errorCount+1;
				Laya.timer.once(this.retryDelay,this,this._addReTry,[resInfo],false);
				return;
				}else {
				console.warn("[error]Failed to load:",url);
				this.event(/*laya.events.Event.ERROR*/"error",url);
			}
		}
		if (this._failRes[url])this._failRes[url]=0;
		delete LoaderManager._resMap[url];
		resInfo.event(/*laya.events.Event.COMPLETE*/"complete",content);
		resInfo.offAll();
		this._infoPool.push(resInfo);
	}

	__proto._addReTry=function(resInfo){
		this._resInfos[this._maxPriority-1].push(resInfo);
		this._next();
	}

	/**
	*清理指定资源地址缓存。
	*@param url 资源地址。
	*@param forceDispose 是否强制销毁，有些资源是采用引用计数方式销毁，如果forceDispose=true，则忽略引用计数，直接销毁，比如Texture，默认为false
	*/
	__proto.clearRes=function(url,forceDispose){
		(forceDispose===void 0)&& (forceDispose=false);
		Loader.clearRes(url,forceDispose);
	}

	/**
	*获取指定资源地址的资源。
	*@param url 资源地址。
	*@return 返回资源。
	*/
	__proto.getRes=function(url){
		return Loader.getRes(url);
	}

	/**
	*缓存资源。
	*@param url 资源地址。
	*@param data 要缓存的内容。
	*/
	__proto.cacheRes=function(url,data){
		Loader.cacheRes(url,data);
	}

	/**
	*销毁Texture使用的图片资源，保留texture壳，如果下次渲染的时候，发现texture使用的图片资源不存在，则会自动恢复
	*相比clearRes，clearTextureRes只是清理texture里面使用的图片资源，并不销毁texture，再次使用到的时候会自动恢复图片资源
	*而clearRes会彻底销毁texture，导致不能再使用；clearTextureRes能确保立即销毁图片资源，并且不用担心销毁错误，clearRes则采用引用计数方式销毁
	*【注意】如果图片本身在自动合集里面（默认图片小于512*512），内存是不能被销毁的，此图片被大图合集管理器管理
	*@param url 图集地址或者texture地址，比如 Loader.clearTextureRes("res/atlas/comp.atlas");Loader.clearTextureRes("hall/bg.jpg");
	*/
	__proto.clearTextureRes=function(url){
		Loader.clearTextureRes(url);
	}

	/**
	*设置资源分组。
	*@param url 资源地址。
	*@param group 分组名
	*/
	__proto.setGroup=function(url,group){
		Loader.setGroup(url,group);
	}

	/**
	*根据分组清理资源。
	*@param group 分组名
	*/
	__proto.clearResByGroup=function(group){
		Loader.clearResByGroup(group);
	}

	/**清理当前未完成的加载，所有未加载的内容全部停止加载。*/
	__proto.clearUnLoaded=function(){
		for (var i=0;i < this._maxPriority;i++){
			var infos=this._resInfos[i];
			for (var j=infos.length-1;j >-1;j--){
				var info=infos[j];
				if (info){
					info.offAll();
					this._infoPool.push(info);
				}
			}
			infos.length=0;
		}
		this._loaderCount=0;
		LoaderManager._resMap={};
	}

	/**
	*根据地址集合清理掉未加载的内容
	*@param urls 资源地址集合
	*/
	__proto.cancelLoadByUrls=function(urls){
		if (!urls)return;
		for (var i=0,n=urls.length;i < n;i++){
			this.cancelLoadByUrl(urls[i]);
		}
	}

	/**
	*根据地址清理掉未加载的内容
	*@param url 资源地址
	*/
	__proto.cancelLoadByUrl=function(url){
		for (var i=0;i < this._maxPriority;i++){
			var infos=this._resInfos[i];
			for (var j=infos.length-1;j >-1;j--){
				var info=infos[j];
				if (info && info.url===url){
					infos[j]=null;
					info.offAll();
					this._infoPool.push(info);
				}
			}
		}
		if (LoaderManager._resMap[url])delete LoaderManager._resMap[url];
	}

	/**
	*@private
	*加载数组里面的资源。
	*@param arr 简单：["a.png","b.png"]，复杂[{url:"a.png",type:Loader.IMAGE,size:100,priority:1},{url:"b.json",type:Loader.JSON,size:50,priority:1}]*/
	__proto._loadAssets=function(arr,complete,progress,type,priority,cache,group){
		(priority===void 0)&& (priority=1);
		(cache===void 0)&& (cache=true);
		var itemCount=arr.length;
		var loadedCount=0;
		var totalSize=0;
		var items=[];
		var success=true;
		for (var i=0;i < itemCount;i++){
			var item=arr[i];
			if ((typeof item=='string'))item={url:item,type:type,size:1,priority:priority};
			if (!item.size)item.size=1;
			item.progress=0;
			totalSize+=item.size;
			items.push(item);
			var progressHandler=progress ? Handler.create(null,loadProgress,[item],false):null;
			var completeHandler=(complete || progress)? Handler.create(null,loadComplete,[item]):null;
			this.load(item.url,completeHandler,progressHandler,item.type,item.priority || 1,cache,item.group || group);
		}
		function loadComplete (item,content){
			loadedCount++;
			item.progress=1;
			if (!content)success=false;
			if (loadedCount===itemCount && complete){
				complete.runWith(success);
			}
		}
		function loadProgress (item,value){
			if (progress !=null){
				item.progress=value;
				var num=0;
				for (var j=0;j < items.length;j++){
					var item1=items[j];
					num+=item1.size *item1.progress;
				};
				var v=num / totalSize;
				progress.runWith(v);
			}
		}
		return this;
	}

	LoaderManager.cacheRes=function(url,data){
		Loader.cacheRes(url,data);
	}

	LoaderManager._resMap={};
	__static(LoaderManager,
	['createMap',function(){return this.createMap={atlas:[null,/*laya.net.Loader.ATLAS*/"atlas"]};}
	]);
	LoaderManager.__init$=function(){
		//class ResInfo extends laya.events.EventDispatcher
		ResInfo=(function(_super){
			function ResInfo(){
				this.url=null;
				this.type=null;
				this.cache=false;
				this.group=null;
				this.ignoreCache=false;
				this.clas=null;
				ResInfo.__super.call(this);
			}
			__class(ResInfo,'',_super);
			return ResInfo;
		})(EventDispatcher)
	}

	return LoaderManager;
})(EventDispatcher)


/**
*<p><code>ColorFilter</code> 是颜色滤镜。使用 ColorFilter 类可以将 4 x 5 矩阵转换应用于输入图像上的每个像素的 RGBA 颜色和 Alpha 值，以生成具有一组新的 RGBA 颜色和 Alpha 值的结果。该类允许饱和度更改、色相旋转、亮度转 Alpha 以及各种其他效果。您可以将滤镜应用于任何显示对象（即，从 Sprite 类继承的对象）。</p>
*<p>注意：对于 RGBA 值，最高有效字节代表红色通道值，其后的有效字节分别代表绿色、蓝色和 Alpha 通道值。</p>
*/
//class laya.filters.ColorFilter extends laya.filters.Filter
var ColorFilter=(function(_super){
	function ColorFilter(mat){
		/**@private */
		//this._mat=null;
		/**@private */
		//this._alpha=null;
		ColorFilter.__super.call(this);
		if (!mat){
			mat=[0.3,0.59,0.11,0,0,0.3,0.59,0.11,0,0,0.3,0.59,0.11,0,0,0,0,0,1,0];
		}
		this._mat=new Float32Array(16);
		this._alpha=new Float32Array(4);
		var j=0;
		var z=0;
		for (var i=0;i < 20;i++){
			if (i % 5 !=4){
				this._mat[j++]=mat[i];
				}else {
				this._alpha[z++]=mat[i];
			}
		}
		this._action=RunDriver.createFilterAction(0x20);
		this._action.data=this;
	}

	__class(ColorFilter,'laya.filters.ColorFilter',_super);
	var __proto=ColorFilter.prototype;
	Laya.imps(__proto,{"laya.filters.IFilter":true})
	/**
	*@private 通知微端
	*/
	__proto.callNative=function(sp){
		var t=sp._$P.cf=this;
		sp.conchModel && sp.conchModel.setFilterMatrix && sp.conchModel.setFilterMatrix(this._mat,this._alpha);
	}

	/**@private */
	__getset(0,__proto,'type',function(){
		return 0x20;
	});

	/**@private */
	__getset(0,__proto,'action',function(){
		return this._action;
	});

	return ColorFilter;
})(Filter)


/**
*<p> <code>Socket</code> 封装了 HTML5 WebSocket ，允许服务器端与客户端进行全双工（full-duplex）的实时通信，并且允许跨域通信。在建立连接后，服务器和 Browser/Client Agent 都能主动的向对方发送或接收文本和二进制数据。</p>
*<p>要使用 <code>Socket</code> 类的方法，请先使用构造函数 <code>new Socket</code> 创建一个 <code>Socket</code> 对象。 <code>Socket</code> 以异步方式传输和接收数据。</p>
*/
//class laya.net.Socket extends laya.events.EventDispatcher
var Socket=(function(_super){
	function Socket(host,port,byteClass){
		/**@private */
		this._endian=null;
		/**@private */
		this._stamp=NaN;
		/**@private */
		this._socket=null;
		/**@private */
		this._connected=false;
		/**@private */
		this._addInputPosition=0;
		/**@private */
		this._input=null;
		/**@private */
		this._output=null;
		/**
		*@private
		*表示建立连接时需等待的毫秒数。
		*/
		this.timeout=0;
		/**
		*@private
		*在写入或读取对象时，控制所使用的 AMF 的版本。
		*/
		this.objectEncoding=0;
		/**
		*不再缓存服务端发来的数据。
		*/
		this.disableInput=false;
		/**
		*用来发送和接收数据的 <code>Byte</code> 类。
		*/
		this._byteClass=null;
		/**
		*<p>子协议名称。子协议名称字符串，或由多个子协议名称字符串构成的数组。必须在调用 connect 或者 connectByUrl 之前进行赋值，否则无效。</p>
		*<p>指定后，只有当服务器选择了其中的某个子协议，连接才能建立成功，否则建立失败，派发 Event.ERROR 事件。</p>
		*@see https://html.spec.whatwg.org/multipage/comms.html#dom-websocket
		*/
		this.protocols=[];
		(port===void 0)&& (port=0);
		Socket.__super.call(this);
		this._byteClass=byteClass ? byteClass :Byte;
		this.endian="bigEndian";
		this.timeout=20000;
		this._addInputPosition=0;
		if (host && port > 0 && port < 65535)
			this.connect(host,port);
	}

	__class(Socket,'laya.net.Socket',_super);
	var __proto=Socket.prototype;
	/**
	*<p>连接到指定的主机和端口。</p>
	*<p>连接成功派发 Event.OPEN 事件；连接失败派发 Event.ERROR 事件；连接被关闭派发 Event.CLOSE 事件；接收到数据派发 Event.MESSAGE 事件； 除了 Event.MESSAGE 事件参数为数据内容，其他事件参数都是原生的 HTML DOM Event 对象。</p>
	*@param host 服务器地址。
	*@param port 服务器端口。
	*/
	__proto.connect=function(host,port){
		var url="ws://"+host+":"+port;
		if (Browser.window.location.protocol=="https:"){
			url="wss://"+host+":"+port;
			}else {
			url="ws://"+host+":"+port;
		}
		this.connectByUrl(url);
	}

	/**
	*<p>连接到指定的服务端 WebSocket URL。 URL 类似 ws://yourdomain:port。</p>
	*<p>连接成功派发 Event.OPEN 事件；连接失败派发 Event.ERROR 事件；连接被关闭派发 Event.CLOSE 事件；接收到数据派发 Event.MESSAGE 事件； 除了 Event.MESSAGE 事件参数为数据内容，其他事件参数都是原生的 HTML DOM Event 对象。</p>
	*@param url 要连接的服务端 WebSocket URL。 URL 类似 ws://yourdomain:port。
	*/
	__proto.connectByUrl=function(url){
		var _$this=this;
		if (this._socket !=null)
			this.close();
		this._socket && this.cleanSocket();
		if (!this.protocols || this.protocols.length==0){
			this._socket=new Browser.window.WebSocket(url);
			}else {
			this._socket=new Browser.window.WebSocket(url,this.protocols);
		}
		this._socket.binaryType="arraybuffer";
		this._output=new this._byteClass();
		this._output.endian=this.endian;
		this._input=new this._byteClass();
		this._input.endian=this.endian;
		this._addInputPosition=0;
		this._socket.onopen=function (e){
			_$this._onOpen(e);
		};
		this._socket.onmessage=function (msg){
			_$this._onMessage(msg);
		};
		this._socket.onclose=function (e){
			_$this._onClose(e);
		};
		this._socket.onerror=function (e){
			_$this._onError(e);
		};
	}

	/**
	*清理socket。
	*/
	__proto.cleanSocket=function(){
		try {
			this._socket.close();
		}catch (e){}
		this._connected=false;
		this._socket.onopen=null;
		this._socket.onmessage=null;
		this._socket.onclose=null;
		this._socket.onerror=null;
		this._socket=null;
	}

	/**
	*关闭连接。
	*/
	__proto.close=function(){
		if (this._socket !=null){
			try {
				this._socket.close();
			}catch (e){}
		}
	}

	/**
	*@private
	*连接建立成功 。
	*/
	__proto._onOpen=function(e){
		this._connected=true;
		this.event(/*laya.events.Event.OPEN*/"open",e);
	}

	/**
	*@private
	*接收到数据处理方法。
	*@param msg 数据。
	*/
	__proto._onMessage=function(msg){
		if (!msg || !msg.data)return;
		var data=msg.data;
		if (this.disableInput && data){
			this.event(/*laya.events.Event.MESSAGE*/"message",data);
			return;
		}
		if (this._input.length > 0 && this._input.bytesAvailable < 1){
			this._input.clear();
			this._addInputPosition=0;
		};
		var pre=this._input.pos;
		!this._addInputPosition && (this._addInputPosition=0);
		this._input.pos=this._addInputPosition;
		if (data){
			if ((typeof data=='string')){
				this._input.writeUTFBytes(data);
				}else {
				this._input.writeArrayBuffer(data);
			}
			this._addInputPosition=this._input.pos;
			this._input.pos=pre;
		}
		this.event(/*laya.events.Event.MESSAGE*/"message",data);
	}

	/**
	*@private
	*连接被关闭处理方法。
	*/
	__proto._onClose=function(e){
		this._connected=false;
		this.event(/*laya.events.Event.CLOSE*/"close",e)
	}

	/**
	*@private
	*出现异常处理方法。
	*/
	__proto._onError=function(e){
		this.event(/*laya.events.Event.ERROR*/"error",e)
	}

	/**
	*发送数据到服务器。
	*@param data 需要发送的数据，可以是String或者ArrayBuffer。
	*/
	__proto.send=function(data){
		this._socket.send(data);
	}

	/**
	*发送缓冲区中的数据到服务器。
	*/
	__proto.flush=function(){
		if (this._output && this._output.length > 0){
			var evt;
			try {
				this._socket && this._socket.send(this._output.__getBuffer().slice(0,this._output.length));
				}catch (e){
				evt=e;
			}
			this._output.endian=this.endian;
			this._output.clear();
			if (evt)this.event(/*laya.events.Event.ERROR*/"error",evt);
		}
	}

	/**
	*缓存的服务端发来的数据。
	*/
	__getset(0,__proto,'input',function(){
		return this._input;
	});

	/**
	*表示需要发送至服务端的缓冲区中的数据。
	*/
	__getset(0,__proto,'output',function(){
		return this._output;
	});

	/**
	*表示此 Socket 对象目前是否已连接。
	*/
	__getset(0,__proto,'connected',function(){
		return this._connected;
	});

	/**
	*<p>主机字节序，是 CPU 存放数据的两种不同顺序，包括小端字节序和大端字节序。</p>
	*<p> LITTLE_ENDIAN ：小端字节序，地址低位存储值的低位，地址高位存储值的高位。</p>
	*<p> BIG_ENDIAN ：大端字节序，地址低位存储值的高位，地址高位存储值的低位。</p>
	*/
	__getset(0,__proto,'endian',function(){
		return this._endian;
		},function(value){
		this._endian=value;
		if (this._input !=null)this._input.endian=value;
		if (this._output !=null)this._output.endian=value;
	});

	Socket.LITTLE_ENDIAN="littleEndian";
	Socket.BIG_ENDIAN="bigEndian";
	return Socket;
})(EventDispatcher)


/**
*@private
*Worker Image加载器
*/
//class laya.net.WorkerLoader extends laya.events.EventDispatcher
var WorkerLoader=(function(_super){
	function WorkerLoader(){
		/**
		*使用的Worker对象。
		*/
		this.worker=null;
		WorkerLoader.__super.call(this);
		var _$this=this;
		this.worker=new Browser.window.Worker(WorkerLoader.workerPath);
		this.worker.onmessage=function (evt){
			_$this.workerMessage(evt.data);
		}
	}

	__class(WorkerLoader,'laya.net.WorkerLoader',_super);
	var __proto=WorkerLoader.prototype;
	/**
	*@private
	*/
	__proto.workerMessage=function(data){
		if (data){
			switch(data.type){
				case "Image":
					this.imageLoaded(data);
					break ;
				case "Msg":
					this.event("image_msg",data.msg);
					break ;
				}
		}
	}

	/**
	*@private
	*/
	__proto.imageLoaded=function(data){
		if (data && data.buffer && data.buffer.length < 10){
			WorkerLoader._enable=false;
			this._myTrace("buffer lost when postmessage ,disable workerloader");
			this.event(data.url,null);
			this.event("image_err",data.url+"\n"+data.msg);
			return;
		}
		if (!data.dataType){
			this.event(data.url,null);
			this.event("image_err",data.url+"\n"+data.msg);
			return;
		};
		var canvas,ctx;
		var imageData;
		switch(data.dataType){
			case "buffer":
				canvas=new HTMLCanvas("2D");
				ctx=canvas.source.getContext("2d");
				imageData=ctx.createImageData(data.width,data.height);
				imageData.data.set(data.buffer);
				canvas.size(imageData.width,imageData.height);
				ctx.putImageData(imageData,0,0);
				canvas.memorySize=0;
				break ;
			case "imagedata":
				canvas=new HTMLCanvas("2D");
				ctx=canvas.source.getContext("2d");
				imageData=data.imagedata;
				canvas.size(imageData.width,imageData.height);
				ctx.putImageData(imageData,0,0);
				imageData=data.imagedata;
				canvas.memorySize=0;
				break ;
			case "imageBitmap":
				imageData=data.imageBitmap;
				if (!Render.isWebGL){
					canvas=new HTMLCanvas("2D");
					ctx=canvas.source.getContext("2d");
					canvas.size(imageData.width,imageData.height);
					ctx.drawImage(imageData,0,0);
					canvas.src=data.url;
				}else
				canvas=imageData;
				break ;
			}
		if (Render.isWebGL)
			/*__JS__ */canvas=new laya.webgl.resource.WebGLImage(canvas,data.url);;
		this.event(data.url,canvas);
	}

	/**
	*@private
	*/
	__proto._myTrace=function(__arg){
		var arg=arguments;
		var rst=[];
		var i=0,len=arg.length;
		for(i=0;i<len;i++){
			rst.push(arg[i]);
		}
		this.event("image_msg",rst.join(" "));
	}

	/**
	*加载图片
	*@param url 图片地址
	*/
	__proto.loadImage=function(url){
		var data;
		data={};
		data.type="load";
		data.url=url;
		this.worker.postMessage(data);
	}

	/**
	*@private
	*加载图片资源。
	*@param url 资源地址。
	*/
	__proto._loadImage=function(url){
		var _this=this;
		if (!WorkerLoader._enable||url.toLowerCase().indexOf(".png")< 0){
			WorkerLoader._preLoadFun.call(_this,url);
			return;
		}
		url=URL.formatURL(url);
		function clear (){
			laya.net.WorkerLoader.I.off(url,_this,onload);
		};
		var onload=function (image){
			clear();
			if (image){
				_this["onLoaded"](image);
				}else{
				WorkerLoader._preLoadFun.call(_this,url);
			}
		};
		laya.net.WorkerLoader.I.on(url,_this,onload);
		laya.net.WorkerLoader.I.loadImage(url);
	}

	/**
	*是否启用。
	*/
	__getset(1,WorkerLoader,'enable',function(){
		return WorkerLoader._enable;
		},function(v){
		if (WorkerLoader.disableJSDecode && (!Browser.window.createImageBitmap))return;
		WorkerLoader._enable=v;
		if (WorkerLoader._enable && WorkerLoader._preLoadFun==null)WorkerLoader._enable=WorkerLoader.__init__();
	});

	WorkerLoader.__init__=function(){
		if (WorkerLoader._preLoadFun !=null)return false;
		if (!Browser.window.Worker)return false;
		WorkerLoader._preLoadFun=Loader["prototype"]["_loadImage"];
		Loader["prototype"]["_loadImage"]=WorkerLoader["prototype"]["_loadImage"];
		if (!WorkerLoader.I)WorkerLoader.I=new WorkerLoader();
		return true;
	}

	WorkerLoader.workerSupported=function(){
		return Browser.window.Worker?true:false;
	}

	WorkerLoader.IMAGE_LOADED="image_loaded";
	WorkerLoader.IMAGE_ERR="image_err";
	WorkerLoader.IMAGE_MSG="image_msg";
	WorkerLoader.I=null;
	WorkerLoader._preLoadFun=null;
	WorkerLoader._enable=false;
	WorkerLoader.workerPath="libs/worker.js";
	WorkerLoader.disableJSDecode=true;
	return WorkerLoader;
})(EventDispatcher)


/**
*@private
*<code>Resource</code> 资源存取类。
*/
//class laya.resource.Resource extends laya.events.EventDispatcher
var Resource=(function(_super){
	function Resource(){
		/**@private */
		//this.__loaded=false;
		/**@private */
		//this._id=0;
		/**@private */
		//this._memorySize=0;
		/**@private */
		//this._released=false;
		/**@private */
		//this._destroyed=false;
		/**@private */
		//this._referenceCount=0;
		/**@private */
		//this._group=null;
		/**@private */
		//this._url=null;
		/**@private */
		//this._resourceManager=null;
		/**@private */
		//this._lastUseFrameCount=0;
		/**是否加锁，如果true为不能使用自动释放机制。*/
		//this.lock=false;
		/**名称。 */
		//this.name=null;
		Resource.__super.call(this);
		this._$1__id=++Resource._uniqueIDCounter;
		this.__loaded=true;
		this._destroyed=false;
		this._referenceCount=0;
		Resource._idResourcesMap[this.id]=this;
		this._released=true;
		this.lock=false;
		this._memorySize=0;
		this._lastUseFrameCount=-1;
		(ResourceManager.currentResourceManager)&& (ResourceManager.currentResourceManager.addResource(this));
	}

	__class(Resource,'laya.resource.Resource',_super);
	var __proto=Resource.prototype;
	Laya.imps(__proto,{"laya.resource.ICreateResource":true,"laya.resource.IDispose":true})
	/**
	*@private
	*/
	__proto._setUrl=function(url){
		if (this._url!==url){
			var resList;
			if (this._url){
				resList=Resource._urlResourcesMap[this._url];
				resList.splice(resList.indexOf(this),1);
				(resList.length===0)&& (delete Resource._urlResourcesMap[this._url]);
			}
			if (url){
				resList=Resource._urlResourcesMap[url];
				(resList)|| (Resource._urlResourcesMap[url]=resList=[]);
				resList.push(this);
			}
			this._url=url;
		}
	}

	/**
	*@private
	*/
	__proto._getGroup=function(){
		return this._group;
	}

	/**
	*@private
	*/
	__proto._setGroup=function(value){
		if (this._group!==value){
			var groupList;
			if (this._group){
				groupList=Resource._groupResourcesMap[this._group];
				groupList.splice(groupList.indexOf(this),1);
				(groupList.length===0)&& (delete Resource._groupResourcesMap[this._group]);
			}
			if (value){
				groupList=Resource._groupResourcesMap[value];
				(groupList)|| (Resource._groupResourcesMap[value]=groupList=[]);
				groupList.push(this);
			}
			this._group=value;
		}
	}

	/**
	*@private
	*/
	__proto._addReference=function(){
		this._referenceCount++;
	}

	/**
	*@private
	*/
	__proto._removeReference=function(){
		this._referenceCount--;
	}

	/**
	*@private
	*/
	__proto._clearReference=function(){
		this._referenceCount=0;
	}

	/**
	*@private
	*/
	__proto._endLoaded=function(){
		this.__loaded=true;
		this.event(/*laya.events.Event.LOADED*/"loaded",this);
	}

	/**
	*@private
	*/
	__proto.recreateResource=function(){
		this.completeCreate();
	}

	/**
	*@private
	*/
	__proto.disposeResource=function(){}
	/**
	*激活资源，使用资源前应先调用此函数激活。
	*@param force 是否强制创建。
	*/
	__proto.activeResource=function(force){
		(force===void 0)&& (force=false);
		this._lastUseFrameCount=Stat.loopCount;
		if (!this._destroyed&&this.__loaded&& (this._released || force))
			this.recreateResource();
	}

	/**
	*释放资源。
	*@param force 是否强制释放。
	*@return 是否成功释放。
	*/
	__proto.releaseResource=function(force){
		(force===void 0)&& (force=false);
		if (!force && this.lock)
			return false;
		if (!this._released || force){
			this.disposeResource();
			this._released=true;
			this._lastUseFrameCount=-1;
			this.event(/*laya.events.Event.RELEASED*/"released",this);
			return true;
			}else {
			return false;
		}
	}

	/**
	*@private
	*/
	__proto.onAsynLoaded=function(url,data,params){
		throw new Error("Resource: must override this function!");
	}

	/**
	*<p>彻底处理资源，处理后不能恢复。</p>
	*<p><b>注意：</b>会强制解锁清理。</p>
	*/
	__proto.destroy=function(){
		if (this._destroyed)
			return;
		if (this._resourceManager!==null)
			this._resourceManager.removeResource(this);
		this._destroyed=true;
		this.lock=false;
		this.releaseResource();
		delete Resource._idResourcesMap[this.id];
		var resList;
		if (this._url){
			resList=Resource._urlResourcesMap[this._url];
			if (resList){
				resList.splice(resList.indexOf(this),1);
				(resList.length===0)&& (delete Resource._urlResourcesMap[this.url]);
			}
			Loader.clearRes(this._url);
		}
		if (this._group){
			resList=Resource._groupResourcesMap[this._group];
			resList.splice(resList.indexOf(this),1);
			(resList.length===0)&& (delete Resource._groupResourcesMap[this.url]);
		}
	}

	/**完成资源激活。*/
	__proto.completeCreate=function(){
		this._released=false;
		this.event(/*laya.events.Event.RECOVERED*/"recovered",this);
	}

	/**
	*@private
	*/
	__proto.dispose=function(){
		this.destroy();
	}

	/**
	*@private
	*/
	/**
	*占用内存尺寸。
	*/
	__getset(0,__proto,'memorySize',function(){
		return this._memorySize;
		},function(value){
		var offsetValue=value-this._memorySize;
		this._memorySize=value;
		this.resourceManager && this.resourceManager.addSize(offsetValue);
	});

	/**
	*@private
	*/
	__getset(0,__proto,'_loaded',null,function(value){
		this.__loaded=value;
	});

	/**
	*获取是否已加载完成。
	*/
	__getset(0,__proto,'loaded',function(){
		return this.__loaded;
	});

	/**
	*获取唯一标识ID,通常用于识别。
	*/
	__getset(0,__proto,'id',function(){
		return this._$1__id;
	});

	/**
	*是否已处理。
	*/
	__getset(0,__proto,'destroyed',function(){
		return this._destroyed;
	});

	/**
	*设置资源组名。
	*/
	/**
	*获取资源组名。
	*/
	__getset(0,__proto,'group',function(){
		return this._getGroup();
		},function(value){
		this._setGroup(value);
	});

	/**
	*资源管理员。
	*/
	__getset(0,__proto,'resourceManager',function(){
		return this._resourceManager;
	});

	/**
	*获取资源的URL地址。
	*@return URL地址。
	*/
	__getset(0,__proto,'url',function(){
		return this._url;
	});

	/**
	*是否已释放。
	*/
	__getset(0,__proto,'released',function(){
		return this._released;
	});

	/**
	*获取资源的引用计数。
	*/
	__getset(0,__proto,'referenceCount',function(){
		return this._referenceCount;
	});

	Resource.getResourceByID=function(id){
		return Resource._idResourcesMap[id];
	}

	Resource.getResourceByURL=function(url,index){
		(index===void 0)&& (index=0);
		return Resource._urlResourcesMap[url][index];
	}

	Resource.getResourceCountByURL=function(url){
		return Resource._urlResourcesMap[url].length;
	}

	Resource.destroyUnusedResources=function(group){
		var res;
		if (group){
			var resouList=Resource._groupResourcesMap[group];
			if (resouList){
				var tempResouList=resouList.slice();
				for (var i=0,n=tempResouList.length;i < n;i++){
					res=tempResouList[i];
					if (!res.lock && res._referenceCount===0)
						res.destroy();
				}
			}
			}else {
			for (var k in Resource._idResourcesMap){
				res=Resource._idResourcesMap[k];
				if (!res.lock && res._referenceCount===0)
					res.destroy();
			}
		}
	}

	Resource._uniqueIDCounter=0;
	Resource._idResourcesMap={};
	Resource._urlResourcesMap={};
	Resource._groupResourcesMap={};
	return Resource;
})(EventDispatcher)


/**
*<code>Texture</code> 是一个纹理处理类。
*/
//class laya.resource.Texture extends laya.events.EventDispatcher
var Texture=(function(_super){
	function Texture(bitmap,uv){
		/**图片或者canvas 。*/
		//this.bitmap=null;
		/**UV信息。*/
		//this.uv=null;
		/**沿 X 轴偏移量。*/
		this.offsetX=0;
		/**沿 Y 轴偏移量。*/
		this.offsetY=0;
		/**原始宽度（包括被裁剪的透明区域）。*/
		this.sourceWidth=0;
		/**原始高度（包括被裁剪的透明区域）。*/
		this.sourceHeight=0;
		/**@private */
		//this._loaded=false;
		/**@private */
		this._w=0;
		/**@private */
		this._h=0;
		/**@private 唯一ID*/
		//this.$_GID=NaN;
		/**图片地址*/
		//this.url=null;
		/**@private */
		this._uvID=0;
		this._atlasID=-1;
		/**@private */
		this.scaleRate=1;
		Texture.__super.call(this);
		if (bitmap){
			bitmap._addReference();
		}
		this.setTo(bitmap,uv);
	}

	__class(Texture,'laya.resource.Texture',_super);
	var __proto=Texture.prototype;
	/**
	*@private
	*/
	__proto._setUrl=function(url){
		this.url=url;
	}

	/**
	*设置此对象的位图资源、UV数据信息。
	*@param bitmap 位图资源
	*@param uv UV数据信息
	*/
	__proto.setTo=function(bitmap,uv){
		this.bitmap=bitmap;
		this.uv=uv || Texture.DEF_UV;
		if (bitmap){
			this._w=bitmap.width;
			this._h=bitmap.height;
			this.sourceWidth=this.sourceWidth || this._w;
			this.sourceHeight=this.sourceHeight || this._h
			this._loaded=this._w > 0;
			var _this=this;
			if (this._loaded){
				RunDriver.addToAtlas && RunDriver.addToAtlas(_this);
				}else {
				var bm=bitmap;
				if ((bm instanceof laya.resource.HTMLImage )&& bm.image)
					bm.image.addEventListener('load',function(e){
					RunDriver.addToAtlas && RunDriver.addToAtlas(_this);
				},false);
			}
		}
	}

	/**@private 激活资源。*/
	__proto.active=function(){
		if (this.bitmap)this.bitmap.activeResource();
	}

	/**
	*销毁纹理（分直接销毁，跟计数销毁两种）。
	*@param forceDispose (default=false)true为强制销毁主纹理，false是通过计数销毁纹理。
	*/
	__proto.destroy=function(forceDispose){
		(forceDispose===void 0)&& (forceDispose=false);
		if (this.bitmap && (this.bitmap).referenceCount > 0){
			var temp=this.bitmap;
			if (forceDispose){
				if (Render.isConchApp && temp.source && temp.source.conchDestroy){
					this.bitmap.source.conchDestroy();
				}
				this.bitmap=null;
				temp.dispose();
				(temp)._clearReference();
				}else {
				(temp)._removeReference();
				if ((temp).referenceCount==0){
					if (Render.isConchApp && temp.source && temp.source.conchDestroy){
						this.bitmap.source.conchDestroy();
					}
					this.bitmap=null;
					temp.dispose();
				}
			}
			if (this.url && this===Laya.loader.getRes(this.url))Laya.loader.clearRes(this.url,forceDispose);
			this._loaded=false;
		}
	}

	/**
	*加载指定地址的图片。
	*@param url 图片地址。
	*/
	__proto.load=function(url){
		var _$this=this;
		this._loaded=false;
		url=URL.customFormat(url);
		var fileBitmap=(this.bitmap || (this.bitmap=HTMLImage.create(url)));
		if (fileBitmap)fileBitmap._addReference();
		var _this=this;
		fileBitmap.onload=function (){
			fileBitmap.onload=null;
			_this._loaded=true;
			_$this.sourceWidth=_$this._w=fileBitmap.width;
			_$this.sourceHeight=_$this._h=fileBitmap.height;
			_this.event(/*laya.events.Event.LOADED*/"loaded",this);
			(RunDriver.addToAtlas)&& (RunDriver.addToAtlas(_this));
		};
	}

	/**@private */
	__proto.addTextureToAtlas=function(e){
		RunDriver.addTextureToAtlas(this);
	}

	/**
	*获取Texture上的某个区域的像素点
	*@param x
	*@param y
	*@param width
	*@param height
	*@return 返回像素点集合
	*/
	__proto.getPixels=function(x,y,width,height){
		if (Render.isConchApp){
			var temp=this.bitmap;
			if (temp.source && temp.source.getImageData){
				var arraybuffer=temp.source.getImageData(x,y,width,height);
				var tUint8Array=new Uint8Array(arraybuffer);
				return /*__JS__ */Array.from(tUint8Array);
			}
			return null;
			}else if (Render.isWebGL){
			return RunDriver.getTexturePixels(this,x,y,width,height);
			}else {
			Browser.canvas.size(width,height);
			Browser.canvas.clear();
			Browser.context.drawTexture(this,-x,-y,this.width,this.height,0,0);
			var info=Browser.context.getImageData(0,0,width,height);
		}
		return info.data;
	}

	/**@private */
	__proto.onAsynLoaded=function(url,bitmap){
		if (bitmap)bitmap._addReference();
		this.setTo(bitmap,this.uv);
	}

	/**激活并获取资源。*/
	__getset(0,__proto,'source',function(){
		if (!this.bitmap)return null;
		this.bitmap.activeResource();
		return this.bitmap.source;
	});

	/**
	*表示是否加载成功，只能表示初次载入成功（通常包含下载和载入）,并不能完全表示资源是否可立即使用（资源管理机制释放影响等）。
	*/
	__getset(0,__proto,'loaded',function(){
		return this._loaded;
	});

	/**
	*表示资源是否已释放。
	*/
	__getset(0,__proto,'released',function(){
		if (!this.bitmap)return true;
		return this.bitmap.released;
	});

	/**实际宽度。*/
	__getset(0,__proto,'width',function(){
		if (this._w)return this._w;
		return (this.uv && this.uv!==Texture.DEF_UV)? (this.uv[2]-this.uv[0])*this.bitmap.width :this.bitmap.width;
		},function(value){
		this._w=value;
		this.sourceWidth || (this.sourceWidth=value);
	});

	/**
	*通过外部设置是否启用纹理平铺(后面要改成在着色器里计算)
	*/
	/**
	*获取当前纹理是否启用了纹理平铺
	*/
	__getset(0,__proto,'repeat',function(){
		if (Render.isWebGL && this.bitmap){
			return this.bitmap.repeat;
		}
		return true;
		},function(value){
		if (value){
			if (Render.isWebGL && this.bitmap){
				this.bitmap.repeat=value;
				if (value){
					this.bitmap.enableMerageInAtlas=false;
				}
			}
		}
	});

	/**实际高度。*/
	__getset(0,__proto,'height',function(){
		if (this._h)return this._h;
		return (this.uv && this.uv!==Texture.DEF_UV)? (this.uv[5]-this.uv[1])*this.bitmap.height :this.bitmap.height;
		},function(value){
		this._h=value;
		this.sourceHeight || (this.sourceHeight=value);
	});

	/**
	*设置线性采样的状态（目前只能第一次绘制前设置false生效,来关闭线性采样）。
	*/
	/**
	*获取当前纹理是否启用了线性采样。
	*/
	__getset(0,__proto,'isLinearSampling',function(){
		return Render.isWebGL ? (this.bitmap.minFifter !=0x2600):true;
		},function(value){
		if (!value && Render.isWebGL){
			if (!value && (this.bitmap.minFifter==-1)&& (this.bitmap.magFifter==-1)){
				this.bitmap.minFifter=0x2600;
				this.bitmap.magFifter=0x2600;
				this.bitmap.enableMerageInAtlas=false;
			}
		}
	});

	Texture.moveUV=function(offsetX,offsetY,uv){
		for (var i=0;i < 8;i+=2){
			uv[i]+=offsetX;
			uv[i+1]+=offsetY;
		}
		return uv;
	}

	Texture.create=function(source,x,y,width,height,offsetX,offsetY,sourceWidth,sourceHeight){
		(offsetX===void 0)&& (offsetX=0);
		(offsetY===void 0)&& (offsetY=0);
		(sourceWidth===void 0)&& (sourceWidth=0);
		(sourceHeight===void 0)&& (sourceHeight=0);
		var btex=(source instanceof laya.resource.Texture );
		var uv=btex ? source.uv :Texture.DEF_UV;
		var bitmap=btex ? source.bitmap :source;
		var bIsAtlas=RunDriver.isAtlas(bitmap);
		if (bIsAtlas){
			var atlaser=bitmap._atlaser;
			var nAtlasID=(source)._atlasID;
			if (nAtlasID==-1){
				throw new Error("create texture error");
			}
			bitmap=atlaser._inAtlasTextureBitmapValue[nAtlasID];
			uv=atlaser._inAtlasTextureOriUVValue[nAtlasID];
		};
		var tex=new Texture(bitmap,null);
		if (bitmap.width && (x+width)> bitmap.width)width=bitmap.width-x;
		if (bitmap.height && (y+height)> bitmap.height)height=bitmap.height-y;
		tex.width=width;
		tex.height=height;
		tex.offsetX=offsetX;
		tex.offsetY=offsetY;
		tex.sourceWidth=sourceWidth || width;
		tex.sourceHeight=sourceHeight || height;
		var dwidth=1 / bitmap.width;
		var dheight=1 / bitmap.height;
		x *=dwidth;
		y *=dheight;
		width *=dwidth;
		height *=dheight;
		var u1=tex.uv[0],v1=tex.uv[1],u2=tex.uv[4],v2=tex.uv[5];
		var inAltasUVWidth=(u2-u1),inAltasUVHeight=(v2-v1);
		var oriUV=Texture.moveUV(uv[0],uv[1],[x,y,x+width,y,x+width,y+height,x,y+height]);
		tex.uv=[u1+oriUV[0] *inAltasUVWidth,v1+oriUV[1] *inAltasUVHeight,u2-(1-oriUV[2])*inAltasUVWidth,v1+oriUV[3] *inAltasUVHeight,u2-(1-oriUV[4])*inAltasUVWidth,v2-(1-oriUV[5])*inAltasUVHeight,u1+oriUV[6] *inAltasUVWidth,v2-(1-oriUV[7])*inAltasUVHeight];
		if (bIsAtlas){
			tex.addTextureToAtlas();
		};
		var bitmapScale=bitmap.scaleRate;
		if (bitmapScale && bitmapScale !=1){
			tex.sourceWidth /=bitmapScale;
			tex.sourceHeight /=bitmapScale;
			tex.width /=bitmapScale;
			tex.height /=bitmapScale;
			tex.scaleRate=bitmapScale;
			tex.offsetX /=bitmapScale;
			tex.offsetY /=bitmapScale;
			}else{
			tex.scaleRate=1;
		}
		return tex;
	}

	Texture.createFromTexture=function(texture,x,y,width,height){
		var texScaleRate=texture.scaleRate;
		if (texScaleRate !=1){
			x *=texScaleRate;
			y *=texScaleRate;
			width *=texScaleRate;
			height *=texScaleRate;
		};
		var offset=(!Render.isWebGL && Browser.onFirefox || Browser.onEdge)? 0.5 :0;
		var rect=Rectangle.TEMP.setTo(x-texture.offsetX-offset,y-texture.offsetY-offset,width+offset *2,height+offset *2);
		var result=rect.intersection(Texture._rect1.setTo(0,0,texture.width,texture.height),Texture._rect2);
		if (result)
			var tex=Texture.create(texture,result.x,result.y,result.width,result.height,result.x-rect.x,result.y-rect.y,width,height);
		else return null;
		tex.bitmap._removeReference();
		return tex;
	}

	__static(Texture,
	['DEF_UV',function(){return this.DEF_UV=[0,0,1.0,0,1.0,1.0,0,1.0];},'INV_UV',function(){return this.INV_UV=[0,1,1.0,1,1.0,0.0,0,0.0];},'_rect1',function(){return this._rect1=new Rectangle();},'_rect2',function(){return this._rect2=new Rectangle();}
	]);
	return Texture;
})(EventDispatcher)


/**
*<code>TimeLine</code> 是一个用来创建时间轴动画的类。
*/
//class laya.utils.TimeLine extends laya.events.EventDispatcher
var TimeLine=(function(_super){
	var tweenData;
	function TimeLine(){
		this._labelDic=null;
		this._tweenDic={};
		this._tweenDataList=[];
		this._endTweenDataList=null;
		//以结束时间进行排序
		this._currTime=0;
		this._lastTime=0;
		this._startTime=0;
		/**当前动画数据播放到第几个了*/
		this._index=0;
		/**为TWEEN创建属于自己的唯一标识，方便管理*/
		this._gidIndex=0;
		/**保留所有对象第一次注册动画时的状态（根据时间跳转时，需要把对象的回复，再计算接下来的状态）*/
		this._firstTweenDic={};
		/**是否需要排序*/
		this._startTimeSort=false;
		this._endTimeSort=false;
		/**是否循环*/
		this._loopKey=false;
		/**缩放动画播放的速度。*/
		this.scale=1;
		this._frameRate=60;
		this._frameIndex=0;
		this._total=0;
		TimeLine.__super.call(this);
	}

	__class(TimeLine,'laya.utils.TimeLine',_super);
	var __proto=TimeLine.prototype;
	/**
	*控制一个对象，从当前点移动到目标点。
	*@param target 要控制的对象。
	*@param props 要控制对象的属性。
	*@param duration 对象TWEEN的时间。
	*@param ease 缓动类型
	*@param offset 相对于上一个对象，偏移多长时间（单位：毫秒）。
	*/
	__proto.to=function(target,props,duration,ease,offset){
		(offset===void 0)&& (offset=0);
		return this._create(target,props,duration,ease,offset,true);
	}

	/**
	*从 props 属性，缓动到当前状态。
	*@param target target 目标对象(即将更改属性值的对象)
	*@param props 要控制对象的属性
	*@param duration 对象TWEEN的时间
	*@param ease 缓动类型
	*@param offset 相对于上一个对象，偏移多长时间（单位：毫秒）
	*/
	__proto.from=function(target,props,duration,ease,offset){
		(offset===void 0)&& (offset=0);
		return this._create(target,props,duration,ease,offset,false);
	}

	/**@private */
	__proto._create=function(target,props,duration,ease,offset,isTo){
		var tTweenData=Pool.getItemByClass("tweenData",tweenData);
		tTweenData.isTo=isTo;
		tTweenData.type=0;
		tTweenData.target=target;
		tTweenData.duration=duration;
		tTweenData.data=props;
		tTweenData.startTime=this._startTime+offset;
		tTweenData.endTime=tTweenData.startTime+tTweenData.duration;
		tTweenData.ease=ease;
		this._startTime=Math.max(tTweenData.endTime,this._startTime);
		this._tweenDataList.push(tTweenData);
		this._startTimeSort=true;
		this._endTimeSort=true;
		return this;
	}

	/**
	*在时间队列中加入一个标签。
	*@param label 标签名称。
	*@param offset 标签相对于上个动画的偏移时间(单位：毫秒)。
	*/
	__proto.addLabel=function(label,offset){
		var tTweenData=Pool.getItemByClass("tweenData",tweenData);
		tTweenData.type=1;
		tTweenData.data=label;
		tTweenData.endTime=tTweenData.startTime=this._startTime+offset;
		this._labelDic || (this._labelDic={});
		this._labelDic[label]=tTweenData;
		this._tweenDataList.push(tTweenData);
		return this;
	}

	/**
	*移除指定的标签
	*@param label
	*/
	__proto.removeLabel=function(label){
		if (this._labelDic && this._labelDic[label]){
			var tTweenData=this._labelDic[label];
			if (tTweenData){
				var tIndex=this._tweenDataList.indexOf(tTweenData);
				if (tIndex >-1){
					this._tweenDataList.splice(tIndex,1);
				}
			}
			delete this._labelDic[label];
		}
	}

	/**
	*动画从整个动画的某一时间开始。
	*@param time(单位：毫秒)。
	*/
	__proto.gotoTime=function(time){
		if (this._tweenDataList==null || this._tweenDataList.length==0)return;
		var tTween;
		var tObject;
		for (var p in this._firstTweenDic){
			tObject=this._firstTweenDic[p];
			if (tObject){
				for (var tDataP in tObject){
					if (tObject.diyTarget.hasOwnProperty(tDataP)){
						tObject.diyTarget[tDataP]=tObject[tDataP];
					}
				}
			}
		}
		for (p in this._tweenDic){
			tTween=this._tweenDic[p];
			tTween.clear();
			delete this._tweenDic[p];
		}
		this._index=0;
		this._gidIndex=0;
		this._currTime=time;
		this._lastTime=Browser.now();
		var tTweenDataCopyList;
		if (this._endTweenDataList==null || this._endTimeSort){
			this._endTimeSort=false;
			this._endTweenDataList=tTweenDataCopyList=this._tweenDataList.concat();
			function Compare (paraA,paraB){
				if (paraA.endTime > paraB.endTime){
					return 1;
					}else if (paraA.endTime < paraB.endTime){
					return-1;
					}else {
					return 0;
				}
			}
			tTweenDataCopyList.sort(Compare);
			}else {
			tTweenDataCopyList=this._endTweenDataList
		};
		var tTweenData;
		for (var i=0,n=tTweenDataCopyList.length;i < n;i++){
			tTweenData=tTweenDataCopyList[i];
			if (tTweenData.type==0){
				if (time >=tTweenData.endTime){
					this._index=Math.max(this._index,i+1);
					var props=tTweenData.data;
					if (tTweenData.isTo){
						for (var tP in props){
							tTweenData.target[tP]=props[tP];
						}
					}
					}else {
					break ;
				}
			}
		}
		for (i=0,n=this._tweenDataList.length;i < n;i++){
			tTweenData=this._tweenDataList[i];
			if (tTweenData.type==0){
				if (time >=tTweenData.startTime && time < tTweenData.endTime){
					this._index=Math.max(this._index,i+1);
					this._gidIndex++;
					tTween=Pool.getItemByClass("tween",Tween);
					tTween._create(tTweenData.target,tTweenData.data,tTweenData.duration,tTweenData.ease,Handler.create(this,this._animComplete,[this._gidIndex]),0,false,tTweenData.isTo,true,false);
					tTween.setStartTime(this._currTime-(time-tTweenData.startTime));
					tTween._updateEase(this._currTime);
					tTween.gid=this._gidIndex;
					this._tweenDic[this._gidIndex]=tTween;
				}
			}
		}
	}

	/**
	*从指定的标签开始播。
	*@param Label 标签名。
	*/
	__proto.gotoLabel=function(Label){
		if (this._labelDic==null)return;
		var tLabelData=this._labelDic[Label];
		if (tLabelData)this.gotoTime(tLabelData.startTime);
	}

	/**
	*暂停整个动画。
	*/
	__proto.pause=function(){
		Laya.timer.clear(this,this._update);
	}

	/**
	*恢复暂停动画的播放。
	*/
	__proto.resume=function(){
		this.play(this._currTime,this._loopKey);
	}

	/**
	*播放动画。
	*@param timeOrLabel 开启播放的时间点或标签名。
	*@param loop 是否循环播放。
	*/
	__proto.play=function(timeOrLabel,loop){
		(timeOrLabel===void 0)&& (timeOrLabel=0);
		(loop===void 0)&& (loop=false);
		if (!this._tweenDataList)return;
		if (this._startTimeSort){
			this._startTimeSort=false;
			function Compare (paraA,paraB){
				if (paraA.startTime > paraB.startTime){
					return 1;
					}else if (paraA.startTime < paraB.startTime){
					return-1;
					}else {
					return 0;
				}
			}
			this._tweenDataList.sort(Compare);
			for (var i=0,n=this._tweenDataList.length;i < n;i++){
				var tTweenData=this._tweenDataList[i];
				if (tTweenData !=null && tTweenData.type==0){
					var tTarget=tTweenData.target;
					var gid=(tTarget.$_GID || (tTarget.$_GID=Utils.getGID()));
					var tSrcData=null;
					if (this._firstTweenDic[gid]==null){
						tSrcData={};
						tSrcData.diyTarget=tTarget;
						this._firstTweenDic[gid]=tSrcData;
						}else {
						tSrcData=this._firstTweenDic[gid];
					}
					for (var p in tTweenData.data){
						if (tSrcData[p]==null){
							tSrcData[p]=tTarget[p];
						}
					}
				}
			}
		}
		if ((typeof timeOrLabel=='string')){
			this.gotoLabel(timeOrLabel);
			}else {
			this.gotoTime(timeOrLabel);
		}
		this._loopKey=loop;
		this._lastTime=Browser.now();
		Laya.timer.frameLoop(1,this,this._update);
	}

	/**
	*更新当前动画。
	*/
	__proto._update=function(){
		if (this._currTime >=this._startTime){
			if (this._loopKey){
				this._complete();
				if (!this._tweenDataList)return;
				this.gotoTime(0);
				}else {
				for (var p in this._tweenDic){
					tTween=this._tweenDic[p];
					tTween.complete();
				}
				this._complete();
				this.pause();
				return;
			}
		};
		var tNow=Browser.now();
		var tFrameTime=tNow-this._lastTime;
		var tCurrTime=this._currTime+=tFrameTime *this.scale;
		this._lastTime=tNow;
		for (p in this._tweenDic){
			tTween=this._tweenDic[p];
			tTween._updateEase(tCurrTime);
		};
		var tTween;
		if (this._tweenDataList.length !=0 && this._index < this._tweenDataList.length){
			var tTweenData=this._tweenDataList[this._index];
			if (tCurrTime >=tTweenData.startTime){
				this._index++;
				if (tTweenData.type==0){
					this._gidIndex++;
					tTween=Pool.getItemByClass("tween",Tween);
					tTween._create(tTweenData.target,tTweenData.data,tTweenData.duration,tTweenData.ease,Handler.create(this,this._animComplete,[this._gidIndex]),0,false,tTweenData.isTo,true,false);
					tTween.setStartTime(tCurrTime);
					tTween.gid=this._gidIndex;
					this._tweenDic[this._gidIndex]=tTween;
					tTween._updateEase(tCurrTime);
					}else {
					this.event(/*laya.events.Event.LABEL*/"label",tTweenData.data);
				}
			}
		}
	}

	/**
	*指定的动画索引处的动画播放完成后，把此动画从列表中删除。
	*@param index
	*/
	__proto._animComplete=function(index){
		var tTween=this._tweenDic[index];
		if (tTween)delete this._tweenDic[index];
	}

	/**@private */
	__proto._complete=function(){
		this.event(/*laya.events.Event.COMPLETE*/"complete");
	}

	/**
	*重置所有对象，复用对象的时候使用。
	*/
	__proto.reset=function(){
		var p;
		if (this._labelDic){
			for (p in this._labelDic){
				delete this._labelDic[p];
			}
		};
		var tTween;
		for (p in this._tweenDic){
			tTween=this._tweenDic[p];
			tTween.clear();
			delete this._tweenDic[p];
		}
		for (p in this._firstTweenDic){
			delete this._firstTweenDic[p];
		}
		this._endTweenDataList=null;
		if (this._tweenDataList && this._tweenDataList.length){
			var i=0,len=0;
			len=this._tweenDataList.length;
			for (i=0;i < len;i++){
				if(this._tweenDataList[i])
					this._tweenDataList[i].destroy();
			}
		}
		this._tweenDataList.length=0;
		this._currTime=0;
		this._lastTime=0;
		this._startTime=0;
		this._index=0;
		this._gidIndex=0;
		this.scale=1;
		Laya.timer.clear(this,this._update);
	}

	/**
	*彻底销毁此对象。
	*/
	__proto.destroy=function(){
		this.reset();
		this._labelDic=null;
		this._tweenDic=null;
		this._tweenDataList=null;
		this._firstTweenDic=null;
	}

	/**
	*@private
	*设置帧索引
	*/
	/**
	*@private
	*得到帧索引
	*/
	__getset(0,__proto,'index',function(){
		return this._frameIndex;
		},function(value){
		this._frameIndex=value;
		this.gotoTime(this._frameIndex / this._frameRate *1000);
	});

	/**
	*得到总帧数。
	*/
	__getset(0,__proto,'total',function(){
		this._total=Math.floor(this._startTime / 1000 *this._frameRate);
		return this._total;
	});

	TimeLine.to=function(target,props,duration,ease,offset){
		(offset===void 0)&& (offset=0);
		return (new TimeLine()).to(target,props,duration,ease,offset);
	}

	TimeLine.from=function(target,props,duration,ease,offset){
		(offset===void 0)&& (offset=0);
		return (new TimeLine()).from(target,props,duration,ease,offset);
	}

	TimeLine.__init$=function(){
		//class tweenData
		tweenData=(function(){
			function tweenData(){
				this.type=0;
				//0代表TWEEN,1代表标签
				this.isTo=true;
				this.startTime=NaN;
				this.endTime=NaN;
				this.target=null;
				this.duration=NaN;
				this.ease=null;
				this.data=null;
			}
			__class(tweenData,'');
			var __proto=tweenData.prototype;
			__proto.destroy=function(){
				this.target=null;
				this.ease=null;
				this.data=null;
				this.isTo=true;
				this.type=0;
				Pool.recover("tweenData",this);
			}
			return tweenData;
		})()
	}

	return TimeLine;
})(EventDispatcher)


/**
*<p> <code>Sprite</code> 是基本的显示图形的显示列表节点。 <code>Sprite</code> 默认没有宽高，默认不接受鼠标事件。通过 <code>graphics</code> 可以绘制图片或者矢量图，支持旋转，缩放，位移等操作。<code>Sprite</code>同时也是容器类，可用来添加多个子节点。</p>
*<p>注意： <code>Sprite</code> 默认没有宽高，可以通过<code>getBounds</code>函数获取；也可手动设置宽高；还可以设置<code>autoSize=true</code>，然后再获取宽高。<code>Sprite</code>的宽高一般用于进行碰撞检测和排版，并不影响显示图像大小，如果需要更改显示图像大小，请使用 <code>scaleX</code> ， <code>scaleY</code> ， <code>scale</code>。</p>
*<p> <code>Sprite</code> 默认不接受鼠标事件，即<code>mouseEnabled=false</code>，但是只要对其监听任意鼠标事件，会自动打开自己以及所有父对象的<code>mouseEnabled=true</code>。所以一般也无需手动设置<code>mouseEnabled</code>。</p>
*<p>LayaAir引擎API设计精简巧妙。核心显示类只有一个<code>Sprite</code>。<code>Sprite</code>针对不同的情况做了渲染优化，所以保证一个类实现丰富功能的同时，又达到高性能。</p>
*
*@example <caption>创建了一个 <code>Sprite</code> 实例。</caption>
*package
*{
	*import laya.display.Sprite;
	*import laya.events.Event;
	*
	*public class Sprite_Example
	*{
		*private var sprite:Sprite;
		*private var shape:Sprite
		*public function Sprite_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*onInit();
			*}
		*private function onInit():void
		*{
			*sprite=new Sprite();//创建一个 Sprite 类的实例对象 sprite 。
			*sprite.loadImage("resource/ui/bg.png");//加载并显示图片。
			*sprite.x=200;//设置 sprite 对象相对于父容器的水平方向坐标值。
			*sprite.y=200;//设置 sprite 对象相对于父容器的垂直方向坐标值。
			*sprite.pivotX=0;//设置 sprite 对象的水平方法轴心点坐标。
			*sprite.pivotY=0;//设置 sprite 对象的垂直方法轴心点坐标。
			*Laya.stage.addChild(sprite);//将此 sprite 对象添加到显示列表。
			*sprite.on(Event.CLICK,this,onClickSprite);//给 sprite 对象添加点击事件侦听。
			*shape=new Sprite();//创建一个 Sprite 类的实例对象 sprite 。
			*shape.graphics.drawRect(0,0,100,100,"#ccff00","#ff0000",2);//绘制一个有边框的填充矩形。
			*shape.x=400;//设置 shape 对象相对于父容器的水平方向坐标值。
			*shape.y=200;//设置 shape 对象相对于父容器的垂直方向坐标值。
			*shape.width=100;//设置 shape 对象的宽度。
			*shape.height=100;//设置 shape 对象的高度。
			*shape.pivotX=50;//设置 shape 对象的水平方法轴心点坐标。
			*shape.pivotY=50;//设置 shape 对象的垂直方法轴心点坐标。
			*Laya.stage.addChild(shape);//将此 shape 对象添加到显示列表。
			*shape.on(Event.CLICK,this,onClickShape);//给 shape 对象添加点击事件侦听。
			*}
		*private function onClickSprite():void
		*{
			*trace("点击 sprite 对象。");
			*sprite.rotation+=5;//旋转 sprite 对象。
			*}
		*private function onClickShape():void
		*{
			*trace("点击 shape 对象。");
			*shape.rotation+=5;//旋转 shape 对象。
			*}
		*}
	*}
*
*@example
*var sprite;
*var shape;
*Sprite_Example();
*function Sprite_Example()
*{
	*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
	*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
	*onInit();
	*}
*function onInit()
*{
	*sprite=new laya.display.Sprite();//创建一个 Sprite 类的实例对象 sprite 。
	*sprite.loadImage("resource/ui/bg.png");//加载并显示图片。
	*sprite.x=200;//设置 sprite 对象相对于父容器的水平方向坐标值。
	*sprite.y=200;//设置 sprite 对象相对于父容器的垂直方向坐标值。
	*sprite.pivotX=0;//设置 sprite 对象的水平方法轴心点坐标。
	*sprite.pivotY=0;//设置 sprite 对象的垂直方法轴心点坐标。
	*Laya.stage.addChild(sprite);//将此 sprite 对象添加到显示列表。
	*sprite.on(Event.CLICK,this,onClickSprite);//给 sprite 对象添加点击事件侦听。
	*shape=new laya.display.Sprite();//创建一个 Sprite 类的实例对象 sprite 。
	*shape.graphics.drawRect(0,0,100,100,"#ccff00","#ff0000",2);//绘制一个有边框的填充矩形。
	*shape.x=400;//设置 shape 对象相对于父容器的水平方向坐标值。
	*shape.y=200;//设置 shape 对象相对于父容器的垂直方向坐标值。
	*shape.width=100;//设置 shape 对象的宽度。
	*shape.height=100;//设置 shape 对象的高度。
	*shape.pivotX=50;//设置 shape 对象的水平方法轴心点坐标。
	*shape.pivotY=50;//设置 shape 对象的垂直方法轴心点坐标。
	*Laya.stage.addChild(shape);//将此 shape 对象添加到显示列表。
	*shape.on(laya.events.Event.CLICK,this,onClickShape);//给 shape 对象添加点击事件侦听。
	*}
*function onClickSprite()
*{
	*console.log("点击 sprite 对象。");
	*sprite.rotation+=5;//旋转 sprite 对象。
	*}
*function onClickShape()
*{
	*console.log("点击 shape 对象。");
	*shape.rotation+=5;//旋转 shape 对象。
	*}
*
*@example
*import Sprite=laya.display.Sprite;
*class Sprite_Example {
	*private sprite:Sprite;
	*private shape:Sprite
	*public Sprite_Example(){
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*this.onInit();
		*}
	*private onInit():void {
		*this.sprite=new Sprite();//创建一个 Sprite 类的实例对象 sprite 。
		*this.sprite.loadImage("resource/ui/bg.png");//加载并显示图片。
		*this.sprite.x=200;//设置 sprite 对象相对于父容器的水平方向坐标值。
		*this.sprite.y=200;//设置 sprite 对象相对于父容器的垂直方向坐标值。
		*this.sprite.pivotX=0;//设置 sprite 对象的水平方法轴心点坐标。
		*this.sprite.pivotY=0;//设置 sprite 对象的垂直方法轴心点坐标。
		*Laya.stage.addChild(this.sprite);//将此 sprite 对象添加到显示列表。
		*this.sprite.on(laya.events.Event.CLICK,this,this.onClickSprite);//给 sprite 对象添加点击事件侦听。
		*this.shape=new Sprite();//创建一个 Sprite 类的实例对象 sprite 。
		*this.shape.graphics.drawRect(0,0,100,100,"#ccff00","#ff0000",2);//绘制一个有边框的填充矩形。
		*this.shape.x=400;//设置 shape 对象相对于父容器的水平方向坐标值。
		*this.shape.y=200;//设置 shape 对象相对于父容器的垂直方向坐标值。
		*this.shape.width=100;//设置 shape 对象的宽度。
		*this.shape.height=100;//设置 shape 对象的高度。
		*this.shape.pivotX=50;//设置 shape 对象的水平方法轴心点坐标。
		*this.shape.pivotY=50;//设置 shape 对象的垂直方法轴心点坐标。
		*Laya.stage.addChild(this.shape);//将此 shape 对象添加到显示列表。
		*this.shape.on(laya.events.Event.CLICK,this,this.onClickShape);//给 shape 对象添加点击事件侦听。
		*}
	*private onClickSprite():void {
		*console.log("点击 sprite 对象。");
		*this.sprite.rotation+=5;//旋转 sprite 对象。
		*}
	*private onClickShape():void {
		*console.log("点击 shape 对象。");
		*this.shape.rotation+=5;//旋转 shape 对象。
		*}
	*}
*/
//class laya.display.Sprite extends laya.display.Node
var Sprite=(function(_super){
	function Sprite(){
		/**@private 矩阵变换信息。*/
		this._transform=null;
		/**@private */
		this._tfChanged=false;
		/**@private */
		this._x=0;
		/**@private */
		this._y=0;
		/**@private */
		this._width=0;
		/**@private */
		this._height=0;
		/**@private */
		this._repaint=1;
		/**@private 鼠标状态，0:auto,1:mouseEnabled=false,2:mouseEnabled=true。*/
		this._mouseEnableState=0;
		/**@private Z排序，数值越大越靠前。*/
		this._zOrder=0;
		/**@private */
		this._graphics=null;
		/**@private */
		this._renderType=0;
		/**@private */
		this._optimizeScrollRect=false;
		/**@private */
		this._texture=null;
		/**
		*<p>鼠标事件与此对象的碰撞检测是否可穿透。碰撞检测发生在鼠标事件的捕获阶段，此阶段引擎会从stage开始递归检测stage及其子对象，直到找到命中的目标对象或者未命中任何对象。</p>
		*<p>穿透表示鼠标事件发生的位置处于本对象绘图区域内时，才算命中，而与对象宽高和值为Rectangle对象的hitArea属性无关。如果sprite.hitArea值是HitArea对象，表示显式声明了此对象的鼠标事件响应区域，而忽略对象的宽高、mouseThrough属性。</p>
		*<p>影响对象鼠标事件响应区域的属性为：width、height、hitArea，优先级顺序为：hitArea(type:HitArea)>hitArea(type:Rectangle)>width/height。</p>
		*@default false 不可穿透，此对象的鼠标响应区域由width、height、hitArea属性决定。</p>
		*/
		this.mouseThrough=false;
		/**
		*<p>指定是否自动计算宽高数据。默认值为 false 。</p>
		*<p>Sprite宽高默认为0，并且不会随着绘制内容的变化而变化，如果想根据绘制内容获取宽高，可以设置本属性为true，或者通过getBounds方法获取。设置为true，对性能有一定影响。</p>
		*/
		this.autoSize=false;
		/**
		*<p>指定鼠标事件检测是优先检测自身，还是优先检测其子对象。鼠标事件检测发生在鼠标事件的捕获阶段，此阶段引擎会从stage开始递归检测stage及其子对象，直到找到命中的目标对象或者未命中任何对象。</p>
		*<p>如果为false，优先检测子对象，当有子对象被命中时，中断检测，获得命中目标。如果未命中任何子对象，最后再检测此对象；如果为true，则优先检测本对象，如果本对象没有被命中，直接中断检测，表示没有命中目标；如果本对象被命中，则进一步递归检测其子对象，以确认最终的命中目标。</p>
		*<p>合理使用本属性，能减少鼠标事件检测的节点，提高性能。可以设置为true的情况：开发者并不关心此节点的子节点的鼠标事件检测结果，也就是以此节点作为其子节点的鼠标事件检测依据。</p>
		*<p>Stage对象和UI的View组件默认为true。</p>
		*@default false 优先检测此对象的子对象，当递归检测完所有子对象后，仍然没有找到目标对象，最后再检测此对象。
		*/
		this.hitTestPrior=false;
		/**
		*<p>视口大小，视口外的子对象，将不被渲染(如果想实现裁剪效果，请使用srollRect)，合理使用能提高渲染性能。比如由一个个小图片拼成的地图块，viewport外面的小图片将不渲染</p>
		*<p>srollRect和viewport的区别：<br/>
		*1. srollRect自带裁剪效果，viewport只影响子对象渲染是否渲染，不具有裁剪效果（性能更高）。<br/>
		*2. 设置rect的x,y属性均能实现区域滚动效果，但scrollRect会保持0,0点位置不变。</p>
		*@default null
		*/
		this.viewport=null;
		Sprite.__super.call(this);
		this._style=Style.EMPTY;
	}

	__class(Sprite,'laya.display.Sprite',_super);
	var __proto=Sprite.prototype;
	Laya.imps(__proto,{"laya.display.ILayout":true})
	/**@private */
	__proto.createConchModel=function(){
		return /*__JS__ */new ConchNode();
	}

	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this._releaseMem();
		_super.prototype.destroy.call(this,destroyChild);
		this._style && this._style.destroy();
		this._transform && this._transform.destroy();
		this._transform=null;
		this._style=null;
		this._graphics=null;
	}

	/**根据zOrder进行重新排序。*/
	__proto.updateZOrder=function(){
		Utils.updateOrder(this._childs)&& this.repaint();
	}

	/**在设置cacheAs的情况下，调用此方法会重新刷新缓存。*/
	__proto.reCache=function(){
		if (this._$P.cacheCanvas)this._$P.cacheCanvas.reCache=true;
		this._repaint=1;
	}

	/**
	*<p>设置对象在自身坐标系下的边界范围。与 <code>getSelfBounds</code> 对应。当 autoSize==true 时，会影响对象宽高。设置后，当需要获取自身边界范围时，就不再需要计算，合理使用能提高性能。比如 <code>getBounds</code> 会优先使用 <code>setBounds</code> 指定的值，如果没有指定则进行计算，此计算会对性能消耗比较大。</p>
	*<p><b>注意：</b> <code>setBounds</code> 与 <code>getBounds</code> 并非对应相等关系， <code>getBounds</code> 获取的是本对象在父容器坐标系下的边界范围，通过设置 <code>setBounds</code> 会影响 <code>getBounds</code> 的结果。</p>
	*@param bound bounds矩形区域
	*/
	__proto.setBounds=function(bound){
		this._set$P("uBounds",bound);
	}

	/**
	*<p>获取本对象在父容器坐标系的矩形显示区域。</p>
	*<p><b>注意：</b> 1.计算量较大，尽量少用，如果需要频繁使用，可以通过手动设置 <code>setBounds</code> 来缓存自身边界信息，从而避免比较消耗性能的计算。2. <code>setBounds</code> 与 <code>getBounds</code> 并非对应相等关系， <code>getBounds</code> 获取的是本对象在父容器坐标系下的边界范围，通过设置 <code>setBounds</code> 会影响 <code>getBounds</code> 的结果。</p>
	*@return 矩形区域。
	*/
	__proto.getBounds=function(){
		if (!this._$P.mBounds)this._set$P("mBounds",new Rectangle());
		return Rectangle._getWrapRec(this._boundPointsToParent(),this._$P.mBounds);
	}

	/**
	*获取对象在自身坐标系的边界范围。与 <code>setBounds</code> 对应。
	*<p><b>注意：</b>计算量较大，尽量少用，如果需要频繁使用，可以提前手动设置 <code>setBounds</code> 来缓存自身边界信息，从而避免比较消耗性能的计算。</p>
	*@return 矩形区域。
	*/
	__proto.getSelfBounds=function(){
		if (this._$P.uBounds)return this._$P.uBounds;
		if (!this._$P.mBounds)this._set$P("mBounds",new Rectangle());
		return Rectangle._getWrapRec(this._getBoundPointsM(false),this._$P.mBounds);
	}

	/**
	*@private
	*获取本对象在父容器坐标系的显示区域多边形顶点列表。
	*当显示对象链中有旋转时，返回多边形顶点列表，无旋转时返回矩形的四个顶点。
	*@param ifRotate （可选）之前的对象链中是否有旋转。
	*@return 顶点列表。结构：[x1,y1,x2,y2,x3,y3,...]。
	*/
	__proto._boundPointsToParent=function(ifRotate){
		(ifRotate===void 0)&& (ifRotate=false);
		var pX=0,pY=0;
		if (this._style){
			pX=this._style._tf.translateX;
			pY=this._style._tf.translateY;
			ifRotate=ifRotate || (this._style._tf.rotate!==0);
			if (this._style.scrollRect){
				pX+=this._style.scrollRect.x;
				pY+=this._style.scrollRect.y;
			}
		};
		var pList=this._getBoundPointsM(ifRotate);
		if (!pList || pList.length < 1)return pList;
		if (pList.length !=8){
			pList=ifRotate ? GrahamScan.scanPList(pList):Rectangle._getWrapRec(pList,Rectangle.TEMP)._getBoundPoints();
		}
		if (!this.transform){
			Utils.transPointList(pList,this._x-pX,this._y-pY);
			return pList;
		};
		var tPoint=Point.TEMP;
		var i=0,len=pList.length;
		for (i=0;i < len;i+=2){
			tPoint.x=pList[i];
			tPoint.y=pList[i+1];
			this.toParentPoint(tPoint);
			pList[i]=tPoint.x;
			pList[i+1]=tPoint.y;
		}
		return pList;
	}

	/**
	*返回此实例中的绘图对象（ <code>Graphics</code> ）的显示区域，不包括子对象。
	*@param realSize （可选）使用图片的真实大小，默认为false
	*@return 一个 Rectangle 对象，表示获取到的显示区域。
	*/
	__proto.getGraphicBounds=function(realSize){
		(realSize===void 0)&& (realSize=false);
		if (!this._graphics)return Rectangle.TEMP.setTo(0,0,0,0);
		return this._graphics.getBounds(realSize);
	}

	/**
	*@private
	*获取自己坐标系的显示区域多边形顶点列表
	*@param ifRotate （可选）当前的显示对象链是否由旋转
	*@return 顶点列表。结构：[x1,y1,x2,y2,x3,y3,...]。
	*/
	__proto._getBoundPointsM=function(ifRotate){
		(ifRotate===void 0)&& (ifRotate=false);
		if (this._$P.uBounds)return this._$P.uBounds._getBoundPoints();
		if (!this._$P.temBM)this._set$P("temBM",[]);
		if (this.scrollRect){
			var rst=Utils.clearArray(this._$P.temBM);
			var rec=Rectangle.TEMP;
			rec.copyFrom(this.scrollRect);
			Utils.concatArray(rst,rec._getBoundPoints());
			return rst;
		};
		var pList=this._graphics ? this._graphics.getBoundPoints():Utils.clearArray(this._$P.temBM);
		var child;
		var cList;
		var __childs;
		__childs=this._childs;
		for (var i=0,n=__childs.length;i < n;i++){
			child=__childs [i];
			if ((child instanceof laya.display.Sprite )&& child.visible==true){
				cList=child._boundPointsToParent(ifRotate);
				if (cList)
					pList=pList ? Utils.concatArray(pList,cList):cList;
			}
		}
		return pList;
	}

	/**
	*@private
	*获取样式。
	*@return 样式 Style 。
	*/
	__proto.getStyle=function(){
		this._style===Style.EMPTY && (this._style=new Style());
		return this._style;
	}

	/**
	*@private
	*设置样式。
	*@param value 样式。
	*/
	__proto.setStyle=function(value){
		this._style=value;
	}

	/**@private */
	__proto._adjustTransform=function(){
		'use strict';
		this._tfChanged=false;
		var style=this._style;
		var tf=style._tf;
		var sx=tf.scaleX,sy=tf.scaleY;
		var m;
		if (tf.rotate || sx!==1 || sy!==1 || tf.skewX || tf.skewY){
			m=this._transform || (this._transform=Matrix.create());
			m.bTransform=true;
			var skx=(tf.rotate-tf.skewX)*0.0174532922222222;
			var sky=(tf.rotate+tf.skewY)*0.0174532922222222;
			var cx=Math.cos(sky);
			var ssx=Math.sin(sky);
			var cy=Math.sin(skx);
			var ssy=Math.cos(skx);
			m.a=sx *cx;
			m.b=sx *ssx;
			m.c=-sy *cy;
			m.d=sy *ssy;
			m.tx=m.ty=0;
			return m;
			}else {
			this._transform && this._transform.destroy();
			this._transform=null;
			this._renderType &=~ /*laya.renders.RenderSprite.TRANSFORM*/0x04;
		}
		return m;
	}

	/**
	*<p>设置坐标位置。相当于分别设置x和y属性。</p>
	*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.pos(...).scale(...);</p>
	*@param x X轴坐标。
	*@param y Y轴坐标。
	*@param speedMode （可选）是否极速模式，正常是调用this.x=value进行赋值，极速模式直接调用内部函数处理，如果未重写x,y属性，建议设置为急速模式性能更高。
	*@return 返回对象本身。
	*/
	__proto.pos=function(x,y,speedMode){
		(speedMode===void 0)&& (speedMode=false);
		if (this._x!==x || this._y!==y){
			if (this.destroyed)return this;
			if (speedMode){
				this._x=x;
				this._y=y;
				this.conchModel && this.conchModel.pos(this._x,this._y);
				var p=this._parent;
				if (p && p._repaint===0){
					p._repaint=1;
					p.parentRepaint();
				}
				if (this._$P.maskParent && this._$P.maskParent._repaint===0){
					this._$P.maskParent._repaint=1;
					this._$P.maskParent.parentRepaint();
				}
				}else {
				this.x=x;
				this.y=y;
			}
		}
		return this;
	}

	/**
	*<p>设置轴心点。相当于分别设置pivotX和pivotY属性。</p>
	*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.pivot(...).pos(...);</p>
	*@param x X轴心点。
	*@param y Y轴心点。
	*@return 返回对象本身。
	*/
	__proto.pivot=function(x,y){
		this.pivotX=x;
		this.pivotY=y;
		return this;
	}

	/**
	*<p>设置宽高。相当于分别设置width和height属性。</p>
	*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.size(...).pos(...);</p>
	*@param width 宽度值。
	*@param hegiht 高度值。
	*@return 返回对象本身。
	*/
	__proto.size=function(width,height){
		this.width=width;
		this.height=height;
		return this;
	}

	/**
	*<p>设置缩放。相当于分别设置scaleX和scaleY属性。</p>
	*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.scale(...).pos(...);</p>
	*@param scaleX X轴缩放比例。
	*@param scaleY Y轴缩放比例。
	*@param speedMode （可选）是否极速模式，正常是调用this.scaleX=value进行赋值，极速模式直接调用内部函数处理，如果未重写scaleX,scaleY属性，建议设置为急速模式性能更高。
	*@return 返回对象本身。
	*/
	__proto.scale=function(scaleX,scaleY,speedMode){
		(speedMode===void 0)&& (speedMode=false);
		var style=this.getStyle();
		var _tf=style._tf;
		if (_tf.scaleX !=scaleX || _tf.scaleY !=scaleY){
			if (this.destroyed)return this;
			if (speedMode){
				style.setScale(scaleX,scaleY);
				this._tfChanged=true;
				this.conchModel && this.conchModel.scale(scaleX,scaleY);
				this._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;
				var p=this._parent;
				if (p && p._repaint===0){
					p._repaint=1;
					p.parentRepaint();
				}
				}else {
				this.scaleX=scaleX;
				this.scaleY=scaleY;
			}
		}
		return this;
	}

	/**
	*<p>设置倾斜角度。相当于分别设置skewX和skewY属性。</p>
	*<p>因为返回值为Sprite对象本身，所以可以使用如下语法：spr.skew(...).pos(...);</p>
	*@param skewX 水平倾斜角度。
	*@param skewY 垂直倾斜角度。
	*@return 返回对象本身
	*/
	__proto.skew=function(skewX,skewY){
		this.skewX=skewX;
		this.skewY=skewY;
		return this;
	}

	/**
	*更新、呈现显示对象。由系统调用。
	*@param context 渲染的上下文引用。
	*@param x X轴坐标。
	*@param y Y轴坐标。
	*/
	__proto.render=function(context,x,y){
		Stat.spriteCount++;
		RenderSprite.renders[this._renderType]._fun(this,context,x+this._x,y+this._y);
		this._repaint=0;
	}

	/**
	*<p>绘制 当前<code>Sprite</code> 到 <code>Canvas</code> 上，并返回一个HtmlCanvas。</p>
	*<p>绘制的结果可以当作图片源，再次绘制到其他Sprite里面，示例：</p>
	*
	*var htmlCanvas:HTMLCanvas=sprite.drawToCanvas(100,100,0,0);//把精灵绘制到canvas上面
	*var texture:Texture=new Texture(htmlCanvas);//使用htmlCanvas创建Texture
	*var sp:Sprite=new Sprite().pos(0,200);//创建精灵并把它放倒200位置
	*sp.graphics.drawTexture(texture);//把截图绘制到精灵上
	*Laya.stage.addChild(sp);//把精灵显示到舞台
	*
	*<p>也可以获取原始图片数据，分享到网上，从而实现截图效果，示例：</p>
	*
	*var htmlCanvas:HTMLCanvas=sprite.drawToCanvas(100,100,0,0);//把精灵绘制到canvas上面
	*
	*htmlCanvas.toBase64("image/png",0.92,function(base64){//webgl和canvas模式下为同步方法，加速器下是异步方法
		*trace(base64);//打印图片base64信息，可以发给服务器或者保存为图片
		*});
	*
	*@param canvasWidth 画布宽度。
	*@param canvasHeight 画布高度。
	*@param x 绘制的 X 轴偏移量。
	*@param y 绘制的 Y 轴偏移量。
	*@return HTMLCanvas 对象。
	*/
	__proto.drawToCanvas=function(canvasWidth,canvasHeight,offsetX,offsetY){
		if (Render.isConchNode){
			var canvas=HTMLCanvas.create("2D");
			var context=new RenderContext(canvasWidth,canvasHeight,canvas);
			context.ctx.setCanvasType(1);
			this.conchModel.drawToCanvas(canvas.source,offsetX,offsetY);
			return canvas;
			}else {
			return RunDriver.drawToCanvas(this,this._renderType,canvasWidth,canvasHeight,offsetX,offsetY);
		}
	}

	/**
	*<p>自定义更新、呈现显示对象。一般用来扩展渲染模式，请合理使用，可能会导致在加速器上无法渲染。</p>
	*<p><b>注意</b>不要在此函数内增加或删除树节点，否则会对树节点遍历造成影响。</p>
	*@param context 渲染的上下文引用。
	*@param x X轴坐标。
	*@param y Y轴坐标。
	*/
	__proto.customRender=function(context,x,y){
		this._renderType |=/*laya.renders.RenderSprite.CUSTOM*/0x400;
	}

	/**
	*@private
	*应用滤镜。
	*/
	__proto._applyFilters=function(){
		if (Render.isWebGL)return;
		var _filters;
		_filters=this._$P.filters;
		if (!_filters || _filters.length < 1)return;
		for (var i=0,n=_filters.length;i < n;i++){
			_filters[i].action.apply(this._$P.cacheCanvas);
		}
	}

	/**
	*@private
	*查看当前原件中是否包含发光滤镜。
	*@return 一个 Boolean 值，表示当前原件中是否包含发光滤镜。
	*/
	__proto._isHaveGlowFilter=function(){
		var i=0,len=0;
		if (this.filters){
			for (i=0;i < this.filters.length;i++){
				if (this.filters[i].type==/*laya.filters.Filter.GLOW*/0x08){
					return true;
				}
			}
		}
		for (i=0,len=this._childs.length;i < len;i++){
			if (this._childs[i]._isHaveGlowFilter()){
				return true;
			}
		}
		return false;
	}

	/**
	*把本地坐标转换为相对stage的全局坐标。
	*@param point 本地坐标点。
	*@param createNewPoint （可选）是否创建一个新的Point对象作为返回值，默认为false，使用输入的point对象返回，减少对象创建开销。
	*@return 转换后的坐标的点。
	*/
	__proto.localToGlobal=function(point,createNewPoint){
		(createNewPoint===void 0)&& (createNewPoint=false);
		if (createNewPoint===true){
			point=new Point(point.x,point.y);
		};
		var ele=this;
		while (ele){
			if (ele==Laya.stage)break ;
			point=ele.toParentPoint(point);
			ele=ele.parent;
		}
		return point;
	}

	/**
	*把stage的全局坐标转换为本地坐标。
	*@param point 全局坐标点。
	*@param createNewPoint （可选）是否创建一个新的Point对象作为返回值，默认为false，使用输入的point对象返回，减少对象创建开销。
	*@return 转换后的坐标的点。
	*/
	__proto.globalToLocal=function(point,createNewPoint){
		(createNewPoint===void 0)&& (createNewPoint=false);
		if (createNewPoint){
			point=new Point(point.x,point.y);
		};
		var ele=this;
		var list=[];
		while (ele){
			if (ele==Laya.stage)break ;
			list.push(ele);
			ele=ele.parent;
		};
		var i=list.length-1;
		while (i >=0){
			ele=list[i];
			point=ele.fromParentPoint(point);
			i--;
		}
		return point;
	}

	/**
	*将本地坐标系坐标转转换到父容器坐标系。
	*@param point 本地坐标点。
	*@return 转换后的点。
	*/
	__proto.toParentPoint=function(point){
		if (!point)return point;
		point.x-=this.pivotX;
		point.y-=this.pivotY;
		if (this.transform){
			this._transform.transformPoint(point);
		}
		point.x+=this._x;
		point.y+=this._y;
		var scroll=this._style.scrollRect;
		if (scroll){
			point.x-=scroll.x;
			point.y-=scroll.y;
		}
		return point;
	}

	/**
	*将父容器坐标系坐标转换到本地坐标系。
	*@param point 父容器坐标点。
	*@return 转换后的点。
	*/
	__proto.fromParentPoint=function(point){
		if (!point)return point;
		point.x-=this._x;
		point.y-=this._y;
		var scroll=this._style.scrollRect;
		if (scroll){
			point.x+=scroll.x;
			point.y+=scroll.y;
		}
		if (this.transform){
			this._transform.invertTransformPoint(point);
		}
		point.x+=this.pivotX;
		point.y+=this.pivotY;
		return point;
	}

	/**
	*<p>增加事件侦听器，以使侦听器能够接收事件通知。</p>
	*<p>如果侦听鼠标事件，则会自动设置自己和父亲节点的属性 mouseEnabled 的值为 true(如果父节点mouseEnabled=false，则停止设置父节点mouseEnabled属性)。</p>
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param args （可选）事件侦听函数的回调参数。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.on=function(type,caller,listener,args){
		if (this._mouseEnableState!==1 && this.isMouseEvent(type)){
			this.mouseEnabled=true;
			this._setBit(/*laya.display.Node.MOUSEENABLE*/0x2,true);
			if (this._parent){
				this._$2__onDisplay();
			}
			return this._createListener(type,caller,listener,args,false);
		}
		return _super.prototype.on.call(this,type,caller,listener,args);
	}

	/**
	*<p>增加事件侦听器，以使侦听器能够接收事件通知，此侦听事件响应一次后则自动移除侦听。</p>
	*<p>如果侦听鼠标事件，则会自动设置自己和父亲节点的属性 mouseEnabled 的值为 true(如果父节点mouseEnabled=false，则停止设置父节点mouseEnabled属性)。</p>
	*@param type 事件的类型。
	*@param caller 事件侦听函数的执行域。
	*@param listener 事件侦听函数。
	*@param args （可选）事件侦听函数的回调参数。
	*@return 此 EventDispatcher 对象。
	*/
	__proto.once=function(type,caller,listener,args){
		if (this._mouseEnableState!==1 && this.isMouseEvent(type)){
			this.mouseEnabled=true;
			this._setBit(/*laya.display.Node.MOUSEENABLE*/0x2,true);
			if (this._parent){
				this._$2__onDisplay();
			}
			return this._createListener(type,caller,listener,args,true);
		}
		return _super.prototype.once.call(this,type,caller,listener,args);
	}

	/**@private */
	__proto._$2__onDisplay=function(){
		if (this._mouseEnableState!==1){
			var ele=this;
			ele=ele.parent;
			while (ele && ele._mouseEnableState!==1){
				if (ele._getBit(/*laya.display.Node.MOUSEENABLE*/0x2))break ;
				ele.mouseEnabled=true;
				ele._setBit(/*laya.display.Node.MOUSEENABLE*/0x2,true);
				ele=ele.parent;
			}
		}
	}

	/**
	*<p>加载并显示一个图片。功能等同于graphics.loadImage方法。支持异步加载。</p>
	*<p>注意：多次调用loadImage绘制不同的图片，会同时显示。</p>
	*@param url 图片地址。
	*@param x （可选）显示图片的x位置。
	*@param y （可选）显示图片的y位置。
	*@param width （可选）显示图片的宽度，设置为0表示使用图片默认宽度。
	*@param height （可选）显示图片的高度，设置为0表示使用图片默认高度。
	*@param complete （可选）加载完成回调。
	*@return 返回精灵对象本身。
	*/
	__proto.loadImage=function(url,x,y,width,height,complete){
		var _$this=this;
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		function loaded (tex){
			if (!_$this.destroyed){
				_$this.size(x+(width || tex.width),y+(height || tex.height));
				_$this.repaint();
				complete && complete.runWith(tex);
			}
		}
		this.graphics.loadImage(url,x,y,width,height,loaded);
		return this;
	}

	/**cacheAs后，设置自己和父对象缓存失效。*/
	__proto.repaint=function(){
		this.conchModel && this.conchModel.repaint && this.conchModel.repaint();
		if (this._repaint===0){
			this._repaint=1;
			this.parentRepaint();
		}
		if (this._$P && this._$P.maskParent){
			this._$P.maskParent.repaint();
		}
	}

	/**
	*@private
	*获取是否重新缓存。
	*@return 如果重新缓存值为 true，否则值为 false。
	*/
	__proto._needRepaint=function(){
		return (this._repaint!==0)&& this._$P.cacheCanvas && this._$P.cacheCanvas.reCache;
	}

	/**@private */
	__proto._childChanged=function(child){
		if (this._childs.length)this._renderType |=/*laya.renders.RenderSprite.CHILDS*/0x800;
		else this._renderType &=~ /*laya.renders.RenderSprite.CHILDS*/0x800;
		if (child && this._get$P("hasZorder"))Laya.timer.callLater(this,this.updateZOrder);
		this.repaint();
	}

	/**cacheAs时，设置所有父对象缓存失效。 */
	__proto.parentRepaint=function(){
		var p=this._parent;
		if (p && p._repaint===0){
			p._repaint=1;
			p.parentRepaint();
		}
	}

	/**
	*开始拖动此对象。
	*@param area （可选）拖动区域，此区域为当前对象注册点活动区域（不包括对象宽高），可选。
	*@param hasInertia （可选）鼠标松开后，是否还惯性滑动，默认为false，可选。
	*@param elasticDistance （可选）橡皮筋效果的距离值，0为无橡皮筋效果，默认为0，可选。
	*@param elasticBackTime （可选）橡皮筋回弹时间，单位为毫秒，默认为300毫秒，可选。
	*@param data （可选）拖动事件携带的数据，可选。
	*@param disableMouseEvent （可选）禁用其他对象的鼠标检测，默认为false，设置为true能提高性能。
	*@param ratio （可选）惯性阻尼系数，影响惯性力度和时长。
	*/
	__proto.startDrag=function(area,hasInertia,elasticDistance,elasticBackTime,data,disableMouseEvent,ratio){
		(hasInertia===void 0)&& (hasInertia=false);
		(elasticDistance===void 0)&& (elasticDistance=0);
		(elasticBackTime===void 0)&& (elasticBackTime=300);
		(disableMouseEvent===void 0)&& (disableMouseEvent=false);
		(ratio===void 0)&& (ratio=0.92);
		this._$P.dragging || (this._set$P("dragging",new Dragging()));
		this._$P.dragging.start(this,area,hasInertia,elasticDistance,elasticBackTime,data,disableMouseEvent,ratio);
	}

	/**停止拖动此对象。*/
	__proto.stopDrag=function(){
		this._$P.dragging && this._$P.dragging.stop();
	}

	__proto._releaseMem=function(){
		if (!this._$P)return;
		var cc=this._$P.cacheCanvas;
		if (cc && cc.ctx){
			Pool.recover("RenderContext",cc.ctx);
			cc.ctx.canvas.size(0,0);
			cc.ctx=null;
		};
		var fc=this._$P._filterCache;
		if (fc){
			fc.destroy();
			fc.recycle();
			this._set$P('_filterCache',null);
		}
		this._$P._isHaveGlowFilter && this._set$P('_isHaveGlowFilter',false);
		this._$P._isHaveGlowFilter=null;
	}

	/**@private */
	__proto._setDisplay=function(value){
		if (!value)this._releaseMem();
		_super.prototype._setDisplay.call(this,value);
	}

	/**
	*检测某个点是否在此对象内。
	*@param x 全局x坐标。
	*@param y 全局y坐标。
	*@return 表示是否在对象内。
	*/
	__proto.hitTestPoint=function(x,y){
		var point=this.globalToLocal(Point.TEMP.setTo(x,y));
		x=point.x;
		y=point.y;
		var rect=this._$P.hitArea ? this._$P.hitArea :(this._width > 0 && this._height > 0)? Rectangle.TEMP.setTo(0,0,this._width,this._height):this.getSelfBounds();
		return rect.contains(x,y);
	}

	/**获得相对于本对象上的鼠标坐标信息。*/
	__proto.getMousePoint=function(){
		return this.globalToLocal(Point.TEMP.setTo(Laya.stage.mouseX,Laya.stage.mouseY));
	}

	/**@private */
	__proto._getWords=function(){
		return null;
	}

	/**@private */
	__proto._addChildsToLayout=function(out){
		var words=this._getWords();
		if (words==null && this._childs.length==0)return false;
		if (words){
			for (var i=0,n=words.length;i < n;i++){
				out.push(words[i]);
			}
		}
		this._childs.forEach(function(o,index,array){
			o._style._enableLayout()&& o._addToLayout(out);
		});
		return true;
	}

	/**@private */
	__proto._addToLayout=function(out){
		if (this._style.absolute)return;
		this._style.block ? out.push(this):(this._addChildsToLayout(out)&& (this.x=this.y=0));
	}

	/**@private */
	__proto._isChar=function(){
		return false;
	}

	/**@private */
	__proto._getCSSStyle=function(){
		return this._style.getCSSStyle();
	}

	/**
	*@private
	*设置指定属性名的属性值。
	*@param name 属性名。
	*@param value 属性值。
	*/
	__proto._setAttributes=function(name,value){
		switch (name){
			case 'x':
				this.x=parseFloat(value);
				break ;
			case 'y':
				this.y=parseFloat(value);
				break ;
			case 'width':
				this.width=parseFloat(value);
				break ;
			case 'height':
				this.height=parseFloat(value);
				break ;
			default :
				this[name]=value;
			}
	}

	/**
	*@private
	*/
	__proto._layoutLater=function(){
		this.parent && (this.parent)._layoutLater();
	}

	/**
	*<p>指定是否对使用了 scrollRect 的显示对象进行优化处理。默认为false(不优化)。</p>
	*<p>当值为ture时：将对此对象使用了scrollRect 设定的显示区域以外的显示内容不进行渲染，以提高性能(如果子对象有旋转缩放或者中心点偏移，则显示筛选会不精确)。</p>
	*/
	__getset(0,__proto,'optimizeScrollRect',function(){
		return this._optimizeScrollRect;
		},function(b){
		if (this._optimizeScrollRect !=b){
			this._optimizeScrollRect=b;
			this.conchModel && this.conchModel.optimizeScrollRect(b);
		}
	});

	/**
	*设置是否开启自定义渲染，只有开启自定义渲染，才能使用customRender函数渲染。
	*/
	__getset(0,__proto,'customRenderEnable',null,function(b){
		if (b){
			this._renderType |=/*laya.renders.RenderSprite.CUSTOM*/0x400;
			if (Render.isConchNode){
				Sprite.CustomList.push(this);
				var canvas=new HTMLCanvas("2d");
				canvas._setContext(/*__JS__ */new CanvasRenderingContext2D());
				/*__JS__ */this.customContext=new RenderContext(0,0,canvas);
				canvas.context.setCanvasType && canvas.context.setCanvasType(2);
				this.conchModel.custom(canvas.context);
			}
		}
	});

	/**
	*指定显示对象是否缓存为静态图像。功能同cacheAs的normal模式。建议优先使用cacheAs代替。
	*/
	__getset(0,__proto,'cacheAsBitmap',function(){
		return this.cacheAs!=="none";
		},function(value){
		this.cacheAs=value ? (this._$P["hasFilter"] ? "none" :"normal"):"none";
	});

	/**
	*<p>指定显示对象是否缓存为静态图像，cacheAs时，子对象发生变化，会自动重新缓存，同时也可以手动调用reCache方法更新缓存。</p>
	*<p>建议把不经常变化的“复杂内容”缓存为静态图像，能极大提高渲染性能。cacheAs有"none"，"normal"和"bitmap"三个值可选。
	*<li>默认为"none"，不做任何缓存。</li>
	*<li>当值为"normal"时，canvas模式下进行画布缓存，webgl模式下进行命令缓存。</li>
	*<li>当值为"bitmap"时，canvas模式下进行依然是画布缓存，webgl模式下使用renderTarget缓存。</li></p>
	*<p>webgl下renderTarget缓存模式缺点：会额外创建renderTarget对象，增加内存开销，缓存面积有最大2048限制，不断重绘时会增加CPU开销。优点：大幅减少drawcall，渲染性能最高。
	*webgl下命令缓存模式缺点：只会减少节点遍历及命令组织，不会减少drawcall数，性能中等。优点：没有额外内存开销，无需renderTarget支持。</p>
	*/
	__getset(0,__proto,'cacheAs',function(){
		return this._$P.cacheCanvas==null ? "none" :this._$P.cacheCanvas.type;
		},function(value){
		var cacheCanvas=this._$P.cacheCanvas;
		if (value===(cacheCanvas ? cacheCanvas.type :"none"))return;
		if (value!=="none"){
			if (!this._getBit(/*laya.display.Node.NOTICE_DISPLAY*/0x1))this._setUpNoticeType(/*laya.display.Node.NOTICE_DISPLAY*/0x1);
			cacheCanvas || (cacheCanvas=this._set$P("cacheCanvas",Pool.getItemByClass("cacheCanvas",Object)));
			cacheCanvas.type=value;
			cacheCanvas.reCache=true;
			this._renderType |=/*laya.renders.RenderSprite.CANVAS*/0x10;
			if (value=="bitmap")this.conchModel && this.conchModel.cacheAs(1);
			this._set$P("cacheForFilters",false);
			}else {
			if (this._$P["hasFilter"]){
				this._set$P("cacheForFilters",true);
				}else {
				if (cacheCanvas){
					var cc=cacheCanvas;
					if (cc && cc.ctx){
						Pool.recover("RenderContext",cc.ctx);
						cc.ctx.canvas.size(0,0);
						cc.ctx=null;
					}
					Pool.recover("cacheCanvas",cacheCanvas);
				}
				this._$P.cacheCanvas=null;
				this._renderType &=~ /*laya.renders.RenderSprite.CANVAS*/0x10;
				this.conchModel && this.conchModel.cacheAs(0);
			}
		}
		this.repaint();
	});

	/**z排序，更改此值，则会按照值的大小对同一容器的所有对象重新排序。值越大，越靠上。默认为0，则根据添加顺序排序。*/
	__getset(0,__proto,'zOrder',function(){
		return this._zOrder;
		},function(value){
		if (this._zOrder !=value){
			this._zOrder=value;
			this.conchModel && this.conchModel.setZOrder && this.conchModel.setZOrder(value);
			if (this._parent){
				value && this._parent._set$P("hasZorder",true);
				Laya.timer.callLater(this._parent,this.updateZOrder);
			}
		}
	});

	/**旋转角度，默认值为0。以角度为单位。*/
	__getset(0,__proto,'rotation',function(){
		return this._style._tf.rotate;
		},function(value){
		var style=this.getStyle();
		if (style._tf.rotate!==value){
			style.setRotate(value);
			this._tfChanged=true;
			this.conchModel && this.conchModel.rotate(value);
			this._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;
			var p=this._parent;
			if (p && p._repaint===0){
				p._repaint=1;
				p.parentRepaint();
			}
		}
	});

	/**
	*<p>显示对象的宽度，单位为像素，默认为0。</p>
	*<p>此宽度用于鼠标碰撞检测，并不影响显示对象图像大小。需要对显示对象的图像进行缩放，请使用scale、scaleX、scaleY。</p>
	*<p>可以通过getbounds获取显示对象图像的实际宽度。</p>
	*/
	__getset(0,__proto,'width',function(){
		if (!this.autoSize)return this._width;
		return this.getSelfBounds().width;
		},function(value){
		if (this._width!==value){
			this._width=value;
			this.conchModel && this.conchModel.size(value,this._height)
			this.repaint();
		}
	});

	/**表示显示对象相对于父容器的水平方向坐标值。*/
	__getset(0,__proto,'x',function(){
		return this._x;
		},function(value){
		if (this._x!==value){
			if (this.destroyed)return;
			this._x=value;
			this.conchModel && this.conchModel.pos(value,this._y);
			var p=this._parent;
			if (p && p._repaint===0){
				p._repaint=1;
				p.parentRepaint();
			}
			if (this._$P.maskParent && this._$P.maskParent._repaint===0){
				this._$P.maskParent._repaint=1;
				this._$P.maskParent.parentRepaint();
			}
		}
	});

	/**
	*获得相对于stage的全局Y轴缩放值（会叠加父亲节点的缩放值）。
	*/
	__getset(0,__proto,'globalScaleY',function(){
		var scale=1;
		var ele=this;
		while (ele){
			if (ele===Laya.stage)break ;
			scale *=ele.scaleY;
			ele=ele.parent;
		}
		return scale;
	});

	/**
	*<p>可以设置一个Rectangle区域作为点击区域，或者设置一个<code>HitArea</code>实例作为点击区域，HitArea内可以设置可点击和不可点击区域。</p>
	*<p>如果不设置hitArea，则根据宽高形成的区域进行碰撞。</p>
	*/
	__getset(0,__proto,'hitArea',function(){
		return this._$P.hitArea;
		},function(value){
		this._set$P("hitArea",value);
	});

	/**
	*是否静态缓存此对象的当前帧的最终属性。为 true 时，子对象变化时不会自动更新缓存，但是可以通过调用 reCache 方法手动刷新。
	*<b>注意：</b> 1. 设置 cacheAs 为非空和非"none"时才有效。 2. 由于渲染的时机在脚本执行之后，也就是说当前帧渲染的是对象的最终属性，所以如果在当前帧渲染之前、设置静态缓存之后改变对象属性，则最终渲染结果表现的是对象的最终属性。
	*/
	__getset(0,__proto,'staticCache',function(){
		return this._$P.staticCache;
		},function(value){
		this._set$P("staticCache",value);
		if (!value)this.reCache();
	});

	/**设置一个Texture实例，并显示此图片（如果之前有其他绘制，则会被清除掉）。等同于graphics.clear();graphics.drawTexture()*/
	__getset(0,__proto,'texture',function(){
		return this._texture;
		},function(value){
		if (this._texture !=value){
			this._texture=value;
			this.graphics.cleanByTexture(value,0,0);
		}
	});

	/**表示显示对象相对于父容器的垂直方向坐标值。*/
	__getset(0,__proto,'y',function(){
		return this._y;
		},function(value){
		if (this._y!==value){
			if (this.destroyed)return;
			this._y=value;
			this.conchModel && this.conchModel.pos(this._x,value);
			var p=this._parent;
			if (p && p._repaint===0){
				p._repaint=1;
				p.parentRepaint();
			}
			if (this._$P.maskParent && this._$P.maskParent._repaint===0){
				this._$P.maskParent._repaint=1;
				this._$P.maskParent.parentRepaint();
			}
		}
	});

	/**
	*<p>显示对象的高度，单位为像素，默认为0。</p>
	*<p>此高度用于鼠标碰撞检测，并不影响显示对象图像大小。需要对显示对象的图像进行缩放，请使用scale、scaleX、scaleY。</p>
	*<p>可以通过getbounds获取显示对象图像的实际高度。</p>
	*/
	__getset(0,__proto,'height',function(){
		if (!this.autoSize)return this._height;
		return this.getSelfBounds().height;
		},function(value){
		if (this._height!==value){
			this._height=value;
			this.conchModel && this.conchModel.size(this._width,value);
			this.repaint();
		}
	});

	/**指定要使用的混合模式。目前只支持"lighter"。*/
	__getset(0,__proto,'blendMode',function(){
		return this._style.blendMode;
		},function(value){
		this.getStyle().blendMode=value;
		this.conchModel && this.conchModel.blendMode(value);
		if (value && value !="source-over")this._renderType |=/*laya.renders.RenderSprite.BLEND*/0x08;
		else this._renderType &=~ /*laya.renders.RenderSprite.BLEND*/0x08;
		this.parentRepaint();
	});

	/**X轴缩放值，默认值为1。设置为负数，可以实现水平反转效果，比如scaleX=-1。*/
	__getset(0,__proto,'scaleX',function(){
		return this._style._tf.scaleX;
		},function(value){
		var style=this.getStyle();
		if (style._tf.scaleX!==value){
			style.setScaleX(value);
			this._tfChanged=true;
			this.conchModel && this.conchModel.scale(value,style._tf.scaleY);
			this._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;
			var p=this._parent;
			if (p && p._repaint===0){
				p._repaint=1;
				p.parentRepaint();
			}
		}
	});

	/**Y轴缩放值，默认值为1。设置为负数，可以实现垂直反转效果，比如scaleX=-1。*/
	__getset(0,__proto,'scaleY',function(){
		return this._style._tf.scaleY;
		},function(value){
		var style=this.getStyle();
		if (style._tf.scaleY!==value){
			style.setScaleY(value);
			this._tfChanged=true;
			this.conchModel && this.conchModel.scale(style._tf.scaleX,value);
			this._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;
			var p=this._parent;
			if (p && p._repaint===0){
				p._repaint=1;
				p.parentRepaint();
			}
		}
	});

	/**对舞台 <code>stage</code> 的引用。*/
	__getset(0,__proto,'stage',function(){
		return Laya.stage;
	});

	/**水平倾斜角度，默认值为0。以角度为单位。*/
	__getset(0,__proto,'skewX',function(){
		return this._style._tf.skewX;
		},function(value){
		var style=this.getStyle();
		if (style._tf.skewX!==value){
			style.setSkewX(value);
			this._tfChanged=true;
			this.conchModel && this.conchModel.skew(value,style._tf.skewY);
			this._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;
			var p=this._parent;
			if (p && p._repaint===0){
				p._repaint=1;
				p.parentRepaint();
			}
		}
	});

	/**
	*<p>显示对象的滚动矩形范围，具有裁剪效果(如果只想限制子对象渲染区域，请使用viewport)，设置optimizeScrollRect=true，可以优化裁剪区域外的内容不进行渲染。</p>
	*<p> srollRect和viewport的区别：<br/>
	*1.srollRect自带裁剪效果，viewport只影响子对象渲染是否渲染，不具有裁剪效果（性能更高）。<br/>
	*2.设置rect的x,y属性均能实现区域滚动效果，但scrollRect会保持0,0点位置不变。</p>
	*/
	__getset(0,__proto,'scrollRect',function(){
		return this._style.scrollRect;
		},function(value){
		this.getStyle().scrollRect=value;
		this.repaint();
		if (value){
			this._renderType |=/*laya.renders.RenderSprite.CLIP*/0x80;
			this.conchModel && this.conchModel.scrollRect(value.x,value.y,value.width,value.height);
			}else {
			this._renderType &=~ /*laya.renders.RenderSprite.CLIP*/0x80;
			if (this.conchModel){
				if (Sprite.RUNTIMEVERION < "0.9.1")
					this.conchModel.removeType(0x40);
				else
				this.conchModel.removeType(/*laya.renders.RenderSprite.CLIP*/0x80);
			}
		}
	});

	/**垂直倾斜角度，默认值为0。以角度为单位。*/
	__getset(0,__proto,'skewY',function(){
		return this._style._tf.skewY;
		},function(value){
		var style=this.getStyle();
		if (style._tf.skewY!==value){
			style.setSkewY(value);
			this._tfChanged=true;
			this.conchModel && this.conchModel.skew(style._tf.skewX,value);
			this._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;
			var p=this._parent;
			if (p && p._repaint===0){
				p._repaint=1;
				p.parentRepaint();
			}
		}
	});

	/**
	*<p>对象的矩阵信息。通过设置矩阵可以实现节点旋转，缩放，位移效果。</p>
	*<p>矩阵更多信息请参考 <code>Matrix</code></p>
	*/
	__getset(0,__proto,'transform',function(){
		return this._tfChanged ? this._adjustTransform():this._transform;
		},function(value){
		this._tfChanged=false;
		this._transform=value;
		if (value){
			this._x=value.tx;
			this._y=value.ty;
			value.tx=value.ty=0;
			this.conchModel && this.conchModel.transform(value.a,value.b,value.c,value.d,this._x,this._y);
		}
		if (value)this._renderType |=/*laya.renders.RenderSprite.TRANSFORM*/0x04;
		else {
			this._renderType &=~ /*laya.renders.RenderSprite.TRANSFORM*/0x04;
			this.conchModel && this.conchModel.removeType(/*laya.renders.RenderSprite.TRANSFORM*/0x04);
		}
		this.parentRepaint();
	});

	/**X轴 轴心点的位置，单位为像素，默认为0。轴心点会影响对象位置，缩放中心，旋转中心。*/
	__getset(0,__proto,'pivotX',function(){
		return this._style._tf.translateX;
		},function(value){
		this.getStyle().setTranslateX(value);
		this.conchModel && this.conchModel.pivot(value,this._style._tf.translateY);
		this.repaint();
	});

	/**Y轴 轴心点的位置，单位为像素，默认为0。轴心点会影响对象位置，缩放中心，旋转中心。*/
	__getset(0,__proto,'pivotY',function(){
		return this._style._tf.translateY;
		},function(value){
		this.getStyle().setTranslateY(value);
		this.conchModel && this.conchModel.pivot(this._style._tf.translateX,value);
		this.repaint();
	});

	/**透明度，值为0-1，默认值为1，表示不透明。更改alpha值会影响drawcall。*/
	__getset(0,__proto,'alpha',function(){
		return this._style.alpha;
		},function(value){
		if (this._style && this._style.alpha!==value){
			value=value < 0 ? 0 :(value > 1 ? 1 :value);
			this.getStyle().alpha=value;
			this.conchModel && this.conchModel.alpha(value);
			if (value!==1)this._renderType |=/*laya.renders.RenderSprite.ALPHA*/0x02;
			else this._renderType &=~ /*laya.renders.RenderSprite.ALPHA*/0x02;
			this.parentRepaint();
		}
	});

	/**表示是否可见，默认为true。如果设置不可见，节点将不被渲染。*/
	__getset(0,__proto,'visible',function(){
		return this._style.visible;
		},function(value){
		if (this._style && this._style.visible!==value){
			this.getStyle().visible=value;
			this.conchModel && this.conchModel.visible(value);
			this.parentRepaint();
		}
	});

	/**绘图对象。封装了绘制位图和矢量图的接口，Sprite所有的绘图操作都通过Graphics来实现的。*/
	__getset(0,__proto,'graphics',function(){
		return this._graphics || (this.graphics=RunDriver.createGraphics());
		},function(value){
		if (this._graphics)this._graphics._sp=null;
		this._graphics=value;
		if (value){
			this._renderType &=~ /*laya.renders.RenderSprite.IMAGE*/0x01;
			this._renderType |=/*laya.renders.RenderSprite.GRAPHICS*/0x200;
			value._sp=this;
			this.conchModel && this.conchModel.graphics(this._graphics);
			}else {
			this._renderType &=~ /*laya.renders.RenderSprite.GRAPHICS*/0x200;
			this._renderType &=~ /*laya.renders.RenderSprite.IMAGE*/0x01;
			if (this.conchModel){
				if (Sprite.RUNTIMEVERION < "0.9.1")
					this.conchModel.removeType(0x100);
				else
				this.conchModel.removeType(/*laya.renders.RenderSprite.GRAPHICS*/0x200);
			}
		}
		this.repaint();
	});

	/**滤镜集合。可以设置多个滤镜组合。*/
	__getset(0,__proto,'filters',function(){
		return this._$P.filters;
		},function(value){
		value && value.length===0 && (value=null);
		if (this._$P.filters==value)return;
		this._set$P("filters",value ? value.slice():null);
		if (Render.isConchApp){
			if (this.conchModel){
				if (Sprite.RUNTIMEVERION < "0.9.1")
					this.conchModel.removeType(0x10);
				else
				this.conchModel.removeType(/*laya.renders.RenderSprite.FILTERS*/0x20);
			}
			if (this._$P.filters && this._$P.filters.length==1){
				this._$P.filters[0].callNative(this);
			}
		}
		if (Render.isWebGL){
			if (value && value.length){
				this._renderType |=/*laya.renders.RenderSprite.FILTERS*/0x20;
				}else {
				this._renderType &=~ /*laya.renders.RenderSprite.FILTERS*/0x20;
			}
		}
		if (value && value.length > 0){
			if (!this._getBit(/*laya.display.Node.NOTICE_DISPLAY*/0x1))this._setUpNoticeType(/*laya.display.Node.NOTICE_DISPLAY*/0x1);
			if (!(Render.isWebGL && value.length==1 && (((value[0])instanceof laya.filters.ColorFilter )))){
				if (this.cacheAs !="bitmap"){
					if (!Render.isConchNode)this.cacheAs="bitmap";
					this._set$P("cacheForFilters",true);
				}
				this._set$P("hasFilter",true);
			}
			}else {
			this._set$P("hasFilter",false);
			if (this._$P["cacheForFilters"] && this.cacheAs=="bitmap"){
				this.cacheAs="none";
			}
		}
		this.repaint();
	});

	__getset(0,__proto,'parent',_super.prototype._$get_parent,function(value){
		Laya.superSet(Node,this,'parent',value);
		if (value && this._getBit(/*laya.display.Node.MOUSEENABLE*/0x2)){
			this._$2__onDisplay();
		}
	});

	/**
	*<p>遮罩，可以设置一个对象(支持位图和矢量图)，根据对象形状进行遮罩显示。</p>
	*<p>【注意】遮罩对象坐标系是相对遮罩对象本身的，和Flash机制不同</p>
	*/
	__getset(0,__proto,'mask',function(){
		return this._$P._mask;
		},function(value){
		if (value && this.mask && this.mask._$P.maskParent)return;
		if (value){
			this.cacheAs="bitmap";
			this._set$P("_mask",value);
			value._set$P("maskParent",this);
			}else {
			this.cacheAs="none";
			this.mask && this.mask._set$P("maskParent",null);
			this._set$P("_mask",value);
		}
		this.conchModel && this.conchModel.mask(value ? value.conchModel :null);
		this._renderType |=/*laya.renders.RenderSprite.MASK*/0x40;
		this.parentRepaint();
	});

	/**
	*是否接受鼠标事件。
	*默认为false，如果监听鼠标事件，则会自动设置本对象及父节点的属性 mouseEnable 的值都为 true（如果父节点手动设置为false，则不会更改）。
	**/
	__getset(0,__proto,'mouseEnabled',function(){
		return this._mouseEnableState > 1;
		},function(value){
		this._mouseEnableState=value ? 2 :1;
	});

	/**
	*获得相对于stage的全局X轴缩放值（会叠加父亲节点的缩放值）。
	*/
	__getset(0,__proto,'globalScaleX',function(){
		var scale=1;
		var ele=this;
		while (ele){
			if (ele===Laya.stage)break ;
			scale *=ele.scaleX;
			ele=ele.parent;
		}
		return scale;
	});

	/**
	*返回鼠标在此对象坐标系上的 X 轴坐标信息。
	*/
	__getset(0,__proto,'mouseX',function(){
		return this.getMousePoint().x;
	});

	/**
	*返回鼠标在此对象坐标系上的 Y 轴坐标信息。
	*/
	__getset(0,__proto,'mouseY',function(){
		return this.getMousePoint().y;
	});

	Sprite.fromImage=function(url){
		return new Sprite().loadImage(url);
	}

	Sprite.CustomList=[];
	__static(Sprite,
	['RUNTIMEVERION',function(){return this.RUNTIMEVERION=/*__JS__ */window.conch?conchConfig.getRuntimeVersion().substr(conchConfig.getRuntimeVersion().lastIndexOf('-')+1):'';}
	]);
	return Sprite;
})(Node)


/**
*@private
*audio标签播放声音的音轨控制
*/
//class laya.media.h5audio.AudioSoundChannel extends laya.media.SoundChannel
var AudioSoundChannel=(function(_super){
	function AudioSoundChannel(audio){
		/**
		*播放用的audio标签
		*/
		this._audio=null;
		this._onEnd=null;
		this._resumePlay=null;
		AudioSoundChannel.__super.call(this);
		this._onEnd=Utils.bind(this.__onEnd,this);
		this._resumePlay=Utils.bind(this.__resumePlay,this);
		audio.addEventListener("ended",this._onEnd);
		this._audio=audio;
	}

	__class(AudioSoundChannel,'laya.media.h5audio.AudioSoundChannel',_super);
	var __proto=AudioSoundChannel.prototype;
	__proto.__onEnd=function(){
		if (this.loops==1){
			if (this.completeHandler){
				Laya.timer.once(10,this,this.__runComplete,[this.completeHandler],false);
				this.completeHandler=null;
			}
			this.stop();
			this.event(/*laya.events.Event.COMPLETE*/"complete");
			return;
		}
		if (this.loops > 0){
			this.loops--;
		}
		this.startTime=0;
		this.play();
	}

	__proto.__resumePlay=function(){
		if(this._audio)this._audio.removeEventListener("canplay",this._resumePlay);
		try {
			this._audio.currentTime=this.startTime;
			Browser.container.appendChild(this._audio);
			this._audio.play();
			}catch (e){
			this.event(/*laya.events.Event.ERROR*/"error");
		}
	}

	/**
	*播放
	*/
	__proto.play=function(){
		this.isStopped=false;
		try {
			this._audio.playbackRate=SoundManager.playbackRate;
			this._audio.currentTime=this.startTime;
			}catch (e){
			this._audio.addEventListener("canplay",this._resumePlay);
			return;
		}
		SoundManager.addChannel(this);
		Browser.container.appendChild(this._audio);
		if("play" in this._audio)
			this._audio.play();
	}

	/**
	*停止播放
	*
	*/
	__proto.stop=function(){
		this.isStopped=true;
		SoundManager.removeChannel(this);
		this.completeHandler=null;
		if (!this._audio)
			return;
		if ("pause" in this._audio)
			if (Render.isConchApp){
			this._audio.stop();
		}
		this._audio.pause();
		this._audio.removeEventListener("ended",this._onEnd);
		this._audio.removeEventListener("canplay",this._resumePlay);
		if (!Browser.onIE){
			if (this._audio!=AudioSound._musicAudio){
				Pool.recover("audio:"+this.url,this._audio);
			}
		}
		Browser.removeElement(this._audio);
		this._audio=null;
	}

	__proto.pause=function(){
		this.isStopped=true;
		SoundManager.removeChannel(this);
		if("pause" in this._audio)
			this._audio.pause();
	}

	__proto.resume=function(){
		if (!this._audio)
			return;
		this.isStopped=false;
		SoundManager.addChannel(this);
		if("play" in this._audio)
			this._audio.play();
	}

	/**
	*当前播放到的位置
	*@return
	*
	*/
	__getset(0,__proto,'position',function(){
		if (!this._audio)
			return 0;
		return this._audio.currentTime;
	});

	/**
	*获取总时间。
	*/
	__getset(0,__proto,'duration',function(){
		if (!this._audio)
			return 0;
		return this._audio.duration;
	});

	/**
	*设置音量
	*@param v
	*
	*/
	/**
	*获取音量
	*@return
	*
	*/
	__getset(0,__proto,'volume',function(){
		if (!this._audio)return 1;
		return this._audio.volume;
		},function(v){
		if (!this._audio)return;
		this._audio.volume=v;
	});

	return AudioSoundChannel;
})(SoundChannel)


/**
*@private
*web audio api方式播放声音的音轨控制
*/
//class laya.media.webaudio.WebAudioSoundChannel extends laya.media.SoundChannel
var WebAudioSoundChannel=(function(_super){
	function WebAudioSoundChannel(){
		/**
		*声音原始文件数据
		*/
		this.audioBuffer=null;
		/**
		*gain节点
		*/
		this.gain=null;
		/**
		*播放用的数据
		*/
		this.bufferSource=null;
		/**
		*当前时间
		*/
		this._currentTime=0;
		/**
		*当前音量
		*/
		this._volume=1;
		/**
		*播放开始时的时间戳
		*/
		this._startTime=0;
		this._pauseTime=0;
		this._onPlayEnd=null;
		this.context=WebAudioSound.ctx;
		WebAudioSoundChannel.__super.call(this);
		this._onPlayEnd=Utils.bind(this.__onPlayEnd,this);
		if (this.context["createGain"]){
			this.gain=this.context["createGain"]();
			}else {
			this.gain=this.context["createGainNode"]();
		}
	}

	__class(WebAudioSoundChannel,'laya.media.webaudio.WebAudioSoundChannel',_super);
	var __proto=WebAudioSoundChannel.prototype;
	/**
	*播放声音
	*/
	__proto.play=function(){
		SoundManager.addChannel(this);
		this.isStopped=false;
		this._clearBufferSource();
		if (!this.audioBuffer)return;
		var context=this.context;
		var gain=this.gain;
		var bufferSource=context.createBufferSource();
		this.bufferSource=bufferSource;
		bufferSource.buffer=this.audioBuffer;
		bufferSource.connect(gain);
		if (gain)
			gain.disconnect();
		gain.connect(context.destination);
		bufferSource.onended=this._onPlayEnd;
		if (this.startTime >=this.duration)this.startTime=0;
		this._startTime=Browser.now();
		this.gain.gain.value=this._volume;
		if (this.loops==0){
			bufferSource.loop=true;
		}
		bufferSource.playbackRate.value=SoundManager.playbackRate;
		bufferSource.start(0,this.startTime);
		this._currentTime=0;
	}

	__proto.__onPlayEnd=function(){
		if (this.loops==1){
			if (this.completeHandler){
				Laya.timer.once(10,this,this.__runComplete,[this.completeHandler],false);
				this.completeHandler=null;
			}
			this.stop();
			this.event(/*laya.events.Event.COMPLETE*/"complete");
			return;
		}
		if (this.loops > 0){
			this.loops--;
		}
		this.startTime=0;
		this.play();
	}

	__proto._clearBufferSource=function(){
		if (this.bufferSource){
			var sourceNode=this.bufferSource;
			if (sourceNode.stop){
				sourceNode.stop(0);
				}else {
				sourceNode.noteOff(0);
			}
			sourceNode.disconnect(0);
			sourceNode.onended=null;
			if (!WebAudioSoundChannel._tryCleanFailed)this._tryClearBuffer(sourceNode);
			this.bufferSource=null;
		}
	}

	__proto._tryClearBuffer=function(sourceNode){
		if (!Browser.onIOS){
			WebAudioSoundChannel._tryCleanFailed=true;
			return;
		}
		try {sourceNode.buffer=WebAudioSound._miniBuffer;}catch (e){WebAudioSoundChannel._tryCleanFailed=true;}
	}

	/**
	*停止播放
	*/
	__proto.stop=function(){
		this._clearBufferSource();
		this.audioBuffer=null;
		if (this.gain)
			this.gain.disconnect();
		this.isStopped=true;
		SoundManager.removeChannel(this);
		this.completeHandler=null;
		if(SoundManager.autoReleaseSound)
			Laya.timer.once(5000,null,SoundManager.disposeSoundIfNotUsed,[this.url],false);
	}

	__proto.pause=function(){
		if (!this.isStopped){
			this._pauseTime=this.position;
		}
		this._clearBufferSource();
		if (this.gain)
			this.gain.disconnect();
		this.isStopped=true;
		SoundManager.removeChannel(this);
		if(SoundManager.autoReleaseSound)
			Laya.timer.once(5000,null,SoundManager.disposeSoundIfNotUsed,[this.url],false);
	}

	__proto.resume=function(){
		this.startTime=this._pauseTime;
		this.play();
	}

	/**
	*获取当前播放位置
	*/
	__getset(0,__proto,'position',function(){
		if (this.bufferSource){
			return (Browser.now()-this._startTime)/ 1000+this.startTime;
		}
		return 0;
	});

	__getset(0,__proto,'duration',function(){
		if (this.audioBuffer){
			return this.audioBuffer.duration;
		}
		return 0;
	});

	/**
	*设置音量
	*/
	/**
	*获取音量
	*/
	__getset(0,__proto,'volume',function(){
		return this._volume;
		},function(v){
		if (this.isStopped){
			return;
		}
		this._volume=v;
		this.gain.gain.value=v;
	});

	WebAudioSoundChannel._tryCleanFailed=false;
	return WebAudioSoundChannel;
})(SoundChannel)


/**
*@private
*<code>Bitmap</code> 是图片资源类。
*/
//class laya.resource.Bitmap extends laya.resource.Resource
var Bitmap=(function(_super){
	function Bitmap(){
		/**@private
		*HTML Image或HTML Canvas或WebGL Texture。
		**/
		//this._source=null;
		/**@private 宽度*/
		//this._w=NaN;
		/**@private 高度*/
		//this._h=NaN;
		Bitmap.__super.call(this);
		this._w=0;
		this._h=0;
	}

	__class(Bitmap,'laya.resource.Bitmap',_super);
	var __proto=Bitmap.prototype;
	/***
	*宽度。
	*/
	__getset(0,__proto,'width',function(){
		return this._w;
	});

	/***
	*高度。
	*/
	__getset(0,__proto,'height',function(){
		return this._h;
	});

	/***
	*HTML Image 或 HTML Canvas 或 WebGL Texture 。
	*/
	__getset(0,__proto,'source',function(){
		return this._source;
	});

	return Bitmap;
})(Resource)


/**
*<p>动画播放基类，提供了基础的动画播放控制方法和帧标签事件相关功能。</p>
*<p>可以继承此类，但不要直接实例化此类，因为有些方法需要由子类实现。</p>
*/
//class laya.display.AnimationPlayerBase extends laya.display.Sprite
var AnimationPlayerBase=(function(_super){
	function AnimationPlayerBase(){
		/**
		*是否循环播放，调用play(...)方法时，会将此值设置为指定的参数值。
		*/
		this.loop=false;
		/**
		*<p>播放顺序类型：AnimationPlayerBase.WRAP_POSITIVE为正序播放，AnimationPlayerBase.WRAP_REVERSE为倒序播放，AnimationPlayerBase.WRAP_PINGPONG为pingpong播放(当按指定顺序播放完结尾后，如果继续播发，则会改变播放顺序)。</p>
		*<p>默认为正序播放。</p>
		*/
		this.wrapMode=0;
		/**@private */
		this._index=0;
		/**@private */
		this._count=0;
		/**@private */
		this._isPlaying=false;
		/**@private */
		this._labels=null;
		/**是否是逆序播放*/
		this._isReverse=false;
		/**@private */
		this._frameRateChanged=false;
		/**@private */
		this._controlNode=null;
		/**@private */
		this._actionName=null;
		AnimationPlayerBase.__super.call(this);
		this._interval=Config.animationInterval;
		this._setUpNoticeType(/*laya.display.Node.NOTICE_DISPLAY*/0x1);
	}

	__class(AnimationPlayerBase,'laya.display.AnimationPlayerBase',_super);
	var __proto=AnimationPlayerBase.prototype;
	/**
	*<p>开始播放动画。play(...)方法被设计为在创建实例后的任何时候都可以被调用，当相应的资源加载完毕、调用动画帧填充方法(set frames)或者将实例显示在舞台上时，会判断是否正在播放中，如果是，则进行播放。</p>
	*<p>配合wrapMode属性，可设置动画播放顺序类型。</p>
	*@param start （可选）指定动画播放开始的索引(int)或帧标签(String)。帧标签可以通过addLabel(...)和removeLabel(...)进行添加和删除。
	*@param loop （可选）是否循环播放。
	*@param name （可选）动画名称。
	*@param showWarn（可选）是否动画不存在时打印警告
	*/
	__proto.play=function(start,loop,name,showWarn){
		(start===void 0)&& (start=0);
		(loop===void 0)&& (loop=true);
		(name===void 0)&& (name="");
		(showWarn===void 0)&& (showWarn=true);
		this._isPlaying=true;
		this.index=((typeof start=='string'))? this._getFrameByLabel(start):start;
		this.loop=loop;
		this._actionName=name;
		this._isReverse=this.wrapMode==1;
		if (this.interval > 0){
			this.timerLoop(this.interval,this,this._frameLoop,null,true,true);
		}
	}

	/**@private */
	__proto._getFrameByLabel=function(label){
		var i=0;
		for (i=0;i < this._count;i++){
			if (this._labels[i] && (this._labels [i]).indexOf(label)>=0)return i;
		}
		return 0;
	}

	/**@private */
	__proto._frameLoop=function(){
		if (this._isReverse){
			this._index--;
			if (this._index < 0){
				if (this.loop){
					if (this.wrapMode==2){
						this._index=this._count > 0 ? 1 :0;
						this._isReverse=false;
						}else {
						this._index=this._count-1;
					}
					this.event(/*laya.events.Event.COMPLETE*/"complete");
					}else {
					this._index=0;
					this.stop();
					this.event(/*laya.events.Event.COMPLETE*/"complete");
					return;
				}
			}
			}else {
			this._index++;
			if (this._index >=this._count){
				if (this.loop){
					if (this.wrapMode==2){
						this._index=this._count-2 >=0 ? this._count-2 :0;
						this._isReverse=true;
						}else {
						this._index=0;
					}
					this.event(/*laya.events.Event.COMPLETE*/"complete");
					}else {
					this._index--;
					this.stop();
					this.event(/*laya.events.Event.COMPLETE*/"complete");
					return;
				}
			}
		}
		this.index=this._index;
	}

	/**@private */
	__proto._setControlNode=function(node){
		if (this._controlNode){
			this._controlNode.off(/*laya.events.Event.DISPLAY*/"display",this,this._checkResumePlaying);
			this._controlNode.off(/*laya.events.Event.UNDISPLAY*/"undisplay",this,this._checkResumePlaying);
		}
		this._controlNode=node;
		if (node && node !=this){
			node.on(/*laya.events.Event.DISPLAY*/"display",this,this._checkResumePlaying);
			node.on(/*laya.events.Event.UNDISPLAY*/"undisplay",this,this._checkResumePlaying);
		}
	}

	/**@private */
	__proto._setDisplay=function(value){
		_super.prototype._setDisplay.call(this,value);
		this._checkResumePlaying();
	}

	/**@private */
	__proto._checkResumePlaying=function(){
		if (this._isPlaying){
			if (this._controlNode.displayedInStage)this.play(this._index,this.loop,this._actionName);
			else this.clearTimer(this,this._frameLoop);
		}
	}

	/**
	*停止动画播放。
	*/
	__proto.stop=function(){
		this._isPlaying=false;
		this.clearTimer(this,this._frameLoop);
	}

	/**
	*增加一个帧标签到指定索引的帧上。当动画播放到此索引的帧时会派发Event.LABEL事件，派发事件是在完成当前帧画面更新之后。
	*@param label 帧标签名称
	*@param index 帧索引
	*/
	__proto.addLabel=function(label,index){
		if (!this._labels)this._labels={};
		if (!this._labels[index])this._labels[index]=[];
		this._labels[index].push(label);
	}

	/**
	*删除指定的帧标签。
	*@param label 帧标签名称。注意：如果为空，则删除所有帧标签！
	*/
	__proto.removeLabel=function(label){
		if (!label)this._labels=null;
		else if (this._labels){
			for (var name in this._labels){
				this._removeLabelFromLabelList(this._labels[name],label);
			}
		}
	}

	/**@private */
	__proto._removeLabelFromLabelList=function(list,label){
		if (!list)return;
		for (var i=list.length-1;i >=0;i--){
			if (list[i]==label){
				list.splice(i,1);
			}
		}
	}

	/**
	*将动画切换到指定帧并停在那里。
	*@param position 帧索引或帧标签
	*/
	__proto.gotoAndStop=function(position){
		this.index=((typeof position=='string'))? this._getFrameByLabel(position):position;
		this.stop();
	}

	/**
	*@private
	*显示到某帧
	*@param value 帧索引
	*/
	__proto._displayToIndex=function(value){}
	/**
	*停止动画播放，并清理对象属性。之后可存入对象池，方便对象复用。
	*/
	__proto.clear=function(){
		this.stop();
		this._labels=null;
	}

	/**
	*<p>动画播放的帧间隔时间(单位：毫秒)。默认值依赖于Config.animationInterval=50，通过Config.animationInterval可以修改默认帧间隔时间。</p>
	*<p>要想为某动画设置独立的帧间隔时间，可以使用set interval，注意：如果动画正在播放，设置后会重置帧循环定时器的起始时间为当前时间，也就是说，如果频繁设置interval，会导致动画帧更新的时间间隔会比预想的要慢，甚至不更新。</p>
	*/
	__getset(0,__proto,'interval',function(){
		return this._interval;
		},function(value){
		if (this._interval !=value){
			this._frameRateChanged=true;
			this._interval=value;
			if (this._isPlaying && value > 0){
				this.timerLoop(value,this,this._frameLoop,null,true,true);
			}
		}
	});

	/**
	*是否正在播放中。
	*/
	__getset(0,__proto,'isPlaying',function(){
		return this._isPlaying;
	});

	/**
	*动画当前帧的索引。
	*/
	__getset(0,__proto,'index',function(){
		return this._index;
		},function(value){
		this._index=value;
		this._displayToIndex(value);
		if (this._labels && this._labels[value]){
			var tArr=this._labels[value];
			for (var i=0,len=tArr.length;i < len;i++){
				this.event(/*laya.events.Event.LABEL*/"label",tArr[i]);
			}
		}
	});

	/**
	*当前动画中帧的总数。
	*/
	__getset(0,__proto,'count',function(){
		return this._count;
	});

	AnimationPlayerBase.WRAP_POSITIVE=0;
	AnimationPlayerBase.WRAP_REVERSE=1;
	AnimationPlayerBase.WRAP_PINGPONG=2;
	return AnimationPlayerBase;
})(Sprite)


/**
*<p> <code>Text</code> 类用于创建显示对象以显示文本。</p>
*<p>
*注意：如果运行时系统找不到设定的字体，则用系统默认的字体渲染文字，从而导致显示异常。(通常电脑上显示正常，在一些移动端因缺少设置的字体而显示异常)。
*</p>
*@example
*package
*{
	*import laya.display.Text;
	*public class Text_Example
	*{
		*public function Text_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*onInit();
			*}
		*private function onInit():void
		*{
			*var text:Text=new Text();//创建一个 Text 类的实例对象 text 。
			*text.text="这个是一个 Text 文本示例。";
			*text.color="#008fff";//设置 text 的文本颜色。
			*text.font="Arial";//设置 text 的文本字体。
			*text.bold=true;//设置 text 的文本显示为粗体。
			*text.fontSize=30;//设置 text 的字体大小。
			*text.wordWrap=true;//设置 text 的文本自动换行。
			*text.x=100;//设置 text 对象的属性 x 的值，用于控制 text 对象的显示位置。
			*text.y=100;//设置 text 对象的属性 y 的值，用于控制 text 对象的显示位置。
			*text.width=300;//设置 text 的宽度。
			*text.height=200;//设置 text 的高度。
			*text.italic=true;//设置 text 的文本显示为斜体。
			*text.borderColor="#fff000";//设置 text 的文本边框颜色。
			*Laya.stage.addChild(text);//将 text 添加到显示列表。
			*}
		*}
	*}
*@example
*Text_Example();
*function Text_Example()
*{
	*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
	*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
	*onInit();
	*}
*function onInit()
*{
	*var text=new laya.display.Text();//创建一个 Text 类的实例对象 text 。
	*text.text="这个是一个 Text 文本示例。";
	*text.color="#008fff";//设置 text 的文本颜色。
	*text.font="Arial";//设置 text 的文本字体。
	*text.bold=true;//设置 text 的文本显示为粗体。
	*text.fontSize=30;//设置 text 的字体大小。
	*text.wordWrap=true;//设置 text 的文本自动换行。
	*text.x=100;//设置 text 对象的属性 x 的值，用于控制 text 对象的显示位置。
	*text.y=100;//设置 text 对象的属性 y 的值，用于控制 text 对象的显示位置。
	*text.width=300;//设置 text 的宽度。
	*text.height=200;//设置 text 的高度。
	*text.italic=true;//设置 text 的文本显示为斜体。
	*text.borderColor="#fff000";//设置 text 的文本边框颜色。
	*Laya.stage.addChild(text);//将 text 添加到显示列表。
	*}
*@example
*class Text_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*this.onInit();
		*}
	*private onInit():void {
		*var text:laya.display.Text=new laya.display.Text();//创建一个 Text 类的实例对象 text 。
		*text.text="这个是一个 Text 文本示例。";
		*text.color="#008fff";//设置 text 的文本颜色。
		*text.font="Arial";//设置 text 的文本字体。
		*text.bold=true;//设置 text 的文本显示为粗体。
		*text.fontSize=30;//设置 text 的字体大小。
		*text.wordWrap=true;//设置 text 的文本自动换行。
		*text.x=100;//设置 text 对象的属性 x 的值，用于控制 text 对象的显示位置。
		*text.y=100;//设置 text 对象的属性 y 的值，用于控制 text 对象的显示位置。
		*text.width=300;//设置 text 的宽度。
		*text.height=200;//设置 text 的高度。
		*text.italic=true;//设置 text 的文本显示为斜体。
		*text.borderColor="#fff000";//设置 text 的文本边框颜色。
		*Laya.stage.addChild(text);//将 text 添加到显示列表。
		*}
	*}
*/
//class laya.display.Text extends laya.display.Sprite
var Text=(function(_super){
	function Text(){
		/**@private */
		this._clipPoint=null;
		/**当前使用的位置字体。*/
		this._currBitmapFont=null;
		/**@private 表示文本内容字符串。*/
		this._text=null;
		/**@private 表示文本内容是否发生改变。*/
		this._isChanged=false;
		/**@private 表示文本的宽度，以像素为单位。*/
		this._textWidth=0;
		/**@private 表示文本的高度，以像素为单位。*/
		this._textHeight=0;
		/**@private 存储文字行数信息。*/
		this._lines=[];
		/**@private 保存每行宽度*/
		this._lineWidths=[];
		/**@private 文本的内容位置 X 轴信息。*/
		this._startX=NaN;
		/**@private 文本的内容位置X轴信息。 */
		this._startY=NaN;
		/**@private 当前可视行索引。*/
		this._lastVisibleLineIndex=-1;
		/**@private 当前可视行索引。*/
		this._words=null;
		/**@private */
		this._charSize={};
		/**
		*是否显示下划线。
		*/
		this.underline=false;
		/**
		*下划线的颜色，为null则使用字体颜色。
		*/
		this._underlineColor=null;
		Text.__super.call(this);
		this.overflow=Text.VISIBLE;
		this._style=new CSSStyle(this);
		(this._style).wordWrap=false;
	}

	__class(Text,'laya.display.Text',_super);
	var __proto=Text.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._lines=null;
		if (this._words){
			this._words.length=0;
			this._words=null;
		}
	}

	/**
	*@private
	*@inheritDoc
	*/
	__proto._getBoundPointsM=function(ifRotate){
		(ifRotate===void 0)&& (ifRotate=false);
		var rec=Rectangle.TEMP;
		rec.setTo(0,0,this.width,this.height);
		return rec._getBoundPoints();
	}

	/**
	*@inheritDoc
	*/
	__proto.getGraphicBounds=function(realSize){
		(realSize===void 0)&& (realSize=false);
		var rec=Rectangle.TEMP;
		rec.setTo(0,0,this.width,this.height);
		return rec;
	}

	/**
	*@private
	*@inheritDoc
	*/
	__proto._getCSSStyle=function(){
		return this._style;
	}

	/**
	*<p>根据指定的文本，从语言包中取当前语言的文本内容。并对此文本中的{i}文本进行替换。</p>
	*<p>设置Text.langPacks语言包后，即可使用lang获取里面的语言</p>
	*<p>例如：
	*<li>（1）text 的值为“我的名字”，先取到这个文本对应的当前语言版本里的值“My name”，将“My name”设置为当前文本的内容。</li>
	*<li>（2）text 的值为“恭喜你赢得{0}个钻石，{1}经验。”，arg1 的值为100，arg2 的值为200。
	*则先取到这个文本对应的当前语言版本里的值“Congratulations on your winning {0}diamonds,{1}experience.”，
	*然后将文本里的{0}、{1}，依据括号里的数字从0开始替换为 arg1、arg2 的值。
	*将替换处理后的文本“Congratulations on your winning 100 diamonds,200 experience.”设置为当前文本的内容。
	*</li>
	*</p>
	*@param text 文本内容。
	*@param ...args 文本替换参数。
	*/
	__proto.lang=function(text,arg1,arg2,arg3,arg4,arg5,arg6,arg7,arg8,arg9,arg10){
		text=Text.langPacks && Text.langPacks[text] ? Text.langPacks[text] :text;
		if (arguments.length < 2){
			this._text=text;
			}else {
			for (var i=0,n=arguments.length;i < n;i++){
				text=text.replace("{"+i+"}",arguments[i+1]);
			}
			this._text=text;
		}
	}

	/**
	*渲染文字。
	*@param begin 开始渲染的行索引。
	*@param visibleLineCount 渲染的行数。
	*/
	__proto.renderText=function(begin,visibleLineCount){
		var graphics=this.graphics;
		graphics.clear(true);
		var ctxFont=(this.italic ? "italic " :"")+(this.bold ? "bold " :"")+this.fontSize+"px "+(Browser.onIPhone ? (laya.display.Text._fontFamilyMap[this.font] || this.font):this.font);
		Browser.context.font=ctxFont;
		var padding=this.padding;
		var startX=padding[3];
		var textAlgin="left";
		var lines=this._lines;
		var lineHeight=this.leading+this._charSize.height;
		var tCurrBitmapFont=this._currBitmapFont;
		if (tCurrBitmapFont){
			lineHeight=this.leading+tCurrBitmapFont.getMaxHeight();
		};
		var startY=padding[0];
		if ((!tCurrBitmapFont)&& this._width > 0 && this._textWidth <=this._width){
			if (this.align=="right"){
				textAlgin="right";
				startX=this._width-padding[1];
				}else if (this.align=="center"){
				textAlgin="center";
				startX=this._width *0.5+padding[3]-padding[1];
			}
		}
		if (this._height > 0){
			var tempVAlign=(this._textHeight > this._height)? "top" :this.valign;
			if (tempVAlign==="middle")
				startY=(this._height-visibleLineCount *lineHeight)*0.5+padding[0]-padding[2];
			else if (tempVAlign==="bottom")
			startY=this._height-visibleLineCount *lineHeight-padding[2];
		};
		var style=this._style;
		if (tCurrBitmapFont && tCurrBitmapFont.autoScaleSize){
			var bitmapScale=tCurrBitmapFont.fontSize / this.fontSize;
		}
		if (this._clipPoint){
			graphics.save();
			if (tCurrBitmapFont && tCurrBitmapFont.autoScaleSize){
				var tClipWidth=0;
				var tClipHeight=0;
				this._width ? tClipWidth=(this._width-padding[3]-padding[1]):tClipWidth=this._textWidth;
				this._height ? tClipHeight=(this._height-padding[0]-padding[2]):tClipHeight=this._textHeight;
				tClipWidth *=bitmapScale;
				tClipHeight *=bitmapScale;
				graphics.clipRect(padding[3],padding[0],tClipWidth,tClipHeight);
				}else {
				graphics.clipRect(padding[3],padding[0],this._width ? (this._width-padding[3]-padding[1]):this._textWidth,this._height ? (this._height-padding[0]-padding[2]):this._textHeight);
			}
		};
		var password=style.password;
		if (("prompt" in this)&& this['prompt']==this._text)
			password=false;
		var x=0,y=0;
		var end=Math.min(this._lines.length,visibleLineCount+begin)|| 1;
		for (var i=begin;i < end;i++){
			var word=lines[i];
			var _word;
			if (password){
				var len=word.length;
				word="";
				for (var j=len;j > 0;j--){
					word+="●";
				}
			}
			x=startX-(this._clipPoint ? this._clipPoint.x :0);
			y=startY+lineHeight *i-(this._clipPoint ? this._clipPoint.y :0);
			this.underline && this.drawUnderline(textAlgin,x,y,i);
			if (tCurrBitmapFont){
				var tWidth=this.width;
				if (tCurrBitmapFont.autoScaleSize){
					tWidth=this.width *bitmapScale;
				}
				tCurrBitmapFont.drawText(word,this,x,y,this.align,tWidth);
				}else {
				if (Render.isWebGL){
					this._words || (this._words=[]);
					_word=this._words.length > (i-begin)? this._words[i-begin] :new WordText();
					_word.setText(word);
					}else {
					_word=word;
				}
				style.stroke ? graphics.fillBorderText(_word,x,y,ctxFont,this.color,style.strokeColor,style.stroke,textAlgin):graphics.fillText(_word,x,y,ctxFont,this.color,textAlgin);
			}
		}
		if (tCurrBitmapFont && tCurrBitmapFont.autoScaleSize){
			var tScale=1 / bitmapScale;
			this.scale(tScale,tScale);
		}
		if (this._clipPoint)
			graphics.restore();
		this._startX=startX;
		this._startY=startY;
	}

	/**
	*绘制下划线
	*@param x 本行坐标
	*@param y 本行坐标
	*@param lineIndex 本行索引
	*/
	__proto.drawUnderline=function(align,x,y,lineIndex){
		var lineWidth=this._lineWidths[lineIndex];
		switch (align){
			case 'center':
				x-=lineWidth / 2;
				break ;
			case 'right':
				x-=lineWidth;
				break ;
			case 'left':
			default :
				break ;
			}
		y+=this._charSize.height;
		this._graphics.drawLine(x,y,x+lineWidth,y,this.underlineColor || this.color,1);
	}

	/**
	*<p>排版文本。</p>
	*<p>进行宽高计算，渲染、重绘文本。</p>
	*/
	__proto.typeset=function(){
		this._isChanged=false;
		if (!this._text){
			this._clipPoint=null;
			this._textWidth=this._textHeight=0;
			this.graphics.clear(true);
			return;
		}
		Browser.context.font=this._getCSSStyle().font;
		this._lines.length=0;
		this._lineWidths.length=0;
		this.parseLines(this._text);
		this.evalTextSize();
		if (this.checkEnabledViewportOrNot())
			this._clipPoint || (this._clipPoint=new Point(0,0));
		else
		this._clipPoint=null;
		var lineCount=this._lines.length;
		if (this.overflow !=Text.VISIBLE){
			var func=this.overflow==Text.HIDDEN ? Math.floor :Math.ceil;
			lineCount=Math.min(lineCount,func((this.height-this.padding[0]-this.padding[2])/ (this.leading+this._charSize.height)));
		};
		var startLine=this.scrollY / (this._charSize.height+this.leading)| 0;
		this.renderText(startLine,lineCount);
		this.repaint();
	}

	__proto.evalTextSize=function(){
		var nw=NaN,nh=NaN;
		nw=Math.max.apply(this,this._lineWidths);
		if (this._currBitmapFont)
			nh=this._lines.length *(this._currBitmapFont.getMaxHeight()+this.leading)+this.padding[0]+this.padding[2];
		else
		nh=this._lines.length *(this._charSize.height+this.leading)+this.padding[0]+this.padding[2];
		if (nw !=this._textWidth || nh !=this._textHeight){
			this._textWidth=nw;
			this._textHeight=nh;
			if (!this._width || !this._height)
				this.conchModel && this.conchModel.size(this._width || this._textWidth,this._height || this._textHeight);
		}
	}

	__proto.checkEnabledViewportOrNot=function(){
		return this.overflow==Text.SCROLL && ((this._width > 0 && this._textWidth > this._width)|| (this._height > 0 && this._textHeight > this._height));
	}

	/**
	*<p>快速更改显示文本。不进行排版计算，效率较高。</p>
	*<p>如果只更改文字内容，不更改文字样式，建议使用此接口，能提高效率。</p>
	*@param text 文本内容。
	*/
	__proto.changeText=function(text){
		if (this._text!==text){
			this.lang(text+"");
			if (this._graphics && this._graphics.replaceText(this._text)){
				}else {
				this.typeset();
			}
		}
	}

	/**
	*@private
	*分析文本换行。
	*/
	__proto.parseLines=function(text){
		var needWordWrapOrTruncate=this.wordWrap || this.overflow==Text.HIDDEN;
		if (needWordWrapOrTruncate){
			var wordWrapWidth=this.getWordWrapWidth();
		}
		if (this._currBitmapFont){
			this._charSize.width=this._currBitmapFont.getMaxWidth();
			this._charSize.height=this._currBitmapFont.getMaxHeight();
			}else {
			var measureResult=Browser.context.measureText(Text._testWord);
			this._charSize.width=measureResult.width;
			this._charSize.height=(measureResult.height || this.fontSize);
		};
		var lines=text.replace(/\r\n/g,"\n").split("\n");
		for (var i=0,n=lines.length;i < n;i++){
			var line=lines[i];
			if (needWordWrapOrTruncate)
				this.parseLine(line,wordWrapWidth);
			else {
				this._lineWidths.push(this.getTextWidth(line));
				this._lines.push(line);
			}
		}
	}

	/**
	*@private
	*解析行文本。
	*@param line 某行的文本。
	*@param wordWrapWidth 文本的显示宽度。
	*/
	__proto.parseLine=function(line,wordWrapWidth){
		var ctx=Browser.context;
		var lines=this._lines;
		var maybeIndex=0;
		var execResult;
		var charsWidth=NaN;
		var wordWidth=NaN;
		var startIndex=0;
		charsWidth=this.getTextWidth(line);
		if (charsWidth <=wordWrapWidth){
			lines.push(line);
			this._lineWidths.push(charsWidth);
			return;
		}
		charsWidth=this._charSize.width;
		maybeIndex=Math.floor(wordWrapWidth / charsWidth);
		(maybeIndex==0)&& (maybeIndex=1);
		charsWidth=this.getTextWidth(line.substring(0,maybeIndex));
		wordWidth=charsWidth;
		for (var j=maybeIndex,m=line.length;j < m;j++){
			charsWidth=this.getTextWidth(line.charAt(j));
			wordWidth+=charsWidth;
			if (wordWidth > wordWrapWidth){
				if (this.wordWrap){
					var newLine=line.substring(startIndex,j);
					if (newLine.charCodeAt(newLine.length-1)< 255){
						execResult=/(?:\w|-)+$/.exec(newLine);
						if (execResult){
							j=execResult.index+startIndex;
							if (execResult.index==0)
								j+=newLine.length;
							else
							newLine=line.substring(startIndex,j);
						}
					}else
					if (Text.RightToLeft){
						execResult=/([\u0600-\u06FF])+$/.exec(newLine);
						if(execResult){
							j=execResult.index+startIndex;
							if (execResult.index==0)
								j+=newLine.length;
							else
							newLine=line.substring(startIndex,j);
						}
					}
					lines.push(newLine);
					this._lineWidths.push(wordWidth-charsWidth);
					startIndex=j;
					if (j+maybeIndex < m){
						j+=maybeIndex;
						charsWidth=this.getTextWidth(line.substring(startIndex,j));
						wordWidth=charsWidth;
						j--;
						}else {
						lines.push(line.substring(startIndex,m));
						this._lineWidths.push(this.getTextWidth(lines[lines.length-1]));
						startIndex=-1;
						break ;
					}
					}else if (this.overflow==Text.HIDDEN){
					lines.push(line.substring(0,j));
					this._lineWidths.push(this.getTextWidth(lines[lines.length-1]));
					return;
				}
			}
		}
		if (this.wordWrap && startIndex !=-1){
			lines.push(line.substring(startIndex,m));
			this._lineWidths.push(this.getTextWidth(lines[lines.length-1]));
		}
	}

	__proto.getTextWidth=function(text){
		if (this._currBitmapFont)
			return this._currBitmapFont.getTextWidth(text);
		else
		return Browser.context.measureText(text).width;
	}

	/**
	*获取换行所需的宽度。
	*/
	__proto.getWordWrapWidth=function(){
		var p=this.padding;
		var w=NaN;
		if (this._currBitmapFont && this._currBitmapFont.autoScaleSize)
			w=this._width *(this._currBitmapFont.fontSize / this.fontSize);
		else
		w=this._width;
		if (w <=0){
			w=this.wordWrap ? 100 :Browser.width;
		}
		w <=0 && (w=100);
		return w-p[3]-p[1];
	}

	/**
	*返回字符在本类实例的父坐标系下的坐标。
	*@param charIndex 索引位置。
	*@param out （可选）输出的Point引用。
	*@return Point 字符在本类实例的父坐标系下的坐标。如果out参数不为空，则将结果赋值给指定的Point对象，否则创建一个新的Point对象返回。建议使用Point.TEMP作为out参数，可以省去Point对象创建和垃圾回收的开销，尤其是在需要频繁执行的逻辑中，比如帧循环和MOUSE_MOVE事件回调函数里面。
	*/
	__proto.getCharPoint=function(charIndex,out){
		this._isChanged && Laya.timer.runCallLater(this,this.typeset);
		var len=0,lines=this._lines,startIndex=0;
		for (var i=0,n=lines.length;i < n;i++){
			len+=lines[i].length;
			if (charIndex < len){
				var line=i;
				break ;
			}
			startIndex=len;
		};
		var ctxFont=(this.italic ? "italic " :"")+(this.bold ? "bold " :"")+this.fontSize+"px "+this.font;
		Browser.context.font=ctxFont;
		var width=this.getTextWidth(this._text.substring(startIndex,charIndex));
		var point=out || new Point();
		return point.setTo(this._startX+width-(this._clipPoint ? this._clipPoint.x :0),this._startY+line *(this._charSize.height+this.leading)-(this._clipPoint ? this._clipPoint.y :0));
	}

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'width',function(){
		if (this._width)
			return this._width;
		return this.textWidth+this.padding[1]+this.padding[3];
		},function(value){
		if (value !=this._width){
			Laya.superSet(Sprite,this,'width',value);
			this.isChanged=true;
		}
	});

	/**
	*表示文本的宽度，以像素为单位。
	*/
	__getset(0,__proto,'textWidth',function(){
		this._isChanged && Laya.timer.runCallLater(this,this.typeset);
		return this._textWidth;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'height',function(){
		if (this._height)return this._height;
		return this.textHeight+this.padding[0]+this.padding[2];
		},function(value){
		if (value !=this._height){
			Laya.superSet(Sprite,this,'height',value);
			this.isChanged=true;
		}
	});

	/**
	*表示文本的高度，以像素为单位。
	*/
	__getset(0,__proto,'textHeight',function(){
		this._isChanged && Laya.timer.runCallLater(this,this.typeset);
		return this._textHeight;
	});

	/**
	*<p>边距信息。</p>
	*<p>数据格式：[上边距，右边距，下边距，左边距]（边距以像素为单位）。</p>
	*/
	__getset(0,__proto,'padding',function(){
		return this._getCSSStyle().padding;
		},function(value){
		this._getCSSStyle().padding=value;
		this.isChanged=true;
	});

	/**
	*<p>指定文本是否为粗体字。</p>
	*<p>默认值为 false，这意味着不使用粗体字。如果值为 true，则文本为粗体字。</p>
	*/
	__getset(0,__proto,'bold',function(){
		return this._getCSSStyle().bold;
		},function(value){
		this._getCSSStyle().bold=value;
		this.isChanged=true;
	});

	/**当前文本的内容字符串。*/
	__getset(0,__proto,'text',function(){
		return this._text || "";
		},function(value){
		if (this._text!==value){
			this.lang(value+"");
			this.isChanged=true;
			this.event(/*laya.events.Event.CHANGE*/"change");
		}
	});

	/**
	*<p>表示文本的颜色值。可以通过 <code>Text.defaultColor</code> 设置默认颜色。</p>
	*<p>默认值为黑色。</p>
	*/
	__getset(0,__proto,'color',function(){
		return this._getCSSStyle().color;
		},function(value){
		if (this._getCSSStyle().color !=value){
			this._getCSSStyle().color=value;
			if (!this._isChanged && this._graphics){
				this._graphics.replaceTextColor(this.color)
				}else {
				this.isChanged=true;
			}
		}
	});

	/**
	*<p>文本的字体名称，以字符串形式表示。</p>
	*<p>默认值为："Arial"，可以通过Font.defaultFont设置默认字体。</p>
	*<p>如果运行时系统找不到设定的字体，则用系统默认的字体渲染文字，从而导致显示异常。(通常电脑上显示正常，在一些移动端因缺少设置的字体而显示异常)。</p>
	*@see laya.display.css.Font#defaultFamily
	*/
	__getset(0,__proto,'font',function(){
		return this._getCSSStyle().fontFamily;
		},function(value){
		if (this._currBitmapFont){
			this._currBitmapFont=null;
			this.scale(1,1);
		}
		if (Text._bitmapFonts && Text._bitmapFonts[value]){
			this._currBitmapFont=Text._bitmapFonts[value];
		}
		this._getCSSStyle().fontFamily=value;
		this.isChanged=true;
	});

	/**
	*<p>指定文本的字体大小（以像素为单位）。</p>
	*<p>默认为20像素，可以通过 <code>Text.defaultSize</code> 设置默认大小。</p>
	*/
	__getset(0,__proto,'fontSize',function(){
		return this._getCSSStyle().fontSize;
		},function(value){
		this._getCSSStyle().fontSize=value;
		this.isChanged=true;
	});

	/**
	*<p>表示使用此文本格式的文本是否为斜体。</p>
	*<p>默认值为 false，这意味着不使用斜体。如果值为 true，则文本为斜体。</p>
	*/
	__getset(0,__proto,'italic',function(){
		return this._getCSSStyle().italic;
		},function(value){
		this._getCSSStyle().italic=value;
		this.isChanged=true;
	});

	/**
	*<p>表示文本的水平显示方式。</p>
	*<p><b>取值：</b>
	*<li>"left"： 居左对齐显示。</li>
	*<li>"center"： 居中对齐显示。</li>
	*<li>"right"： 居右对齐显示。</li>
	*</p>
	*/
	__getset(0,__proto,'align',function(){
		return this._getCSSStyle().align;
		},function(value){
		this._getCSSStyle().align=value;
		this.isChanged=true;
	});

	/**
	*<p>表示文本的垂直显示方式。</p>
	*<p><b>取值：</b>
	*<li>"top"： 居顶部对齐显示。</li>
	*<li>"middle"： 居中对齐显示。</li>
	*<li>"bottom"： 居底部对齐显示。</li>
	*</p>
	*/
	__getset(0,__proto,'valign',function(){
		return this._getCSSStyle().valign;
		},function(value){
		this._getCSSStyle().valign=value;
		this.isChanged=true;
	});

	/**
	*<p>表示文本是否自动换行，默认为false。</p>
	*<p>若值为true，则自动换行；否则不自动换行。</p>
	*/
	__getset(0,__proto,'wordWrap',function(){
		return this._getCSSStyle().wordWrap;
		},function(value){
		this._getCSSStyle().wordWrap=value;
		this.isChanged=true;
	});

	/**
	*垂直行间距（以像素为单位）。
	*/
	__getset(0,__proto,'leading',function(){
		return this._getCSSStyle().leading;
		},function(value){
		this._getCSSStyle().leading=value;
		this.isChanged=true;
	});

	/**
	*文本背景颜色，以字符串表示。
	*/
	__getset(0,__proto,'bgColor',function(){
		return this._getCSSStyle().backgroundColor;
		},function(value){
		this._getCSSStyle().backgroundColor=value;
		this.isChanged=true;
	});

	/**
	*文本边框背景颜色，以字符串表示。
	*/
	__getset(0,__proto,'borderColor',function(){
		return this._getCSSStyle().borderColor;
		},function(value){
		this._getCSSStyle().borderColor=value;
		this.isChanged=true;
	});

	/**
	*<p>描边宽度（以像素为单位）。</p>
	*<p>默认值0，表示不描边。</p>
	*/
	__getset(0,__proto,'stroke',function(){
		return this._getCSSStyle().stroke;
		},function(value){
		this._getCSSStyle().stroke=value;
		this.isChanged=true;
	});

	/**
	*<p>描边颜色，以字符串表示。</p>
	*<p>默认值为 "#000000"（黑色）;</p>
	*/
	__getset(0,__proto,'strokeColor',function(){
		return this._getCSSStyle().strokeColor;
		},function(value){
		this._getCSSStyle().strokeColor=value;
		this.isChanged=true;
	});

	/**
	*一个布尔值，表示文本的属性是否有改变。若为true表示有改变。
	*/
	__getset(0,__proto,'isChanged',null,function(value){
		if (this._isChanged!==value){
			this._isChanged=value;
			value && Laya.timer.callLater(this,this.typeset);
		}
	});

	/**
	*<p>设置横向滚动量。</p>
	*<p>即使设置超出滚动范围的值，也会被自动限制在可能的最大值处。</p>
	*/
	/**
	*获取横向滚动量。
	*/
	__getset(0,__proto,'scrollX',function(){
		if (!this._clipPoint)
			return 0;
		return this._clipPoint.x;
		},function(value){
		if (this.overflow !=Text.SCROLL || (this.textWidth < this._width || !this._clipPoint))
			return;
		value=value < this.padding[3] ? this.padding[3] :value;
		var maxScrollX=this._textWidth-this._width;
		value=value > maxScrollX ? maxScrollX :value;
		var visibleLineCount=this._height / (this._charSize.height+this.leading)| 0+1;
		this._clipPoint.x=value;
		this.renderText(this._lastVisibleLineIndex,visibleLineCount);
	});

	/**
	*设置纵向滚动量（px)。即使设置超出滚动范围的值，也会被自动限制在可能的最大值处。
	*/
	/**
	*获取纵向滚动量。
	*/
	__getset(0,__proto,'scrollY',function(){
		if (!this._clipPoint)
			return 0;
		return this._clipPoint.y;
		},function(value){
		if (this.overflow !=Text.SCROLL || (this.textHeight < this._height || !this._clipPoint))
			return;
		value=value < this.padding[0] ? this.padding[0] :value;
		var maxScrollY=this._textHeight-this._height;
		value=value > maxScrollY ? maxScrollY :value;
		var startLine=value / (this._charSize.height+this.leading)| 0;
		this._lastVisibleLineIndex=startLine;
		var visibleLineCount=(this._height / (this._charSize.height+this.leading)| 0)+1;
		this._clipPoint.y=value;
		this.renderText(startLine,visibleLineCount);
	});

	/**
	*获取横向可滚动最大值。
	*/
	__getset(0,__proto,'maxScrollX',function(){
		return (this.textWidth < this._width)? 0 :this._textWidth-this._width;
	});

	/**
	*获取纵向可滚动最大值。
	*/
	__getset(0,__proto,'maxScrollY',function(){
		return (this.textHeight < this._height)? 0 :this._textHeight-this._height;
	});

	__getset(0,__proto,'lines',function(){
		if (this._isChanged)
			this.typeset();
		return this._lines;
	});

	__getset(0,__proto,'underlineColor',function(){
		return this._underlineColor;
		},function(value){
		this._underlineColor=value;
		this._isChanged=true;
		this.typeset();
	});

	Text.registerBitmapFont=function(name,bitmapFont){
		Text._bitmapFonts || (Text._bitmapFonts={});
		Text._bitmapFonts[name]=bitmapFont;
	}

	Text.unregisterBitmapFont=function(name,destroy){
		(destroy===void 0)&& (destroy=true);
		if (Text._bitmapFonts && Text._bitmapFonts[name]){
			var tBitmapFont=Text._bitmapFonts[name];
			if (destroy){
				tBitmapFont.destroy();
			}
			delete Text._bitmapFonts[name];
		}
	}

	Text.setTextRightToLeft=function(){
		var style;
		style=Browser.canvas.source.style;
		style.display="none";
		style.position="absolute";
		style.direction="rtl";
		Render._mainCanvas.source.style.direction="rtl";
		laya.display.Text.RightToLeft=true;
		Browser.document.body.appendChild(Browser.canvas.source);
	}

	Text.supportFont=function(font){
		Browser.context.font="10px sans-serif";
		var defaultFontWidth=Browser.context.measureText("abcji").width;
		Browser.context.font="10px "+font;
		var customFontWidth=Browser.context.measureText("abcji").width;
		console.log(defaultFontWidth,customFontWidth);
		if (defaultFontWidth===customFontWidth)return false;
		else return true;
	}

	Text._testWord="游";
	Text.langPacks=null;
	Text.VISIBLE="visible";
	Text.SCROLL="scroll";
	Text.HIDDEN="hidden";
	Text.CharacterCache=true;
	Text.RightToLeft=false;
	Text._bitmapFonts=null;
	__static(Text,
	['_fontFamilyMap',function(){return this._fontFamilyMap={"报隶" :"报隶-简","黑体" :"黑体-简","楷体" :"楷体-简","兰亭黑" :"兰亭黑-简","隶变" :"隶变-简","凌慧体" :"凌慧体-简","翩翩体" :"翩翩体-简","苹方" :"苹方-简","手札体" :"手札体-简","宋体" :"宋体-简","娃娃体" :"娃娃体-简","魏碑" :"魏碑-简","行楷" :"行楷-简","雅痞" :"雅痞-简","圆体" :"圆体-简"};}
	]);
	return Text;
})(Sprite)


/**
*<p> <code>Stage</code> 是舞台类，显示列表的根节点，所有显示对象都在舞台上显示。通过 Laya.stage 单例访问。</p>
*<p>Stage提供几种适配模式，不同的适配模式会产生不同的画布大小，画布越大，渲染压力越大，所以要选择合适的适配方案。</p>
*<p>Stage提供不同的帧率模式，帧率越高，渲染压力越大，越费电，合理使用帧率甚至动态更改帧率有利于改进手机耗电。</p>
*/
//class laya.display.Stage extends laya.display.Sprite
var Stage=(function(_super){
	function Stage(){
		/**当前焦点对象，此对象会影响当前键盘事件的派发主体。*/
		this.focus=null;
		/**设计宽度（初始化时设置的宽度Laya.init(width,height)）*/
		this.designWidth=0;
		/**设计高度（初始化时设置的高度Laya.init(width,height)）*/
		this.designHeight=0;
		/**画布是否发生翻转。*/
		this.canvasRotation=false;
		/**画布的旋转角度。*/
		this.canvasDegree=0;
		/**
		*<p>设置是否渲染，设置为false，可以停止渲染，画面会停留到最后一次渲染上，减少cpu消耗，此设置不影响时钟。</p>
		*<p>比如非激活状态，可以设置renderingEnabled=true以节省消耗。</p>
		**/
		this.renderingEnabled=true;
		/**是否启用屏幕适配，可以适配后，在某个时候关闭屏幕适配，防止某些操作导致的屏幕以外改变*/
		this.screenAdaptationEnabled=true;
		/**@private */
		this._screenMode="none";
		/**@private */
		this._scaleMode="noscale";
		/**@private */
		this._alignV="top";
		/**@private */
		this._alignH="left";
		/**@private */
		this._bgColor="black";
		/**@private */
		this._mouseMoveTime=0;
		/**@private */
		this._renderCount=0;
		/**@private */
		this._frameStartTime=NaN;
		/**@private */
		this._isFocused=false;
		/**@private */
		this._isVisibility=false;
		/**@private 3D场景*/
		this._scenes=null;
		/**@private */
		this._frameRate="fast";
		Stage.__super.call(this);
		this.offset=new Point();
		this._canvasTransform=new Matrix();
		this._previousOrientation=Browser.window.orientation;
		var _$this=this;
		this.transform=Matrix.create();
		this._scenes=[];
		this.mouseEnabled=true;
		this.hitTestPrior=true;
		this.autoSize=false;
		this._displayedInStage=true;
		this._isFocused=true;
		this._isVisibility=true;
		var window=Browser.window;
		var _this=this;
		window.addEventListener("focus",function(){
			_$this._isFocused=true;
			_this.event(/*laya.events.Event.FOCUS*/"focus");
			_this.event(/*laya.events.Event.FOCUS_CHANGE*/"focuschange");
		});
		window.addEventListener("blur",function(){
			_$this._isFocused=false;
			_this.event(/*laya.events.Event.BLUR*/"blur");
			_this.event(/*laya.events.Event.FOCUS_CHANGE*/"focuschange");
			if (_this._isInputting())Input["inputElement"].target.focus=false;
		});
		var hidden="hidden",state="visibilityState",visibilityChange="visibilitychange";
		var document=window.document;
		if (typeof document.hidden!=="undefined"){
			visibilityChange="visibilitychange";
			state="visibilityState";
			}else if (typeof document.mozHidden!=="undefined"){
			visibilityChange="mozvisibilitychange";
			state="mozVisibilityState";
			}else if (typeof document.msHidden!=="undefined"){
			visibilityChange="msvisibilitychange";
			state="msVisibilityState";
			}else if (typeof document.webkitHidden!=="undefined"){
			visibilityChange="webkitvisibilitychange";
			state="webkitVisibilityState";
		}
		window.document.addEventListener(visibilityChange,visibleChangeFun);
		function visibleChangeFun (){
			if (Browser.document[state]=="hidden"){
				_$this._isVisibility=false;
				if (_this._isInputting())Input["inputElement"].target.focus=false;
				}else {
				_$this._isVisibility=true;
			}
			_this.event(/*laya.events.Event.VISIBILITY_CHANGE*/"visibilitychange");
		}
		window.addEventListener("resize",function(){
			var orientation=Browser.window.orientation;
			if (orientation !=null && orientation !=_$this._previousOrientation && _this._isInputting()){
				Input["inputElement"].target.focus=false;
			}
			_$this._previousOrientation=orientation;
			if (_this._isInputting())return;
			_this._resetCanvas();
		});
		window.addEventListener("orientationchange",function(e){
			_this._resetCanvas();
		});
		this.on(/*laya.events.Event.MOUSE_MOVE*/"mousemove",this,this._onmouseMove);
		if (Browser.onMobile)this.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this._onmouseMove);
	}

	__class(Stage,'laya.display.Stage',_super);
	var __proto=Stage.prototype;
	/**
	*@private
	*在移动端输入时，输入法弹出期间不进行画布尺寸重置。
	*/
	__proto._isInputting=function(){
		return (Browser.onMobile && Input.isInputting);
	}

	/**@private */
	__proto._changeCanvasSize=function(){
		this.setScreenSize(Browser.clientWidth *Browser.pixelRatio,Browser.clientHeight *Browser.pixelRatio);
	}

	/**@private */
	__proto._resetCanvas=function(){
		if (!this.screenAdaptationEnabled)return;
		var canvas=Render._mainCanvas;
		var canvasStyle=canvas.source.style;
		canvas.size(1,1);
		Laya.timer.once(100,this,this._changeCanvasSize);
	}

	/**
	*设置屏幕大小，场景会根据屏幕大小进行适配。可以动态调用此方法，来更改游戏显示的大小。
	*@param screenWidth 屏幕宽度。
	*@param screenHeight 屏幕高度。
	*/
	__proto.setScreenSize=function(screenWidth,screenHeight){
		var rotation=false;
		if (this._screenMode!=="none"){
			var screenType=screenWidth / screenHeight < 1 ? "vertical" :"horizontal";
			rotation=screenType!==this._screenMode;
			if (rotation){
				var temp=screenHeight;
				screenHeight=screenWidth;
				screenWidth=temp;
			}
		}
		this.canvasRotation=rotation;
		var canvas=Render._mainCanvas;
		var canvasStyle=canvas.source.style;
		var mat=this._canvasTransform.identity();
		var scaleMode=this._scaleMode;
		var scaleX=screenWidth / this.designWidth;
		var scaleY=screenHeight / this.designHeight;
		var canvasWidth=this.designWidth;
		var canvasHeight=this.designHeight;
		var realWidth=screenWidth;
		var realHeight=screenHeight;
		var pixelRatio=Browser.pixelRatio;
		this._width=this.designWidth;
		this._height=this.designHeight;
		switch (scaleMode){
			case "noscale":
				scaleX=scaleY=1;
				realWidth=this.designWidth;
				realHeight=this.designHeight;
				break ;
			case "showall":
				scaleX=scaleY=Math.min(scaleX,scaleY);
				canvasWidth=realWidth=Math.round(this.designWidth *scaleX);
				canvasHeight=realHeight=Math.round(this.designHeight *scaleY);
				break ;
			case "noborder":
				scaleX=scaleY=Math.max(scaleX,scaleY);
				realWidth=Math.round(this.designWidth *scaleX);
				realHeight=Math.round(this.designHeight *scaleY);
				break ;
			case "full":
				scaleX=scaleY=1;
				this._width=canvasWidth=screenWidth;
				this._height=canvasHeight=screenHeight;
				break ;
			case "fixedwidth":
				scaleY=scaleX;
				this._height=canvasHeight=Math.round(screenHeight / scaleX);
				break ;
			case "fixedheight":
				scaleX=scaleY;
				this._width=canvasWidth=Math.round(screenWidth / scaleY);
				break ;
			case "fixedauto":
				if ((screenWidth / screenHeight)< (this.designWidth / this.designHeight)){
					scaleY=scaleX;
					this._height=canvasHeight=Math.round(screenHeight / scaleX);
					}else {
					scaleX=scaleY;
					this._width=canvasWidth=Math.round(screenWidth / scaleY);
				}
				break ;
			}
		if (this.conchModel)this.conchModel.size(this._width,this._height);
		scaleX *=this.scaleX;
		scaleY *=this.scaleY;
		if (scaleX===1 && scaleY===1){
			this.transform.identity();
			}else {
			this.transform.a=this._formatData(scaleX / (realWidth / canvasWidth));
			this.transform.d=this._formatData(scaleY / (realHeight / canvasHeight));
			this.conchModel && this.conchModel.scale(this.transform.a,this.transform.d);
		}
		canvas.size(canvasWidth,canvasHeight);
		RunDriver.changeWebGLSize(canvasWidth,canvasHeight);
		mat.scale(realWidth / canvasWidth / pixelRatio,realHeight / canvasHeight / pixelRatio);
		if (this._alignH==="left")this.offset.x=0;
		else if (this._alignH==="right")this.offset.x=screenWidth-realWidth;
		else this.offset.x=(screenWidth-realWidth)*0.5 / pixelRatio;
		if (this._alignV==="top")this.offset.y=0;
		else if (this._alignV==="bottom")this.offset.y=screenHeight-realHeight;
		else this.offset.y=(screenHeight-realHeight)*0.5 / pixelRatio;
		this.offset.x=Math.round(this.offset.x);
		this.offset.y=Math.round(this.offset.y);
		mat.translate(this.offset.x,this.offset.y);
		this.canvasDegree=0;
		if (rotation){
			if (this._screenMode==="horizontal"){
				mat.rotate(Math.PI / 2);
				mat.translate(screenHeight / pixelRatio,0);
				this.canvasDegree=90;
				}else {
				mat.rotate(-Math.PI / 2);
				mat.translate(0,screenWidth / pixelRatio);
				this.canvasDegree=-90;
			}
		}
		mat.a=this._formatData(mat.a);
		mat.d=this._formatData(mat.d);
		mat.tx=this._formatData(mat.tx);
		mat.ty=this._formatData(mat.ty);
		canvasStyle.transformOrigin=canvasStyle.webkitTransformOrigin=canvasStyle.msTransformOrigin=canvasStyle.mozTransformOrigin=canvasStyle.oTransformOrigin="0px 0px 0px";
		canvasStyle.transform=canvasStyle.webkitTransform=canvasStyle.msTransform=canvasStyle.mozTransform=canvasStyle.oTransform="matrix("+mat.toString()+")";
		mat.translate(parseInt(canvasStyle.left)|| 0,parseInt(canvasStyle.top)|| 0);
		this.visible=true;
		this._repaint=1;
		this.event(/*laya.events.Event.RESIZE*/"resize");
	}

	/**@private */
	__proto._formatData=function(value){
		if (Math.abs(value)< 0.000001)return 0;
		if (Math.abs(1-value)< 0.001)return value > 0 ? 1 :-1;
		return value;
	}

	/**@inheritDoc */
	__proto.getMousePoint=function(){
		return Point.TEMP.setTo(this.mouseX,this.mouseY);
	}

	/**@inheritDoc */
	__proto.repaint=function(){
		this._repaint=1;
	}

	/**@inheritDoc */
	__proto.parentRepaint=function(){}
	/**@private */
	__proto._loop=function(){
		this.render(Render.context,0,0);
		return true;
	}

	/**@private */
	__proto._onmouseMove=function(e){
		this._mouseMoveTime=Browser.now();
	}

	/**
	*<p>获得距当前帧开始后，过了多少时间，单位为毫秒。</p>
	*<p>可以用来判断函数内时间消耗，通过合理控制每帧函数处理消耗时长，避免一帧做事情太多，对复杂计算分帧处理，能有效降低帧率波动。</p>
	*/
	__proto.getTimeFromFrameStart=function(){
		return Browser.now()-this._frameStartTime;
	}

	/**@inheritDoc */
	__proto.render=function(context,x,y){
		if (this._frameRate==="sleep"){
			var now=Browser.now();
			if (now-this._frameStartTime >=1000)this._frameStartTime=now;
			else return;
		}
		this._renderCount++;
		Render.isFlash && this.repaint();
		if (!this._style.visible){
			if (this._renderCount % 5===0){
				Stat.loopCount++;
				MouseManager.instance.runEvent();
				Laya.timer._update();
			}
			return;
		}
		this._frameStartTime=Browser.now();
		var frameMode=this._frameRate==="mouse" ? (((this._frameStartTime-this._mouseMoveTime)< 2000)? "fast" :"slow"):this._frameRate;
		var isFastMode=(frameMode!=="slow");
		var isDoubleLoop=(this._renderCount % 2===0);
		Stat.renderSlow=!isFastMode;
		if (isFastMode || isDoubleLoop){
			Stat.loopCount++;
			MouseManager.instance.runEvent();
			Laya.timer._update();
			RunDriver.update3DLoop();
			var scene;
			var i=0,n=0;
			if (Render.isConchNode){
				for (i=0,n=this._scenes.length;i < n;i++){
					scene=this._scenes[i];
					(scene)&& (scene._updateSceneConch());
				}
				}else {
				for (i=0,n=this._scenes.length;i < n;i++){
					scene=this._scenes[i];
					(scene)&& (scene._updateScene());
				}
			}
			if (Render.isConchNode){
				var customList=Sprite["CustomList"];
				for (i=0,n=customList.length;i < n;i++){
					var customItem=customList[i];
					customItem.customRender(customItem.customContext,0,0);
				}
				return;
			}
		}
		if (Render.isConchNode)return;
		if (this.renderingEnabled && (isFastMode || !isDoubleLoop)){
			if (Render.isWebGL){
				context.clear();
				_super.prototype.render.call(this,context,x,y);
				Stat._show&& Stat._sp && Stat._sp.render(context,x,y);
				RunDriver.clear(this._bgColor);
				RunDriver.beginFlush();
				context.flush();
				RunDriver.endFinish();
				VectorGraphManager.instance && VectorGraphManager.getInstance().endDispose();
				}else {
				RunDriver.clear(this._bgColor);
				_super.prototype.render.call(this,context,x,y);
				Stat._show&& Stat._sp && Stat._sp.render(context,x,y);
			}
		}
	}

	/**@private */
	__proto._requestFullscreen=function(){
		var element=Browser.document.documentElement;
		if (element.requestFullscreen){
			element.requestFullscreen();
			}else if (element.mozRequestFullScreen){
			element.mozRequestFullScreen();
			}else if (element.webkitRequestFullscreen){
			element.webkitRequestFullscreen();
			}else if (element.msRequestFullscreen){
			element.msRequestFullscreen();
		}
	}

	/**@private */
	__proto._fullScreenChanged=function(){
		Laya.stage.event(/*laya.events.Event.FULL_SCREEN_CHANGE*/"fullscreenchange");
	}

	/**退出全屏模式*/
	__proto.exitFullscreen=function(){
		var document=Browser.document;
		if (document.exitFullscreen){
			document.exitFullscreen();
			}else if (document.mozCancelFullScreen){
			document.mozCancelFullScreen();
			}else if (document.webkitExitFullscreen){
			document.webkitExitFullscreen();
		}
	}

	/**当前视窗由缩放模式导致的 X 轴缩放系数。*/
	__getset(0,__proto,'clientScaleX',function(){
		return this._transform ? this._transform.getScaleX():1;
	});

	//[Deprecated]
	__getset(0,__proto,'desginHeight',function(){
		console.debug("desginHeight已经弃用，请使用designHeight代替");
		return this.designHeight;
	});

	/**帧率类型，支持三种模式：fast-60帧(默认)，slow-30帧，mouse-30帧（鼠标活动后会自动加速到60，鼠标不动2秒后降低为30帧，以节省消耗），sleep-1帧。*/
	__getset(0,__proto,'frameRate',function(){
		return this._frameRate;
		},function(value){
		this._frameRate=value;
		if (Render.isConchApp){
			switch (this._frameRate){
				case "slow":
					Browser.window.conch && Browser.window.conchConfig.setSlowFrame && Browser.window.conchConfig.setSlowFrame(true);
					break ;
				case "fast":
					Browser.window.conch && Browser.window.conchConfig.setSlowFrame && Browser.window.conchConfig.setSlowFrame(false);
					break ;
				case "mouse":
					Browser.window.conch && Browser.window.conchConfig.setMouseFrame && Browser.window.conchConfig.setMouseFrame(2000);
					break ;
				case "sleep":
					Browser.window.conch && Browser.window.conchConfig.setLimitFPS && Browser.window.conchConfig.setLimitFPS(1);
					break ;
				default :
					throw new Error("Stage:frameRate invalid.");
					break ;
				}
		}
	});

	/**当前视窗由缩放模式导致的 Y 轴缩放系数。*/
	__getset(0,__proto,'clientScaleY',function(){
		return this._transform ? this._transform.getScaleY():1;
	});

	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		this.designWidth=value;
		Laya.superSet(Sprite,this,'width',value);
		Laya.timer.callLater(this,this._changeCanvasSize);
	});

	/**
	*<p>水平对齐方式。默认值为"left"。</p>
	*<p><ul>取值范围：
	*<li>"left" ：居左对齐；</li>
	*<li>"center" ：居中对齐；</li>
	*<li>"right" ：居右对齐；</li>
	*</ul></p>
	*/
	__getset(0,__proto,'alignH',function(){
		return this._alignH;
		},function(value){
		this._alignH=value;
		Laya.timer.callLater(this,this._changeCanvasSize);
	});

	/**
	*舞台是否获得焦点。
	*/
	__getset(0,__proto,'isFocused',function(){
		return this._isFocused;
	});

	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		this.designHeight=value;
		Laya.superSet(Sprite,this,'height',value);
		Laya.timer.callLater(this,this._changeCanvasSize);
	});

	__getset(0,__proto,'transform',function(){
		if (this._tfChanged)this._adjustTransform();
		return this._transform=this._transform|| Matrix.create();
	},_super.prototype._$set_transform);

	/**
	*舞台是否处于可见状态(是否进入后台)。
	*/
	__getset(0,__proto,'isVisibility',function(){
		return this._isVisibility;
	});

	//[Deprecated]
	__getset(0,__proto,'desginWidth',function(){
		console.debug("desginWidth已经弃用，请使用designWidth代替");
		return this.designWidth;
	});

	/**
	*<p>缩放模式。默认值为 "noscale"。</p>
	*<p><ul>取值范围：
	*<li>"noscale" ：不缩放；</li>
	*<li>"exactfit" ：全屏不等比缩放；</li>
	*<li>"showall" ：最小比例缩放；</li>
	*<li>"noborder" ：最大比例缩放；</li>
	*<li>"full" ：不缩放，stage的宽高等于屏幕宽高；</li>
	*<li>"fixedwidth" ：宽度不变，高度根据屏幕比缩放；</li>
	*<li>"fixedheight" ：高度不变，宽度根据屏幕比缩放；</li>
	*<li>"fixedauto" ：根据宽高比，自动选择使用fixedwidth或fixedheight；</li>
	*</ul></p>
	*/
	__getset(0,__proto,'scaleMode',function(){
		return this._scaleMode;
		},function(value){
		this._scaleMode=value;
		Laya.timer.callLater(this,this._changeCanvasSize);
	});

	/**
	*<p>垂直对齐方式。默认值为"top"。</p>
	*<p><ul>取值范围：
	*<li>"top" ：居顶部对齐；</li>
	*<li>"middle" ：居中对齐；</li>
	*<li>"bottom" ：居底部对齐；</li>
	*</ul></p>
	*/
	__getset(0,__proto,'alignV',function(){
		return this._alignV;
		},function(value){
		this._alignV=value;
		Laya.timer.callLater(this,this._changeCanvasSize);
	});

	/**舞台的背景颜色，默认为黑色，null为透明。*/
	__getset(0,__proto,'bgColor',function(){
		return this._bgColor;
		},function(value){
		this._bgColor=value;
		this.conchModel && this.conchModel.bgColor(value);
		if (Render.isWebGL){
			if (value && value!=="black" && value!=="#000000"){
				Stage._wgColor=Color.create(value)._color;
				}else {
				if (!Browser.onMiniGame)Stage._wgColor=null;
			}
		}
		if (value){
			Render.canvas.style.background=value;
			}else {
			Render.canvas.style.background="none";
		}
	});

	/**鼠标在 Stage 上的 X 轴坐标。*/
	__getset(0,__proto,'mouseX',function(){
		return Math.round(MouseManager.instance.mouseX / this.clientScaleX);
	});

	/**鼠标在 Stage 上的 Y 轴坐标。*/
	__getset(0,__proto,'mouseY',function(){
		return Math.round(MouseManager.instance.mouseY / this.clientScaleY);
	});

	/**
	*<p>场景布局类型。</p>
	*<p><ul>取值范围：
	*<li>"none" ：不更改屏幕</li>
	*<li>"horizontal" ：自动横屏</li>
	*<li>"vertical" ：自动竖屏</li>
	*</ul></p>
	*/
	__getset(0,__proto,'screenMode',function(){
		return this._screenMode;
		},function(value){
		this._screenMode=value;
	});

	__getset(0,__proto,'visible',_super.prototype._$get_visible,function(value){
		if (this.visible!==value){
			Laya.superSet(Sprite,this,'visible',value);
			var style=Render._mainCanvas.source.style;
			style.visibility=value ? "visible" :"hidden";
		}
	});

	/**
	*<p>是否开启全屏，用户点击后进入全屏。</p>
	*<p>兼容性提示：部分浏览器不允许点击进入全屏，比如Iphone等。</p>
	*/
	__getset(0,__proto,'fullScreenEnabled',null,function(value){
		var document=Browser.document;
		var canvas=Render.canvas;
		if (value){
			canvas.addEventListener('mousedown',this._requestFullscreen);
			canvas.addEventListener('touchstart',this._requestFullscreen);
			document.addEventListener("fullscreenchange",this._fullScreenChanged);
			document.addEventListener("mozfullscreenchange",this._fullScreenChanged);
			document.addEventListener("webkitfullscreenchange",this._fullScreenChanged);
			document.addEventListener("msfullscreenchange",this._fullScreenChanged);
			}else {
			canvas.removeEventListener('mousedown',this._requestFullscreen);
			canvas.removeEventListener('touchstart',this._requestFullscreen);
			document.removeEventListener("fullscreenchange",this._fullScreenChanged);
			document.removeEventListener("mozfullscreenchange",this._fullScreenChanged);
			document.removeEventListener("webkitfullscreenchange",this._fullScreenChanged);
			document.removeEventListener("msfullscreenchange",this._fullScreenChanged);
		}
	});

	Stage.SCALE_NOSCALE="noscale";
	Stage.SCALE_EXACTFIT="exactfit";
	Stage.SCALE_SHOWALL="showall";
	Stage.SCALE_NOBORDER="noborder";
	Stage.SCALE_FULL="full";
	Stage.SCALE_FIXED_WIDTH="fixedwidth";
	Stage.SCALE_FIXED_HEIGHT="fixedheight";
	Stage.SCALE_FIXED_AUTO="fixedauto";
	Stage.ALIGN_LEFT="left";
	Stage.ALIGN_RIGHT="right";
	Stage.ALIGN_CENTER="center";
	Stage.ALIGN_TOP="top";
	Stage.ALIGN_MIDDLE="middle";
	Stage.ALIGN_BOTTOM="bottom";
	Stage.SCREEN_NONE="none";
	Stage.SCREEN_HORIZONTAL="horizontal";
	Stage.SCREEN_VERTICAL="vertical";
	Stage.FRAME_FAST="fast";
	Stage.FRAME_SLOW="slow";
	Stage.FRAME_MOUSE="mouse";
	Stage.FRAME_SLEEP="sleep";
	Stage._wgColor=null;
	Stage.FRAME_MOUSE_THREDHOLD=2000;
	return Stage;
})(Sprite)


/**
*@private
*/
//class laya.media.SoundNode extends laya.display.Sprite
var SoundNode=(function(_super){
	function SoundNode(){
		this.url=null;
		this._channel=null;
		this._tar=null;
		this._playEvents=null;
		this._stopEvents=null;
		SoundNode.__super.call(this);
		this.visible=false;
		this.on(/*laya.events.Event.ADDED*/"added",this,this._onParentChange);
		this.on(/*laya.events.Event.REMOVED*/"removed",this,this._onParentChange);
	}

	__class(SoundNode,'laya.media.SoundNode',_super);
	var __proto=SoundNode.prototype;
	/**@private */
	__proto._onParentChange=function(){
		this.target=this.parent;
	}

	/**
	*播放
	*@param loops 循环次数
	*@param complete 完成回调
	*
	*/
	__proto.play=function(loops,complete){
		(loops===void 0)&& (loops=1);
		if (isNaN(loops)){
			loops=1;
		}
		if (!this.url)return;
		this.stop();
		this._channel=SoundManager.playSound(this.url,loops,complete);
	}

	/**
	*停止播放
	*
	*/
	__proto.stop=function(){
		if (this._channel && !this._channel.isStopped){
			this._channel.stop();
		}
		this._channel=null;
	}

	/**@private */
	__proto._setPlayAction=function(tar,event,action,add){
		(add===void 0)&& (add=true);
		if (!this[action])return;
		if (!tar)return;
		if (add){
			tar.on(event,this,this[action]);
			}else {
			tar.off(event,this,this[action]);
		}
	}

	/**@private */
	__proto._setPlayActions=function(tar,events,action,add){
		(add===void 0)&& (add=true);
		if (!tar)return;
		if (!events)return;
		var eventArr=events.split(",");
		var i=0,len=0;
		len=eventArr.length;
		for (i=0;i < len;i++){
			this._setPlayAction(tar,eventArr[i],action,add);
		}
	}

	/**
	*设置触发播放的事件
	*@param events
	*
	*/
	__getset(0,__proto,'playEvent',null,function(events){
		this._playEvents=events;
		if (!events)return;
		if (this._tar){
			this._setPlayActions(this._tar,events,"play");
		}
	});

	/**
	*设置控制播放的对象
	*@param tar
	*
	*/
	__getset(0,__proto,'target',null,function(tar){
		if (this._tar){
			this._setPlayActions(this._tar,this._playEvents,"play",false);
			this._setPlayActions(this._tar,this._stopEvents,"stop",false);
		}
		this._tar=tar;
		if (this._tar){
			this._setPlayActions(this._tar,this._playEvents,"play",true);
			this._setPlayActions(this._tar,this._stopEvents,"stop",true);
		}
	});

	/**
	*设置触发停止的事件
	*@param events
	*
	*/
	__getset(0,__proto,'stopEvent',null,function(events){
		this._stopEvents=events;
		if (!events)return;
		if (this._tar){
			this._setPlayActions(this._tar,events,"stop");
		}
	});

	return SoundNode;
})(Sprite)


/**
*@private
*<code>FileBitmap</code> 是图片文件资源类。
*/
//class laya.resource.FileBitmap extends laya.resource.Bitmap
var FileBitmap=(function(_super){
	function FileBitmap(){
		/**@private 文件路径全名。*/
		this._src=null;
		/**@private onload触发函数*/
		this._onload=null;
		/**@private onerror触发函数*/
		this._onerror=null;
		FileBitmap.__super.call(this);
	}

	__class(FileBitmap,'laya.resource.FileBitmap',_super);
	var __proto=FileBitmap.prototype;
	/**
	*文件路径全名。
	*/
	__getset(0,__proto,'src',function(){
		return this._src;
		},function(value){
		this._src=value;
	});

	/**
	*载入完成处理函数。
	*/
	__getset(0,__proto,'onload',null,function(value){
	});

	/**
	*错误处理函数。
	*/
	__getset(0,__proto,'onerror',null,function(value){
	});

	return FileBitmap;
})(Bitmap)


/**
*<code>HTMLCanvas</code> 是 Html Canvas 的代理类，封装了 Canvas 的属性和方法。。请不要直接使用 new HTMLCanvas！
*/
//class laya.resource.HTMLCanvas extends laya.resource.Bitmap
var HTMLCanvas=(function(_super){
	function HTMLCanvas(type){
		//this._ctx=null;
		this._is2D=false;
		HTMLCanvas.__super.call(this);
		var _$this=this;
		this._source=this;
		if (type==="2D" || (type==="AUTO" && !Render.isWebGL)){
			this._is2D=true;
			this._source=Browser.createElement("canvas");
			var o=this;
			o.getContext=function (contextID,other){
				if (_$this._ctx)return _$this._ctx;
				var ctx=_$this._ctx=_$this._source.getContext(contextID,other);
				if (ctx){
					ctx._canvas=o;
					if(!Render.isFlash)ctx.size=function (w,h){
					};
				}
				return ctx;
			}
		}
		this.lock=true;
	}

	__class(HTMLCanvas,'laya.resource.HTMLCanvas',_super);
	var __proto=HTMLCanvas.prototype;
	/**
	*清空画布内容。
	*/
	__proto.clear=function(){
		this._ctx && this._ctx.clear();
	}

	/**
	*销毁。
	*/
	__proto.destroy=function(){
		this._ctx && this._ctx.destroy();
		this._ctx=null;
		laya.resource.Resource.prototype.destroy.call(this);
	}

	/**
	*释放。
	*/
	__proto.release=function(){}
	/**
	*@private
	*设置 Canvas 渲染上下文。
	*@param context Canvas 渲染上下文。
	*/
	__proto._setContext=function(context){
		this._ctx=context;
	}

	/**
	*获取 Canvas 渲染上下文。
	*@param contextID 上下文ID.
	*@param other
	*@return Canvas 渲染上下文 Context 对象。
	*/
	__proto.getContext=function(contextID,other){
		return this._ctx ? this._ctx :(this._ctx=HTMLCanvas._createContext(this));
	}

	/**
	*获取内存大小。
	*@return 内存大小。
	*/
	__proto.getMemSize=function(){
		return 0;
	}

	/**
	*设置宽高。
	*@param w 宽度。
	*@param h 高度。
	*/
	__proto.size=function(w,h){
		if (this._w !=w || this._h !=h ||(this._source && (this._source.width!=w || this._source.height!=h))){
			this._w=w;
			this._h=h;
			this.memorySize=this._w *this._h *4;
			this._ctx && this._ctx.size(w,h);
			this._source && (this._source.height=h,this._source.width=w);
		}
	}

	__proto.getCanvas=function(){
		return this._source;
	}

	__proto.toBase64=function(type,encoderOptions,callBack){
		if (this._source){
			if (Render.isConchApp && this._source.toBase64){
				this._source.toBase64(type,encoderOptions,callBack);
			}
			else {
				var base64Data=this._source.toDataURL(type,encoderOptions);
				callBack.call(this,base64Data);
			}
		}
	}

	/**
	*Canvas 渲染上下文。
	*/
	__getset(0,__proto,'context',function(){
		return this._ctx;
	});

	/**
	*是否当作 Bitmap 对象。
	*/
	__getset(0,__proto,'asBitmap',null,function(value){
	});

	HTMLCanvas.create=function(type){
		return new HTMLCanvas(type);
	}

	HTMLCanvas.TYPE2D="2D";
	HTMLCanvas.TYPE3D="3D";
	HTMLCanvas.TYPEAUTO="AUTO";
	HTMLCanvas._createContext=null;
	return HTMLCanvas;
})(Bitmap)


/**
*@private
*/
//class laya.resource.HTMLSubImage extends laya.resource.Bitmap
var HTMLSubImage=(function(_super){
	//请不要直接使用new HTMLSubImage
	function HTMLSubImage(canvas,offsetX,offsetY,width,height,atlasImage,src,allowMerageInAtlas){
		HTMLSubImage.__super.call(this);
		throw new Error("不允许new！");
	}

	__class(HTMLSubImage,'laya.resource.HTMLSubImage',_super);
	HTMLSubImage.create=function(canvas,offsetX,offsetY,width,height,atlasImage,src,allowMerageInAtlas){
		(allowMerageInAtlas===void 0)&& (allowMerageInAtlas=false);
		return new HTMLSubImage(canvas,offsetX,offsetY,width,height,atlasImage,src,allowMerageInAtlas);
	}

	return HTMLSubImage;
})(Bitmap)


/**
*<p> <code>Animation</code> 是Graphics动画类。实现了基于Graphics的动画创建、播放、控制接口。</p>
*<p>本类使用了动画模版缓存池，它以一定的内存开销来节省CPU开销，当相同的动画模版被多次使用时，相比于每次都创建新的动画模版，使用动画模版缓存池，只需创建一次，缓存之后多次复用，从而节省了动画模版创建的开销。</p>
*<p>动画模版缓存池，以key-value键值对存储，key可以自定义，也可以从指定的配置文件中读取，value为对应的动画模版，是一个Graphics对象数组，每个Graphics对象对应一个帧图像，动画的播放实质就是定时切换Graphics对象。</p>
*<p>使用set source、loadImages(...)、loadAtlas(...)、loadAnimation(...)方法可以创建动画模版。使用play(...)可以播放指定动画。</p>
*@example <caption>以下示例代码，创建了一个 <code>Text</code> 实例。</caption>
*package
*{
	*import laya.display.Animation;
	*import laya.net.Loader;
	*import laya.utils.Handler;
	*public class Animation_Example
	*{
		*public function Animation_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*init();//初始化
			*}
		*private function init():void
		*{
			*var animation:Animation=new Animation();//创建一个 Animation 类的实例对象 animation 。
			*animation.loadAtlas("resource/ani/fighter.json");//加载图集并播放
			*animation.x=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。
			*animation.y=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。
			*animation.interval=50;//设置 animation 对象的动画播放间隔时间，单位：毫秒。
			*animation.play();//播放动画。
			*Laya.stage.addChild(animation);//将 animation 对象添加到显示列表。
			*}
		*}
	*}
*
*@example
*Animation_Example();
*function Animation_Example(){
	*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
	*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
	*init();//初始化
	*}
*function init()
*{
	*var animation=new Laya.Animation();//创建一个 Animation 类的实例对象 animation 。
	*animation.loadAtlas("resource/ani/fighter.json");//加载图集并播放
	*animation.x=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。
	*animation.y=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。
	*animation.interval=50;//设置 animation 对象的动画播放间隔时间，单位：毫秒。
	*animation.play();//播放动画。
	*Laya.stage.addChild(animation);//将 animation 对象添加到显示列表。
	*}
*
*@example
*import Animation=laya.display.Animation;
*class Animation_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*this.init();
		*}
	*private init():void {
		*var animation:Animation=new Laya.Animation();//创建一个 Animation 类的实例对象 animation 。
		*animation.loadAtlas("resource/ani/fighter.json");//加载图集并播放
		*animation.x=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。
		*animation.y=200;//设置 animation 对象的属性 x 的值，用于控制 animation 对象的显示位置。
		*animation.interval=50;//设置 animation 对象的动画播放间隔时间，单位：毫秒。
		*animation.play();//播放动画。
		*Laya.stage.addChild(animation);//将 animation 对象添加到显示列表。
		*}
	*}
*new Animation_Example();
*/
//class laya.display.Animation extends laya.display.AnimationPlayerBase
var Animation=(function(_super){
	function Animation(){
		/**@private */
		this._frames=null;
		/**@private */
		this._url=null;
		Animation.__super.call(this);
		this._setControlNode(this);
	}

	__class(Animation,'laya.display.Animation',_super);
	var __proto=Animation.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this.stop();
		laya.display.Sprite.prototype.destroy.call(this,destroyChild);
		this._frames=null;
		this._labels=null;
	}

	/**
	*<p>开始播放动画。会在动画模版缓存池中查找key值为name的动画模版，存在则用此动画模版初始化当前序列帧， 如果不存在，则使用当前序列帧。</p>
	*<p>play(...)方法被设计为在创建实例后的任何时候都可以被调用，调用后就处于播放状态，当相应的资源加载完毕、调用动画帧填充方法(set frames)或者将实例显示在舞台上时，会判断是否处于播放状态，如果是，则开始播放。</p>
	*<p>配合wrapMode属性，可设置动画播放顺序类型。</p>
	*@param start （可选）指定动画播放开始的索引(int)或帧标签(String)。帧标签可以通过addLabel(...)和removeLabel(...)进行添加和删除。
	*@param loop （可选）是否循环播放。
	*@param name （可选）动画模板在动画模版缓存池中的key，也可认为是动画名称。如果name为空，则播放当前动画序列帧；如果不为空，则在动画模版缓存池中寻找key值为name的动画模版，如果存在则用此动画模版初始化当前序列帧并播放，如果不存在，则仍然播放当前动画序列帧；如果没有当前动画的帧数据，则不播放，但该实例仍然处于播放状态。
	*@param showWarn（可选）是否动画不存在时打印警告
	*/
	__proto.play=function(start,loop,name,showWarn){
		(start===void 0)&& (start=0);
		(loop===void 0)&& (loop=true);
		(name===void 0)&& (name="");
		(showWarn===void 0)&& (showWarn=true);
		if (name)this._setFramesFromCache(name,showWarn);
		this._isPlaying=true;
		this.index=((typeof start=='string'))? this._getFrameByLabel(start):start;
		this.loop=loop;
		this._actionName=name;
		this._isReverse=this.wrapMode==1;
		if (this._frames && this.interval > 0){
			this.timerLoop(this.interval,this,this._frameLoop,null,true,true);
		}
	}

	/**@private */
	__proto._setFramesFromCache=function(name,showWarn){
		(showWarn===void 0)&& (showWarn=false);
		if (this._url)name=this._url+"#"+name;
		if (name && Animation.framesMap[name]){
			var tAniO;
			tAniO=Animation.framesMap[name];
			if ((tAniO instanceof Array)){
				this._frames=Animation.framesMap[name];
				this._count=this._frames.length;
				}else {
				if (tAniO.nodeRoot){
					Animation.framesMap[name]=this._parseGraphicAnimationByData(tAniO);
					tAniO=Animation.framesMap[name];
				}
				this._frames=tAniO.frames;
				this._count=this._frames.length;
				if (!this._frameRateChanged)this._interval=tAniO.interval;
				this._labels=this._copyLabels(tAniO.labels);
			}
			return true;
			}else {
			if (showWarn)console.log("ani not found:",name);
		}
		return false;
	}

	/**@private */
	__proto._copyLabels=function(labels){
		if (!labels)return null;
		var rst;
		rst={};
		var key;
		for (key in labels){
			rst[key]=Utils.copyArray([],labels[key]);
		}
		return rst;
	}

	/**@private */
	__proto._frameLoop=function(){
		if (this._style.visible && this._style.alpha > 0.01){
			_super.prototype._frameLoop.call(this);
		}
	}

	/**@private */
	__proto._displayToIndex=function(value){
		if (this._frames)this.graphics=this._frames[value];
	}

	/**
	*停止动画播放，并清理对象属性。之后可存入对象池，方便对象复用。
	*/
	__proto.clear=function(){
		this.stop();
		this.graphics=null;
		this._frames=null;
		this._labels=null;
	}

	/**
	*<p>根据指定的动画模版初始化当前动画序列帧。选择动画模版的过程如下：1. 动画模版缓存池中key为cacheName的动画模版；2. 如果不存在，则加载指定的图片集合并创建动画模版。注意：只有指定不为空的cacheName，才能将创建好的动画模版以此为key缓存到动画模版缓存池，否则不进行缓存。</p>
	*<p>动画模版缓存池是以一定的内存开销来节省CPU开销，当相同的动画模版被多次使用时，相比于每次都创建新的动画模版，使用动画模版缓存池，只需创建一次，缓存之后多次复用，从而节省了动画模版创建的开销。</p>
	*<p>因为返回值为Animation对象本身，所以可以使用如下语法：ani.loadImages(...).loadImages(...).play(...);。</p>
	*@param urls 图片路径集合。需要创建动画模版时，会以此为数据源。参数形如：[url1,url2,url3,...]。
	*@param cacheName （可选）动画模板在动画模版缓存池中的key。如果此参数不为空，表示使用动画模版缓存池。如果动画模版缓存池中存在key为cacheName的动画模版，则使用此模版。否则，创建新的动画模版，如果cacheName不为空，则以cacheName为key缓存到动画模版缓存池中，如果cacheName为空，不进行缓存。
	*@return 返回Animation对象本身。
	*/
	__proto.loadImages=function(urls,cacheName){
		(cacheName===void 0)&& (cacheName="");
		this._url="";
		if (!this._setFramesFromCache(cacheName)){
			this.frames=Animation.framesMap[cacheName] ? Animation.framesMap[cacheName] :Animation.createFrames(urls,cacheName);
		}
		return this;
	}

	/**
	*<p>根据指定的动画模版初始化当前动画序列帧。选择动画模版的过程如下：1. 动画模版缓存池中key为cacheName的动画模版；2. 如果不存在，则加载指定的图集并创建动画模版。</p>
	*<p>注意：只有指定不为空的cacheName，才能将创建好的动画模版以此为key缓存到动画模版缓存池，否则不进行缓存。</p>
	*<p>动画模版缓存池是以一定的内存开销来节省CPU开销，当相同的动画模版被多次使用时，相比于每次都创建新的动画模版，使用动画模版缓存池，只需创建一次，缓存之后多次复用，从而节省了动画模版创建的开销。</p>
	*<p>因为返回值为Animation对象本身，所以可以使用如下语法：ani.loadAtlas(...).loadAtlas(...).play(...);。</p>
	*@param url 图集路径。需要创建动画模版时，会以此为数据源。
	*@param loaded （可选）使用指定图集初始化动画完毕的回调。
	*@param cacheName （可选）动画模板在动画模版缓存池中的key。如果此参数不为空，表示使用动画模版缓存池。如果动画模版缓存池中存在key为cacheName的动画模版，则使用此模版。否则，创建新的动画模版，如果cacheName不为空，则以cacheName为key缓存到动画模版缓存池中，如果cacheName为空，不进行缓存。
	*@return 返回动画本身。
	*/
	__proto.loadAtlas=function(url,loaded,cacheName){
		(cacheName===void 0)&& (cacheName="");
		this._url="";
		var _this_=this;
		function onLoaded (loadUrl){
			if (url===loadUrl){
				_this_.frames=Animation.framesMap[cacheName] ? Animation.framesMap[cacheName] :Animation.createFrames(url,cacheName);
				if (loaded)loaded.run();
			}
		}
		if (!_this_._setFramesFromCache(cacheName)){
			if (Loader.getAtlas(url))onLoaded(url);
			else Laya.loader.load(url,Handler.create(null,onLoaded,[url]),null,/*laya.net.Loader.ATLAS*/"atlas");
		}
		return this;
	}

	/**
	*<p>加载并解析由LayaAir IDE制作的动画文件，此文件中可能包含多个动画。默认帧率为在IDE中设计的帧率，如果调用过set interval，则使用此帧间隔对应的帧率。加载后创建动画模版，并缓存到动画模版缓存池，key "url#动画名称" 对应相应动画名称的动画模板，key "url#" 对应动画模版集合的默认动画模版。</p>
	*<p>注意：如果调用本方法前，还没有预加载动画使用的图集，请将atlas参数指定为对应的图集路径，否则会导致动画创建失败。</p>
	*<p>动画模版缓存池是以一定的内存开销来节省CPU开销，当相同的动画模版被多次使用时，相比于每次都创建新的动画模版，使用动画模版缓存池，只需创建一次，缓存之后多次复用，从而节省了动画模版创建的开销。</p>
	*<p>因为返回值为Animation对象本身，所以可以使用如下语法：ani.loadAnimation(...).loadAnimation(...).play(...);。</p>
	*@param url 动画文件路径。可由LayaAir IDE创建并发布。
	*@param loaded （可选）使用指定动画资源初始化动画完毕的回调。
	*@param atlas （可选）动画用到的图集地址（可选）。
	*@return 返回动画本身。
	*/
	__proto.loadAnimation=function(url,loaded,atlas){
		this._url=url;
		var _this_=this;
		if (!this._actionName)this._actionName="";
		if (!_this_._setFramesFromCache("")){
			if (!atlas || Loader.getAtlas(atlas)){
				this._loadAnimationData(url,loaded,atlas);
				}else {
				Laya.loader.load(atlas,Handler.create(this,this._loadAnimationData,[url,loaded,atlas]),null,/*laya.net.Loader.ATLAS*/"atlas")
			}
			}else {
			_this_._setFramesFromCache(this._actionName,true);
			this.index=0;
			if (loaded)loaded.run();
		}
		return this;
	}

	/**@private */
	__proto._loadAnimationData=function(url,loaded,atlas){
		var _$this=this;
		if (atlas && !Loader.getAtlas(atlas)){
			console.warn("atlas load fail:"+atlas);
			return;
		};
		var _this_=this;
		function onLoaded (loadUrl){
			if (!Loader.getRes(loadUrl))return;
			if (url===loadUrl){
				var tAniO;
				if (!Animation.framesMap[url+"#"]){
					var aniData=_this_._parseGraphicAnimation(Loader.getRes(url));
					if (!aniData)return;
					var aniList=aniData.animationList;
					var i=0,len=aniList.length;
					var defaultO;
					for (i=0;i < len;i++){
						tAniO=aniList[i];
						Animation.framesMap[url+"#"+tAniO.name]=tAniO;
						if (!defaultO)defaultO=tAniO;
					}
					if (defaultO){
						Animation.framesMap[url+"#"]=defaultO;
						_this_._setFramesFromCache(_$this._actionName,true);
						_$this.index=0;
					}
					_$this._checkResumePlaying();
					}else {
					_this_._setFramesFromCache(_$this._actionName,true);
					_$this.index=0;
					_$this._checkResumePlaying();
				}
				if (loaded)loaded.run();
			}
		}
		if (Loader.getRes(url))onLoaded(url);
		else Laya.loader.load(url,Handler.create(null,onLoaded,[url]),null,/*laya.net.Loader.JSON*/"json");
		Loader.clearRes(url);
	}

	/**@private */
	__proto._parseGraphicAnimation=function(animationData){
		return GraphicAnimation.parseAnimationData(animationData);
	}

	/**@private */
	__proto._parseGraphicAnimationByData=function(animationObject){
		return GraphicAnimation.parseAnimationByData(animationObject);
	}

	/**
	*当前动画的帧图像数组。本类中，每个帧图像是一个Graphics对象，而动画播放就是定时切换Graphics对象的过程。
	*/
	__getset(0,__proto,'frames',function(){
		return this._frames;
		},function(value){
		this._frames=value;
		if (value){
			this._count=value.length;
			if (this._isPlaying)this.play(this._index,this.loop,this._actionName);
			else this.index=this._index;
		}
	});

	/**
	*是否自动播放，默认为false。如果设置为true，则动画被创建并添加到舞台后自动播放。
	*/
	__getset(0,__proto,'autoPlay',null,function(value){
		if (value)this.play();
		else this.stop();
	});

	/**
	*<p>动画数据源。</p>
	*<p>类型如下：<br/>
	*1. LayaAir IDE动画文件路径：使用此类型需要预加载所需的图集资源，否则会创建失败，如果不想预加载或者需要创建完毕的回调，请使用loadAnimation(...)方法；<br/>
	*2. 图集路径：使用此类型创建的动画模版不会被缓存到动画模版缓存池中，如果需要缓存或者创建完毕的回调，请使用loadAtlas(...)方法；<br/>
	*3. 图片路径集合：使用此类型创建的动画模版不会被缓存到动画模版缓存池中，如果需要缓存，请使用loadImages(...)方法。</p>
	*@param value 数据源。比如：图集："xx/a1.atlas"；图片集合："a1.png,a2.png,a3.png"；LayaAir IDE动画"xx/a1.ani"。
	*/
	__getset(0,__proto,'source',null,function(value){
		if (value.indexOf(".ani")>-1)this.loadAnimation(value);
		else if (value.indexOf(".json")>-1 || value.indexOf("als")>-1 || value.indexOf("atlas")>-1)this.loadAtlas(value);
		else this.loadImages(value.split(","));
	});

	/**
	*设置自动播放的动画名称，在LayaAir IDE中可以创建的多个动画组成的动画集合，选择其中一个动画名称进行播放。
	*/
	__getset(0,__proto,'autoAnimation',null,function(value){
		this.play(0,true,value,false);
	});

	Animation.createFrames=function(url,name){
		var arr,i=0,n=0,g;
		if ((typeof url=='string')){
			var atlas=Loader.getAtlas(url);
			if (atlas && atlas.length){
				arr=[];
				for (i=0,n=atlas.length;i < n;i++){
					g=new RunDriver.createGraphics();
					g.drawTexture(Loader.getRes(atlas[i]),0,0);
					arr.push(g);
				}
			}
			}else if ((url instanceof Array)){
			arr=[];
			for (i=0,n=url.length;i < n;i++){
				g=new RunDriver.createGraphics();
				g.loadImage(url[i],0,0);
				arr.push(g);
			}
		}
		if (name)Animation.framesMap[name]=arr;
		return arr;
	}

	Animation.clearCache=function(key){
		var cache=Animation.framesMap;
		var val;
		var key2=key+"#";
		for (val in cache){
			if (val===key || val.indexOf(key2)==0){
				delete Animation.framesMap[val];
			}
		}
	}

	Animation.framesMap={};
	return Animation;
})(AnimationPlayerBase)


/**
*关键帧动画播放类。
*/
//class laya.display.FrameAnimation extends laya.display.AnimationPlayerBase
var FrameAnimation=(function(_super){
	function FrameAnimation(){
		/**
		*@private
		*id对象表
		*/
		this._targetDic=null;
		/**
		*@private
		*动画数据
		*/
		this._animationData=null;
		/**@private */
		this._animationNewFrames=null;
		FrameAnimation.__super.call(this);
		if (FrameAnimation._sortIndexFun==null){
			FrameAnimation._sortIndexFun=MathUtil.sortByKey("index",false,true);
		}
	}

	__class(FrameAnimation,'laya.display.FrameAnimation',_super);
	var __proto=FrameAnimation.prototype;
	/**
	*@private
	*初始化动画数据
	*@param targetDic 对象表
	*@param animationData 动画数据
	*
	*/
	__proto._setUp=function(targetDic,animationData){
		this._labels=null;
		this._animationNewFrames=null;
		this._targetDic=targetDic;
		this._animationData=animationData;
		this.interval=1000 / animationData.frameRate;
		if (animationData.parsed){
			this._count=animationData.count;
			this._labels=animationData.labels;
			this._animationNewFrames=animationData.animationNewFrames;
			}else {
			this._animationNewFrames=[];
			this._calculateDatas();
		}
		animationData.parsed=true;
		animationData.labels=this._labels;
		animationData.count=this._count;
		animationData.animationNewFrames=this._animationNewFrames;
	}

	/**@inheritDoc */
	__proto.clear=function(){
		_super.prototype.clear.call(this);
		this._targetDic=null;
		this._animationData=null;
	}

	/**@inheritDoc */
	__proto._displayToIndex=function(value){
		if (!this._animationData)return;
		if (value < 0)value=0;
		if (value > this._count)value=this._count;
		var nodes=this._animationData.nodes,i=0,len=nodes.length;
		for (i=0;i < len;i++){
			this._displayNodeToFrame(nodes[i],value);
		}
	}

	/**
	*@private
	*将节点设置到某一帧的状态
	*@param node 节点ID
	*@param frame
	*@param targetDic 节点表
	*
	*/
	__proto._displayNodeToFrame=function(node,frame,targetDic){
		if (!targetDic)targetDic=this._targetDic;
		var target=targetDic[node.target];
		if (!target){
			return;
		};
		var frames=node.frames,key,propFrames,value;
		var keys=node.keys,i=0,len=keys.length;
		for (i=0;i < len;i++){
			key=keys[i];
			propFrames=frames[key];
			if (propFrames.length > frame){
				value=propFrames[frame];
				}else {
				value=propFrames[propFrames.length-1];
			}
			target[key]=value;
		}
	}

	/**
	*@private
	*计算帧数据
	*
	*/
	__proto._calculateDatas=function(){
		if (!this._animationData)return;
		var nodes=this._animationData.nodes,i=0,len=nodes.length,tNode;
		this._count=0;
		for (i=0;i < len;i++){
			tNode=nodes[i];
			this._calculateNodeKeyFrames(tNode);
		}
		this._count+=1;
	}

	/**
	*@private
	*计算某个节点的帧数据
	*@param node
	*
	*/
	__proto._calculateNodeKeyFrames=function(node){
		var keyFrames=node.keyframes,key,tKeyFrames,target=node.target;
		if (!node.frames){
			node.frames={};
		}
		if (!node.keys){
			node.keys=[];
			}else {
			node.keys.length=0;
		}
		if (!node.initValues){
			node.initValues={};
		}
		for (key in keyFrames){
			tKeyFrames=keyFrames[key];
			if (!node.frames[key]){
				node.frames[key]=[];
			}
			if (this._targetDic && this._targetDic[target]){
				node.initValues[key]=this._targetDic[target][key];
			}
			tKeyFrames.sort(FrameAnimation._sortIndexFun);
			node.keys.push(key);
			this._calculateNodePropFrames(tKeyFrames,node.frames[key],key,target);
		}
	}

	/**
	*将动画控制对象还原到动画控制之前的状态
	*/
	__proto.resetToInitState=function(){
		if (!this._targetDic)return;
		if (!this._animationData)return;
		var nodes=this._animationData.nodes,i=0,len=nodes.length;
		var tNode;
		var initValues;
		for (i=0;i < len;i++){
			tNode=nodes[i];
			initValues=tNode.initValues;
			if (!initValues)continue ;
			var target=this._targetDic[tNode.target];
			if (!target)continue ;
			var key;
			for (key in initValues){
				target[key]=initValues[key];
			}
		}
	}

	/**
	*@private
	*计算节点某个属性的帧数据
	*@param keyframes
	*@param frames
	*@param key
	*@param target
	*
	*/
	__proto._calculateNodePropFrames=function(keyframes,frames,key,target){
		var i=0,len=keyframes.length-1;
		frames.length=keyframes[len].index+1;
		for (i=0;i < len;i++){
			this._dealKeyFrame(keyframes[i]);
			this._calculateFrameValues(keyframes[i],keyframes[i+1],frames);
		}
		if (len==0){
			frames[0]=keyframes[0].value;
			if (this._animationNewFrames)
				this._animationNewFrames[keyframes[0].index]=true;
		}
		this._dealKeyFrame(keyframes[i]);
	}

	/**
	*@private
	*
	*/
	__proto._dealKeyFrame=function(keyFrame){
		if (keyFrame.label && keyFrame.label !="")this.addLabel(keyFrame.label,keyFrame.index);
	}

	/**
	*@private
	*计算两个关键帧直接的帧数据
	*@param startFrame
	*@param endFrame
	*@param result
	*
	*/
	__proto._calculateFrameValues=function(startFrame,endFrame,result){
		var i=0,easeFun;
		var start=startFrame.index,end=endFrame.index;
		var startValue=startFrame.value;
		var dValue=endFrame.value-startFrame.value;
		var dLen=end-start;
		if (end > this._count)this._count=end;
		if (startFrame.tween){
			easeFun=Ease[startFrame.tweenMethod];
			if (easeFun==null){
				easeFun=Ease.linearNone;
			}
			for (i=start;i < end;i++){
				result[i]=easeFun(i-start,startValue,dValue,dLen);
				if (this._animationNewFrames){
					this._animationNewFrames[i]=true;
				}
			}
			}else {
			for (i=start;i < end;i++){
				result[i]=startValue;
			}
		}
		if (this._animationNewFrames){
			this._animationNewFrames[startFrame.index]=true;
			this._animationNewFrames[endFrame.index]=true;
		}
		result[endFrame.index]=endFrame.value;
	}

	FrameAnimation._sortIndexFun=null;
	return FrameAnimation;
})(AnimationPlayerBase)


/**
*<p><code>Input</code> 类用于创建显示对象以显示和输入文本。</p>
*<p>Input 类封装了原生的文本输入框，由于不同浏览器的差异，会导致此对象的默认文本的位置与用户点击输入时的文本的位置有少许的偏差。</p>
*/
//class laya.display.Input extends laya.display.Text
var Input=(function(_super){
	function Input(){
		/**@private */
		this._focus=false;
		/**@private */
		this._multiline=false;
		/**@private */
		this._editable=true;
		/**@private */
		this._restrictPattern=null;
		this._type="text";
		/**输入提示符。*/
		this._prompt='';
		/**输入提示符颜色。*/
		this._promptColor="#A9A9A9";
		this._originColor="#000000";
		this._content='';
		Input.__super.call(this);
		this._maxChars=1E5;
		this._width=100;
		this._height=20;
		this.multiline=false;
		this.overflow=Text.SCROLL;
		this.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this._onMouseDown);
		this.on(/*laya.events.Event.UNDISPLAY*/"undisplay",this,this._onUnDisplay);
	}

	__class(Input,'laya.display.Input',_super);
	var __proto=Input.prototype;
	/**
	*设置光标位置和选取字符。
	*@param startIndex 光标起始位置。
	*@param endIndex 光标结束位置。
	*/
	__proto.setSelection=function(startIndex,endIndex){
		this.focus=true;
		laya.display.Input.inputElement.selectionStart=startIndex;
		laya.display.Input.inputElement.selectionEnd=endIndex;
	}

	__proto._onUnDisplay=function(e){
		this.focus=false;
	}

	__proto._onMouseDown=function(e){
		this.focus=true;
	}

	/**
	*在输入期间，如果 Input 实例的位置改变，调用_syncInputTransform同步输入框的位置。
	*/
	__proto._syncInputTransform=function(){
		var inputElement=this.nativeInput;
		var transform=Utils.getTransformRelativeToWindow(this,this.padding[3],this.padding[0]);
		var inputWid=this._width-this.padding[1]-this.padding[3];
		var inputHei=this._height-this.padding[0]-this.padding[2];
		if (Render.isConchApp){
			inputElement.setScale(transform.scaleX,transform.scaleY);
			inputElement.setSize(inputWid,inputHei);
			inputElement.setPos(transform.x,transform.y);
			}else {
			Input.inputContainer.style.transform=Input.inputContainer.style.webkitTransform="scale("+transform.scaleX+","+transform.scaleY+") rotate("+(Laya.stage.canvasDegree)+"deg)";
			inputElement.style.width=inputWid+'px';
			inputElement.style.height=inputHei+'px';
			Input.inputContainer.style.left=transform.x+'px';
			Input.inputContainer.style.top=transform.y+'px';
		}
	}

	/**选中当前实例的所有文本。*/
	__proto.select=function(){
		this.nativeInput.select();
	}

	__proto._setInputMethod=function(){
		Input.input.parentElement && (Input.inputContainer.removeChild(Input.input));
		Input.area.parentElement && (Input.inputContainer.removeChild(Input.area));
		Input.inputElement=(this._multiline ? Input.area :Input.input);
		Input.inputContainer.appendChild(Input.inputElement);
		if (Text.RightToLeft){
			Input.inputElement.style.direction="rtl";
		}
	}

	__proto._focusIn=function(){
		laya.display.Input.isInputting=true;
		var input=this.nativeInput;
		this._focus=true;
		var cssStyle=input.style;
		cssStyle.whiteSpace=(this.wordWrap ? "pre-wrap" :"nowrap");
		this._setPromptColor();
		input.readOnly=!this._editable;
		if (Render.isConchApp){
			input.setType(this._type);
			input.setForbidEdit(!this._editable);
		}
		input.maxLength=this._maxChars;
		var padding=this.padding;
		input.type=this._type;
		input.value=this._content;
		input.placeholder=this._prompt;
		Laya.stage.off(/*laya.events.Event.KEY_DOWN*/"keydown",this,this._onKeyDown);
		Laya.stage.on(/*laya.events.Event.KEY_DOWN*/"keydown",this,this._onKeyDown);
		Laya.stage.focus=this;
		this.event(/*laya.events.Event.FOCUS*/"focus");
		if (Browser.onPC)input.focus();
		if(!Browser.onMiniGame){
			var temp=this._text;
			this._text=null;
		}
		this.typeset();
		input.setColor(this._originColor);
		input.setFontSize(this.fontSize);
		input.setFontFace(Browser.onIPhone ? (Text._fontFamilyMap[this.font] || this.font):this.font);
		if (Render.isConchApp){
			input.setMultiAble && input.setMultiAble(this._multiline);
		}
		cssStyle.lineHeight=(this.leading+this.fontSize)+"px";
		cssStyle.fontStyle=(this.italic ? "italic" :"normal");
		cssStyle.fontWeight=(this.bold ? "bold" :"normal");
		cssStyle.textAlign=this.align;
		cssStyle.padding="0 0";
		this._syncInputTransform();
		if (!Render.isConchApp && Browser.onPC)
			Laya.timer.frameLoop(1,this,this._syncInputTransform);
	}

	// 设置DOM输入框提示符颜色。
	__proto._setPromptColor=function(){
		Input.promptStyleDOM=Browser.getElementById("promptStyle");
		if (!Input.promptStyleDOM){
			Input.promptStyleDOM=Browser.createElement("style");
			Input.promptStyleDOM.setAttribute("id","promptStyle");
			Browser.document.head.appendChild(Input.promptStyleDOM);
		}
		Input.promptStyleDOM.innerText="input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {"+"color:"+this._promptColor+"}"+"input:-moz-placeholder, textarea:-moz-placeholder {"+"color:"+this._promptColor+"}"+"input::-moz-placeholder, textarea::-moz-placeholder {"+"color:"+this._promptColor+"}"+"input:-ms-input-placeholder, textarea:-ms-input-placeholder {"+"color:"+this._promptColor+"}";
	}

	/**@private */
	__proto._focusOut=function(){
		laya.display.Input.isInputting=false;
		this._focus=false;
		this._text=null;
		this._content=this.nativeInput.value;
		if (!this._content){
			Laya.superSet(Text,this,'text',this._prompt);
			Laya.superSet(Text,this,'color',this._promptColor);
			}else {
			Laya.superSet(Text,this,'text',this._content);
			Laya.superSet(Text,this,'color',this._originColor);
		}
		Laya.stage.off(/*laya.events.Event.KEY_DOWN*/"keydown",this,this._onKeyDown);
		Laya.stage.focus=null;
		this.event(/*laya.events.Event.BLUR*/"blur");
		if (Render.isConchApp)this.nativeInput.blur();
		Browser.onPC && Laya.timer.clear(this,this._syncInputTransform);
	}

	/**@private */
	__proto._onKeyDown=function(e){
		if (e.keyCode===13){
			if (Browser.onMobile && !this._multiline)
				this.focus=false;
			this.event(/*laya.events.Event.ENTER*/"enter");
		}
	}

	__proto.changeText=function(text){
		this._content=text;
		if (this._focus){
			this.nativeInput.value=text || '';
			this.event(/*laya.events.Event.CHANGE*/"change");
		}else
		_super.prototype.changeText.call(this,text);
	}

	/**@inheritDoc */
	__getset(0,__proto,'color',_super.prototype._$get_color,function(value){
		if (this._focus)
			this.nativeInput.setColor(value);
		Laya.superSet(Text,this,'color',this._content?value:this._promptColor);
		this._originColor=value;
	});

	//[Deprecated]
	__getset(0,__proto,'inputElementYAdjuster',function(){
		console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementYAdjuster已弃用。");
		return 0;
		},function(value){
		console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementYAdjuster已弃用。");
	});

	/**表示是否是多行输入框。*/
	__getset(0,__proto,'multiline',function(){
		return this._multiline;
		},function(value){
		this._multiline=value;
		this.valign=value ? "top" :"middle";
	});

	/**
	*<p>字符数量限制，默认为10000。</p>
	*<p>设置字符数量限制时，小于等于0的值将会限制字符数量为10000。</p>
	*/
	__getset(0,__proto,'maxChars',function(){
		return this._maxChars;
		},function(value){
		if (value <=0)
			value=1E5;
		this._maxChars=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'text',function(){
		if (this._focus)
			return this.nativeInput.value;
		else
		return this._content || "";
		},function(value){
		Laya.superSet(Text,this,'color',this._originColor);
		value+='';
		if (this._focus){
			this.nativeInput.value=value || '';
			this.event(/*laya.events.Event.CHANGE*/"change");
			}else {
			if (!this._multiline)
				value=value.replace(/\r?\n/g,'');
			this._content=value;
			if (value)
				Laya.superSet(Text,this,'text',value);
			else {
				Laya.superSet(Text,this,'text',this._prompt);
				Laya.superSet(Text,this,'color',this.promptColor);
			}
		}
	});

	/**
	*获取对输入框的引用实例。
	*/
	__getset(0,__proto,'nativeInput',function(){
		return this._multiline ? Input.area :Input.input;
	});

	/**
	*设置输入提示符。
	*/
	__getset(0,__proto,'prompt',function(){
		return this._prompt;
		},function(value){
		if (!this._text && value)
			Laya.superSet(Text,this,'color',this._promptColor);
		this.promptColor=this._promptColor;
		if (this._text)
			Laya.superSet(Text,this,'text',(this._text==this._prompt)?value:this._text);
		else
		Laya.superSet(Text,this,'text',value);
		this._prompt=Text.langPacks && Text.langPacks[value] ? Text.langPacks[value] :value;
	});

	// 因此 调用focus接口是无法都在移动平台立刻弹出键盘的
	/**
	*表示焦点是否在此实例上。
	*/
	__getset(0,__proto,'focus',function(){
		return this._focus;
		},function(value){
		var input=this.nativeInput;
		if (this._focus!==value){
			if (value){
				if (input.target){
					input.target._focusOut();
					}else {
					this._setInputMethod();
				}
				input.target=this;
				this._focusIn();
				}else {
				input.target=null;
				this._focusOut();
				Browser.document.body.scrollTop=0;
				input.blur();
				if (Render.isConchApp){
					input.setPos(-10000,-10000);
				}else if (Input.inputContainer.contains(input))
				Input.inputContainer.removeChild(input);
			}
		}
	});

	/**限制输入的字符。*/
	__getset(0,__proto,'restrict',function(){
		if (this._restrictPattern){
			return this._restrictPattern.source;
		}
		return "";
		},function(pattern){
		if (pattern){
			pattern="[^"+pattern+"]";
			if (pattern.indexOf("^^")>-1)
				pattern=pattern.replace("^^","");
			this._restrictPattern=new RegExp(pattern,"g");
		}else
		this._restrictPattern=null;
	});

	/**
	*是否可编辑。
	*/
	__getset(0,__proto,'editable',function(){
		return this._editable;
		},function(value){
		this._editable=value;
		if (Render.isConchApp){
			Input.input.setForbidEdit(!value);
		}
	});

	/**
	*设置输入提示符颜色。
	*/
	__getset(0,__proto,'promptColor',function(){
		return this._promptColor;
		},function(value){
		this._promptColor=value;
		if (!this._content)Laya.superSet(Text,this,'color',value);
	});

	/**
	*<p>输入框类型为Input静态常量之一。</p>
	*<ul>
	*<li>TYPE_TEXT</li>
	*<li>TYPE_PASSWORD</li>
	*<li>TYPE_EMAIL</li>
	*<li>TYPE_URL</li>
	*<li>TYPE_NUMBER</li>
	*<li>TYPE_RANGE</li>
	*<li>TYPE_DATE</li>
	*<li>TYPE_MONTH</li>
	*<li>TYPE_WEEK</li>
	*<li>TYPE_TIME</li>
	*<li>TYPE_DATE_TIME</li>
	*<li>TYPE_DATE_TIME_LOCAL</li>
	*</ul>
	*<p>平台兼容性参见http://www.w3school.com.cn/html5/html_5_form_input_types.asp。</p>
	*/
	__getset(0,__proto,'type',function(){
		return this._type;
		},function(value){
		if (value=="password")
			this._getCSSStyle().password=true;
		else
		this._getCSSStyle().password=false;
		this._type=value;
		if (Render.isConchApp){
			this.nativeInput.setType(value);
		}
	});

	/**
	*<p>原生输入框 X 轴调整值，用来调整输入框坐标。</p>
	*<p>由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementXAdjuster已弃用。</p>
	*@deprecated
	*/
	__getset(0,__proto,'inputElementXAdjuster',function(){
		console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementXAdjuster已弃用。");
		return 0;
		},function(value){
		console.warn("deprecated: 由于即使设置了该值，在各平台和浏览器之间也不一定一致，inputElementXAdjuster已弃用。");
	});

	//[Deprecated(replacement="Input.type")]
	__getset(0,__proto,'asPassword',function(){
		return this._getCSSStyle().password;
		},function(value){
		this._getCSSStyle().password=value;
		this._type=/*CLASS CONST:laya.display.Input.TYPE_PASSWORD*/"password";
		console.warn("deprecated: 使用type=\"password\"替代设置asPassword, asPassword将在下次重大更新时删去");
		this.isChanged=true;
	});

	Input.__init__=function(){
		Input._createInputElement();
		if (Browser.onMobile)
			Render.canvas.addEventListener(Input.IOS_IFRAME ?(Browser.onMiniGame ? "touchend" :"click"):"touchend",Input._popupInputMethod);
	}

	Input._popupInputMethod=function(e){
		if (!laya.display.Input.isInputting)return;
		var input=laya.display.Input.inputElement;
		input.focus();
	}

	Input._createInputElement=function(){
		Input._initInput(Input.area=Browser.createElement("textarea"));
		Input._initInput(Input.input=Browser.createElement("input"));
		Input.inputContainer=Browser.createElement("div");
		Input.inputContainer.style.position="absolute";
		Input.inputContainer.style.zIndex=1E5;
		Browser.container.appendChild(Input.inputContainer);
		Input.inputContainer.setPos=function (x,y){Input.inputContainer.style.left=x+'px';Input.inputContainer.style.top=y+'px';};
	}

	Input._initInput=function(input){
		var style=input.style;
		style.cssText="position:absolute;overflow:hidden;resize:none;transform-origin:0 0;-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0;";
		style.resize='none';
		style.backgroundColor='transparent';
		style.border='none';
		style.outline='none';
		style.zIndex=1;
		input.addEventListener('input',Input._processInputting);
		input.addEventListener('mousemove',Input._stopEvent);
		input.addEventListener('mousedown',Input._stopEvent);
		input.addEventListener('touchmove',Input._stopEvent);
		input.setFontFace=function (fontFace){input.style.fontFamily=fontFace;};
		if(!Render.isConchApp){
			input.setColor=function (color){input.style.color=color;};
			input.setFontSize=function (fontSize){input.style.fontSize=fontSize+'px';};
		}
	}

	Input._processInputting=function(e){
		var input=laya.display.Input.inputElement.target;
		if (!input)return;
		var value=laya.display.Input.inputElement.value;
		if (input._restrictPattern){
			value=value.replace(/\u2006|\x27/g,"");
			if (input._restrictPattern.test(value)){
				value=value.replace(input._restrictPattern,"");
				laya.display.Input.inputElement.value=value;
			}
		}
		input._text=value;
		input.event(/*laya.events.Event.INPUT*/"input");
	}

	Input._stopEvent=function(e){
		if (e.type=='touchmove')
			e.preventDefault();
		e.stopPropagation && e.stopPropagation();
	}

	Input.TYPE_TEXT="text";
	Input.TYPE_PASSWORD="password";
	Input.TYPE_EMAIL="email";
	Input.TYPE_URL="url";
	Input.TYPE_NUMBER="number";
	Input.TYPE_RANGE="range";
	Input.TYPE_DATE="date";
	Input.TYPE_MONTH="month";
	Input.TYPE_WEEK="week";
	Input.TYPE_TIME="time";
	Input.TYPE_DATE_TIME="datetime";
	Input.TYPE_DATE_TIME_LOCAL="datetime-local";
	Input.TYPE_SEARCH="search";
	Input.input=null;
	Input.area=null;
	Input.inputElement=null;
	Input.inputContainer=null;
	Input.confirmButton=null;
	Input.promptStyleDOM=null;
	Input.inputHeight=45;
	Input.isInputting=false;
	Input.stageMatrix=null;
	__static(Input,
	['IOS_IFRAME',function(){return this.IOS_IFRAME=(Browser.onIOS && Browser.window.top !=Browser.window.self);}
	]);
	return Input;
})(Text)


/**
*@private
*<p> <code>HTMLImage</code> 用于创建 HTML Image 元素。</p>
*<p>请使用 <code>HTMLImage.create()<code>获取新实例，不要直接使用 <code>new HTMLImage<code> 。</p>
*/
//class laya.resource.HTMLImage extends laya.resource.FileBitmap
var HTMLImage=(function(_super){
	function HTMLImage(src,def){
		/**异步加载锁*/
		this._recreateLock=false;
		/**异步加载完成后是否需要释放（有可能在恢复过程中,再次被释放，用此变量做标记）*/
		this._needReleaseAgain=false;
		this._enableMerageInAtlas=true;
		HTMLImage.__super.call(this);
		this._init_(src,def);
	}

	__class(HTMLImage,'laya.resource.HTMLImage',_super);
	var __proto=HTMLImage.prototype;
	__proto._init_=function(src,def){
		this._src=src;
		this._source=new Browser.window.Image();
		if (def){
			def.onload && (this.onload=def.onload);
			def.onerror && (this.onerror=def.onerror);
			def.onCreate && def.onCreate(this);
		}
		if (src.indexOf("data:image")!=0)this._source.crossOrigin="";
		(src)&& (this._source.src=src);
	}

	/**
	*@inheritDoc
	*/
	__proto.recreateResource=function(){
		var _$this=this;
		if (this._src==="")
			throw new Error("src no null！");
		this._needReleaseAgain=false;
		if (!this._source){
			this._recreateLock=true;
			var _this=this;
			this._source=new Browser.window.Image();
			this._source.crossOrigin="";
			this._source.onload=function (){
				if (_this._needReleaseAgain){
					_this._needReleaseAgain=false;
					_this._source.onload=null;
					_this._source=null;
					return;
				}
				_this._source.onload=null;
				_this.memorySize=_$this._w *_$this._h *4;
				_this._recreateLock=false;
				_this.completeCreate();
			};
			this._source.src=this._src;
			}else {
			if (this._recreateLock)
				return;
			this.memorySize=this._w *this._h *4;
			this._recreateLock=false;
			this.completeCreate();
		}
	}

	/**
	*@inheritDoc
	*/
	__proto.disposeResource=function(){
		if (this._recreateLock)
			this._needReleaseAgain=true;
		(this._source)&& (this._source=null,this.memorySize=0);
	}

	/***调整尺寸。*/
	__proto.onresize=function(){
		this._w=this._source.width;
		this._h=this._source.height;
	}

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'onload',null,function(value){
		var _$this=this;
		this._onload=value;
		this._source && (this._source.onload=this._onload !=null ? (function(){
			_$this.onresize();
			_$this._onload();
		}):null);
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'onerror',null,function(value){
		var _$this=this;
		this._onerror=value;
		this._source && (this._source.onerror=this._onerror !=null ? (function(){
			_$this._onerror()
		}):null);
	});

	__getset(0,__proto,'enableMerageInAtlas',function(){
		return this._enableMerageInAtlas;
		},function(value){
		this._enableMerageInAtlas=value;
		if (Render.isConchApp){
			if (this._source)this._source.enableMerageInAtlas=value;
		}
	});

	HTMLImage.create=function(src,def){
		return new HTMLImage(src,def);
	}

	return HTMLImage;
})(FileBitmap)


/**
*<p> 动效模板。用于为指定目标对象添加动画效果。每个动效有唯一的目标对象，而同一个对象可以添加多个动效。 当一个动效开始播放时，其他动效会自动停止播放。</p>
*<p> 可以通过LayaAir IDE创建。 </p>
*/
//class laya.display.EffectAnimation extends laya.display.FrameAnimation
var EffectAnimation=(function(_super){
	function EffectAnimation(){
		/**@private */
		this._target=null;
		/**@private */
		this._playEvents=null;
		/**@private */
		this._initData={};
		/**@private */
		this._aniKeys=null;
		/**@private */
		this._effectClass=null;
		EffectAnimation.__super.call(this);
	}

	__class(EffectAnimation,'laya.display.EffectAnimation',_super);
	var __proto=EffectAnimation.prototype;
	/**@private */
	__proto._onOtherBegin=function(effect){
		if (effect==this)
			return;
		this.stop();
	}

	/**@private */
	__proto.addEvent=function(){
		if (!this._target || !this._playEvents)
			return;
		this._setControlNode(this._target);
		this._target.on(this._playEvents,this,this._onPlayAction);
	}

	/**@private */
	__proto._onPlayAction=function(){
		this.play(0,false);
	}

	__proto.play=function(start,loop,name,showWarn){
		(start===void 0)&& (start=0);
		(loop===void 0)&& (loop=true);
		(name===void 0)&& (name="");
		(showWarn===void 0)&& (showWarn=true);
		if (!this._target)
			return;
		this._target.event("effectanimationbegin",[this]);
		this._recordInitData();
		laya.display.AnimationPlayerBase.prototype.play.call(this,start,loop,name,showWarn);
	}

	/**@private */
	__proto._recordInitData=function(){
		if (!this._aniKeys)
			return;
		var i=0,len=0;
		len=this._aniKeys.length;
		var key;
		for (i=0;i < len;i++){
			key=this._aniKeys[i];
			this._initData[key]=this._target[key];
		}
	}

	/**@private */
	__proto._displayToIndex=function(value){
		if (!this._animationData)
			return;
		if (value < 0)
			value=0;
		if (value > this._count)
			value=this._count;
		var nodes=this._animationData.nodes,i=0,len=nodes.length;
		len=len > 1 ? 1 :len;
		for (i=0;i < len;i++){
			this._displayNodeToFrame(nodes[i],value);
		}
	}

	/**@private */
	__proto._displayNodeToFrame=function(node,frame,targetDic){
		if (!this._target)
			return;
		var target;
		target=this._target;
		var frames=node.frames,key,propFrames,value;
		var keys=node.keys,i=0,len=keys.length;
		var secondFrames;
		secondFrames=node.secondFrames;
		var tSecondFrame=0;
		var easeFun;
		var tKeyFrames;
		var startFrame;
		var endFrame;
		for (i=0;i < len;i++){
			key=keys[i];
			propFrames=frames[key];
			tSecondFrame=secondFrames[key];
			if (tSecondFrame==-1){
				value=this._initData[key];
				}else {
				if (frame < tSecondFrame){
					tKeyFrames=node.keyframes[key];
					startFrame=tKeyFrames[0];
					if (startFrame.tween){
						easeFun=Ease[startFrame.tweenMethod];
						if (easeFun==null){
							easeFun=Ease.linearNone;
						}
						endFrame=tKeyFrames[1];
						value=easeFun(frame,this._initData[key],endFrame.value-this._initData[key],endFrame.index);
						}else {
						value=this._initData[key];
					}
					}else {
					if (propFrames.length > frame){
						value=propFrames[frame];
						}else {
						value=propFrames[propFrames.length-1];
					}
				}
			}
			target[key]=value;
		}
	}

	/**@private */
	__proto._calculateNodeKeyFrames=function(node){
		_super.prototype._calculateNodeKeyFrames.call(this,node);
		var keyFrames=node.keyframes,key,tKeyFrames,target=node.target;
		var secondFrames;
		secondFrames={};
		node.secondFrames=secondFrames;
		for (key in keyFrames){
			tKeyFrames=keyFrames[key];
			if (tKeyFrames.length <=1){
				secondFrames[key]=-1;
				}else {
				secondFrames[key]=tKeyFrames[1].index;
			}
		}
	}

	/**
	*本实例的目标对象。通过本实例控制目标对象的属性变化。
	*@param v 指定的目标对象。
	*/
	__getset(0,__proto,'target',function(){
		return this._target;
		},function(v){
		if (this._target){
			this._target.off("effectanimationbegin",this,this._onOtherBegin);
		}
		this._target=v;
		if (this._target){
			this._target.on("effectanimationbegin",this,this._onOtherBegin);
		}
		this.addEvent();
	});

	/**
	*设置开始播放的事件。本实例会侦听目标对象的指定事件，触发后播放相应动画效果。
	*@param event
	*/
	__getset(0,__proto,'playEvent',null,function(event){
		this._playEvents=event;
		if (!event)
			return;
		this.addEvent();
	});

	/**
	*设置动画数据。
	*@param uiData
	*/
	__getset(0,__proto,'effectData',null,function(uiData){
		if (uiData){
			var aniData;
			aniData=uiData["animations"];
			if (aniData && aniData[0]){
				this._setUp({},aniData[0]);
				if (aniData[0].nodes && aniData[0].nodes[0]){
					this._aniKeys=aniData[0].nodes[0].keys;
				}
			}
		}
	});

	/**
	*设置提供数据的类。
	*@param classStr 类路径
	*/
	__getset(0,__proto,'effectClass',null,function(classStr){
		this._effectClass=ClassUtils.getClass(classStr);
		if (this._effectClass){
			var uiData;
			uiData=this._effectClass["uiView"];
			if (uiData){
				var aniData;
				aniData=uiData["animations"];
				if (aniData && aniData[0]){
					this._setUp({},aniData[0]);
					if (aniData[0].nodes && aniData[0].nodes[0]){
						this._aniKeys=aniData[0].nodes[0].keys;
					}
				}
			}
		}
	});

	EffectAnimation.EffectAnimationBegin="effectanimationbegin";
	return EffectAnimation;
})(FrameAnimation)


/**
*@private
*/
//class laya.utils.GraphicAnimation extends laya.display.FrameAnimation
var GraphicAnimation=(function(_super){
	var GraphicNode;
	function GraphicAnimation(){
		/**
		*@private
		*/
		this.animationList=null;
		/**
		*@private
		*/
		this.animationDic=null;
		/**
		*@private
		*/
		this._nodeList=null;
		/**
		*@private
		*/
		this._nodeDefaultProps=null;
		/**
		*@private
		*/
		this._gList=null;
		/**
		*@private
		*/
		this._nodeIDAniDic={};
		this._rootNode=null;
		this._nodeGDic=null;
		GraphicAnimation.__super.call(this);
	}

	__class(GraphicAnimation,'laya.utils.GraphicAnimation',_super);
	var __proto=GraphicAnimation.prototype;
	/**
	*@private
	*/
	__proto._parseNodeList=function(uiView){
		if (!this._nodeList){
			this._nodeList=[];
		}
		this._nodeDefaultProps[uiView.compId]=uiView.props;
		if (uiView.compId)
			this._nodeList.push(uiView.compId);
		var childs=uiView.child;
		if (childs){
			var i=0,len=childs.length;
			for (i=0;i < len;i++){
				this._parseNodeList(childs[i]);
			}
		}
	}

	/**
	*@private
	*/
	__proto._calGraphicData=function(aniData){
		this._setUp(null,aniData);
		this._createGraphicData();
		if (this._nodeIDAniDic){
			var key;
			for (key in this._nodeIDAniDic){
				this._nodeIDAniDic[key]=null;
			}
		}
	}

	/**
	*@private
	*/
	__proto._createGraphicData=function(){
		var gList=[];
		var i=0,len=this.count;
		var animationDataNew=this._animationNewFrames;
		if (!animationDataNew)animationDataNew=[];
		var preGraphic;
		for (i=0;i < len;i++){
			if (animationDataNew[i] || !preGraphic){
				preGraphic=this._createFrameGraphic(i);
			}
			gList.push(preGraphic);
		}
		this._gList=gList;
	}

	/**
	*@private
	*/
	__proto._createFrameGraphic=function(frame){
		var g=RunDriver.createGraphics();
		if (!GraphicAnimation._rootMatrix)
			GraphicAnimation._rootMatrix=new Matrix();
		this._updateNodeGraphic(this._rootNode,frame,GraphicAnimation._rootMatrix,g);
		return g;
	}

	__proto._updateNodeGraphic=function(node,frame,parentTransfrom,g,alpha){
		(alpha===void 0)&& (alpha=1);
		var tNodeG;
		tNodeG=this._nodeGDic[node.compId]=this._getNodeGraphicData(node.compId,frame,this._nodeGDic[node.compId]);
		var tGraphicAlpha=tNodeG.alpha *alpha;
		if (tGraphicAlpha < 0.01)return;
		if (!tNodeG.resultTransform){
			tNodeG.resultTransform=Matrix.create();
		};
		var tResultTransform;
		tResultTransform=tNodeG.resultTransform;
		Matrix.mul(tNodeG.transform,parentTransfrom,tResultTransform);
		var tTex;
		if (tNodeG.skin){
			tTex=this._getTextureByUrl(tNodeG.skin);
			if (tTex){
				if (tResultTransform._checkTransform()){
					g.drawTexture(tTex,0,0,tNodeG.width,tNodeG.height,tResultTransform,tGraphicAlpha);
					tNodeG.resultTransform=null;
					}else {
					g.drawTexture(tTex,tResultTransform.tx,tResultTransform.ty,tNodeG.width,tNodeG.height,null,tGraphicAlpha);
				}
			}
		};
		var childs;
		childs=node.child;
		if (!childs)
			return;
		var i=0,len=0;
		len=childs.length;
		for (i=0;i < len;i++){
			this._updateNodeGraphic(childs[i],frame,tResultTransform,g,tGraphicAlpha);
		}
	}

	__proto._updateNoChilds=function(tNodeG,g){
		if (!tNodeG.skin)
			return;
		var tTex=this._getTextureByUrl(tNodeG.skin);
		if (!tTex)
			return;
		var tTransform=tNodeG.transform;
		tTransform._checkTransform();
		var onlyTranslate=false;
		onlyTranslate=!tTransform.bTransform;
		if (!onlyTranslate){
			g.drawTexture(tTex,0,0,tNodeG.width,tNodeG.height,tTransform.clone(),tNodeG.alpha);
			}else {
			g.drawTexture(tTex,tTransform.tx,tTransform.ty,tNodeG.width,tNodeG.height,null,tNodeG.alpha);
		}
	}

	__proto._updateNodeGraphic2=function(node,frame,g){
		var tNodeG;
		tNodeG=this._nodeGDic[node.compId]=this._getNodeGraphicData(node.compId,frame,this._nodeGDic[node.compId]);
		if (!node.child){
			this._updateNoChilds(tNodeG,g);
			return;
		};
		var tTransform=tNodeG.transform;
		tTransform._checkTransform();
		var onlyTranslate=false;
		onlyTranslate=!tTransform.bTransform;
		var hasTrans=false;
		hasTrans=onlyTranslate && (tTransform.tx !=0 || tTransform.ty !=0);
		var ifSave=false;
		ifSave=(tTransform.bTransform)|| tNodeG.alpha !=1;
		if (ifSave){
			g.save();
		}
		if (tNodeG.alpha !=1){
			g.alpha(tNodeG.alpha);
		}
		if (!onlyTranslate){
			g.transform(tTransform.clone());
			}else if (hasTrans){
			g.translate(tTransform.tx,tTransform.ty);
		};
		var childs;
		childs=node.child;
		var tTex;
		if (tNodeG.skin){
			tTex=this._getTextureByUrl(tNodeG.skin);
			if (tTex){
				g.drawTexture(tTex,0,0,tNodeG.width,tNodeG.height);
			}
		}
		if (childs){
			var i=0,len=0;
			len=childs.length;
			for (i=0;i < len;i++){
				this._updateNodeGraphic2(childs[i],frame,g);
			}
		}
		if (ifSave){
			g.restore();
			}else {
			if (!onlyTranslate){
				g.transform(tTransform.clone().invert());
				}else if (hasTrans){
				g.translate(-tTransform.tx,-tTransform.ty);
			}
		}
	}

	/**
	*@private
	*/
	__proto._calculateNodeKeyFrames=function(node){
		_super.prototype._calculateNodeKeyFrames.call(this,node);
		this._nodeIDAniDic[node.target]=node;
	}

	/**
	*@private
	*/
	__proto.getNodeDataByID=function(nodeID){
		return this._nodeIDAniDic[nodeID];
	}

	/**
	*@private
	*/
	__proto._getParams=function(obj,params,frame,obj2){
		var rst=GraphicAnimation._temParam;
		rst.length=params.length;
		var i=0,len=params.length;
		for (i=0;i < len;i++){
			rst[i]=this._getObjVar(obj,params[i][0],frame,params[i][1],obj2);
		}
		return rst;
	}

	/**
	*@private
	*/
	__proto._getObjVar=function(obj,key,frame,noValue,obj2){
		if (obj.hasOwnProperty(key)){
			var vArr=obj[key];
			if (frame >=vArr.length)
				frame=vArr.length-1;
			return obj[key][frame];
		}
		if (obj2.hasOwnProperty(key)){
			return obj2[key];
		}
		return noValue;
	}

	__proto._getNodeGraphicData=function(nodeID,frame,rst){
		if (!rst)
			rst=GraphicNode.create();
		if (!rst.transform){
			rst.transform=Matrix.create();
			}else{
			rst.transform.identity();
		};
		var node=this.getNodeDataByID(nodeID);
		if (!node)
			return rst;
		var frameData=node.frames;
		var params=this._getParams(frameData,GraphicAnimation._drawTextureCmd,frame,this._nodeDefaultProps[nodeID]);
		var url=params[0];
		var width=NaN,height=NaN;
		var px=params[5],py=params[6];
		var aX=params[13],aY=params[14];
		var sx=params[7],sy=params[8];
		var rotate=params[9];
		var skewX=params[11],skewY=params[12]
		width=params[3];
		height=params[4];
		if (width==0 || height==0)url=null;
		if (width==-1)width=0;
		if (height==-1)height=0;
		var tex;
		rst.skin=url;
		rst.width=width;
		rst.height=height;
		if (url){
			tex=this._getTextureByUrl(url);
			if (tex){
				if (!width)
					width=tex.sourceWidth;
				if (!height)
					height=tex.sourceHeight;
				}else {
				console.warn("lost skin:",url,",you may load pics first");
			}
		}
		rst.alpha=params[10];
		var m;
		m=rst.transform;
		if (aX !=0){
			px=aX *width;
		}
		if (aY !=0){
			py=aY *height;
		}
		if (px !=0 || py !=0){
			m.translate(-px,-py);
		};
		var tm=null;
		if (rotate || sx!==1 || sy!==1 || skewX || skewY){
			tm=GraphicAnimation._tempMt;
			tm.identity();
			tm.bTransform=true;
			var skx=(rotate-skewX)*0.0174532922222222;
			var sky=(rotate+skewY)*0.0174532922222222;
			var cx=Math.cos(sky);
			var ssx=Math.sin(sky);
			var cy=Math.sin(skx);
			var ssy=Math.cos(skx);
			tm.a=sx *cx;
			tm.b=sx *ssx;
			tm.c=-sy *cy;
			tm.d=sy *ssy;
			tm.tx=tm.ty=0;
		}
		if (tm){
			m=Matrix.mul(m,tm,m);
		}
		m.translate(params[1],params[2]);
		return rst;
	}

	/**
	*@private
	*/
	__proto._getTextureByUrl=function(url){
		return Loader.getRes(url);
	}

	/**
	*@private
	*/
	__proto.setAniData=function(uiView,aniName){
		if (uiView.animations){
			this._nodeDefaultProps={};
			this._nodeGDic={};
			if (this._nodeList)
				this._nodeList.length=0;
			this._rootNode=uiView;
			this._parseNodeList(uiView);
			var aniDic={};
			var anilist=[];
			var animations=uiView.animations;
			var i=0,len=animations.length;
			var tAniO;
			for (i=0;i < len;i++){
				tAniO=animations[i];
				this._labels=null;
				if (aniName && aniName !=tAniO.name){
					continue ;
				}
				if (!tAniO)
					continue ;
				try {
					this._calGraphicData(tAniO);
					}catch (e){
					console.warn("parse animation fail:"+tAniO.name+",empty animation created");
					this._gList=[];
				};
				var frameO={};
				frameO.interval=1000 / tAniO["frameRate"];
				frameO.frames=this._gList;
				frameO.labels=this._labels;
				frameO.name=tAniO.name;
				anilist.push(frameO);
				aniDic[tAniO.name]=frameO;
			}
			this.animationList=anilist;
			this.animationDic=aniDic;
		}
		GraphicAnimation._temParam.length=0;
	}

	__proto.parseByData=function(aniData){
		var rootNode,aniO;
		rootNode=aniData.nodeRoot;
		aniO=aniData.aniO;
		delete aniData.nodeRoot;
		delete aniData.aniO;
		this._nodeDefaultProps={};
		this._nodeGDic={};
		if (this._nodeList)
			this._nodeList.length=0;
		this._rootNode=rootNode;
		this._parseNodeList(rootNode);
		this._labels=null;
		try {
			this._calGraphicData(aniO);
			}catch (e){
			console.warn("parse animation fail:"+aniO.name+",empty animation created");
			this._gList=[];
		};
		var frameO=aniData;
		frameO.interval=1000 / aniO["frameRate"];
		frameO.frames=this._gList;
		frameO.labels=this._labels;
		frameO.name=aniO.name;
		return frameO;
	}

	/**
	*@private
	*/
	__proto.setUpAniData=function(uiView){
		if (uiView.animations){
			var aniDic={};
			var anilist=[];
			var animations=uiView.animations;
			var i=0,len=animations.length;
			var tAniO;
			for (i=0;i < len;i++){
				tAniO=animations[i];
				if (!tAniO)
					continue ;
				var frameO={};
				frameO.name=tAniO.name;
				frameO.aniO=tAniO;
				frameO.nodeRoot=uiView;
				anilist.push(frameO);
				aniDic[tAniO.name]=frameO;
			}
			this.animationList=anilist;
			this.animationDic=aniDic;
		}
	}

	/**
	*@private
	*/
	__proto._clear=function(){
		this.animationList=null;
		this.animationDic=null;
		this._gList=null;
		if (this._nodeGDic){
			var key;
			var tGNode;
			for (key in this._nodeGDic){
				tGNode=this._nodeGDic[key];
				if (tGNode)tGNode.recover();
			}
		}
		this._nodeGDic=null;
	}

	GraphicAnimation.parseAnimationByData=function(animationObject){
		if (!GraphicAnimation._I)
			GraphicAnimation._I=new GraphicAnimation();
		var rst;
		rst=GraphicAnimation._I.parseByData(animationObject);
		GraphicAnimation._I._clear();
		return rst;
	}

	GraphicAnimation.parseAnimationData=function(aniData){
		if (!GraphicAnimation._I)
			GraphicAnimation._I=new GraphicAnimation();
		GraphicAnimation._I.setUpAniData(aniData);
		var rst;
		rst={};
		rst.animationList=GraphicAnimation._I.animationList;
		rst.animationDic=GraphicAnimation._I.animationDic;
		GraphicAnimation._I._clear();
		return rst;
	}

	GraphicAnimation._temParam=[];
	GraphicAnimation._I=null;
	GraphicAnimation._rootMatrix=null;
	__static(GraphicAnimation,
	['_drawTextureCmd',function(){return this._drawTextureCmd=[["skin",null],["x",0],["y",0],["width",-1],["height",-1],["pivotX",0],["pivotY",0],["scaleX",1],["scaleY",1],["rotation",0],["alpha",1],["skewX",0],["skewY",0],["anchorX",0],["anchorY",0]];},'_tempMt',function(){return this._tempMt=new Matrix();}
	]);
	GraphicAnimation.__init$=function(){
		//class GraphicNode
		GraphicNode=(function(){
			function GraphicNode(){
				this.skin=null;
				this.transform=null;
				this.resultTransform=null;
				this.width=NaN;
				this.height=NaN;
				this.alpha=1;
			}
			__class(GraphicNode,'');
			var __proto=GraphicNode.prototype;
			__proto.recover=function(){
				this.skin=null;
				this.width=0;
				this.height=0;
				this.alpha=1;
				if (this.transform){
					this.transform.destroy();
					this.transform=null;
				}
				if (this.resultTransform){
					this.resultTransform.destroy();
					this.resultTransform=null;
				}
				Pool.recover("GraphicNode",this);
			}
			GraphicNode.create=function(){
				return Pool.getItemByClass("GraphicNode",GraphicNode);
			}
			return GraphicNode;
		})()
	}

	return GraphicAnimation;
})(FrameAnimation)


	Laya.__init([EventDispatcher,LoaderManager,Render,Browser,Timer,LocalStorage,TimeLine,GraphicAnimation]);
})(window,document,Laya);

(function(window,document,Laya){
	var __un=Laya.un,__uns=Laya.uns,__static=Laya.static,__class=Laya.class,__getset=Laya.getset,__newvec=Laya.__newvec;
//class LayaMain
var LayaMain=(function(){
	/*[COMPILER OPTIONS:normal]*/
	function LayaMain(){}
	__class(LayaMain,'LayaMain');
	return LayaMain;
})()



	new LayaMain();

})(window,document,Laya);

if (typeof define === 'function' && define.amd){
	define('laya.core', ['require', "exports"], function(require, exports) {
        'use strict';
        Object.defineProperty(exports, '__esModule', { value: true });
        for (var i in Laya) {
			var o = Laya[i];
            o && o.__isclass && (exports[i] = o);
        }
    });
}

(function(window,document,Laya){
	var __un=Laya.un,__uns=Laya.uns,__static=Laya.static,__class=Laya.class,__getset=Laya.getset,__newvec=Laya.__newvec;

	var Browser=laya.utils.Browser,CSSStyle=laya.display.css.CSSStyle,ClassUtils=laya.utils.ClassUtils;
	var Event=laya.events.Event,HTMLChar=laya.utils.HTMLChar,Loader=laya.net.Loader,Node=laya.display.Node,Rectangle=laya.maths.Rectangle;
	var Render=laya.renders.Render,RenderContext=laya.renders.RenderContext,RenderSprite=laya.renders.RenderSprite;
	var Sprite=laya.display.Sprite,Stat=laya.utils.Stat,Text=laya.display.Text,Texture=laya.resource.Texture;
	var URL=laya.net.URL,Utils=laya.utils.Utils;
/**
*@private
*/
//class laya.html.utils.HTMLParse
var HTMLParse=(function(){
	function HTMLParse(){}
	__class(HTMLParse,'laya.html.utils.HTMLParse');
	HTMLParse.parse=function(ower,xmlString,url){
		xmlString=xmlString.replace(/<br>/g,"<br/>");
		xmlString="<root>"+xmlString+"</root>";
		xmlString=xmlString.replace(HTMLParse.spacePattern,HTMLParse.char255);
		var xml=Utils.parseXMLFromString(xmlString);
		HTMLParse._parseXML(ower,xml.childNodes[0].childNodes,url);
	}

	HTMLParse._parseXML=function(parent,xml,url,href){
		var i=0,n=0;
		if (xml.join || xml.item){
			for (i=0,n=xml.length;i < n;++i){
				HTMLParse._parseXML(parent,xml[i],url,href);
			}
			}else {
			var node;
			var nodeName;
			if (xml.nodeType==3){
				var txt;
				if ((parent instanceof laya.html.dom.HTMLDivElement )){
					if (xml.nodeName==null){
						xml.nodeName="#text";
					}
					nodeName=xml.nodeName.toLowerCase();
					txt=xml.textContent.replace(/^\s+|\s+$/g,'');
					if (txt.length > 0){
						node=ClassUtils.getInstance(nodeName);
						if (node){
							parent.addChild(node);
							((node).innerTEXT=txt.replace(HTMLParse.char255AndOneSpacePattern," "));
						}
					}
					}else {
					txt=xml.textContent.replace(/^\s+|\s+$/g,'');
					if (txt.length > 0){
						((parent).innerTEXT=txt.replace(HTMLParse.char255AndOneSpacePattern," "));
					}
				}
				return;
				}else {
				nodeName=xml.nodeName.toLowerCase();
				if (nodeName=="#comment")return;
				node=ClassUtils.getInstance(nodeName);
				if (node){
					node=parent.addChild(node);
					(node).URI=url;
					(node).href=href;
					var attributes=xml.attributes;
					if (attributes && attributes.length > 0){
						for (i=0,n=attributes.length;i < n;++i){
							var attribute=attributes[i];
							var attrName=attribute.nodeName;
							var value=attribute.value;
							node._setAttributes(attrName,value);
						}
					}
					HTMLParse._parseXML(node,xml.childNodes,url,(node).href);
					}else {
					HTMLParse._parseXML(parent,xml.childNodes,url,href);
				}
			}
		}
	}

	__static(HTMLParse,
	['char255',function(){return this.char255=String.fromCharCode(255);},'spacePattern',function(){return this.spacePattern=/&nbsp;|&#160;/g;},'char255AndOneSpacePattern',function(){return this.char255AndOneSpacePattern=new RegExp(String.fromCharCode(255)+"|(\\s+)","g");}
	]);
	return HTMLParse;
})()


/**
*@private
*HTML的布局类
*对HTML的显示对象进行排版
*/
//class laya.html.utils.Layout
var Layout=(function(){
	function Layout(){}
	__class(Layout,'laya.html.utils.Layout');
	Layout.later=function(element){
		if (Layout._will==null){
			Layout._will=[];
			Laya.stage.frameLoop(1,null,function(){
				if (Layout._will.length < 1)
					return;
				for (var i=0;i < Layout._will.length;i++){
					laya.html.utils.Layout.layout(Layout._will[i]);
				}
				Layout._will.length=0;
			});
		}
		Layout._will.push(element);
	}

	Layout.layout=function(element){
		if (!element || !element._style)return null;
		if ((element._style._type & /*laya.display.css.CSSStyle.ADDLAYOUTED*/0x200)===0)
			return null;
		element.getStyle()._type &=~ /*laya.display.css.CSSStyle.ADDLAYOUTED*/0x200;
		var arr=Layout._multiLineLayout(element);
		if (Render.isConchApp&&element["layaoutCallNative"]){
			(element).layaoutCallNative();
		}
		return arr;
	}

	Layout._multiLineLayout=function(element){
		if (Text.RightToLeft)return Layout._multiLineLayout2(element);
		var elements=new Array;
		element._addChildsToLayout(elements);
		var i=0,n=elements.length,j=0;
		var style=element._getCSSStyle();
		var letterSpacing=style.letterSpacing;
		var leading=style.leading;
		var lineHeight=style.lineHeight;
		var widthAuto=style._widthAuto()|| !style.wordWrap;
		var width=widthAuto ? 999999 :element.width;
		var height=element.height;
		var maxWidth=0;
		var exWidth=style.italic ? style.fontSize / 3 :0;
		var align=style._getAlign();
		var valign=style._getValign();
		var endAdjust=valign!==0 || align!==0 || lineHeight !=0;
		var oneLayout;
		var x=0;
		var y=0;
		var w=0;
		var h=0;
		var tBottom=0;
		var lines=new Array;
		var curStyle;
		var curPadding;
		var curLine=lines[0]=new LayoutLine();
		var newLine=false,nextNewline=false;
		var htmlWord;
		var sprite;
		curLine.h=0;
		if (style.italic)
			width-=style.fontSize / 3;
		var tWordWidth=0;
		var tLineFirstKey=true;
		function addLine (){
			curLine.y=y;
			y+=curLine.h+leading;
			if (curLine.h==0)y+=lineHeight;
			curLine.mWidth=tWordWidth;
			tWordWidth=0;
			curLine=new LayoutLine();
			lines.push(curLine);
			curLine.h=0;
			x=0;
			tLineFirstKey=true;
			newLine=false;
		}
		for (i=0;i < n;i++){
			oneLayout=elements[i];
			if (oneLayout==null){
				if (!tLineFirstKey){
					x+=Layout.DIV_ELEMENT_PADDING;
				}
				curLine.wordStartIndex=curLine.elements.length;
				continue ;
			}
			tLineFirstKey=false;
			if ((oneLayout instanceof laya.html.dom.HTMLBrElement )){
				addLine();
				curLine.y=y;
				continue ;
				}else if (oneLayout._isChar()){
				htmlWord=oneLayout;
				if (!htmlWord.isWord){
					if (lines.length > 0 && (x+w)> width && curLine.wordStartIndex > 0){
						var tLineWord=0;
						tLineWord=curLine.elements.length-curLine.wordStartIndex+1;
						curLine.elements.length=curLine.wordStartIndex;
						i-=tLineWord;
						addLine();
						continue ;
					}
					newLine=false;
					tWordWidth+=htmlWord.width;
					}else {
					newLine=nextNewline || (htmlWord.char==='\n');
					curLine.wordStartIndex=curLine.elements.length;
				}
				w=htmlWord.width+letterSpacing;
				h=htmlWord.height;
				nextNewline=false;
				newLine=newLine || ((x+w)> width);
				newLine && addLine();
				curLine.minTextHeight=Math.min(curLine.minTextHeight,oneLayout.height);
				}else {
				curStyle=oneLayout._getCSSStyle();
				sprite=oneLayout;
				curPadding=curStyle.padding;
				curStyle._getCssFloat()===0 || (endAdjust=true);
				newLine=nextNewline || curStyle.lineElement;
				w=sprite.width *sprite._style._tf.scaleX+curPadding[1]+curPadding[3]+letterSpacing;
				h=sprite.height *sprite._style._tf.scaleY+curPadding[0]+curPadding[2];
				nextNewline=curStyle.lineElement;
				newLine=newLine || ((x+w)> width && curStyle.wordWrap);
				newLine && addLine();
			}
			curLine.elements.push(oneLayout);
			curLine.h=Math.max(curLine.h,h);
			oneLayout.x=x;
			oneLayout.y=y;
			x+=w;
			curLine.w=x-letterSpacing;
			curLine.y=y;
			maxWidth=Math.max(x+exWidth,maxWidth);
		}
		y=curLine.y+curLine.h;
		if (endAdjust){
			var tY=0;
			var tWidth=width;
			if (widthAuto && element.width > 0){
				tWidth=element.width;
			}
			for (i=0,n=lines.length;i < n;i++){
				lines[i].updatePos(0,tWidth,i,tY,align,valign,lineHeight);
				tY+=Math.max(lineHeight,lines[i].h+leading);
			}
			y=tY;
		}
		widthAuto && (element.width=maxWidth);
		(y > element.height)&& (element.height=y);
		return [maxWidth,y];
	}

	Layout._multiLineLayout2=function(element){
		var elements=new Array;
		element._addChildsToLayout(elements);
		var i=0,n=elements.length,j=0;
		var style=element._getCSSStyle();
		var letterSpacing=style.letterSpacing;
		var leading=style.leading;
		var lineHeight=style.lineHeight;
		var widthAuto=style._widthAuto()|| !style.wordWrap;
		var width=widthAuto ? 999999 :element.width;
		var height=element.height;
		var maxWidth=0;
		var exWidth=style.italic ? style.fontSize / 3 :0;
		var align=2-style._getAlign();
		var valign=style._getValign();
		var endAdjust=valign!==0 || align!==0 || lineHeight !=0;
		var oneLayout;
		var x=0;
		var y=0;
		var w=0;
		var h=0;
		var tBottom=0;
		var lines=new Array;
		var curStyle;
		var curPadding;
		var curLine=lines[0]=new LayoutLine();
		var newLine=false,nextNewline=false;
		var htmlWord;
		var sprite;
		curLine.h=0;
		if (style.italic)
			width-=style.fontSize / 3;
		var tWordWidth=0;
		var tLineFirstKey=true;
		function addLine (){
			curLine.y=y;
			y+=curLine.h+leading;
			if (curLine.h==0)y+=lineHeight;
			curLine.mWidth=tWordWidth;
			tWordWidth=0;
			curLine=new LayoutLine();
			lines.push(curLine);
			curLine.h=0;
			x=0;
			tLineFirstKey=true;
			newLine=false;
		}
		for (i=0;i < n;i++){
			oneLayout=elements[i];
			if (oneLayout==null){
				if (!tLineFirstKey){
					x+=Layout.DIV_ELEMENT_PADDING;
				}
				curLine.wordStartIndex=curLine.elements.length;
				continue ;
			}
			tLineFirstKey=false;
			if ((oneLayout instanceof laya.html.dom.HTMLBrElement )){
				addLine();
				curLine.y=y;
				continue ;
				}else if (oneLayout._isChar()){
				htmlWord=oneLayout;
				if (!htmlWord.isWord){
					if (lines.length > 0 && (x+w)> width && curLine.wordStartIndex > 0){
						var tLineWord=0;
						tLineWord=curLine.elements.length-curLine.wordStartIndex+1;
						curLine.elements.length=curLine.wordStartIndex;
						i-=tLineWord;
						addLine();
						continue ;
					}
					newLine=false;
					tWordWidth+=htmlWord.width;
					}else {
					newLine=nextNewline || (htmlWord.char==='\n');
					curLine.wordStartIndex=curLine.elements.length;
				}
				w=htmlWord.width+letterSpacing;
				h=htmlWord.height;
				nextNewline=false;
				newLine=newLine || ((x+w)> width);
				newLine && addLine();
				curLine.minTextHeight=Math.min(curLine.minTextHeight,oneLayout.height);
				}else {
				curStyle=oneLayout._getCSSStyle();
				sprite=oneLayout;
				curPadding=curStyle.padding;
				curStyle._getCssFloat()===0 || (endAdjust=true);
				newLine=nextNewline || curStyle.lineElement;
				w=sprite.width *sprite._style._tf.scaleX+curPadding[1]+curPadding[3]+letterSpacing;
				h=sprite.height *sprite._style._tf.scaleY+curPadding[0]+curPadding[2];
				nextNewline=curStyle.lineElement;
				newLine=newLine || ((x+w)> width && curStyle.wordWrap);
				newLine && addLine();
			}
			curLine.elements.push(oneLayout);
			curLine.h=Math.max(curLine.h,h);
			oneLayout.x=x;
			oneLayout.y=y;
			x+=w;
			curLine.w=x-letterSpacing;
			curLine.y=y;
			maxWidth=Math.max(x+exWidth,maxWidth);
		}
		y=curLine.y+curLine.h;
		if (endAdjust){
			var tY=0;
			var tWidth=width;
			for (i=0,n=lines.length;i < n;i++){
				lines[i].updatePos(0,tWidth,i,tY,align,valign,lineHeight);
				tY+=Math.max(lineHeight,lines[i].h+leading);
			}
			y=tY;
		}
		widthAuto && (element.width=maxWidth);
		(y > element.height)&& (element.height=y);
		for (i=0,n=lines.length;i < n;i++){
			lines[i].revertOrder(width);
		}
		return [maxWidth,y];
	}

	Layout._will=null;
	Layout.DIV_ELEMENT_PADDING=0;
	return Layout;
})()


/**
*@private
*/
//class laya.html.utils.LayoutLine
var LayoutLine=(function(){
	function LayoutLine(){
		this.x=0;
		this.y=0;
		this.w=0;
		this.h=0;
		this.wordStartIndex=0;
		this.minTextHeight=99999;
		this.mWidth=0;
		this.elements=new Array;
	}

	__class(LayoutLine,'laya.html.utils.LayoutLine');
	var __proto=LayoutLine.prototype;
	/**
	*底对齐（默认）
	*@param left
	*@param width
	*@param dy
	*@param align 水平
	*@param valign 垂直
	*@param lineHeight 行高
	*/
	__proto.updatePos=function(left,width,lineNum,dy,align,valign,lineHeight){
		var w=0;
		var one
		if (this.elements.length > 0){
			one=this.elements[this.elements.length-1];
			w=one.x+one.width-this.elements[0].x;
		};
		var dx=0,ddy=NaN;
		align===/*laya.display.css.CSSStyle.ALIGN_CENTER*/1 && (dx=(width-w)/ 2);
		align===/*laya.display.css.CSSStyle.ALIGN_RIGHT*/2 && (dx=(width-w));
		lineHeight===0 || valign !=0 || (valign=1);
		for (var i=0,n=this.elements.length;i < n;i++){
			one=this.elements[i];
			var tCSSStyle=one._getCSSStyle();
			dx!==0 && (one.x+=dx);
			switch (tCSSStyle._getValign()){
				case 0:
					one.y=dy;
					break ;
				case /*laya.display.css.CSSStyle.VALIGN_MIDDLE*/1:;
					var tMinTextHeight=0;
					if (this.minTextHeight !=99999){
						tMinTextHeight=this.minTextHeight;
					};
					var tBottomLineY=(tMinTextHeight+lineHeight)/ 2;
					tBottomLineY=Math.max(tBottomLineY,this.h);
					if ((one instanceof laya.html.dom.HTMLImageElement )){
						ddy=dy+tBottomLineY-one.height;
						}else {
						ddy=dy+tBottomLineY-one.height;
					}
					one.y=ddy;
					break ;
				case /*laya.display.css.CSSStyle.VALIGN_BOTTOM*/2:
					one.y=dy+(lineHeight-one.height);
					break ;
				}
		}
	}

	/**
	*布局反向,目前用于将ltr模式布局转为rtl模式布局
	*/
	__proto.revertOrder=function(width){
		var one
		if (this.elements.length > 0){
			var i=0,len=0;
			len=this.elements.length;
			for (i=0;i < len;i++){
				one=this.elements[i];
				one.x=width-one.x-one.width;
			}
		}
	}

	return LayoutLine;
})()


/**
*@private
*/
//class laya.html.dom.HTMLElement extends laya.display.Sprite
var HTMLElement=(function(_super){
	function HTMLElement(){
		this.URI=null;
		this._href=null;
		HTMLElement.__super.call(this);
		this._text=HTMLElement._EMPTYTEXT;
		this.setStyle(new CSSStyle(this));
		this._getCSSStyle().valign="middle";
		this.mouseEnabled=true;
	}

	__class(HTMLElement,'laya.html.dom.HTMLElement',_super);
	var __proto=HTMLElement.prototype;
	/**
	*@private
	*/
	__proto.layaoutCallNative=function(){
		var n=0;
		if (this._childs &&(n=this._childs.length)> 0){
			for (var i=0;i < n;i++){
				this._childs[i].layaoutCallNative && this._childs[i].layaoutCallNative();
			}
		};
		var word=this._getWords();
		word ? laya.html.dom.HTMLElement.fillWords(this,word,0,0,this.style.font,this.style.color,this.style.underLine):this.graphics.clear();
	}

	__proto.appendChild=function(c){
		return this.addChild(c);
	}

	/**
	*rtl模式的getWords函數
	*/
	__proto._getWords2=function(){
		var txt=this._text.text;
		if (!txt || txt.length===0)
			return null;
		var i=0,n=0;
		var realWords;
		var drawWords;
		if (!this._text.drawWords){
			realWords=txt.split(" ");
			n=realWords.length-1;
			drawWords=[];
			for (i=0;i < n;i++){
				drawWords.push(realWords[i]," ")
			}
			if(n>=0)
				drawWords.push(realWords[n]);
			this._text.drawWords=drawWords;
			}else{
			drawWords=this._text.drawWords;
		};
		var words=this._text.words;
		if (words && words.length===drawWords.length)
			return words;
		words===null && (this._text.words=words=[]);
		words.length=drawWords.length;
		var size;
		var style=this.style;
		var fontStr=style.font;
		for (i=0,n=drawWords.length;i < n;i++){
			size=Utils.measureText(drawWords[i],fontStr);
			var tHTMLChar=words[i]=new HTMLChar(drawWords[i],size.width,size.height || style.fontSize,style);
			if (tHTMLChar.char.length > 1){
				tHTMLChar.charNum=tHTMLChar.char;
			}
			if (this.href){
				var tSprite=new Sprite();
				this.addChild(tSprite);
				tHTMLChar.setSprite(tSprite);
			}
		}
		return words;
	}

	__proto._getWords=function(){
		if (!Text.CharacterCache)return this._getWords2();
		var txt=this._text.text;
		if (!txt || txt.length===0)
			return null;
		var words=this._text.words;
		if (words && words.length===txt.length)
			return words;
		words===null && (this._text.words=words=[]);
		words.length=txt.length;
		var size;
		var style=this.style;
		var fontStr=style.font;
		var startX=0;
		for (var i=0,n=txt.length;i < n;i++){
			size=Utils.measureText(txt.charAt(i),fontStr);
			var tHTMLChar=words[i]=new HTMLChar(txt.charAt(i),size.width,size.height||style.fontSize,style);
			if (this.href){
				var tSprite=new Sprite();
				this.addChild(tSprite);
				tHTMLChar.setSprite(tSprite);
			}
		}
		return words;
	}

	__proto.showLinkSprite=function(){
		var words=this._text.words;
		if (words){
			var tLinkSpriteList=[];
			var tSprite;
			var tHtmlChar;
			for (var i=0;i < words.length;i++){
				tHtmlChar=words[i];
				tSprite=new Sprite();
				tSprite.graphics.drawRect(0,0,tHtmlChar.width,tHtmlChar.height,"#ff0000");
				tSprite.width=tHtmlChar.width;
				tSprite.height=tHtmlChar.height;
				this.addChild(tSprite);
				tLinkSpriteList.push(tSprite);
			}
		}
	}

	__proto._layoutLater=function(){
		var style=this.style;
		if ((style._type & /*laya.display.css.CSSStyle.ADDLAYOUTED*/0x200))return;
		if (style.widthed(this)&& (this._childs.length>0 || this._getWords()!=null)&& style.block){
			Layout.later(this);
			style._type |=/*laya.display.css.CSSStyle.ADDLAYOUTED*/0x200;
		}
		else{
			this.parent && (this.parent)._layoutLater();
		}
	}

	__proto._setAttributes=function(name,value){
		switch (name){
			case 'style':
				this.style.cssText(value);
				return;
			case 'class':
				this.className=value;
				return;
			}
		_super.prototype._setAttributes.call(this,name,value);
	}

	__proto.updateHref=function(){
		if (this._href !=null){
			var words=this._getWords();
			if (words){
				var tHTMLChar;
				var tSprite;
				for (var i=0;i < words.length;i++){
					tHTMLChar=words[i];
					tSprite=tHTMLChar.getSprite();
					if (tSprite){
						tSprite.size(tHTMLChar.width,tHTMLChar.height);
						tSprite.on(/*laya.events.Event.CLICK*/"click",this,this.onLinkHandler);
					}
				}
			}
		}
	}

	__proto.onLinkHandler=function(e){
		switch(e.type){
			case /*laya.events.Event.CLICK*/"click":;
				var target=this;
				while (target){
					target.event(/*laya.events.Event.LINK*/"link",[this.href]);
					target=target.parent;
				}
				break ;
			}
	}

	__proto.formatURL=function(url){
		if (!this.URI)return url;
		return URL.formatURL(url,this.URI ? this.URI.path :null);
	}

	__getset(0,__proto,'href',function(){
		return this._href;
		},function(url){
		this._href=url;
		if (url !=null){
			this._getCSSStyle().underLine=1;
			this.updateHref();
		}
	});

	__getset(0,__proto,'color',null,function(value){
		this.style.color=value;
	});

	__getset(0,__proto,'onClick',null,function(value){
		var fn;
		/*__JS__ */eval("fn=function(event){"+value+";}");
		this.on(/*laya.events.Event.CLICK*/"click",this,fn);
	});

	__getset(0,__proto,'id',null,function(value){
		HTMLDocument.document.setElementById(value,this);
	});

	__getset(0,__proto,'innerTEXT',function(){
		return this._text.text;
		},function(value){
		this.text=value;
	});

	__getset(0,__proto,'style',function(){
		return this._style;
	});

	__getset(0,__proto,'text',function(){
		return this._text.text;
		},function(value){
		if (this._text==HTMLElement._EMPTYTEXT){
			this._text={text:value,words:null};
		}
		else{
			this._text.text=value;
			this._text.words && (this._text.words.length=0);
		}
		Render.isConchApp && this.layaoutCallNative();
		this._renderType |=/*laya.renders.RenderSprite.CHILDS*/0x800;
		this.repaint();
		this.updateHref();
	});

	__getset(0,__proto,'parent',_super.prototype._$get_parent,function(value){
		if ((value instanceof laya.html.dom.HTMLElement )){
			var p=value;
			this.URI || (this.URI=p.URI);
			this.style.inherit(p.style);
		}
		Laya.superSet(Sprite,this,'parent',value);
	});

	__getset(0,__proto,'className',null,function(value){
		this.style.attrs(HTMLDocument.document.styleSheets['.'+value]);
	});

	HTMLElement.fillWords=function(ele,words,x,y,font,color,underLine){
		ele.graphics.clear();
		for (var i=0,n=words.length;i < n;i++){
			var a=words[i];
			ele.graphics.fillText(a.char,a.x+x,a.y+y,font,color,'left',underLine);
		}
	}

	__static(HTMLElement,
	['_EMPTYTEXT',function(){return this._EMPTYTEXT={text:null,words:null};}
	]);
	return HTMLElement;
})(Sprite)


/**
*@private
*/
//class laya.html.dom.HTMLBrElement extends laya.html.dom.HTMLElement
var HTMLBrElement=(function(_super){
	function HTMLBrElement(){
		HTMLBrElement.__super.call(this);
		this.style.lineElement=true;
		this.style.block=true;
	}

	__class(HTMLBrElement,'laya.html.dom.HTMLBrElement',_super);
	return HTMLBrElement;
})(HTMLElement)


/**
*DIV标签
*/
//class laya.html.dom.HTMLDivElement extends laya.html.dom.HTMLElement
var HTMLDivElement=(function(_super){
	function HTMLDivElement(){
		/**实际内容的高 */
		this.contextHeight=NaN;
		/**实际内容的宽 */
		this.contextWidth=NaN;
		HTMLDivElement.__super.call(this);
		this.style.block=true;
		this.style.lineElement=true;
		this.style.width=200;
		this.style.height=200;
		HTMLStyleElement;
	}

	__class(HTMLDivElement,'laya.html.dom.HTMLDivElement',_super);
	var __proto=HTMLDivElement.prototype;
	/**
	*追加内容，解析并对显示对象排版
	*@param text
	*/
	__proto.appendHTML=function(text){
		HTMLParse.parse(this,text,this.URI);
		this.layout();
	}

	/**
	*@private
	*@param out
	*@return
	*/
	__proto._addChildsToLayout=function(out){
		var words=this._getWords();
		if (words==null && this._childs.length==0)return false;
		words && words.forEach(function(o){
			out.push(o);
		});
		var tFirstKey=true;
		for (var i=0,len=this._childs.length;i < len;i++){
			var o=this._childs[i];
			if (tFirstKey){
				tFirstKey=false;
				}else {
				out.push(null);
			}
			o._addToLayout(out)
		}
		return true;
	}

	/**
	*@private
	*@param out
	*/
	__proto._addToLayout=function(out){
		this.layout();
	}

	/**
	*@private
	*对显示内容进行排版
	*/
	__proto.layout=function(){
		if (!this.style)return;
		this.style._type |=/*laya.display.css.CSSStyle.ADDLAYOUTED*/0x200;
		var tArray=Layout.layout(this);
		if (tArray){
			if (!this._$P.mHtmlBounds)this._set$P("mHtmlBounds",new Rectangle());
			var tRectangle=this._$P.mHtmlBounds;
			tRectangle.x=tRectangle.y=0;
			tRectangle.width=this.contextWidth=tArray[0];
			tRectangle.height=this.contextHeight=tArray[1];
			this.setBounds(tRectangle);
		}
	}

	/**
	*获取对象的高
	*/
	__getset(0,__proto,'height',function(){
		if (this._height)return this._height;
		return this.contextHeight;
	},_super.prototype._$set_height);

	/**
	*设置标签内容
	*/
	__getset(0,__proto,'innerHTML',null,function(text){
		this.destroyChildren();
		this.appendHTML(text);
	});

	/**
	*获取对象的宽
	*/
	__getset(0,__proto,'width',function(){
		if (this._width)return this._width;
		return this.contextWidth;
		},function(value){
		var changed=false;
		if (value===0){
			changed=value !=this._width;
			}else{
			changed=value !=this.width;
		}
		Laya.superSet(HTMLElement,this,'width',value);
		if(changed)
			this.layout();
	});

	return HTMLDivElement;
})(HTMLElement)


/**
*@private
*/
//class laya.html.dom.HTMLDocument extends laya.html.dom.HTMLElement
var HTMLDocument=(function(_super){
	function HTMLDocument(){
		this.all=new Array;
		this.styleSheets=CSSStyle.styleSheets;
		HTMLDocument.__super.call(this);
	}

	__class(HTMLDocument,'laya.html.dom.HTMLDocument',_super);
	var __proto=HTMLDocument.prototype;
	__proto.getElementById=function(id){
		return this.all[id];
	}

	__proto.setElementById=function(id,e){
		this.all[id]=e;
	}

	__static(HTMLDocument,
	['document',function(){return this.document=new HTMLDocument();}
	]);
	return HTMLDocument;
})(HTMLElement)


/**
*@private
*/
//class laya.html.dom.HTMLImageElement extends laya.html.dom.HTMLElement
var HTMLImageElement=(function(_super){
	function HTMLImageElement(){
		this._tex=null;
		this._url=null;
		this._renderArgs=[];
		HTMLImageElement.__super.call(this);
		this.style.block=true;
	}

	__class(HTMLImageElement,'laya.html.dom.HTMLImageElement',_super);
	var __proto=HTMLImageElement.prototype;
	__proto._addToLayout=function(out){
		!this._style.absolute && out.push(this);
	}

	__proto.render=function(context,x,y){
		if (!this._tex || !this._tex.loaded || !this._tex.loaded || this._width < 1 || this._height < 1)return;
		Stat.spriteCount++;
		this._renderArgs[0]=this._tex;
		this._renderArgs[1]=this.x;
		this._renderArgs[2]=this.y;
		this._renderArgs[3]=this.width || this._tex.width;
		this._renderArgs[4]=this.height || this._tex.height;
		context.ctx.drawTexture2(x,y,this.style.translateX,this.style.translateY,this.transform,this.style.alpha,this.style.blendMode,this._renderArgs);
	}

	/**
	*@private
	*/
	__proto.layaoutCallNative=function(){
		var n=0;
		if (this._childs &&(n=this._childs.length)> 0){
			for (var i=0;i < n;i++){
				this._childs[i].layaoutCallNative && this._childs[i].layaoutCallNative();
			}
		}
	}

	__getset(0,__proto,'src',null,function(url){
		var _$this=this;
		url=this.formatURL(url);
		if (this._url==url)return;
		this._url=url;
		var tex=this._tex=Loader.getRes(url);
		if (!tex){
			this._tex=tex=new Texture();
			tex.load(url);
			Loader.cacheRes(url,tex);
		}
		function onloaded (){
			var style=_$this._style;
			var w=style.widthed(_$this)?-1:_$this._tex.width;
			var h=style.heighted(_$this)?-1:_$this._tex.height;
			if (!style.widthed(_$this)&& _$this._width !=_$this._tex.width){
				_$this.width=_$this._tex.width;
				_$this.parent && (_$this.parent)._layoutLater();
			}
			if (!style.heighted(_$this)&& _$this._height !=_$this._tex.height){
				_$this.height=_$this._tex.height;
				_$this.parent && (_$this.parent)._layoutLater();
			}
			if (Render.isConchApp){
				_$this._renderArgs[0]=_$this._tex;
				_$this._renderArgs[1]=_$this.x;
				_$this._renderArgs[2]=_$this.y;
				_$this._renderArgs[3]=_$this.width || _$this._tex.width;
				_$this._renderArgs[4]=_$this.height || _$this._tex.height;
				_$this.graphics.drawTexture(_$this._tex,0,0,_$this._renderArgs[3],_$this._renderArgs[4]);
			}
			_$this.repaint();
			_$this.parentRepaint();
		}
		tex.loaded?onloaded():tex.on(/*laya.events.Event.LOADED*/"loaded",null,onloaded);
	});

	return HTMLImageElement;
})(HTMLElement)


/**
*@private
*/
//class laya.html.dom.HTMLLinkElement extends laya.html.dom.HTMLElement
var HTMLLinkElement=(function(_super){
	function HTMLLinkElement(){
		this.type=null;
		HTMLLinkElement.__super.call(this);
		this.visible=false;
	}

	__class(HTMLLinkElement,'laya.html.dom.HTMLLinkElement',_super);
	var __proto=HTMLLinkElement.prototype;
	__proto._onload=function(data){
		switch(this.type){
			case 'text/css':
				CSSStyle.parseCSS(data,this.URI);
				break ;
			}
	}

	__getset(0,__proto,'href',_super.prototype._$get_href,function(url){
		var _$this=this;
		url=this.formatURL(url);
		this.URI=new URL(url);
		var l=new Loader();
		l.once(/*laya.events.Event.COMPLETE*/"complete",null,function(data){
			_$this._onload(data);
		});
		l.load(url,/*laya.net.Loader.TEXT*/"text");
	});

	__static(HTMLLinkElement,
	['_cuttingStyle',function(){return this._cuttingStyle=new RegExp("((@keyframes[\\s\\t]+|)(.+))[\\t\\n\\r\\\s]*{","g");}
	]);
	return HTMLLinkElement;
})(HTMLElement)


/**
*@private
*/
//class laya.html.dom.HTMLStyleElement extends laya.html.dom.HTMLElement
var HTMLStyleElement=(function(_super){
	function HTMLStyleElement(){
		HTMLStyleElement.__super.call(this);
		this.visible=false;
	}

	__class(HTMLStyleElement,'laya.html.dom.HTMLStyleElement',_super);
	var __proto=HTMLStyleElement.prototype;
	/**
	*解析样式
	*/
	__getset(0,__proto,'text',_super.prototype._$get_text,function(value){
		CSSStyle.parseCSS(value,null);
	});

	return HTMLStyleElement;
})(HTMLElement)


/**
*iframe标签类，目前用于加载外并解析数据
*/
//class laya.html.dom.HTMLIframeElement extends laya.html.dom.HTMLDivElement
var HTMLIframeElement=(function(_super){
	function HTMLIframeElement(){
		HTMLIframeElement.__super.call(this);
		this._getCSSStyle().valign="middle";
	}

	__class(HTMLIframeElement,'laya.html.dom.HTMLIframeElement',_super);
	var __proto=HTMLIframeElement.prototype;
	/**
	*加载html文件，并解析数据
	*@param url
	*/
	__getset(0,__proto,'href',_super.prototype._$get_href,function(url){
		var _$this=this;
		url=this.formatURL(url);
		var l=new Loader();
		l.once(/*laya.events.Event.COMPLETE*/"complete",null,function(data){
			var pre=_$this.URI;
			_$this.URI=new URL(url);
			_$this.innerHTML=data;
			!pre || (_$this.URI=pre);
		});
		l.load(url,/*laya.net.Loader.TEXT*/"text");
	});

	return HTMLIframeElement;
})(HTMLDivElement)



})(window,document,Laya);

if (typeof define === 'function' && define.amd){
	define('laya.core', ['require', "exports"], function(require, exports) {
        'use strict';
        Object.defineProperty(exports, '__esModule', { value: true });
        for (var i in Laya) {
			var o = Laya[i];
            o && o.__isclass && (exports[i] = o);
        }
    });
}

(function(window,document,Laya){
	var __un=Laya.un,__uns=Laya.uns,__static=Laya.static,__class=Laya.class,__getset=Laya.getset,__newvec=Laya.__newvec;

	var Animation=laya.display.Animation,Browser=laya.utils.Browser,ClassUtils=laya.utils.ClassUtils,ColorFilter=laya.filters.ColorFilter;
	var Ease=laya.utils.Ease,Event=laya.events.Event,Font=laya.display.css.Font,FrameAnimation=laya.display.FrameAnimation;
	var Graphics=laya.display.Graphics,Handler=laya.utils.Handler,Input=laya.display.Input,Loader=laya.net.Loader;
	var Node=laya.display.Node,Point=laya.maths.Point,Rectangle=laya.maths.Rectangle,Render=laya.renders.Render;
	var Sprite=laya.display.Sprite,Text=laya.display.Text,Texture=laya.resource.Texture,Tween=laya.utils.Tween;
	var Utils=laya.utils.Utils,WeakObject=laya.utils.WeakObject;
Laya.interface('laya.ui.IItem');
Laya.interface('laya.ui.ISelect');
Laya.interface('laya.ui.IRender');
Laya.interface('laya.ui.IComponent');
Laya.interface('laya.ui.IBox','IComponent');
/**
*<code>LayoutStyle</code> 是一个布局样式类。
*/
//class laya.ui.LayoutStyle
var LayoutStyle=(function(){
	function LayoutStyle(){
		/**一个布尔值，表示是否有效。*/
		this.enable=false;
		this.top=NaN;
		this.bottom=NaN;
		this.left=NaN;
		this.right=NaN;
		this.centerX=NaN;
		this.centerY=NaN;
		this.anchorX=NaN;
		this.anchorY=NaN;
	}

	__class(LayoutStyle,'laya.ui.LayoutStyle');
	__static(LayoutStyle,
	['EMPTY',function(){return this.EMPTY=new LayoutStyle();}
	]);
	return LayoutStyle;
})()


/**
*<code>Styles</code> 定义了组件常用的样式属性。
*/
//class laya.ui.Styles
var Styles=(function(){
	function Styles(){}
	__class(Styles,'laya.ui.Styles');
	Styles.labelColor="#000000";
	Styles.buttonStateNum=3;
	Styles.scrollBarMinNum=15;
	Styles.scrollBarDelayTime=500;
	__static(Styles,
	['defaultSizeGrid',function(){return this.defaultSizeGrid=[4,4,4,4,0];},'labelPadding',function(){return this.labelPadding=[2,2,2,2];},'inputLabelPadding',function(){return this.inputLabelPadding=[1,1,1,3];},'buttonLabelColors',function(){return this.buttonLabelColors=["#32556b","#32cc6b","#ff0000","#C0C0C0"];},'comboBoxItemColors',function(){return this.comboBoxItemColors=["#5e95b6","#ffffff","#000000","#8fa4b1","#ffffff"];}
	]);
	return Styles;
})()


/**
*<code>UIUtils</code> 是文本工具集。
*/
//class laya.ui.UIUtils
var UIUtils=(function(){
	function UIUtils(){}
	__class(UIUtils,'laya.ui.UIUtils');
	UIUtils.fillArray=function(arr,str,type){
		var temp=arr.concat();
		if (str){
			var a=str.split(",");
			for (var i=0,n=Math.min(temp.length,a.length);i < n;i++){
				var value=a[i];
				temp[i]=(value=="true" ? true :(value=="false" ? false :value));
				if (type !=null)temp[i]=type(value);
			}
		}
		return temp;
	}

	UIUtils.toColor=function(color){
		return Utils.toHexColor(color);
	}

	UIUtils.gray=function(traget,isGray){
		(isGray===void 0)&& (isGray=true);
		if (isGray){
			UIUtils.addFilter(traget,UIUtils.grayFilter);
			}else {
			UIUtils.clearFilter(traget,ColorFilter);
		}
	}

	UIUtils.addFilter=function(target,filter){
		var filters=target.filters || [];
		filters.push(filter);
		target.filters=filters;
	}

	UIUtils.clearFilter=function(target,filterType){
		var filters=target.filters;
		if (filters !=null && filters.length > 0){
			for (var i=filters.length-1;i >-1;i--){
				var filter=filters[i];
				if (Laya.__typeof(filter,filterType))filters.splice(i,1);
			}
			target.filters=filters;
		}
	}

	UIUtils._getReplaceStr=function(word){
		return UIUtils.escapeSequence[word];
	}

	UIUtils.adptString=function(str){
		return str.replace(/\\(\w)/g,UIUtils._getReplaceStr);
	}

	UIUtils.getBindFun=function(value){
		var fun=UIUtils._funMap.get(value);
		if (fun==null){
			var temp="\""+value+"\"";
			temp=temp.replace(/^"\${|}"$/g,"").replace(/\${/g,"\"+").replace(/}/g,"+\"");
			var str="(function(data){if(data==null)return;with(data){try{\nreturn "+temp+"\n}catch(e){}}})";
			fun=Browser.window.eval(str);
			UIUtils._funMap.set(value,fun);
		}
		return fun;
	}

	__static(UIUtils,
	['grayFilter',function(){return this.grayFilter=new ColorFilter([0.3086,0.6094,0.082,0,0,0.3086,0.6094,0.082,0,0,0.3086,0.6094,0.082,0,0,0,0,0,1,0]);},'escapeSequence',function(){return this.escapeSequence={"\\n":"\n","\\t":"\t"};},'_funMap',function(){return this._funMap=new WeakObject();}
	]);
	return UIUtils;
})()


/**全局配置*/
//class UIConfig
var UIConfig=(function(){
	function UIConfig(){}
	__class(UIConfig,'UIConfig');
	UIConfig.touchScrollEnable=true;
	UIConfig.mouseWheelEnable=true;
	UIConfig.showButtons=true;
	UIConfig.popupBgColor="#000000";
	UIConfig.popupBgAlpha=0.5;
	UIConfig.closeDialogOnSide=true;
	return UIConfig;
})()


/**
*<code>AutoBitmap</code> 类是用于表示位图图像或绘制图形的显示对象。
*<p>封装了位置，宽高及九宫格的处理，供UI组件使用。</p>
*/
//class laya.ui.AutoBitmap extends laya.display.Graphics
var AutoBitmap=(function(_super){
	function AutoBitmap(){
		/**@private 是否自动缓存命令*/
		this.autoCacheCmd=true;
		/**@private 宽度*/
		this._width=0;
		/**@private 高度*/
		this._height=0;
		/**@private 源数据*/
		this._source=null;
		/**@private 网格数据*/
		this._sizeGrid=null;
		/**@private */
		this._isChanged=false;
		/**@private */
		this._offset=null;
		AutoBitmap.__super.call(this);
	}

	__class(AutoBitmap,'laya.ui.AutoBitmap',_super);
	var __proto=AutoBitmap.prototype;
	/**@inheritDoc */
	__proto.destroy=function(){
		_super.prototype.destroy.call(this);
		this._source=null;
		this._sizeGrid=null;
		this._offset=null;
	}

	/**@private */
	__proto._setChanged=function(){
		if (!this._isChanged){
			this._isChanged=true;
			Laya.timer.callLater(this,this.changeSource);
		}
	}

	/**
	*@private
	*修改纹理资源。
	*/
	__proto.changeSource=function(){
		this._isChanged=false;
		var source=this._source;
		if (!source || !source.bitmap)return;
		var width=this.width;
		var height=this.height;
		var sizeGrid=this._sizeGrid;
		var sw=source.sourceWidth;
		var sh=source.sourceHeight;
		if (!sizeGrid || (sw===width && sh===height)){
			this.cleanByTexture(source,this._offset ? this._offset[0] :0,this._offset ? this._offset[1] :0,width,height);
			}else {
			source.$_GID || (source.$_GID=Utils.getGID());
			var key=source.$_GID+"."+width+"."+height+"."+sizeGrid.join(".");
			if (Utils.isOKCmdList(WeakObject.I.get(key))){
				this.cmds=WeakObject.I.get(key);
				return;
			}
			this.clear();
			var top=sizeGrid[0];
			var right=sizeGrid[1];
			var bottom=sizeGrid[2];
			var left=sizeGrid[3];
			var repeat=sizeGrid[4];
			var needClip=false;
			if (width==sw){
				left=right=0;
			}
			if (height==sh){
				top=bottom=0;
			}
			if (left+right > width){
				var clipWidth=width;
				needClip=true;
				width=left+right;
				this.save();
				this.clipRect(0,0,clipWidth,height);
			}
			left && top && this.drawTexture(AutoBitmap.getTexture(source,0,0,left,top),0,0,left,top);
			right && top && this.drawTexture(AutoBitmap.getTexture(source,sw-right,0,right,top),width-right,0,right,top);
			left && bottom && this.drawTexture(AutoBitmap.getTexture(source,0,sh-bottom,left,bottom),0,height-bottom,left,bottom);
			right && bottom && this.drawTexture(AutoBitmap.getTexture(source,sw-right,sh-bottom,right,bottom),width-right,height-bottom,right,bottom);
			top && this.drawBitmap(repeat,AutoBitmap.getTexture(source,left,0,sw-left-right,top),left,0,width-left-right,top);
			bottom && this.drawBitmap(repeat,AutoBitmap.getTexture(source,left,sh-bottom,sw-left-right,bottom),left,height-bottom,width-left-right,bottom);
			left && this.drawBitmap(repeat,AutoBitmap.getTexture(source,0,top,left,sh-top-bottom),0,top,left,height-top-bottom);
			right && this.drawBitmap(repeat,AutoBitmap.getTexture(source,sw-right,top,right,sh-top-bottom),width-right,top,right,height-top-bottom);
			this.drawBitmap(repeat,AutoBitmap.getTexture(source,left,top,sw-left-right,sh-top-bottom),left,top,width-left-right,height-top-bottom);
			if (needClip)this.restore();
			if (this.autoCacheCmd && !Render.isConchApp)WeakObject.I.set(key,this.cmds);
		}
		this._repaint();
	}

	__proto.drawBitmap=function(repeat,tex,x,y,width,height){
		(width===void 0)&& (width=0);
		(height===void 0)&& (height=0);
		if (width < 0.1 || height < 0.1)return;
		if (repeat && (tex.width !=width || tex.height !=height))this.fillTexture(tex,x,y,width,height);
		else this.drawTexture(tex,x,y,width,height);
	}

	__proto.clear=function(recoverCmds){
		(recoverCmds===void 0)&& (recoverCmds=true);
		_super.prototype.clear.call(this,false);
	}

	/**
	*当前实例的有效缩放网格数据。
	*<p>如果设置为null,则在应用任何缩放转换时，将正常缩放整个显示对象。</p>
	*<p>数据格式：[上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)]。
	*<ul><li>例如：[4,4,4,4,1]</li></ul></p>
	*<p> <code>sizeGrid</code> 的值如下所示：
	*<ol>
	*<li>上边距</li>
	*<li>右边距</li>
	*<li>下边距</li>
	*<li>左边距</li>
	*<li>是否重复填充(值为0：不重复填充，1：重复填充)</li>
	*</ol></p>
	*<p>当定义 <code>sizeGrid</code> 属性时，该显示对象被分割到以 <code>sizeGrid</code> 数据中的"上边距,右边距,下边距,左边距" 组成的矩形为基础的具有九个区域的网格中，该矩形定义网格的中心区域。网格的其它八个区域如下所示：
	*<ul>
	*<li>矩形上方的区域</li>
	*<li>矩形外的右上角</li>
	*<li>矩形左侧的区域</li>
	*<li>矩形右侧的区域</li>
	*<li>矩形外的左下角</li>
	*<li>矩形下方的区域</li>
	*<li>矩形外的右下角</li>
	*<li>矩形外的左上角</li>
	*</ul>
	*同时也支持3宫格，比如0,4,0,4,1为水平3宫格，4,0,4,0,1为垂直3宫格，3宫格性能比9宫格高。
	*</p>
	*/
	__getset(0,__proto,'sizeGrid',function(){
		return this._sizeGrid;
		},function(value){
		this._sizeGrid=value;
		this._setChanged();
	});

	/**
	*表示显示对象的宽度，以像素为单位。
	*/
	__getset(0,__proto,'width',function(){
		if (this._width)return this._width;
		if (this._source)return this._source.sourceWidth;
		return 0;
		},function(value){
		if (this._width !=value){
			this._width=value;
			this._setChanged();
		}
	});

	/**
	*表示显示对象的高度，以像素为单位。
	*/
	__getset(0,__proto,'height',function(){
		if (this._height)return this._height;
		if (this._source)return this._source.sourceHeight;
		return 0;
		},function(value){
		if (this._height !=value){
			this._height=value;
			this._setChanged();
		}
	});

	/**
	*对象的纹理资源。
	*@see laya.resource.Texture
	*/
	__getset(0,__proto,'source',function(){
		return this._source;
		},function(value){
		if (value){
			this._source=value
			this._setChanged();
			}else {
			this._source=null;
			this.clear();
		}
	});

	AutoBitmap.getTexture=function(tex,x,y,width,height){
		if (width <=0)width=1;
		if (height <=0)height=1;
		tex.$_GID || (tex.$_GID=Utils.getGID())
		var key=tex.$_GID+"."+x+"."+y+"."+width+"."+height;
		var texture=WeakObject.I.get(key);
		if (!texture||!texture.source){
			texture=Texture.createFromTexture(tex,x,y,width,height);
			WeakObject.I.set(key,texture);
		}
		return texture;
	}

	return AutoBitmap;
})(Graphics)


/**
*<code>UIEvent</code> 类用来定义UI组件类的事件类型。
*/
//class laya.ui.UIEvent extends laya.events.Event
var UIEvent=(function(_super){
	function UIEvent(){
		UIEvent.__super.call(this);;
	}

	__class(UIEvent,'laya.ui.UIEvent',_super);
	UIEvent.SHOW_TIP="showtip";
	UIEvent.HIDE_TIP="hidetip";
	return UIEvent;
})(Event)


/**
*<code>Component</code> 是ui控件类的基类。
*<p>生命周期：preinitialize > createChildren > initialize > 组件构造函数</p>
*/
//class laya.ui.Component extends laya.display.Sprite
var Component=(function(_super){
	function Component(){
		this._comXml=null;
		/**@private 控件的元数据。 */
		this._dataSource=null;
		/**@private 鼠标悬停提示 */
		this._toolTip=null;
		/**@private 标签 */
		this._tag=null;
		/**@private 禁用 */
		this._disabled=false;
		/**@private 变灰*/
		this._gray=false;
		/**
		*是否启用相对布局
		*/
		this.layoutEnabled=true;
		Component.__super.call(this);
		this._layout=LayoutStyle.EMPTY;
		this.preinitialize();
		this.createChildren();
		this.initialize();
	}

	__class(Component,'laya.ui.Component',_super);
	var __proto=Component.prototype;
	Laya.imps(__proto,{"laya.ui.IComponent":true})
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._dataSource=this._layout=null;
		this._tag=null;
		this._toolTip=null;
	}

	/**
	*<p>预初始化。</p>
	*@internal 子类可在此函数内设置、修改属性默认值
	*/
	__proto.preinitialize=function(){}
	/**
	*<p>创建并添加控件子节点。</p>
	*@internal 子类可在此函数内创建并添加子节点。
	*/
	__proto.createChildren=function(){}
	/**
	*<p>控件初始化。</p>
	*@internal 在此子对象已被创建，可以对子对象进行修改。
	*/
	__proto.initialize=function(){}
	/**
	*<p>延迟运行指定的函数。</p>
	*<p>在控件被显示在屏幕之前调用，一般用于延迟计算数据。</p>
	*@param method 要执行的函数的名称。例如，functionName。
	*@param args 传递给 <code>method</code> 函数的可选参数列表。
	*
	*@see #runCallLater()
	*/
	__proto.callLater=function(method,args){
		Laya.timer.callLater(this,method,args);
	}

	/**
	*<p>如果有需要延迟调用的函数（通过 <code>callLater</code> 函数设置），则立即执行延迟调用函数。</p>
	*@param method 要执行的函数名称。例如，functionName。
	*@see #callLater()
	*/
	__proto.runCallLater=function(method){
		Laya.timer.runCallLater(this,method);
	}

	/**
	*<p>立即执行影响宽高度量的延迟调用函数。</p>
	*@internal <p>使用 <code>runCallLater</code> 函数，立即执行影响宽高度量的延迟运行函数(使用 <code>callLater</code> 设置延迟执行函数)。</p>
	*@see #callLater()
	*@see #runCallLater()
	*/
	__proto.commitMeasure=function(){}
	/**
	*<p>重新调整对象的大小。</p>
	*/
	__proto.changeSize=function(){
		this.event(/*laya.events.Event.RESIZE*/"resize");
	}

	/**
	*@private
	*<p>获取对象的布局样式。</p>
	*/
	__proto.getLayout=function(){
		this._layout===LayoutStyle.EMPTY && (this._layout=new LayoutStyle());
		return this._layout;
	}

	/**
	*@private
	*<p>指定对象是否可使用布局。</p>
	*<p>如果值为true,则此对象可以使用布局样式，否则不使用布局样式。</p>
	*@param value 一个 Boolean 值，指定对象是否可使用布局。
	*/
	__proto._setLayoutEnabled=function(value){
		if (this._layout && this._layout.enable !=value){
			this._layout.enable=value;
			this.on(/*laya.events.Event.ADDED*/"added",this,this.onAdded);
			this.on(/*laya.events.Event.REMOVED*/"removed",this,this.onRemoved);
			if (this.parent){
				this.onAdded();
			}
		}
	}

	/**
	*对象从显示列表移除的事件侦听处理函数。
	*/
	__proto.onRemoved=function(){
		this.parent.off(/*laya.events.Event.RESIZE*/"resize",this,this.onCompResize);
	}

	/**
	*对象被添加到显示列表的事件侦听处理函数。
	*/
	__proto.onAdded=function(){
		this.parent.on(/*laya.events.Event.RESIZE*/"resize",this,this.onCompResize);
		this.resetLayoutX();
		this.resetLayoutY();
	}

	/**
	*父容器的 <code>Event.RESIZE</code> 事件侦听处理函数。
	*/
	__proto.onCompResize=function(){
		if (this._layout && this._layout.enable){
			this.resetLayoutX();
			this.resetLayoutY();
		}
	}

	/**
	*<p>重置对象的 <code>X</code> 轴（水平方向）布局。</p>
	*/
	__proto.resetLayoutX=function(){
		var layout=this._layout;
		if (!isNaN(layout.anchorX))this.pivotX=layout.anchorX *this.width;
		if (!this.layoutEnabled)return;
		var parent=this.parent;
		if (parent){
			if (!isNaN(layout.centerX)){
				this.x=Math.round((parent.width-this.displayWidth)*0.5+layout.centerX+this.pivotX *this.scaleX);
				}else if (!isNaN(layout.left)){
				this.x=Math.round(layout.left+this.pivotX *this.scaleX);
				if (!isNaN(layout.right)){
					this.width=(parent._width-layout.left-layout.right)/ (this.scaleX || 0.01);
				}
				}else if (!isNaN(layout.right)){
				this.x=Math.round(parent.width-this.displayWidth-layout.right+this.pivotX *this.scaleX);
			}
		}
	}

	/**
	*<p>重置对象的 <code>Y</code> 轴（垂直方向）布局。</p>
	*/
	__proto.resetLayoutY=function(){
		var layout=this._layout;
		if (!isNaN(layout.anchorY))this.pivotY=layout.anchorY *this.height;
		if (!this.layoutEnabled)return;
		var parent=this.parent;
		if (parent){
			if (!isNaN(layout.centerY)){
				this.y=Math.round((parent.height-this.displayHeight)*0.5+layout.centerY+this.pivotY *this.scaleY);
				}else if (!isNaN(layout.top)){
				this.y=Math.round(layout.top+this.pivotY *this.scaleY);
				if (!isNaN(layout.bottom)){
					this.height=(parent._height-layout.top-layout.bottom)/ (this.scaleY || 0.01);
				}
				}else if (!isNaN(layout.bottom)){
				this.y=Math.round(parent.height-this.displayHeight-layout.bottom+this.pivotY *this.scaleY);
			}
		}
	}

	/**
	*对象的 <code>Event.MOUSE_OVER</code> 事件侦听处理函数。
	*/
	__proto.onMouseOver=function(e){
		Laya.stage.event(/*laya.ui.UIEvent.SHOW_TIP*/"showtip",this._toolTip);
	}

	/**
	*对象的 <code>Event.MOUSE_OUT</code> 事件侦听处理函数。
	*/
	__proto.onMouseOut=function(e){
		Laya.stage.event(/*laya.ui.UIEvent.HIDE_TIP*/"hidetip",this._toolTip);
	}

	/**
	*<p>对象的显示宽度（以像素为单位）。</p>
	*/
	__getset(0,__proto,'displayWidth',function(){
		return this.width *this.scaleX;
	});

	/**
	*<p>表示显示对象的宽度，以像素为单位。</p>
	*<p><b>注：</b>当值为0时，宽度为自适应大小。</p>
	*/
	__getset(0,__proto,'width',function(){
		if (this._width)return this._width;
		return this.measureWidth;
		},function(value){
		if (this._width !=value){
			this._width=value;
			this.conchModel && this.conchModel.size(this._width,this._height);
			this.callLater(this.changeSize);
			if (this._layout.enable && (!isNaN(this._layout.centerX)|| !isNaN(this._layout.right)|| !isNaN(this._layout.anchorX)))this.resetLayoutX();
		}
	});

	/**
	*<p>显示对象的实际显示区域宽度（以像素为单位）。</p>
	*/
	__getset(0,__proto,'measureWidth',function(){
		var max=0;
		this.commitMeasure();
		for (var i=this.numChildren-1;i >-1;i--){
			var comp=this.getChildAt(i);
			if (comp.visible){
				max=Math.max(comp.x+comp.width *comp.scaleX,max);
			}
		}
		return max;
	});

	/**
	*<p>对象的显示高度（以像素为单位）。</p>
	*/
	__getset(0,__proto,'displayHeight',function(){
		return this.height *this.scaleY;
	});

	/**
	*<p>表示显示对象的高度，以像素为单位。</p>
	*<p><b>注：</b>当值为0时，高度为自适应大小。</p>
	*/
	__getset(0,__proto,'height',function(){
		if (this._height)return this._height;
		return this.measureHeight;
		},function(value){
		if (this._height !=value){
			this._height=value;
			this.conchModel && this.conchModel.size(this._width,this._height);
			this.callLater(this.changeSize);
			if (this._layout.enable && (!isNaN(this._layout.centerY)|| !isNaN(this._layout.bottom)|| !isNaN(this._layout.anchorY)))this.resetLayoutY();
		}
	});

	/**
	*<p>数据赋值，通过对UI赋值来控制UI显示逻辑。</p>
	*<p>简单赋值会更改组件的默认属性，使用大括号可以指定组件的任意属性进行赋值。</p>
	*@example
	//默认属性赋值
	dataSource={label1:"改变了label",checkbox1:true};//(更改了label1的text属性值，更改checkbox1的selected属性)。
	//任意属性赋值
	dataSource={label2:{text:"改变了label",size:14},checkbox2:{selected:true,x:10}};
	*/
	__getset(0,__proto,'dataSource',function(){
		return this._dataSource;
		},function(value){
		this._dataSource=value;
		for (var prop in this._dataSource){
			if (this.hasOwnProperty(prop)&& !((typeof (this[prop])=='function'))){
				this[prop]=this._dataSource[prop];
			}
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'scaleY',_super.prototype._$get_scaleY,function(value){
		if (Laya.superGet(Sprite,this,'scaleY')!=value){
			Laya.superSet(Sprite,this,'scaleY',value);
			this.callLater(this.changeSize);
			this._layout.enable && this.resetLayoutY();
		}
	});

	/**
	*<p>显示对象的实际显示区域高度（以像素为单位）。</p>
	*/
	__getset(0,__proto,'measureHeight',function(){
		var max=0;
		this.commitMeasure();
		for (var i=this.numChildren-1;i >-1;i--){
			var comp=this.getChildAt(i);
			if (comp.visible){
				max=Math.max(comp.y+comp.height *comp.scaleY,max);
			}
		}
		return max;
	});

	/**@inheritDoc */
	__getset(0,__proto,'scaleX',_super.prototype._$get_scaleX,function(value){
		if (Laya.superGet(Sprite,this,'scaleX')!=value){
			Laya.superSet(Sprite,this,'scaleX',value);
			this.callLater(this.changeSize);
			this._layout.enable && this.resetLayoutX();
		}
	});

	/**
	*<p>从组件顶边到其内容区域顶边之间的垂直距离（以像素为单位）。</p>
	*/
	__getset(0,__proto,'top',function(){
		return this._layout.top;
		},function(value){
		if (value !=this._layout.top){
			this.getLayout().top=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutY();
	});

	/**
	*<p>从组件底边到其内容区域底边之间的垂直距离（以像素为单位）。</p>
	*/
	__getset(0,__proto,'bottom',function(){
		return this._layout.bottom;
		},function(value){
		if (value !=this._layout.bottom){
			this.getLayout().bottom=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutY();
	});

	/**
	*<p>从组件左边到其内容区域左边之间的水平距离（以像素为单位）。</p>
	*/
	__getset(0,__proto,'left',function(){
		return this._layout.left;
		},function(value){
		if (value !=this._layout.left){
			this.getLayout().left=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutX();
	});

	/**
	*<p>从组件右边到其内容区域右边之间的水平距离（以像素为单位）。</p>
	*/
	__getset(0,__proto,'right',function(){
		return this._layout.right;
		},function(value){
		if (value !=this._layout.right){
			this.getLayout().right=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutX();
	});

	/**
	*<p>在父容器中，此对象的水平方向中轴线与父容器的水平方向中心线的距离（以像素为单位）。</p>
	*/
	__getset(0,__proto,'centerX',function(){
		return this._layout.centerX;
		},function(value){
		if (value !=this._layout.centerX){
			this.getLayout().centerX=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutX();
	});

	/**
	*<p>在父容器中，此对象的垂直方向中轴线与父容器的垂直方向中心线的距离（以像素为单位）。</p>
	*/
	__getset(0,__proto,'centerY',function(){
		return this._layout.centerY;
		},function(value){
		if (value !=this._layout.centerY){
			this.getLayout().centerY=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutY();
	});

	/**X轴锚点，值为0-1*/
	__getset(0,__proto,'anchorX',function(){
		return this._layout.anchorX;
		},function(value){
		if (value !=this._layout.anchorX){
			this.getLayout().anchorX=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutX();
	});

	/**Y轴锚点，值为0-1*/
	__getset(0,__proto,'anchorY',function(){
		return this._layout.anchorY;
		},function(value){
		if (value !=this._layout.anchorY){
			this.getLayout().anchorY=value;
			this._setLayoutEnabled(true);
		}
		this.resetLayoutY();
	});

	/**
	*<p>对象的标签。</p>
	*@internal 冗余字段，可以用来储存数据。
	*/
	__getset(0,__proto,'tag',function(){
		return this._tag;
		},function(value){
		this._tag=value;
	});

	/**
	*<p>鼠标悬停提示。</p>
	*<p>可以赋值为文本 <code>String</code> 或函数 <code>Handler</code> ，用来实现自定义样式的鼠标提示和参数携带等。</p>
	*@example
	*private var _testTips:TestTipsUI=new TestTipsUI();
	*private function testTips():void {
		//简单鼠标提示
		*btn2.toolTip="这里是鼠标提示&lt;b&gt;粗体&lt;/b&gt;&lt;br&gt;换行";
		//自定义的鼠标提示
		*btn1.toolTip=showTips1;
		//带参数的自定义鼠标提示
		*clip.toolTip=new Handler(this,showTips2,["clip"]);
		*}
	*private function showTips1():void {
		*_testTips.label.text="这里是按钮["+btn1.label+"]";
		*tip.addChild(_testTips);
		*}
	*private function showTips2(name:String):void {
		*_testTips.label.text="这里是"+name;
		*tip.addChild(_testTips);
		*}
	*/
	__getset(0,__proto,'toolTip',function(){
		return this._toolTip;
		},function(value){
		if (this._toolTip !=value){
			this._toolTip=value;
			if (value !=null){
				this.on(/*laya.events.Event.MOUSE_OVER*/"mouseover",this,this.onMouseOver);
				this.on(/*laya.events.Event.MOUSE_OUT*/"mouseout",this,this.onMouseOut);
				}else {
				this.off(/*laya.events.Event.MOUSE_OVER*/"mouseover",this,this.onMouseOver);
				this.off(/*laya.events.Event.MOUSE_OUT*/"mouseout",this,this.onMouseOut);
			}
		}
	});

	/**
	*XML 数据。
	*/
	__getset(0,__proto,'comXml',function(){
		return this._comXml;
		},function(value){
		this._comXml=value;
	});

	/**是否变灰。*/
	__getset(0,__proto,'gray',function(){
		return this._gray;
		},function(value){
		if (value!==this._gray){
			this._gray=value;
			UIUtils.gray(this,value);
		}
	});

	/**是否禁用页面，设置为true后，会变灰并且禁用鼠标。*/
	__getset(0,__proto,'disabled',function(){
		return this._disabled;
		},function(value){
		if (value!==this._disabled){
			this.gray=this._disabled=value;
			this.mouseEnabled=!value;
		}
	});

	return Component;
})(Sprite)


/**
*<code>DialogManager</code> 对话框管理容器，所有的对话框都在该容器内，并且受管理器管理。
*任意对话框打开和关闭，都会出发管理类的open和close事件
*可以通过UIConfig设置弹出框背景透明度，模式窗口点击边缘是否关闭，点击窗口是否切换层次等
*通过设置对话框的zOrder属性，可以更改弹出的层次
*/
//class laya.ui.DialogManager extends laya.display.Sprite
var DialogManager=(function(_super){
	function DialogManager(){
		/**锁屏层*/
		this.lockLayer=null;
		/**@private 全局默认弹出对话框效果，可以设置一个效果代替默认的弹出效果，如果不想有任何效果，可以赋值为null*/
		this.popupEffect=function(dialog){
			dialog.scale(1,1);
			Tween.from(dialog,{x:Laya.stage.width / 2,y:Laya.stage.height / 2,scaleX:0,scaleY:0},300,Ease.backOut,Handler.create(this,this.doOpen,[dialog]));
		}
		/**@private 全局默认关闭对话框效果，可以设置一个效果代替默认的关闭效果，如果不想有任何效果，可以赋值为null*/
		this.closeEffect=function(dialog,type){
			Tween.to(dialog,{x:Laya.stage.width / 2,y:Laya.stage.height / 2,scaleX:0,scaleY:0},300,Ease.strongOut,Handler.create(this,this.doClose,[dialog,type]));
		}
		DialogManager.__super.call(this);
		this.maskLayer=new Sprite();
		this.popupEffectHandler=new Handler(this,this.popupEffect);
		this.closeEffectHandler=new Handler(this,this.closeEffect);
		this.mouseEnabled=this.maskLayer.mouseEnabled=true;
		this.zOrder=1000;
		Laya.stage.addChild(this);
		Laya.stage.on(/*laya.events.Event.RESIZE*/"resize",this,this._onResize);
		if (UIConfig.closeDialogOnSide)this.maskLayer.on("click",this,this._closeOnSide);
		this._onResize(null);
	}

	__class(DialogManager,'laya.ui.DialogManager',_super);
	var __proto=DialogManager.prototype;
	__proto._closeOnSide=function(){
		var dialog=this.getChildAt(this.numChildren-1);
		if ((dialog instanceof laya.ui.Dialog ))dialog.close("side");
	}

	/**设置锁定界面，如果为空则什么都不显示*/
	__proto.setLockView=function(value){
		if (!this.lockLayer){
			this.lockLayer=new Box();
			this.lockLayer.mouseEnabled=true;
			this.lockLayer.size(Laya.stage.width,Laya.stage.height);
		}
		this.lockLayer.removeChildren();
		if (value){
			value.centerX=value.centerY=0;
			this.lockLayer.addChild(value);
		}
	}

	/**@private */
	__proto._onResize=function(e){
		var width=this.maskLayer.width=Laya.stage.width;
		var height=this.maskLayer.height=Laya.stage.height;
		if (this.lockLayer)this.lockLayer.size(width,height);
		this.maskLayer.graphics.clear();
		this.maskLayer.graphics.drawRect(0,0,width,height,UIConfig.popupBgColor);
		this.maskLayer.alpha=UIConfig.popupBgAlpha;
		for (var i=this.numChildren-1;i >-1;i--){
			var item=this.getChildAt(i);
			if (item.popupCenter)this._centerDialog(item);
		}
	}

	__proto._centerDialog=function(dialog){
		dialog.x=Math.round(((Laya.stage.width-dialog.width)>> 1)+dialog.pivotX);
		dialog.y=Math.round(((Laya.stage.height-dialog.height)>> 1)+dialog.pivotY);
	}

	/**
	*显示对话框(非模式窗口类型)。
	*@param dialog 需要显示的对象框 <code>Dialog</code> 实例。
	*@param closeOther 是否关闭其它对话框，若值为ture，则关闭其它的对话框。
	*@param showEffect 是否显示弹出效果
	*/
	__proto.open=function(dialog,closeOther,showEffect){
		(closeOther===void 0)&& (closeOther=false);
		(showEffect===void 0)&& (showEffect=false);
		if (closeOther)this._closeAll();
		if (dialog.popupCenter)this._centerDialog(dialog);
		this.addChild(dialog);
		if (dialog.isModal || this._$P["hasZorder"])this.timer.callLater(this,this._checkMask);
		if (showEffect && dialog.popupEffect !=null)dialog.popupEffect.runWith(dialog);
		else this.doOpen(dialog);
		this.event(/*laya.events.Event.OPEN*/"open");
	}

	/**
	*执行打开对话框。
	*@param dialog 需要关闭的对象框 <code>Dialog</code> 实例。
	*@param type 关闭的类型，默认为空
	*/
	__proto.doOpen=function(dialog){
		dialog.onOpened();
	}

	/**
	*锁定所有层，显示加载条信息，防止双击
	*/
	__proto.lock=function(value){
		if (this.lockLayer){
			if (value)this.addChild(this.lockLayer);
			else this.lockLayer.removeSelf();
		}
	}

	/**
	*关闭对话框。
	*@param dialog 需要关闭的对象框 <code>Dialog</code> 实例。
	*@param type 关闭的类型，默认为空
	*@param showEffect 是否显示弹出效果
	*/
	__proto.close=function(dialog,type,showEffect){
		(showEffect===void 0)&& (showEffect=false);
		if (showEffect && dialog.closeEffect !=null)dialog.closeEffect.runWith([dialog,type]);
		else this.doClose(dialog,type);
		this.event(/*laya.events.Event.CLOSE*/"close");
	}

	/**
	*执行关闭对话框。
	*@param dialog 需要关闭的对象框 <code>Dialog</code> 实例。
	*@param type 关闭的类型，默认为空
	*/
	__proto.doClose=function(dialog,type){
		dialog.removeSelf();
		dialog.isModal && this._checkMask();
		dialog.closeHandler && dialog.closeHandler.runWith(type);
		dialog.onClosed(type);
	}

	/**
	*关闭所有的对话框。
	*/
	__proto.closeAll=function(){
		this._closeAll();
		this.event(/*laya.events.Event.CLOSE*/"close");
	}

	/**@private */
	__proto._closeAll=function(){
		for (var i=this.numChildren-1;i >-1;i--){
			var item=this.getChildAt(i);
			if (item && item.close !=null){
				this.doClose(item);
			}
		}
	}

	/**
	*根据组获取所有对话框
	*@param group 组名称
	*@return 对话框数组
	*/
	__proto.getDialogsByGroup=function(group){
		var arr=[];
		for (var i=this.numChildren-1;i >-1;i--){
			var item=this.getChildAt(i);
			if (item && item.group===group){
				arr.push(item);
			}
		}
		return arr;
	}

	/**
	*根据组关闭所有弹出框
	*@param group 需要关闭的组名称
	*@return 需要关闭的对话框数组
	*/
	__proto.closeByGroup=function(group){
		var arr=[];
		for (var i=this.numChildren-1;i >-1;i--){
			var item=this.getChildAt(i);
			if (item && item.group===group){
				item.close();
				arr.push(item);
			}
		}
		return arr;
	}

	/**@private 发生层次改变后，重新检查遮罩层是否正确*/
	__proto._checkMask=function(){
		this.maskLayer.removeSelf();
		for (var i=this.numChildren-1;i >-1;i--){
			var dialog=this.getChildAt(i);
			if (dialog && dialog.isModal){
				this.addChildAt(this.maskLayer,i);
				return;
			}
		}
	}

	return DialogManager;
})(Sprite)


/**
*<code>Box</code> 类是一个控件容器类。
*/
//class laya.ui.Box extends laya.ui.Component
var Box=(function(_super){
	function Box(){
		Box.__super.call(this);;
	}

	__class(Box,'laya.ui.Box',_super);
	var __proto=Box.prototype;
	Laya.imps(__proto,{"laya.ui.IBox":true})
	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		for (var name in value){
			var comp=this.getChildByName(name);
			if (comp)comp.dataSource=value[name];
			else if (this.hasOwnProperty(name)&& !((typeof (this[name])=='function')))this[name]=value[name];
		}
	});

	return Box;
})(Component)


/**
*<code>Button</code> 组件用来表示常用的多态按钮。 <code>Button</code> 组件可显示文本标签、图标或同时显示两者。 *
*<p>可以是单态，两态和三态，默认三态(up,over,down)。</p>
*
*@example <caption>以下示例代码，创建了一个 <code>Button</code> 实例。</caption>
*package
*{
	*import laya.ui.Button;
	*import laya.utils.Handler;
	*public class Button_Example
	*{
		*public function Button_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load("resource/ui/button.png",Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*trace("资源加载完成！");
			*var button:Button=new Button("resource/ui/button.png","label");//创建一个 Button 类的实例对象 button ,并传入它的皮肤。
			*button.x=100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
			*button.y=100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
			*button.clickHandler=new Handler(this,onClickButton,[button]);//设置 button 的点击事件处理器。
			*Laya.stage.addChild(button);//将此 button 对象添加到显示列表。
			*}
		*private function onClickButton(button:Button):void
		*{
			*trace("按钮button被点击了！");
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
*Laya.loader.load("resource/ui/button.png",laya.utils.Handler.create(this,loadComplete));//加载资源
*function loadComplete()
*{
	*console.log("资源加载完成！");
	*var button=new laya.ui.Button("resource/ui/button.png","label");//创建一个 Button 类的实例对象 button ,传入它的皮肤skin和标签label。
	*button.x=100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
	*button.y=100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
	*button.clickHandler=laya.utils.Handler.create(this,onClickButton,[button],false);//设置 button 的点击事件处理函数。
	*Laya.stage.addChild(button);//将此 button 对象添加到显示列表。
	*}
*function onClickButton(button)
*{
	*console.log("按钮被点击了。",button);
	*}
*@example
*import Button=laya.ui.Button;
*import Handler=laya.utils.Handler;
*class Button_Example{
	*constructor()
	*{
		*Laya.init(640,800);
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("resource/ui/button.png",laya.utils.Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete()
	*{
		*var button:Button=new Button("resource/ui/button.png","label");//创建一个 Button 类的实例对象 button ,并传入它的皮肤。
		*button.x=100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
		*button.y=100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
		*button.clickHandler=new Handler(this,this.onClickButton,[button]);//设置 button 的点击事件处理器。
		*Laya.stage.addChild(button);//将此 button 对象添加到显示列表。
		*}
	*private onClickButton(button:Button):void
	*{
		*console.log("按钮button被点击了！")
		*}
	*}
*/
//class laya.ui.Button extends laya.ui.Component
var Button=(function(_super){
	function Button(skin,label){
		/**
		*指定按钮按下时是否是切换按钮的显示状态。
		*
		*@example 以下示例代码，创建了一个 <code>Button</code> 实例，并设置为切换按钮。
		*@example
		*package
		*{
			*import laya.ui.Button;
			*import laya.utils.Handler;
			*public class Button_toggle
			*{
				*public function Button_toggle()
				*{
					*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
					*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
					*Laya.loader.load("resource/ui/button.png",Handler.create(this,onLoadComplete));
					*}
				*private function onLoadComplete():void
				*{
					*trace("资源加载完成！");
					*var button:Button=new Button("resource/ui/button.png","label");//创建一个 Button 实例对象 button ,传入它的皮肤skin和标签label。
					*button.x=100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
					*button.y=100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
					*button.toggle=true;//设置 button 对象为切换按钮。
					*button.clickHandler=new Handler(this,onClickButton,[button]);//设置 button 的点击事件处理器。
					*Laya.stage.addChild(button);//将此 button 对象添加到显示列表。
					*}
				*private function onClickButton(button:Button):void
				*{
					*trace("button.selected = "+button.selected);
					*}
				*}
			*}
		*@example
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("resource/ui/button.png",laya.utils.Handler.create(this,loadComplete));//加载资源
		*function loadComplete()
		*{
			*console.log("资源加载完成！");
			*var button=new laya.ui.Button("resource/ui/button.png","label");//创建一个 Button 类的实例对象 button ,传入它的皮肤skin和标签label。
			*button.x=100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
			*button.y=100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
			*button.toggle=true;//设置 button 对象为切换按钮。
			*button.clickHandler=laya.utils.Handler.create(this,onClickButton,[button],false);//设置 button 的点击事件处理器。
			*Laya.stage.addChild(button);//将此 button 对象添加到显示列表。
			*}
		*function onClickButton(button)
		*{
			*console.log("button.selected = ",button.selected);
			*}
		*@example
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("button.png",null,null,null,null,null);//加载资源
		*function loadComplete(){
			*console.log("资源加载完成！");
			*var button:laya.ui.Button=new laya.ui.Button("button.png","label");//创建一个 Button 类的实例对象 button ,传入它的皮肤skin和标签label。
			*button.x=100;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
			*button.y=100;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
			*button.toggle=true;//设置 button 对象为切换按钮。
			*button.clickHandler=laya.utils.Handler.create(this,onClickButton,[button],false);//设置 button 的点击事件处理器。
			*Laya.stage.addChild(button);//将此 button 对象添加到显示列表。
			*}
		*function onClickButton(button){
			*console.log("button.selected = ",button.selected);
			*}
		*/
		this.toggle=false;
		/**
		*@private
		*/
		this._bitmap=null;
		/**
		*@private
		*按钮上的文本。
		*/
		this._text=null;
		/**
		*@private
		*按钮文本标签描边的颜色值。
		*/
		this._strokeColors=null;
		/**
		*@private
		*按钮的状态值。
		*/
		this._state=0;
		/**
		*@private
		*表示按钮的选中状态。
		*/
		this._selected=false;
		/**
		*@private
		*按钮的皮肤资源。
		*/
		this._skin=null;
		/**
		*@private
		*指定此显示对象是否自动计算并改变大小等属性。
		*/
		this._autoSize=true;
		/**
		*@private
		*源数据。
		*/
		this._sources=null;
		/**
		*@private
		*按钮的点击事件函数。
		*/
		this._clickHandler=null;
		/**
		*@private
		*/
		this._stateChanged=false;
		Button.__super.call(this);
		this._labelColors=Styles.buttonLabelColors;
		this._stateNum=Styles.buttonStateNum;
		(label===void 0)&& (label="");
		this.skin=skin;
		this.label=label;
	}

	__class(Button,'laya.ui.Button',_super);
	var __proto=Button.prototype;
	Laya.imps(__proto,{"laya.ui.ISelect":true})
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._bitmap && this._bitmap.destroy();
		this._text && this._text.destroy(destroyChild);
		this._bitmap=null;
		this._text=null;
		this._clickHandler=null;
		this._labelColors=this._sources=this._strokeColors=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.graphics=this._bitmap=new AutoBitmap();
	}

	/**@private */
	__proto.createText=function(){
		if (!this._text){
			this._text=new Text();
			this._text.overflow=Text.HIDDEN;
			this._text.align="center";
			this._text.valign="middle";
			this._text.width=this._width;
			this._text.height=this._height;
		}
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		if (this._mouseEnableState!==1){
			this.mouseEnabled=true;
			this._setBit(/*laya.display.Node.MOUSEENABLE*/0x2,true);
		}
		this._createListener(/*laya.events.Event.MOUSE_OVER*/"mouseover",this,this.onMouse,null,false,false);
		this._createListener(/*laya.events.Event.MOUSE_OUT*/"mouseout",this,this.onMouse,null,false,false);
		this._createListener(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onMouse,null,false,false);
		this._createListener(/*laya.events.Event.MOUSE_UP*/"mouseup",this,this.onMouse,null,false,false);
		this._createListener(/*laya.events.Event.CLICK*/"click",this,this.onMouse,null,false,false);
	}

	/**
	*对象的 <code>Event.MOUSE_OVER、Event.MOUSE_OUT、Event.MOUSE_DOWN、Event.MOUSE_UP、Event.CLICK</code> 事件侦听处理函数。
	*@param e Event 对象。
	*/
	__proto.onMouse=function(e){
		if (this.toggle===false && this._selected)return;
		if (e.type===/*laya.events.Event.CLICK*/"click"){
			this.toggle && (this.selected=!this._selected);
			this._clickHandler && this._clickHandler.run();
			return;
		}
		!this._selected && (this.state=Button.stateMap[e.type]);
	}

	/**
	*@private
	*对象的资源切片发生改变。
	*/
	__proto.changeClips=function(){
		var img=Loader.getRes(this._skin);
		if (!img){
			console.log("lose skin",this._skin);
			return;
		};
		var width=img.sourceWidth;
		var height=img.sourceHeight / this._stateNum;
		img.$_GID || (img.$_GID=Utils.getGID());
		var key=img.$_GID+"-"+this._stateNum;
		var clips=WeakObject.I.get(key);
		if (!Utils.isOkTextureList(clips)){
			clips=null;
		}
		if (clips)this._sources=clips;
		else {
			this._sources=[];
			if (this._stateNum===1){
				this._sources.push(img);
				}else {
				for (var i=0;i < this._stateNum;i++){
					this._sources.push(Texture.createFromTexture(img,0,height *i,width,height));
				}
			}
			WeakObject.I.set(key,this._sources);
		}
		if (this._autoSize){
			this._bitmap.width=this._width || width;
			this._bitmap.height=this._height || height;
			if (this._text){
				this._text.width=this._bitmap.width;
				this._text.height=this._bitmap.height;
			}
			}else {
			this._text && (this._text.x=width);
		}
	}

	/**
	*@private
	*改变对象的状态。
	*/
	__proto.changeState=function(){
		this._stateChanged=false;
		this.runCallLater(this.changeClips);
		var index=this._state < this._stateNum ? this._state :this._stateNum-1;
		this._sources && (this._bitmap.source=this._sources[index]);
		if (this.label){
			this._text.color=this._labelColors[index];
			if (this._strokeColors)this._text.strokeColor=this._strokeColors[index];
		}
	}

	/**@private */
	__proto._setStateChanged=function(){
		if (!this._stateChanged){
			this._stateChanged=true;
			this.callLater(this.changeState);
		}
	}

	/**
	*<p>描边颜色，以字符串表示。</p>
	*默认值为 "#000000"（黑色）;
	*@see laya.display.Text.strokeColor()
	*/
	__getset(0,__proto,'labelStrokeColor',function(){
		this.createText();
		return this._text.strokeColor;
		},function(value){
		this.createText();
		this._text.strokeColor=value
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'measureHeight',function(){
		this.runCallLater(this.changeClips);
		return this._text ? Math.max(this._bitmap.height,this._text.height):this._bitmap.height;
	});

	/**
	*<p>对象的皮肤资源地址。</p>
	*支持单态，两态和三态，用 <code>stateNum</code> 属性设置
	*<p>对象的皮肤地址，以字符串表示。</p>
	*@see #stateNum
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			this.callLater(this.changeClips);
			this._setStateChanged();
		}
	});

	/**
	*对象的状态值。
	*@see #stateMap
	*/
	__getset(0,__proto,'state',function(){
		return this._state;
		},function(value){
		if (this._state !=value){
			this._state=value;
			this._setStateChanged();
		}
	});

	/**
	*按钮文本标签 <code>Text</code> 控件。
	*/
	__getset(0,__proto,'text',function(){
		this.createText();
		return this._text;
	});

	/**
	*<p>指定对象的状态值，以数字表示。</p>
	*<p>默认值为3。此值决定皮肤资源图片的切割方式。</p>
	*<p><b>取值：</b>
	*<li>1：单态。图片不做切割，按钮的皮肤状态只有一种。</li>
	*<li>2：两态。图片将以竖直方向被等比切割为2部分，从上向下，依次为
	*弹起状态皮肤、
	*按下和经过及选中状态皮肤。</li>
	*<li>3：三态。图片将以竖直方向被等比切割为3部分，从上向下，依次为
	*弹起状态皮肤、
	*经过状态皮肤、
	*按下和选中状态皮肤</li>
	*</p>
	*/
	__getset(0,__proto,'stateNum',function(){
		return this._stateNum;
		},function(value){
		if ((typeof value=='string')){
			value=parseInt(value);
		}
		if (this._stateNum !=value){
			this._stateNum=value < 1 ? 1 :value > 3 ? 3 :value;
			this.callLater(this.changeClips);
		}
	});

	/**
	*表示按钮各个状态下的描边颜色。
	*<p><b>格式:</b> "upColor,overColor,downColor,disableColor"。</p>
	*/
	__getset(0,__proto,'strokeColors',function(){
		return this._strokeColors ? this._strokeColors.join(","):"";
		},function(value){
		this._strokeColors=UIUtils.fillArray(Styles.buttonLabelColors,value,String);
		this._setStateChanged();
	});

	/**
	*表示按钮各个状态下的文本颜色。
	*<p><b>格式:</b> "upColor,overColor,downColor,disableColor"。</p>
	*/
	__getset(0,__proto,'labelColors',function(){
		return this._labelColors.join(",");
		},function(value){
		this._labelColors=UIUtils.fillArray(Styles.buttonLabelColors,value,String);
		this._setStateChanged();
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'measureWidth',function(){
		this.runCallLater(this.changeClips);
		if (this._autoSize)return this._bitmap.width;
		this.runCallLater(this.changeState);
		return this._bitmap.width+(this._text ? this._text.width :0);
	});

	/**
	*按钮的文本内容。
	*/
	__getset(0,__proto,'label',function(){
		return this._text ? this._text.text :null;
		},function(value){
		if (!this._text && !value)return;
		this.createText();
		if (this._text.text !=value){
			value && !this._text.parent && this.addChild(this._text);
			this._text.text=(value+"").replace(/\\n/g,"\n");
			this._setStateChanged();
		}
	});

	/**
	*表示按钮的选中状态。
	*<p>如果值为true，表示该对象处于选中状态。否则该对象处于未选中状态。</p>
	*/
	__getset(0,__proto,'selected',function(){
		return this._selected;
		},function(value){
		if (this._selected !=value){
			this._selected=value;
			this.state=this._selected ? 2 :0;
			this.event(/*laya.events.Event.CHANGE*/"change");
		}
	});

	/**
	*表示按钮文本标签的边距。
	*<p><b>格式：</b>"上边距,右边距,下边距,左边距"。</p>
	*/
	__getset(0,__proto,'labelPadding',function(){
		this.createText();
		return this._text.padding.join(",");
		},function(value){
		this.createText();
		this._text.padding=UIUtils.fillArray(Styles.labelPadding,value,Number);
	});

	/**
	*表示按钮文本标签的字体大小。
	*@see laya.display.Text.fontSize()
	*/
	__getset(0,__proto,'labelSize',function(){
		this.createText();
		return this._text.fontSize;
		},function(value){
		this.createText();
		this._text.fontSize=value
	});

	/**
	*<p>描边宽度（以像素为单位）。</p>
	*默认值0，表示不描边。
	*@see laya.display.Text.stroke()
	*/
	__getset(0,__proto,'labelStroke',function(){
		this.createText();
		return this._text.stroke;
		},function(value){
		this.createText();
		this._text.stroke=value
	});

	/**
	*表示按钮文本标签是否为粗体字。
	*@see laya.display.Text.bold()
	*/
	__getset(0,__proto,'labelBold',function(){
		this.createText();
		return this._text.bold;
		},function(value){
		this.createText();
		this._text.bold=value;
	});

	/**
	*表示按钮文本标签的字体名称，以字符串形式表示。
	*@see laya.display.Text.font()
	*/
	__getset(0,__proto,'labelFont',function(){
		this.createText();
		return this._text.font;
		},function(value){
		this.createText();
		this._text.font=value;
	});

	/**标签对齐模式，默认为居中对齐。*/
	__getset(0,__proto,'labelAlign',function(){
		this.createText()
		return this._text.align;
		},function(value){
		this.createText()
		this._text.align=value;
	});

	/**
	*对象的点击事件处理器函数（无默认参数）。
	*/
	__getset(0,__proto,'clickHandler',function(){
		return this._clickHandler;
		},function(value){
		this._clickHandler=value;
	});

	/**
	*<p>当前实例的位图 <code>AutoImage</code> 实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		if (this._bitmap.sizeGrid)return this._bitmap.sizeGrid.join(",");
		return null;
		},function(value){
		this._bitmap.sizeGrid=UIUtils.fillArray(Styles.defaultSizeGrid,value,Number);
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Component,this,'width',value);
		if (this._autoSize){
			this._bitmap.width=value;
			this._text && (this._text.width=value);
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Component,this,'height',value);
		if (this._autoSize){
			this._bitmap.height=value;
			this._text && (this._text.height=value);
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='number')|| (typeof value=='string'))this.label=value+"";
		else Laya.superSet(Component,this,'dataSource',value);
	});

	/**图标x,y偏移，格式：100,100*/
	__getset(0,__proto,'iconOffset',function(){
		return this._bitmap._offset ? this._bitmap._offset.join(","):null;
		},function(value){
		if (value)this._bitmap._offset=UIUtils.fillArray([1,1],value,Number);
		else this._bitmap._offset=[];
	});

	__static(Button,
	['stateMap',function(){return this.stateMap={"mouseup":0,"mouseover":1,"mousedown":2,"mouseout":0};}
	]);
	return Button;
})(Component)


/**
*<p> <code>Clip</code> 类是位图切片动画。</p>
*<p> <code>Clip</code> 可将一张图片，按横向分割数量 <code>clipX</code> 、竖向分割数量 <code>clipY</code> ，
*或横向分割每个切片的宽度 <code>clipWidth</code> 、竖向分割每个切片的高度 <code>clipHeight</code> ，
*从左向右，从上到下，分割组合为一个切片动画。</p>
*Image和Clip组件是唯一支持异步加载的两个组件，比如clip.skin="abc/xxx.png"，其他UI组件均不支持异步加载。
*
*@example <caption>以下示例代码，创建了一个 <code>Clip</code> 实例。</caption>
*package
*{
	*import laya.ui.Clip;
	*public class Clip_Example
	*{
		*private var clip:Clip;
		*public function Clip_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*onInit();
			*}
		*private function onInit():void
		*{
			*clip=new Clip("resource/ui/clip_num.png",10,1);//创建一个 Clip 类的实例对象 clip ,传入它的皮肤skin和横向分割数量、竖向分割数量。
			*clip.autoPlay=true;//设置 clip 动画自动播放。
			*clip.interval=100;//设置 clip 动画的播放时间间隔。
			*clip.x=100;//设置 clip 对象的属性 x 的值，用于控制 clip 对象的显示位置。
			*clip.y=100;//设置 clip 对象的属性 y 的值，用于控制 clip 对象的显示位置。
			*clip.on(Event.CLICK,this,onClick);//给 clip 添加点击事件函数侦听。
			*Laya.stage.addChild(clip);//将此 clip 对象添加到显示列表。
			*}
		*private function onClick():void
		*{
			*trace("clip 的点击事件侦听处理函数。clip.total="+clip.total);
			*if (clip.isPlaying==true)
			*{
				*clip.stop();//停止动画。
				*}else {
				*clip.play();//播放动画。
				*}
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var clip;
*Laya.loader.load("resource/ui/clip_num.png",laya.utils.Handler.create(this,loadComplete));//加载资源
*function loadComplete(){
	*console.log("资源加载完成！");
	*clip=new laya.ui.Clip("resource/ui/clip_num.png",10,1);//创建一个 Clip 类的实例对象 clip ,传入它的皮肤skin和横向分割数量、竖向分割数量。
	*clip.autoPlay=true;//设置 clip 动画自动播放。
	*clip.interval=100;//设置 clip 动画的播放时间间隔。
	*clip.x=100;//设置 clip 对象的属性 x 的值，用于控制 clip 对象的显示位置。
	*clip.y=100;//设置 clip 对象的属性 y 的值，用于控制 clip 对象的显示位置。
	*clip.on(Event.CLICK,this,onClick);//给 clip 添加点击事件函数侦听。
	*Laya.stage.addChild(clip);//将此 clip 对象添加到显示列表。
	*}
*function onClick()
*{
	*console.log("clip 的点击事件侦听处理函数。");
	*if(clip.isPlaying==true)
	*{
		*clip.stop();
		*}else {
		*clip.play();
		*}
	*}
*@example
*import Clip=laya.ui.Clip;
*import Handler=laya.utils.Handler;
*class Clip_Example {
	*private clip:Clip;
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*this.onInit();
		*}
	*private onInit():void {
		*this.clip=new Clip("resource/ui/clip_num.png",10,1);//创建一个 Clip 类的实例对象 clip ,传入它的皮肤skin和横向分割数量、竖向分割数量。
		*this.clip.autoPlay=true;//设置 clip 动画自动播放。
		*this.clip.interval=100;//设置 clip 动画的播放时间间隔。
		*this.clip.x=100;//设置 clip 对象的属性 x 的值，用于控制 clip 对象的显示位置。
		*this.clip.y=100;//设置 clip 对象的属性 y 的值，用于控制 clip 对象的显示位置。
		*this.clip.on(laya.events.Event.CLICK,this,this.onClick);//给 clip 添加点击事件函数侦听。
		*Laya.stage.addChild(this.clip);//将此 clip 对象添加到显示列表。
		*}
	*private onClick():void {
		*console.log("clip 的点击事件侦听处理函数。clip.total="+this.clip.total);
		*if (this.clip.isPlaying==true){
			*this.clip.stop();//停止动画。
			*}else {
			*this.clip.play();//播放动画。
			*}
		*}
	*}
*
*/
//class laya.ui.Clip extends laya.ui.Component
var Clip=(function(_super){
	function Clip(url,clipX,clipY){
		/**@private */
		this._sources=null;
		/**@private */
		this._bitmap=null;
		/**@private */
		this._skin=null;
		/**@private */
		this._clipX=1;
		/**@private */
		this._clipY=1;
		/**@private */
		this._clipWidth=0;
		/**@private */
		this._clipHeight=0;
		/**@private */
		this._autoPlay=false;
		/**@private */
		this._interval=50;
		/**@private */
		this._complete=null;
		/**@private */
		this._isPlaying=false;
		/**@private */
		this._index=0;
		/**@private */
		this._clipChanged=false;
		/**@private */
		this._group=null;
		/**@private */
		this._toIndex=-1;
		Clip.__super.call(this);
		(clipX===void 0)&& (clipX=1);
		(clipY===void 0)&& (clipY=1);
		this._clipX=clipX;
		this._clipY=clipY;
		this.skin=url;
	}

	__class(Clip,'laya.ui.Clip',_super);
	var __proto=Clip.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,true);
		this._bitmap && this._bitmap.destroy();
		this._bitmap=null;
		this._sources=null;
	}

	/**
	*销毁对象并释放加载的皮肤资源。
	*/
	__proto.dispose=function(){
		this.destroy(true);
		Laya.loader.clearRes(this._skin);
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.graphics=this._bitmap=new AutoBitmap();
	}

	/**@private */
	__proto._onDisplay=function(e){
		if (this._isPlaying){
			if (this._displayedInStage)this.play();
			else this.stop();
			}else if (this._autoPlay){
			this.play();
		}
	}

	/**
	*@private
	*改变切片的资源、切片的大小。
	*/
	__proto.changeClip=function(){
		this._clipChanged=false;
		if (!this._skin)return;
		var img=Loader.getRes(this._skin);
		if (img){
			this.loadComplete(this._skin,img);
			}else {
			Laya.loader.load(this._skin,Handler.create(this,this.loadComplete,[this._skin]));
		}
	}

	/**
	*@private
	*加载切片图片资源完成函数。
	*@param url 资源地址。
	*@param img 纹理。
	*/
	__proto.loadComplete=function(url,img){
		if (url===this._skin && img){
			var w=this._clipWidth || Math.ceil(img.sourceWidth / this._clipX);
			var h=this._clipHeight || Math.ceil(img.sourceHeight / this._clipY);
			var key=this._skin+w+h;
			var clips=WeakObject.I.get(key);
			if (!Utils.isOkTextureList(clips)){
				clips=null;
			}
			if (clips)this._sources=clips;
			else {
				this._sources=[];
				for (var i=0;i < this._clipY;i++){
					for (var j=0;j < this._clipX;j++){
						this._sources.push(Texture.createFromTexture(img,w *j,h *i,w,h));
					}
				}
				WeakObject.I.set(key,this._sources);
			}
			this.index=this._index;
			this.event(/*laya.events.Event.LOADED*/"loaded");
			this.onCompResize();
		}
	}

	/**
	*播放动画。
	*@param from 开始索引
	*@param to 结束索引，-1为不限制
	*/
	__proto.play=function(from,to){
		(from===void 0)&& (from=0);
		(to===void 0)&& (to=-1);
		this._isPlaying=true;
		this.index=from;
		this._toIndex=to;
		this._index++;
		Laya.timer.loop(this.interval,this,this._loop);
		this.on(/*laya.events.Event.DISPLAY*/"display",this,this._onDisplay);
		this.on(/*laya.events.Event.UNDISPLAY*/"undisplay",this,this._onDisplay);
	}

	/**
	*@private
	*/
	__proto._loop=function(){
		if (this._style.visible && this._sources){
			this._index++;
			if (this._toIndex >-1 && this._index >=this._toIndex)this.stop();
			else if (this._index >=this._sources.length)this._index=0;
			this.index=this._index;
		}
	}

	/**
	*停止动画。
	*/
	__proto.stop=function(){
		this._isPlaying=false;
		Laya.timer.clear(this,this._loop);
		this.event(/*laya.events.Event.COMPLETE*/"complete");
	}

	/**@private */
	__proto._setClipChanged=function(){
		if (!this._clipChanged){
			this._clipChanged=true;
			this.callLater(this.changeClip);
		}
	}

	/**
	*表示动画播放间隔时间(以毫秒为单位)。
	*/
	__getset(0,__proto,'interval',function(){
		return this._interval;
		},function(value){
		if (this._interval !=value){
			this._interval=value;
			if (this._isPlaying)this.play();
		}
	});

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			if (value){
				this._setClipChanged()
				}else {
				this._bitmap.source=null;
			}
		}
	});

	/**
	*源数据。
	*/
	__getset(0,__proto,'sources',function(){
		return this._sources;
		},function(value){
		this._sources=value;
		this.index=this._index;
		this.event(/*laya.events.Event.LOADED*/"loaded");
	});

	/**X轴（横向）切片数量。*/
	__getset(0,__proto,'clipX',function(){
		return this._clipX;
		},function(value){
		this._clipX=value || 1;
		this._setClipChanged()
	});

	/**Y轴(竖向)切片数量。*/
	__getset(0,__proto,'clipY',function(){
		return this._clipY;
		},function(value){
		this._clipY=value || 1;
		this._setClipChanged()
	});

	/**
	*切片动画的总帧数。
	*/
	__getset(0,__proto,'total',function(){
		this.runCallLater(this.changeClip);
		return this._sources ? this._sources.length :0;
	});

	/**
	*横向分割时每个切片的宽度，与 <code>clipX</code> 同时设置时优先级高于 <code>clipX</code> 。
	*/
	__getset(0,__proto,'clipWidth',function(){
		return this._clipWidth;
		},function(value){
		this._clipWidth=value;
		this._setClipChanged()
	});

	/**
	*<p>当前实例的位图 <code>AutoImage</code> 实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		if (this._bitmap.sizeGrid)return this._bitmap.sizeGrid.join(",");
		return null;
		},function(value){
		this._bitmap.sizeGrid=UIUtils.fillArray(Styles.defaultSizeGrid,value,Number);
	});

	/**
	*资源分组。
	*/
	__getset(0,__proto,'group',function(){
		return this._group;
		},function(value){
		if (value && this._skin)Loader.setGroup(this._skin,value);
		this._group=value;
	});

	/**
	*竖向分割时每个切片的高度，与 <code>clipY</code> 同时设置时优先级高于 <code>clipY</code> 。
	*/
	__getset(0,__proto,'clipHeight',function(){
		return this._clipHeight;
		},function(value){
		this._clipHeight=value;
		this._setClipChanged()
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Component,this,'width',value);
		this._bitmap.width=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Component,this,'height',value);
		this._bitmap.height=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		this.runCallLater(this.changeClip);
		return this._bitmap.width;
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		this.runCallLater(this.changeClip);
		return this._bitmap.height;
	});

	/**
	*当前帧索引。
	*/
	__getset(0,__proto,'index',function(){
		return this._index;
		},function(value){
		this._index=value;
		this._bitmap && this._sources && (this._bitmap.source=this._sources[value]);
		this.event(/*laya.events.Event.CHANGE*/"change");
	});

	/**
	*表示是否自动播放动画，若自动播放值为true,否则值为false;
	*<p>可控制切片动画的播放、停止。</p>
	*/
	__getset(0,__proto,'autoPlay',function(){
		return this._autoPlay;
		},function(value){
		if (this._autoPlay !=value){
			this._autoPlay=value;
			value ? this.play():this.stop();
		}
	});

	/**
	*表示动画的当前播放状态。
	*如果动画正在播放中，则为true，否则为flash。
	*/
	__getset(0,__proto,'isPlaying',function(){
		return this._isPlaying;
		},function(value){
		this._isPlaying=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if (((typeof value=='number')&& Math.floor(value)==value)|| (typeof value=='string'))this.index=parseInt(value);
		else Laya.superSet(Component,this,'dataSource',value);
	});

	/**
	*<code>AutoBitmap</code> 位图实例。
	*/
	__getset(0,__proto,'bitmap',function(){
		return this._bitmap;
	});

	return Clip;
})(Component)


/**
*<code>ColorPicker</code> 组件将显示包含多个颜色样本的列表，用户可以从中选择颜色。
*
*@example <caption>以下示例代码，创建了一个 <code>ColorPicker</code> 实例。</caption>
*package
*{
	*import laya.ui.ColorPicker;
	*import laya.utils.Handler;
	*public class ColorPicker_Example
	*{
		*public function ColorPicker_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load("resource/ui/color.png",Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*trace("资源加载完成！");
			*var colorPicket:ColorPicker=new ColorPicker();//创建一个 ColorPicker 类的实例对象 colorPicket 。
			*colorPicket.skin="resource/ui/color.png";//设置 colorPicket 的皮肤。
			*colorPicket.x=100;//设置 colorPicket 对象的属性 x 的值，用于控制 colorPicket 对象的显示位置。
			*colorPicket.y=100;//设置 colorPicket 对象的属性 y 的值，用于控制 colorPicket 对象的显示位置。
			*colorPicket.changeHandler=new Handler(this,onChangeColor,[colorPicket]);//设置 colorPicket 的颜色改变回调函数。
			*Laya.stage.addChild(colorPicket);//将此 colorPicket 对象添加到显示列表。
			*}
		*private function onChangeColor(colorPicket:ColorPicker):void
		*{
			*trace("当前选择的颜色： "+colorPicket.selectedColor);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*Laya.loader.load("resource/ui/color.png",laya.utils.Handler.create(this,loadComplete));//加载资源
*function loadComplete()
*{
	*console.log("资源加载完成！");
	*var colorPicket=new laya.ui.ColorPicker();//创建一个 ColorPicker 类的实例对象 colorPicket 。
	*colorPicket.skin="resource/ui/color.png";//设置 colorPicket 的皮肤。
	*colorPicket.x=100;//设置 colorPicket 对象的属性 x 的值，用于控制 colorPicket 对象的显示位置。
	*colorPicket.y=100;//设置 colorPicket 对象的属性 y 的值，用于控制 colorPicket 对象的显示位置。
	*colorPicket.changeHandler=laya.utils.Handler.create(this,onChangeColor,[colorPicket],false);//设置 colorPicket 的颜色改变回调函数。
	*Laya.stage.addChild(colorPicket);//将此 colorPicket 对象添加到显示列表。
	*}
*function onChangeColor(colorPicket)
*{
	*console.log("当前选择的颜色： "+colorPicket.selectedColor);
	*}
*@example
*import ColorPicker=laya.ui.ColorPicker;
*import Handler=laya.utils.Handler;
*class ColorPicker_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("resource/ui/color.png",Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*console.log("资源加载完成！");
		*var colorPicket:ColorPicker=new ColorPicker();//创建一个 ColorPicker 类的实例对象 colorPicket 。
		*colorPicket.skin="resource/ui/color.png";//设置 colorPicket 的皮肤。
		*colorPicket.x=100;//设置 colorPicket 对象的属性 x 的值，用于控制 colorPicket 对象的显示位置。
		*colorPicket.y=100;//设置 colorPicket 对象的属性 y 的值，用于控制 colorPicket 对象的显示位置。
		*colorPicket.changeHandler=new Handler(this,this.onChangeColor,[colorPicket]);//设置 colorPicket 的颜色改变回调函数。
		*Laya.stage.addChild(colorPicket);//将此 colorPicket 对象添加到显示列表。
		*}
	*private onChangeColor(colorPicket:ColorPicker):void {
		*console.log("当前选择的颜色： "+colorPicket.selectedColor);
		*}
	*}
*/
//class laya.ui.ColorPicker extends laya.ui.Component
var ColorPicker=(function(_super){
	function ColorPicker(){
		/**
		*当颜色发生改变时执行的函数处理器。
		*默认返回参数color：颜色值字符串。
		*/
		this.changeHandler=null;
		/**
		*@private
		*指定每个正方形的颜色小格子的宽高（以像素为单位）。
		*/
		this._gridSize=11;
		/**
		*@private
		*表示颜色样本列表面板的背景颜色值。
		*/
		this._bgColor="#ffffff";
		/**
		*@private
		*表示颜色样本列表面板的边框颜色值。
		*/
		this._borderColor="#000000";
		/**
		*@private
		*表示颜色样本列表面板选择或输入的颜色值。
		*/
		this._inputColor="#000000";
		/**
		*@private
		*表示颜色输入框的背景颜色值。
		*/
		this._inputBgColor="#efefef";
		/**
		*@private
		*表示颜色样本列表面板。
		*/
		this._colorPanel=null;
		/**
		*@private
		*表示颜色网格。
		*/
		this._colorTiles=null;
		/**
		*@private
		*表示颜色块显示对象。
		*/
		this._colorBlock=null;
		/**
		*@private
		*表示颜色输入框控件 <code>Input</code> 。
		*/
		this._colorInput=null;
		/**
		*@private
		*表示点击后显示颜色样本列表面板的按钮控件 <code>Button</code> 。
		*/
		this._colorButton=null;
		/**
		*@private
		*表示颜色值列表。
		*/
		this._colors=[];
		/**
		*@private
		*表示选择的颜色值。
		*/
		this._selectedColor="#000000";
		/**@private */
		this._panelChanged=false;
		ColorPicker.__super.call(this);
	}

	__class(ColorPicker,'laya.ui.ColorPicker',_super);
	var __proto=ColorPicker.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._colorPanel && this._colorPanel.destroy(destroyChild);
		this._colorButton && this._colorButton.destroy(destroyChild);
		this._colorPanel=null;
		this._colorTiles=null;
		this._colorBlock=null;
		this._colorInput=null;
		this._colorButton=null;
		this._colors=null;
		this.changeHandler=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._colorButton=new Button());
		this._colorPanel=new Box();
		this._colorPanel.size(230,166);
		this._colorPanel.addChild(this._colorTiles=new Sprite());
		this._colorPanel.addChild(this._colorBlock=new Sprite());
		this._colorPanel.addChild(this._colorInput=new Input());
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		this._colorButton.on(/*laya.events.Event.CLICK*/"click",this,this.onColorButtonClick);
		this._colorBlock.pos(5,5);
		this._colorInput.pos(60,5);
		this._colorInput.size(60,20);
		this._colorInput.on(/*laya.events.Event.CHANGE*/"change",this,this.onColorInputChange);
		this._colorInput.on(/*laya.events.Event.KEY_DOWN*/"keydown",this,this.onColorFieldKeyDown);
		this._colorTiles.pos(5,30);
		this._colorTiles.on(/*laya.events.Event.MOUSE_MOVE*/"mousemove",this,this.onColorTilesMouseMove);
		this._colorTiles.on(/*laya.events.Event.CLICK*/"click",this,this.onColorTilesClick);
		this._colorTiles.size(20 *this._gridSize,12 *this._gridSize);
		this._colorPanel.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onPanelMouseDown);
		this.bgColor=this._bgColor;
	}

	__proto.onPanelMouseDown=function(e){
		e.stopPropagation();
	}

	/**
	*改变颜色样本列表面板。
	*/
	__proto.changePanel=function(){
		this._panelChanged=false;
		var g=this._colorPanel.graphics;
		g.clear();
		g.drawRect(0,0,230,166,this._bgColor,this._borderColor);
		this.drawBlock(this._selectedColor);
		this._colorInput.borderColor=this._borderColor;
		this._colorInput.bgColor=this._inputBgColor;
		this._colorInput.color=this._inputColor;
		g=this._colorTiles.graphics;
		g.clear();
		var mainColors=[0x000000,0x333333,0x666666,0x999999,0xCCCCCC,0xFFFFFF,0xFF0000,0x00FF00,0x0000FF,0xFFFF00,0x00FFFF,0xFF00FF];
		for (var i=0;i < 12;i++){
			for (var j=0;j < 20;j++){
				var color=0;
				if (j===0)color=mainColors[i];
				else if (j===1)color=0x000000;
				else color=(((i *3+j / 6)% 3 << 0)+((i / 6)<< 0)*3)*0x33 << 16 | j % 6 *0x33 << 8 | (i << 0)% 6 *0x33;
				var strColor=UIUtils.toColor(color);
				this._colors.push(strColor);
				var x=j *this._gridSize;
				var y=i *this._gridSize;
				g.drawRect(x,y,this._gridSize,this._gridSize,strColor,"#000000");
			}
		}
	}

	/**
	*颜色样本列表面板的显示按钮的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。
	*/
	__proto.onColorButtonClick=function(e){
		if (this._colorPanel.parent)this.close();
		else this.open();
	}

	/**
	*打开颜色样本列表面板。
	*/
	__proto.open=function(){
		var p=this.localToGlobal(new Point());
		var px=p.x+this._colorPanel.width <=Laya.stage.width ? p.x :Laya.stage.width-this._colorPanel.width;
		var py=p.y+this._colorButton.height;
		py=py+this._colorPanel.height <=Laya.stage.height ? py :p.y-this._colorPanel.height;
		this._colorPanel.pos(px,py);
		this._colorPanel.zOrder=1001;
		Laya._currentStage.addChild(this._colorPanel);
		Laya.stage.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.removeColorBox);
	}

	/**
	*关闭颜色样本列表面板。
	*/
	__proto.close=function(){
		Laya.stage.off(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.removeColorBox);
		this._colorPanel.removeSelf();
	}

	/**
	*舞台的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。
	*/
	__proto.removeColorBox=function(e){
		this.close();
	}

	/**
	*小格子色块的 <code>Event.KEY_DOWN</code> 事件侦听处理函数。
	*/
	__proto.onColorFieldKeyDown=function(e){
		if (e.keyCode==13){
			if (this._colorInput.text)this.selectedColor=this._colorInput.text;
			else this.selectedColor=null;
			this.close();
			e.stopPropagation();
		}
	}

	/**
	*颜色值输入框 <code>Event.CHANGE</code> 事件侦听处理函数。
	*/
	__proto.onColorInputChange=function(e){
		if (this._colorInput.text)this.drawBlock(this._colorInput.text);
		else this.drawBlock("#FFFFFF");
	}

	/**
	*小格子色块的 <code>Event.CLICK</code> 事件侦听处理函数。
	*/
	__proto.onColorTilesClick=function(e){
		this.selectedColor=this.getColorByMouse();
		this.close();
	}

	/**
	*@private
	*小格子色块的 <code>Event.MOUSE_MOVE</code> 事件侦听处理函数。
	*/
	__proto.onColorTilesMouseMove=function(e){
		this._colorInput.focus=false;
		var color=this.getColorByMouse();
		this._colorInput.text=color;
		this.drawBlock(color);
	}

	/**
	*通过鼠标位置取对应的颜色块的颜色值。
	*/
	__proto.getColorByMouse=function(){
		var point=this._colorTiles.getMousePoint();
		var x=Math.floor(point.x / this._gridSize);
		var y=Math.floor(point.y / this._gridSize);
		return this._colors[y *20+x];
	}

	/**
	*绘制颜色块。
	*@param color 需要绘制的颜色块的颜色值。
	*/
	__proto.drawBlock=function(color){
		var g=this._colorBlock.graphics;
		g.clear();
		var showColor=color ? color :"#ffffff";
		g.drawRect(0,0,50,20,showColor,this._borderColor);
		color || g.drawLine(0,0,50,20,"#ff0000");
	}

	/**
	*改变颜色。
	*/
	__proto.changeColor=function(){
		var g=this.graphics;
		g.clear();
		var showColor=this._selectedColor || "#000000";
		g.drawRect(0,0,this._colorButton.width,this._colorButton.height,showColor);
	}

	/**@private */
	__proto._setPanelChanged=function(){
		if (!this._panelChanged){
			this._panelChanged=true;
			this.callLater(this.changePanel);
		}
	}

	/**
	*表示颜色输入框的背景颜色值。
	*/
	__getset(0,__proto,'inputBgColor',function(){
		return this._inputBgColor;
		},function(value){
		this._inputBgColor=value;
		this._setPanelChanged();
	});

	/**
	*表示选择的颜色值。
	*/
	__getset(0,__proto,'selectedColor',function(){
		return this._selectedColor;
		},function(value){
		if (this._selectedColor !=value){
			this._selectedColor=this._colorInput.text=value;
			this.drawBlock(value);
			this.changeColor();
			this.changeHandler && this.changeHandler.runWith(this._selectedColor);
			this.event(/*laya.events.Event.CHANGE*/"change",Event.EMPTY.setTo(/*laya.events.Event.CHANGE*/"change",this,this));
		}
	});

	/**
	*@copy laya.ui.Button#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._colorButton.skin;
		},function(value){
		this._colorButton.skin=value;
		this.changeColor();
	});

	/**
	*表示颜色样本列表面板的背景颜色值。
	*/
	__getset(0,__proto,'bgColor',function(){
		return this._bgColor;
		},function(value){
		this._bgColor=value;
		this._setPanelChanged();
	});

	/**
	*表示颜色样本列表面板的边框颜色值。
	*/
	__getset(0,__proto,'borderColor',function(){
		return this._borderColor;
		},function(value){
		this._borderColor=value;
		this._setPanelChanged();
	});

	/**
	*表示颜色样本列表面板选择或输入的颜色值。
	*/
	__getset(0,__proto,'inputColor',function(){
		return this._inputColor;
		},function(value){
		this._inputColor=value;
		this._setPanelChanged();
	});

	return ColorPicker;
})(Component)


/**
*<code>ComboBox</code> 组件包含一个下拉列表，用户可以从该列表中选择单个值。
*
*@example <caption>以下示例代码，创建了一个 <code>ComboBox</code> 实例。</caption>
*package
*{
	*import laya.ui.ComboBox;
	*import laya.utils.Handler;
	*public class ComboBox_Example
	*{
		*public function ComboBox_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load("resource/ui/button.png",Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*trace("资源加载完成！");
			*var comboBox:ComboBox=new ComboBox("resource/ui/button.png","item0,item1,item2,item3,item4,item5");//创建一个 ComboBox 类的实例对象 comboBox ,传入它的皮肤和标签集。
			*comboBox.x=100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。
			*comboBox.y=100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。
			*comboBox.selectHandler=new Handler(this,onSelect);//设置 comboBox 选择项改变时执行的处理器。
			*Laya.stage.addChild(comboBox);//将此 comboBox 对象添加到显示列表。
			*}
		*private function onSelect(index:int):void
		*{
			*trace("当前选中的项对象索引： ",index);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高。
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
*Laya.loader.load("resource/ui/button.png",laya.utils.Handler.create(this,loadComplete));//加载资源
*function loadComplete(){
	*console.log("资源加载完成！");
	*var comboBox=new laya.ui.ComboBox("resource/ui/button.png","item0,item1,item2,item3,item4,item5");//创建一个 ComboBox 类的实例对象 comboBox ,传入它的皮肤和标签集。
	*comboBox.x=100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。
	*comboBox.y=100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。
	*comboBox.selectHandler=new laya.utils.Handler(this,onSelect);//设置 comboBox 选择项改变时执行的处理器。
	*Laya.stage.addChild(comboBox);//将此 comboBox 对象添加到显示列表。
	*}
*function onSelect(index)
*{
	*console.log("当前选中的项对象索引： ",index);
	*}
*@example
*import ComboBox=laya.ui.ComboBox;
*import Handler=laya.utils.Handler;
*class ComboBox_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("resource/ui/button.png",Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*console.log("资源加载完成！");
		*var comboBox:ComboBox=new ComboBox("resource/ui/button.png","item0,item1,item2,item3,item4,item5");//创建一个 ComboBox 类的实例对象 comboBox ,传入它的皮肤和标签集。
		*comboBox.x=100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。
		*comboBox.y=100;//设置 comboBox 对象的属性 x 的值，用于控制 comboBox 对象的显示位置。
		*comboBox.selectHandler=new Handler(this,this.onSelect);//设置 comboBox 选择项改变时执行的处理器。
		*Laya.stage.addChild(comboBox);//将此 comboBox 对象添加到显示列表。
		*}
	*private onSelect(index:number):void {
		*console.log("当前选中的项对象索引： ",index);
		*}
	*}
*
*/
//class laya.ui.ComboBox extends laya.ui.Component
var ComboBox=(function(_super){
	function ComboBox(skin,labels){
		/**@private */
		this._visibleNum=6;
		/**
		*@private
		*/
		this._button=null;
		/**
		*@private
		*/
		this._list=null;
		/**
		*@private
		*/
		this._isOpen=false;
		/**
		*@private
		*/
		this._itemSize=12;
		/**
		*@private
		*/
		this._labels=[];
		/**
		*@private
		*/
		this._selectedIndex=-1;
		/**
		*@private
		*/
		this._selectHandler=null;
		/**
		*@private
		*/
		this._itemHeight=NaN;
		/**
		*@private
		*/
		this._listHeight=NaN;
		/**
		*@private
		*/
		this._listChanged=false;
		/**
		*@private
		*/
		this._itemChanged=false;
		/**
		*@private
		*/
		this._scrollBarSkin=null;
		/**
		*@private
		*/
		this._isCustomList=false;
		/**
		*渲染项，用来显示下拉列表展示对象
		*/
		this.itemRender=null;
		ComboBox.__super.call(this);
		this._itemColors=Styles.comboBoxItemColors;
		this.skin=skin;
		this.labels=labels;
	}

	__class(ComboBox,'laya.ui.ComboBox',_super);
	var __proto=ComboBox.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._button && this._button.destroy(destroyChild);
		this._list && this._list.destroy(destroyChild);
		this._button=null;
		this._list=null;
		this._itemColors=null;
		this._labels=null;
		this._selectHandler=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._button=new Button());
		this._button.text.align="left";
		this._button.labelPadding="0,0,0,5";
		this._button.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onButtonMouseDown);
	}

	__proto._createList=function(){
		this._list=new List();
		if (this._scrollBarSkin)this._list.vScrollBarSkin=this._scrollBarSkin;
		this._setListEvent(this._list);
	}

	__proto._setListEvent=function(list){
		this._list.selectEnable=true;
		this._list.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onListDown);
		this._list.mouseHandler=Handler.create(this,this.onlistItemMouse,null,false);
		if (this._list.scrollBar)this._list.scrollBar.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onScrollBarDown);
	}

	/**
	*@private
	*/
	__proto.onListDown=function(e){
		e.stopPropagation();
	}

	__proto.onScrollBarDown=function(e){
		e.stopPropagation();
	}

	__proto.onButtonMouseDown=function(e){
		this.callLater(this.switchTo,[!this._isOpen]);
	}

	/**
	*@private
	*/
	__proto.changeList=function(){
		this._listChanged=false;
		var labelWidth=this.width-2;
		var labelColor=this._itemColors[2];
		this._itemHeight=this._itemSize+6;
		this._list.itemRender=this.itemRender || {type:"Box",child:[{type:"Label",props:{name:"label",x:1,padding:"3,3,3,3",width:labelWidth,height:this._itemHeight,fontSize:this._itemSize,color:labelColor}}]};
		this._list.repeatY=this._visibleNum;
		this._list.refresh();
	}

	/**
	*@private
	*下拉列表的鼠标事件响应函数。
	*/
	__proto.onlistItemMouse=function(e,index){
		var type=e.type;
		if (type===/*laya.events.Event.MOUSE_OVER*/"mouseover" || type===/*laya.events.Event.MOUSE_OUT*/"mouseout"){
			if (this._isCustomList)return;
			var box=this._list.getCell(index);
			if (!box)return;
			var label=box.getChildByName("label");
			if (label){
				if (type===/*laya.events.Event.ROLL_OVER*/"mouseover"){
					label.bgColor=this._itemColors[0];
					label.color=this._itemColors[1];
					}else {
					label.bgColor=null;
					label.color=this._itemColors[2];
				}
			}
			}else if (type===/*laya.events.Event.CLICK*/"click"){
			this.selectedIndex=index;
			this.isOpen=false;
		}
	}

	/**
	*@private
	*/
	__proto.switchTo=function(value){
		this.isOpen=value;
	}

	/**
	*更改下拉列表的打开状态。
	*/
	__proto.changeOpen=function(){
		this.isOpen=!this._isOpen;
	}

	/**
	*更改下拉列表。
	*/
	__proto.changeItem=function(){
		this._itemChanged=false;
		this._listHeight=this._labels.length > 0 ? Math.min(this._visibleNum,this._labels.length)*this._itemHeight :this._itemHeight;
		if (!this._isCustomList){
			var g=this._list.graphics;
			g.clear();
			g.drawRect(0,0,this.width-1,this._listHeight,this._itemColors[4],this._itemColors[3]);
		};
		var a=this._list.array || [];
		a.length=0;
		for (var i=0,n=this._labels.length;i < n;i++){
			a.push({label:this._labels[i]});
		}
		this._list.height=this._listHeight;
		this._list.array=a;
	}

	__proto.changeSelected=function(){
		this._button.label=this.selectedLabel;
	}

	__proto._onStageMouseWheel=function(e){
		if(!this._list||this._list.contains(e.target))return;
		this.removeList(null);
	}

	/**
	*关闭下拉列表。
	*/
	__proto.removeList=function(e){
		Laya.stage.off(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.removeList);
		Laya.stage.off(/*laya.events.Event.MOUSE_WHEEL*/"mousewheel",this,this._onStageMouseWheel);
		this.isOpen=false;
	}

	/**
	*表示选择的下拉列表项的索引。
	*/
	__getset(0,__proto,'selectedIndex',function(){
		return this._selectedIndex;
		},function(value){
		if (this._selectedIndex !=value){
			this._selectedIndex=value;
			if (this._labels.length > 0)this.changeSelected();
			else this.callLater(this.changeSelected);
			this.event(/*laya.events.Event.CHANGE*/"change",[Event.EMPTY.setTo(/*laya.events.Event.CHANGE*/"change",this,this)]);
			this._selectHandler && this._selectHandler.runWith(this._selectedIndex);
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		return this._button.height;
	});

	/**
	*@copy laya.ui.Button#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._button.skin;
		},function(value){
		if (this._button.skin !=value){
			this._button.skin=value;
			this._listChanged=true;
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		return this._button.width;
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Component,this,'width',value);
		this._button.width=this._width;
		this._itemChanged=true;
		this._listChanged=true;
	});

	/**
	*表示选择的下拉列表项的的标签。
	*/
	__getset(0,__proto,'selectedLabel',function(){
		return this._selectedIndex >-1 && this._selectedIndex < this._labels.length ? this._labels[this._selectedIndex] :null;
		},function(value){
		this.selectedIndex=this._labels.indexOf(value);
	});

	/**
	*标签集合字符串。
	*/
	__getset(0,__proto,'labels',function(){
		return this._labels.join(",");
		},function(value){
		if (this._labels.length > 0)this.selectedIndex=-1;
		if (value)this._labels=value.split(",");
		else this._labels.length=0;
		this._itemChanged=true;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Component,this,'height',value);
		this._button.height=this._height;
	});

	/**
	*改变下拉列表的选择项时执行的处理器(默认返回参数index:int)。
	*/
	__getset(0,__proto,'selectHandler',function(){
		return this._selectHandler;
		},function(value){
		this._selectHandler=value;
	});

	/**
	*获取或设置没有滚动条的下拉列表中可显示的最大行数。
	*/
	__getset(0,__proto,'visibleNum',function(){
		return this._visibleNum;
		},function(value){
		this._visibleNum=value;
		this._listChanged=true;
	});

	/**
	*表示按钮文本标签是否为粗体字。
	*@see laya.display.Text#bold
	*/
	__getset(0,__proto,'labelBold',function(){
		return this._button.text.bold;
		},function(value){
		this._button.text.bold=value
	});

	/**
	*下拉列表项颜色。
	*<p><b>格式：</b>"悬停或被选中时背景颜色,悬停或被选中时标签颜色,标签颜色,边框颜色,背景颜色"</p>
	*/
	__getset(0,__proto,'itemColors',function(){
		return String(this._itemColors)
		},function(value){
		this._itemColors=UIUtils.fillArray(this._itemColors,value,String);
		this._listChanged=true;
	});

	/**
	*下拉列表项标签的字体大小。
	*/
	__getset(0,__proto,'itemSize',function(){
		return this._itemSize;
		},function(value){
		this._itemSize=value;
		this._listChanged=true;
	});

	/**
	*获取对 <code>ComboBox</code> 组件所包含的 <code>VScrollBar</code> 滚动条组件的引用。
	*/
	__getset(0,__proto,'scrollBar',function(){
		return this.list.scrollBar;
	});

	/**
	*表示下拉列表的打开状态。
	*/
	__getset(0,__proto,'isOpen',function(){
		return this._isOpen;
		},function(value){
		if (this._isOpen !=value){
			this._isOpen=value;
			this._button.selected=this._isOpen;
			if (this._isOpen){
				this._list || this._createList();
				this._listChanged && !this._isCustomList && this.changeList();
				this._itemChanged && this.changeItem();
				var p=this.localToGlobal(Point.TEMP.setTo(0,0));
				var py=p.y+this._button.height;
				py=py+this._listHeight <=Laya.stage.height ? py :p.y-this._listHeight;
				this._list.pos(p.x,py);
				this._list.zOrder=1001;
				Laya._currentStage.addChild(this._list);
				Laya.stage.once(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.removeList);
				Laya.stage.on(/*laya.events.Event.MOUSE_WHEEL*/"mousewheel",this,this._onStageMouseWheel);
				this._list.selectedIndex=this._selectedIndex;
				}else {
				this._list && this._list.removeSelf();
			}
		}
	});

	/**
	*滚动条皮肤。
	*/
	__getset(0,__proto,'scrollBarSkin',function(){
		return this._scrollBarSkin;
		},function(value){
		this._scrollBarSkin=value;
	});

	/**
	*<p>当前实例的位图 <code>AutoImage</code> 实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		return this._button.sizeGrid;
		},function(value){
		this._button.sizeGrid=value;
	});

	/**
	*获取对 <code>ComboBox</code> 组件所包含的 <code>Button</code> 组件的引用。
	*/
	__getset(0,__proto,'button',function(){
		return this._button;
	});

	/**
	*获取对 <code>ComboBox</code> 组件所包含的 <code>List</code> 列表组件的引用。
	*/
	__getset(0,__proto,'list',function(){
		this._list || this._createList();
		return this._list;
		},function(value){
		if (value){
			value.removeSelf();
			this._isCustomList=true;
			this._list=value;
			this._setListEvent(value);
			this._itemHeight=value.getCell(0).height+value.spaceY;
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if (((typeof value=='number')&& Math.floor(value)==value)|| (typeof value=='string'))this.selectedIndex=parseInt(value);
		else if ((value instanceof Array))this.labels=(value).join(",");
		else Laya.superSet(Component,this,'dataSource',value);
	});

	/**
	*获取或设置对 <code>ComboBox</code> 组件所包含的 <code>Button</code> 组件的文本标签颜色。
	*<p><b>格式：</b>upColor,overColor,downColor,disableColor</p>
	*/
	__getset(0,__proto,'labelColors',function(){
		return this._button.labelColors;
		},function(value){
		if (this._button.labelColors !=value){
			this._button.labelColors=value;
		}
	});

	/**
	*获取或设置对 <code>ComboBox</code> 组件所包含的 <code>Button</code> 组件的文本边距。
	*<p><b>格式：</b>上边距,右边距,下边距,左边距</p>
	*/
	__getset(0,__proto,'labelPadding',function(){
		return this._button.text.padding.join(",");
		},function(value){
		this._button.text.padding=UIUtils.fillArray(Styles.labelPadding,value,Number);
	});

	/**
	*获取或设置对 <code>ComboBox</code> 组件所包含的 <code>Button</code> 组件的标签字体大小。
	*/
	__getset(0,__proto,'labelSize',function(){
		return this._button.text.fontSize;
		},function(value){
		this._button.text.fontSize=value
	});

	/**
	*表示按钮文本标签的字体名称，以字符串形式表示。
	*@see laya.display.Text#font
	*/
	__getset(0,__proto,'labelFont',function(){
		return this._button.text.font;
		},function(value){
		this._button.text.font=value
	});

	/**
	*表示按钮的状态值。
	*@see laya.ui.Button#stateNum
	*/
	__getset(0,__proto,'stateNum',function(){
		return this._button.stateNum;
		},function(value){
		this._button.stateNum=value
	});

	return ComboBox;
})(Component)


/**
*<code>ScrollBar</code> 组件是一个滚动条组件。
*<p>当数据太多以至于显示区域无法容纳时，最终用户可以使用 <code>ScrollBar</code> 组件控制所显示的数据部分。</p>
*<p> 滚动条由四部分组成：两个箭头按钮、一个轨道和一个滑块。 </p> *
*
*@see laya.ui.VScrollBar
*@see laya.ui.HScrollBar
*/
//class laya.ui.ScrollBar extends laya.ui.Component
var ScrollBar=(function(_super){
	function ScrollBar(skin){
		/**滚动衰减系数*/
		this.rollRatio=0.95;
		/**滚动变化时回调，回传value参数。*/
		this.changeHandler=null;
		/**是否缩放滑动条，默认值为true。 */
		this.scaleBar=true;
		/**一个布尔值，指定是否自动隐藏滚动条(无需滚动时)，默认值为false。*/
		this.autoHide=false;
		/**橡皮筋效果极限距离，0为没有橡皮筋效果。*/
		this.elasticDistance=0;
		/**橡皮筋回弹时间，单位为毫秒。*/
		this.elasticBackTime=500;
		/**上按钮 */
		this.upButton=null;
		/**下按钮 */
		this.downButton=null;
		/**滑条 */
		this.slider=null;
		/**@private */
		this._scrollSize=1;
		/**@private */
		this._skin=null;
		/**@private */
		this._thumbPercent=1;
		/**@private */
		this._target=null;
		/**@private */
		this._lastPoint=null;
		/**@private */
		this._lastOffset=0;
		/**@private */
		this._checkElastic=false;
		/**@private */
		this._isElastic=false;
		/**@private */
		this._value=NaN;
		/**@private */
		this._hide=false;
		/**@private */
		this._clickOnly=true;
		/**@private */
		this._offsets=null;
		ScrollBar.__super.call(this);
		this._showButtons=UIConfig.showButtons;
		this._touchScrollEnable=UIConfig.touchScrollEnable;
		this._mouseWheelEnable=UIConfig.mouseWheelEnable;
		this.skin=skin;
		this.max=1;
	}

	__class(ScrollBar,'laya.ui.ScrollBar',_super);
	var __proto=ScrollBar.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this.stopScroll();
		this.target=null;
		_super.prototype.destroy.call(this,destroyChild);
		this.upButton && this.upButton.destroy(destroyChild);
		this.downButton && this.downButton.destroy(destroyChild);
		this.slider && this.slider.destroy(destroyChild);
		this.upButton=this.downButton=null;
		this.slider=null;
		this.changeHandler=null;
		this._offsets=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this.slider=new Slider());
		this.addChild(this.upButton=new Button());
		this.addChild(this.downButton=new Button());
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		this.slider.showLabel=false;
		this.slider.on(/*laya.events.Event.CHANGE*/"change",this,this.onSliderChange);
		this.slider.setSlider(0,0,0);
		this.upButton.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onButtonMouseDown);
		this.downButton.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onButtonMouseDown);
	}

	/**
	*@private
	*滑块位置发生改变的处理函数。
	*/
	__proto.onSliderChange=function(){
		this.value=this.slider.value;
	}

	/**
	*@private
	*向上和向下按钮的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。
	*/
	__proto.onButtonMouseDown=function(e){
		var isUp=e.currentTarget===this.upButton;
		this.slide(isUp);
		Laya.timer.once(Styles.scrollBarDelayTime,this,this.startLoop,[isUp]);
		Laya.stage.once(/*laya.events.Event.MOUSE_UP*/"mouseup",this,this.onStageMouseUp);
	}

	/**@private */
	__proto.startLoop=function(isUp){
		Laya.timer.frameLoop(1,this,this.slide,[isUp]);
	}

	/**@private */
	__proto.slide=function(isUp){
		if (isUp)this.value-=this._scrollSize;
		else this.value+=this._scrollSize;
	}

	/**
	*@private
	*舞台的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。
	*/
	__proto.onStageMouseUp=function(e){
		Laya.timer.clear(this,this.startLoop);
		Laya.timer.clear(this,this.slide);
	}

	/**
	*@private
	*更改对象的皮肤及位置。
	*/
	__proto.changeScrollBar=function(){
		this.upButton.visible=this._showButtons;
		this.downButton.visible=this._showButtons;
		if (this._showButtons){
			this.upButton.skin=this._skin.replace(".png","$up.png");
			this.downButton.skin=this._skin.replace(".png","$down.png");
		}
		if (this.slider.isVertical)this.slider.y=this._showButtons ? this.upButton.height :0;
		else this.slider.x=this._showButtons ? this.upButton.width :0;
		this.resetPositions();
		this.repaint();
	}

	/**@inheritDoc */
	__proto.changeSize=function(){
		_super.prototype.changeSize.call(this);
		this.repaint();
		this.resetPositions();
		this.event(/*laya.events.Event.CHANGE*/"change");
		this.changeHandler && this.changeHandler.runWith(this.value);
	}

	/**@private */
	__proto.resetPositions=function(){
		if (this.slider.isVertical)this.slider.height=this.height-(this._showButtons ? (this.upButton.height+this.downButton.height):0);
		else this.slider.width=this.width-(this._showButtons ? (this.upButton.width+this.downButton.width):0);
		this.resetButtonPosition();
	}

	/**@private */
	__proto.resetButtonPosition=function(){
		if (this.slider.isVertical)this.downButton.y=this.slider.y+this.slider.height;
		else this.downButton.x=this.slider.x+this.slider.width;
	}

	/**
	*设置滚动条信息。
	*@param min 滚动条最小位置值。
	*@param max 滚动条最大位置值。
	*@param value 滚动条当前位置值。
	*/
	__proto.setScroll=function(min,max,value){
		this.runCallLater(this.changeSize);
		this.slider.setSlider(min,max,value);
		this.slider.bar.visible=max > 0;
		if (!this._hide && this.autoHide)this.visible=false;
	}

	/**@private */
	__proto.onTargetMouseWheel=function(e){
		this.value-=e.delta *this._scrollSize;
		this.target=this._target;
	}

	/**@private */
	__proto.onTargetMouseDown=function(e){
		this._clickOnly=true;
		this._lastOffset=0;
		this._checkElastic=false;
		this._lastPoint || (this._lastPoint=new Point());
		this._lastPoint.setTo(Laya.stage.mouseX,Laya.stage.mouseY);
		Laya.timer.clear(this,this.tweenMove);
		Tween.clearTween(this);
		Laya.stage.once(/*laya.events.Event.MOUSE_UP*/"mouseup",this,this.onStageMouseUp2);
		Laya.stage.once(/*laya.events.Event.MOUSE_OUT*/"mouseout",this,this.onStageMouseUp2);
		Laya.timer.frameLoop(1,this,this.loop);
	}

	/**@private */
	__proto.loop=function(){
		var mouseY=Laya.stage.mouseY;
		var mouseX=Laya.stage.mouseX;
		this._lastOffset=this.isVertical ? (mouseY-this._lastPoint.y):(mouseX-this._lastPoint.x);
		if (this._clickOnly){
			if (Math.abs(this._lastOffset *(this.isVertical ? Laya.stage._canvasTransform.getScaleY():Laya.stage._canvasTransform.getScaleX()))> 1){
				this._clickOnly=false;
				this._offsets || (this._offsets=[]);
				this._offsets.length=0;
				this._target.mouseEnabled=false;
				if (!this.hide && this.autoHide){
					this.alpha=1;
					this.visible=true;
				}
				this.event(/*laya.events.Event.START*/"start");
			}else return;
		}
		this._offsets.push(this._lastOffset);
		this._lastPoint.x=mouseX;
		this._lastPoint.y=mouseY;
		if (this._lastOffset===0)return;
		if (!this._checkElastic){
			if (this.elasticDistance > 0){
				if (!this._checkElastic && this._lastOffset !=0){
					if ((this._lastOffset > 0 && this._value <=this.min)|| (this._lastOffset < 0 && this._value >=this.max)){
						this._isElastic=true;
						this._checkElastic=true;
						}else {
						this._isElastic=false;
					}
				}
				}else {
				this._checkElastic=true;
			}
		}
		if (this._isElastic){
			if (this._value <=this.min){
				this.value-=this._lastOffset *Math.max(0,(1-((this.min-this._value)/ this.elasticDistance)));
				}else if (this._value >=this.max){
				this.value-=this._lastOffset *Math.max(0,(1-((this._value-this.max)/ this.elasticDistance)));
			}
			}else {
			this.value-=this._lastOffset;
		}
	}

	/**@private */
	__proto.onStageMouseUp2=function(e){
		Laya.stage.off(/*laya.events.Event.MOUSE_UP*/"mouseup",this,this.onStageMouseUp2);
		Laya.stage.off(/*laya.events.Event.MOUSE_OUT*/"mouseout",this,this.onStageMouseUp2);
		Laya.timer.clear(this,this.loop);
		if (this._clickOnly)return;
		this._target.mouseEnabled=true;
		if (this._isElastic){
			if (this._value < this.min){
				Tween.to(this,{value:this.min},this.elasticBackTime,Ease.sineOut,Handler.create(this,this.elasticOver));
				}else if (this._value > this.max){
				Tween.to(this,{value:this.max},this.elasticBackTime,Ease.sineOut,Handler.create(this,this.elasticOver));
			}
			}else {
			if (!this._offsets)return;
			if (this._offsets.length < 1){
				this._offsets[0]=this.isVertical ? Laya.stage.mouseY-this._lastPoint.y :Laya.stage.mouseX-this._lastPoint.x;
			};
			var offset=0;
			var n=Math.min(this._offsets.length,3);
			for (var i=0;i < n;i++){
				offset+=this._offsets[this._offsets.length-1-i];
			}
			this._lastOffset=offset / n;
			offset=Math.abs(this._lastOffset);
			if (offset < 2){
				this.event(/*laya.events.Event.END*/"end");
				return;
			}
			if (offset > 60)this._lastOffset=this._lastOffset > 0 ? 60 :-60;
			var dis=Math.round(Math.abs(this.elasticDistance *(this._lastOffset / 240)));
			Laya.timer.frameLoop(1,this,this.tweenMove,[dis]);
		}
	}

	/**@private */
	__proto.elasticOver=function(){
		this._isElastic=false;
		if (!this.hide && this.autoHide){
			Tween.to(this,{alpha:0},500);
		}
		this.event(/*laya.events.Event.END*/"end");
	}

	/**@private */
	__proto.tweenMove=function(maxDistance){
		this._lastOffset *=this.rollRatio;
		var tarSpeed=NaN;
		if (maxDistance > 0){
			if (this._lastOffset > 0 && this.value <=this.min){
				this._isElastic=true;
				tarSpeed=-(this.min-maxDistance-this.value)*0.5;
				if (this._lastOffset > tarSpeed)this._lastOffset=tarSpeed;
				}else if (this._lastOffset < 0 && this.value >=this.max){
				this._isElastic=true;
				tarSpeed=-(this.max+maxDistance-this.value)*0.5;
				if (this._lastOffset < tarSpeed)this._lastOffset=tarSpeed;
			}
		}
		this.value-=this._lastOffset;
		if (Math.abs(this._lastOffset)< 1){
			Laya.timer.clear(this,this.tweenMove);
			if (this._isElastic){
				if (this._value < this.min){
					Tween.to(this,{value:this.min},this.elasticBackTime,Ease.sineOut,Handler.create(this,this.elasticOver));
					}else if (this._value > this.max){
					Tween.to(this,{value:this.max},this.elasticBackTime,Ease.sineOut,Handler.create(this,this.elasticOver));
					}else {
					this.elasticOver();
				}
				return;
			}
			this.event(/*laya.events.Event.END*/"end");
			if (!this.hide && this.autoHide){
				Tween.to(this,{alpha:0},500);
			}
		}
	}

	/**
	*停止滑动。
	*/
	__proto.stopScroll=function(){
		this.onStageMouseUp2(null);
		Laya.timer.clear(this,this.tweenMove);
		Tween.clearTween(this);
	}

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		if (this.slider.isVertical)return 100;
		return this.slider.height;
	});

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			this.slider.skin=this._skin;
			this.callLater(this.changeScrollBar);
		}
	});

	/**
	*获取或设置表示最高滚动位置的数字。
	*/
	__getset(0,__proto,'max',function(){
		return this.slider.max;
		},function(value){
		this.slider.max=value;
	});

	/**一个布尔值，指定是否显示向上、向下按钮，默认值为true。*/
	__getset(0,__proto,'showButtons',function(){
		return this._showButtons;
		},function(value){
		this._showButtons=value;
		this.callLater(this.changeScrollBar);
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		if (this.slider.isVertical)return this.slider.width;
		return 100;
	});

	/**
	*获取或设置表示最低滚动位置的数字。
	*/
	__getset(0,__proto,'min',function(){
		return this.slider.min;
		},function(value){
		this.slider.min=value;
	});

	/**
	*获取或设置表示当前滚动位置的数字。
	*/
	__getset(0,__proto,'value',function(){
		return this._value;
		},function(v){
		if (v!==this._value){
			if (this._isElastic)this._value=v;
			else {
				this.slider.value=v;
				this._value=this.slider.value;
			}
			this.event(/*laya.events.Event.CHANGE*/"change");
			this.changeHandler && this.changeHandler.runWith(this.value);
		}
	});

	/**
	*一个布尔值，指示滚动条是否为垂直滚动。如果值为true，则为垂直滚动，否则为水平滚动。
	*<p>默认值为：true。</p>
	*/
	__getset(0,__proto,'isVertical',function(){
		return this.slider.isVertical;
		},function(value){
		this.slider.isVertical=value;
	});

	/**
	*<p>当前实例的 <code>Slider</code> 实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		return this.slider.sizeGrid;
		},function(value){
		this.slider.sizeGrid=value;
	});

	/**获取或设置一个值，该值表示按下滚动条轨道时页面滚动的增量。 */
	__getset(0,__proto,'scrollSize',function(){
		return this._scrollSize;
		},function(value){
		this._scrollSize=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='number')|| (typeof value=='string'))this.value=Number(value);
		else Laya.superSet(Component,this,'dataSource',value);
	});

	/**获取或设置一个值，该值表示滑条长度比例，值为：（0-1）。 */
	__getset(0,__proto,'thumbPercent',function(){
		return this._thumbPercent;
		},function(value){
		this.runCallLater(this.changeScrollBar);
		this.runCallLater(this.changeSize);
		value=value >=1 ? 0.99 :value;
		this._thumbPercent=value;
		if (this.scaleBar){
			if (this.slider.isVertical)this.slider.bar.height=Math.max(this.slider.height *value,Styles.scrollBarMinNum);
			else this.slider.bar.width=Math.max(this.slider.width *value,Styles.scrollBarMinNum);
		}
	});

	/**
	*设置滚动对象。
	*@see laya.ui.TouchScroll#target
	*/
	__getset(0,__proto,'target',function(){
		return this._target;
		},function(value){
		if (this._target){
			this._target.off(/*laya.events.Event.MOUSE_WHEEL*/"mousewheel",this,this.onTargetMouseWheel);
			this._target.off(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onTargetMouseDown);
		}
		this._target=value;
		if (value){
			this._mouseWheelEnable && this._target.on(/*laya.events.Event.MOUSE_WHEEL*/"mousewheel",this,this.onTargetMouseWheel);
			this._touchScrollEnable && this._target.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onTargetMouseDown);
		}
	});

	/**是否隐藏滚动条，不显示滚动条，但是可以正常滚动，默认为false。*/
	__getset(0,__proto,'hide',function(){
		return this._hide;
		},function(value){
		this._hide=value;
		this.visible=!value;
	});

	/**一个布尔值，指定是否开启触摸，默认值为true。*/
	__getset(0,__proto,'touchScrollEnable',function(){
		return this._touchScrollEnable;
		},function(value){
		this._touchScrollEnable=value;
		this.target=this._target;
	});

	/**一个布尔值，指定是否滑轮滚动，默认值为true。*/
	__getset(0,__proto,'mouseWheelEnable',function(){
		return this._mouseWheelEnable;
		},function(value){
		this._mouseWheelEnable=value;
	});

	/**
	*滚动的刻度值，滑动数值为tick的整数倍。默认值为1。
	*/
	__getset(0,__proto,'tick',function(){
		return this.slider.tick;
		},function(value){
		this.slider.tick=value;
	});

	return ScrollBar;
})(Component)


/**
*使用 <code>Slider</code> 控件，用户可以通过在滑块轨道的终点之间移动滑块来选择值。
*<p>滑块的当前值由滑块端点（对应于滑块的最小值和最大值）之间滑块的相对位置确定。</p>
*<p>滑块允许最小值和最大值之间特定间隔内的值。滑块还可以使用数据提示显示其当前值。</p>
*
*@see laya.ui.HSlider
*@see laya.ui.VSlider
*/
//class laya.ui.Slider extends laya.ui.Component
var Slider=(function(_super){
	function Slider(skin){
		/**
		*数据变化处理器。
		*<p>默认回调参数为滑块位置属性 <code>value</code>属性值：Number 。</p>
		*/
		this.changeHandler=null;
		/**
		*一个布尔值，指示是否为垂直滚动。如果值为true，则为垂直方向，否则为水平方向。
		*<p>默认值为：true。</p>
		*@default true
		*/
		this.isVertical=true;
		/**
		*一个布尔值，指示是否显示标签。
		*@default true
		*/
		this.showLabel=true;
		/**@private */
		this._allowClickBack=false;
		/**@private */
		this._max=100;
		/**@private */
		this._min=0;
		/**@private */
		this._tick=1;
		/**@private */
		this._value=0;
		/**@private */
		this._skin=null;
		/**@private */
		this._bg=null;
		/**@private */
		this._progress=null;
		/**@private */
		this._bar=null;
		/**@private */
		this._tx=NaN;
		/**@private */
		this._ty=NaN;
		/**@private */
		this._maxMove=NaN;
		/**@private */
		this._globalSacle=null;
		Slider.__super.call(this);
		this.skin=skin;
	}

	__class(Slider,'laya.ui.Slider',_super);
	var __proto=Slider.prototype;
	/**
	*@inheritDoc
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._bg && this._bg.destroy(destroyChild);
		this._bar && this._bar.destroy(destroyChild);
		this._progress && this._progress.destroy(destroyChild);
		this._bg=null;
		this._bar=null;
		this._progress=null;
		this.changeHandler=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._bg=new Image());
		this.addChild(this._bar=new Button());
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		this._bar.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onBarMouseDown);
		this._bg.sizeGrid=this._bar.sizeGrid="4,4,4,4,0";
		if (this._progress)this._progress.sizeGrid=this._bar.sizeGrid;
		this.allowClickBack=true;
	}

	/**
	*@private
	*滑块的的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。
	*/
	__proto.onBarMouseDown=function(e){
		this._globalSacle || (this._globalSacle=new Point());
		this._globalSacle.setTo(this.globalScaleX || 0.01,this.globalScaleY || 0.01);
		this._maxMove=this.isVertical ? (this.height-this._bar.height):(this.width-this._bar.width);
		this._tx=Laya.stage.mouseX;
		this._ty=Laya.stage.mouseY;
		Laya.stage.on(/*laya.events.Event.MOUSE_MOVE*/"mousemove",this,this.mouseMove);
		Laya.stage.once(/*laya.events.Event.MOUSE_UP*/"mouseup",this,this.mouseUp);
		Laya.stage.once(/*laya.events.Event.MOUSE_OUT*/"mouseout",this,this.mouseUp);
		this.showValueText();
	}

	/**
	*@private
	*显示标签。
	*/
	__proto.showValueText=function(){
		if (this.showLabel){
			var label=laya.ui.Slider.label;
			this.addChild(label);
			label.textField.changeText(this._value+"");
			if (this.isVertical){
				label.x=this._bar.x+20;
				label.y=(this._bar.height-label.height)*0.5+this._bar.y;
				}else {
				label.y=this._bar.y-20;
				label.x=(this._bar.width-label.width)*0.5+this._bar.x;
			}
		}
	}

	/**
	*@private
	*隐藏标签。
	*/
	__proto.hideValueText=function(){
		laya.ui.Slider.label && laya.ui.Slider.label.removeSelf();
	}

	/**
	*@private
	*/
	__proto.mouseUp=function(e){
		Laya.stage.off(/*laya.events.Event.MOUSE_MOVE*/"mousemove",this,this.mouseMove);
		Laya.stage.off(/*laya.events.Event.MOUSE_UP*/"mouseup",this,this.mouseUp);
		Laya.stage.off(/*laya.events.Event.MOUSE_OUT*/"mouseout",this,this.mouseUp);
		this.sendChangeEvent(/*laya.events.Event.CHANGED*/"changed");
		this.hideValueText();
	}

	/**
	*@private
	*/
	__proto.mouseMove=function(e){
		var oldValue=this._value;
		if (this.isVertical){
			this._bar.y+=(Laya.stage.mouseY-this._ty)/ this._globalSacle.y;
			if (this._bar.y > this._maxMove)this._bar.y=this._maxMove;
			else if (this._bar.y < 0)this._bar.y=0;
			this._value=this._bar.y / this._maxMove *(this._max-this._min)+this._min;
			if(this._progress)this._progress.height=this._bar.y+0.5*this._bar.height;
			}else {
			this._bar.x+=(Laya.stage.mouseX-this._tx)/ this._globalSacle.x;
			if (this._bar.x > this._maxMove)this._bar.x=this._maxMove;
			else if (this._bar.x < 0)this._bar.x=0;
			this._value=this._bar.x / this._maxMove *(this._max-this._min)+this._min;
			if(this._progress)this._progress.width=this._bar.x+0.5*this._bar.width;
		}
		this._tx=Laya.stage.mouseX;
		this._ty=Laya.stage.mouseY;
		var pow=Math.pow(10,(this._tick+"").length-1);
		this._value=Math.round(Math.round(this._value / this._tick)*this._tick *pow)/ pow;
		if (this._value !=oldValue){
			this.sendChangeEvent();
		}
		this.showValueText();
	}

	/**
	*@private
	*/
	__proto.sendChangeEvent=function(type){
		(type===void 0)&& (type=/*laya.events.Event.CHANGE*/"change");
		this.event(type);
		this.changeHandler && this.changeHandler.runWith(this._value);
	}

	/**
	*@private
	*设置滑块的位置信息。
	*/
	__proto.setBarPoint=function(){
		if (this.isVertical)this._bar.x=Math.round((this._bg.width-this._bar.width)*0.5);
		else this._bar.y=Math.round((this._bg.height-this._bar.height)*0.5);
	}

	/**@inheritDoc */
	__proto.changeSize=function(){
		_super.prototype.changeSize.call(this);
		if (this.isVertical)this._bg.height=this.height;
		else this._bg.width=this.width;
		this.setBarPoint();
		this.changeValue();
	}

	/**
	*设置滑动条的信息。
	*@param min 滑块的最小值。
	*@param max 滑块的最小值。
	*@param value 滑块的当前值。
	*/
	__proto.setSlider=function(min,max,value){
		this._value=-1;
		this._min=min;
		this._max=max > min ? max :min;
		this.value=value < min ? min :value > max ? max :value;
	}

	/**
	*@private
	*改变滑块的位置值。
	*/
	__proto.changeValue=function(){
		var pow=Math.pow(10,(this._tick+"").length-1);
		this._value=Math.round(Math.round(this._value / this._tick)*this._tick *pow)/ pow;
		this._value=this._value > this._max ? this._max :this._value < this._min ? this._min :this._value;
		var num=this._max-this._min;
		if (num===0)num=1;
		if (this.isVertical){
			this._bar.y=(this._value-this._min)/ num *(this.height-this._bar.height);
			if(this._progress)this._progress.height=this._bar.y+0.5*this._bar.height;
		}
		else{
			this._bar.x=(this._value-this._min)/ num *(this.width-this._bar.width);
			if(this._progress)this._progress.width=this._bar.x+0.5*this._bar.width;
		}
	}

	/**
	*@private
	*滑动条的 <code>Event.MOUSE_DOWN</code> 事件侦听处理函数。
	*/
	__proto.onBgMouseDown=function(e){
		var point=this._bg.getMousePoint();
		if (this.isVertical)this.value=point.y / (this.height-this._bar.height)*(this._max-this._min)+this._min;
		else this.value=point.x / (this.width-this._bar.width)*(this._max-this._min)+this._min;
	}

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		return Math.max(this._bg.height,this._bar.height);
	});

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			this._bg.skin=this._skin;
			this._bar.skin=this._skin.replace(".png","$bar.png");
			var progressSkin=this._skin.replace(".png","$progress.png");
			if (Loader.getRes(progressSkin)){
				if (!this._progress){
					this.addChild(this._progress=new Image());
					this._progress.sizeGrid=this._bar.sizeGrid;
					this.setChildIndex(this._progress,1);
				}
				this._progress.skin=progressSkin;
			}
			this.setBarPoint();
			this.callLater(this.changeValue);
		}
	});

	/**
	*一个布尔值，指定是否允许通过点击滑动条改变 <code>Slider</code> 的 <code>value</code> 属性值。
	*/
	__getset(0,__proto,'allowClickBack',function(){
		return this._allowClickBack;
		},function(value){
		if (this._allowClickBack !=value){
			this._allowClickBack=value;
			if (value)this._bg.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onBgMouseDown);
			else this._bg.off(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onBgMouseDown);
		}
	});

	/**
	*获取或设置表示最高位置的数字。 默认值为100。
	*/
	__getset(0,__proto,'max',function(){
		return this._max;
		},function(value){
		if (this._max !=value){
			this._max=value;
			this.callLater(this.changeValue);
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		return Math.max(this._bg.width,this._bar.width);
	});

	/**
	*滑动的刻度值，滑动数值为tick的整数倍。默认值为1。
	*/
	__getset(0,__proto,'tick',function(){
		return this._tick;
		},function(value){
		if (this._tick !=value){
			this._tick=value;
			this.callLater(this.changeValue);
		}
	});

	/**
	*<p>当前实例的背景图（ <code>Image</code> ）和滑块按钮（ <code>Button</code> ）实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		return this._bg.sizeGrid;
		},function(value){
		this._bg.sizeGrid=value;
		this._bar.sizeGrid=value;
		if (this._progress)this._progress.sizeGrid=this._bar.sizeGrid;
	});

	/**
	*获取或设置表示最低位置的数字。 默认值为0。
	*/
	__getset(0,__proto,'min',function(){
		return this._min;
		},function(value){
		if (this._min !=value){
			this._min=value;
			this.callLater(this.changeValue);
		}
	});

	/**
	*获取或设置表示当前滑块位置的数字。
	*/
	__getset(0,__proto,'value',function(){
		return this._value;
		},function(num){
		if (this._value !=num){
			var oldValue=this._value;
			this._value=num;
			this.changeValue();
			if (this._value !=oldValue){
				this.sendChangeEvent();
			}
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='number')|| (typeof value=='string'))this.value=Number(value);
		else Laya.superSet(Component,this,'dataSource',value);
	});

	/**
	*表示滑块按钮的引用。
	*/
	__getset(0,__proto,'bar',function(){
		return this._bar;
	});

	__static(Slider,
	['label',function(){return this.label=new Label();}
	]);
	return Slider;
})(Component)


/**
*<code>Image</code> 类是用于表示位图图像或绘制图形的显示对象。
*Image和Clip组件是唯一支持异步加载的两个组件，比如img.skin="abc/xxx.png"，其他UI组件均不支持异步加载。
*
*@example <caption>以下示例代码，创建了一个新的 <code>Image</code> 实例，设置了它的皮肤、位置信息，并添加到舞台上。</caption>
*package
*{
	*import laya.ui.Image;
	*public class Image_Example
	*{
		*public function Image_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*onInit();
			*}
		*private function onInit():void
		*{
			*var bg:Image=new Image("resource/ui/bg.png");//创建一个 Image 类的实例对象 bg ,并传入它的皮肤。
			*bg.x=100;//设置 bg 对象的属性 x 的值，用于控制 bg 对象的显示位置。
			*bg.y=100;//设置 bg 对象的属性 y 的值，用于控制 bg 对象的显示位置。
			*bg.sizeGrid="40,10,5,10";//设置 bg 对象的网格信息。
			*bg.width=150;//设置 bg 对象的宽度。
			*bg.height=250;//设置 bg 对象的高度。
			*Laya.stage.addChild(bg);//将此 bg 对象添加到显示列表。
			*var image:Image=new Image("resource/ui/image.png");//创建一个 Image 类的实例对象 image ,并传入它的皮肤。
			*image.x=100;//设置 image 对象的属性 x 的值，用于控制 image 对象的显示位置。
			*image.y=100;//设置 image 对象的属性 y 的值，用于控制 image 对象的显示位置。
			*Laya.stage.addChild(image);//将此 image 对象添加到显示列表。
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*onInit();
*function onInit(){
	*var bg=new laya.ui.Image("resource/ui/bg.png");//创建一个 Image 类的实例对象 bg ,并传入它的皮肤。
	*bg.x=100;//设置 bg 对象的属性 x 的值，用于控制 bg 对象的显示位置。
	*bg.y=100;//设置 bg 对象的属性 y 的值，用于控制 bg 对象的显示位置。
	*bg.sizeGrid="40,10,5,10";//设置 bg 对象的网格信息。
	*bg.width=150;//设置 bg 对象的宽度。
	*bg.height=250;//设置 bg 对象的高度。
	*Laya.stage.addChild(bg);//将此 bg 对象添加到显示列表。
	*var image=new laya.ui.Image("resource/ui/image.png");//创建一个 Image 类的实例对象 image ,并传入它的皮肤。
	*image.x=100;//设置 image 对象的属性 x 的值，用于控制 image 对象的显示位置。
	*image.y=100;//设置 image 对象的属性 y 的值，用于控制 image 对象的显示位置。
	*Laya.stage.addChild(image);//将此 image 对象添加到显示列表。
	*}
*@example
*class Image_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*this.onInit();
		*}
	*private onInit():void {
		*var bg:laya.ui.Image=new laya.ui.Image("resource/ui/bg.png");//创建一个 Image 类的实例对象 bg ,并传入它的皮肤。
		*bg.x=100;//设置 bg 对象的属性 x 的值，用于控制 bg 对象的显示位置。
		*bg.y=100;//设置 bg 对象的属性 y 的值，用于控制 bg 对象的显示位置。
		*bg.sizeGrid="40,10,5,10";//设置 bg 对象的网格信息。
		*bg.width=150;//设置 bg 对象的宽度。
		*bg.height=250;//设置 bg 对象的高度。
		*Laya.stage.addChild(bg);//将此 bg 对象添加到显示列表。
		*var image:laya.ui.Image=new laya.ui.Image("resource/ui/image.png");//创建一个 Image 类的实例对象 image ,并传入它的皮肤。
		*image.x=100;//设置 image 对象的属性 x 的值，用于控制 image 对象的显示位置。
		*image.y=100;//设置 image 对象的属性 y 的值，用于控制 image 对象的显示位置。
		*Laya.stage.addChild(image);//将此 image 对象添加到显示列表。
		*}
	*}
*@see laya.ui.AutoBitmap
*/
//class laya.ui.Image extends laya.ui.Component
var Image=(function(_super){
	function Image(skin){
		/**@private */
		this._bitmap=null;
		/**@private */
		this._skin=null;
		/**@private */
		this._group=null;
		Image.__super.call(this);
		this.skin=skin;
	}

	__class(Image,'laya.ui.Image',_super);
	var __proto=Image.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,true);
		this._bitmap && this._bitmap.destroy();
		this._bitmap=null;
	}

	/**
	*销毁对象并释放加载的皮肤资源。
	*/
	__proto.dispose=function(){
		this.destroy(true);
		Laya.loader.clearRes(this._skin);
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.graphics=this._bitmap=new AutoBitmap();
		this._bitmap.autoCacheCmd=false;
	}

	/**
	*@private
	*设置皮肤资源。
	*/
	__proto.setSource=function(url,img){
		if (url===this._skin && img){
			this.source=img
			this.onCompResize();
		}
	}

	/**
	*@copy laya.ui.AutoBitmap#source
	*/
	__getset(0,__proto,'source',function(){
		return this._bitmap.source;
		},function(value){
		if (!this._bitmap)return;
		this._bitmap.source=value;
		this.event(/*laya.events.Event.LOADED*/"loaded");
		this.repaint();
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='string'))this.skin=value;
		else Laya.superSet(Component,this,'dataSource',value);
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		return this._bitmap.height;
	});

	/**
	*<p>对象的皮肤地址，以字符串表示。</p>
	*<p>如果资源未加载，则先加载资源，加载完成后应用于此对象。</p>
	*<b>注意：</b>资源加载完成后，会自动缓存至资源库中。
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			if (value){
				var source=Loader.getRes(value);
				if (source){
					this.source=source;
					this.onCompResize();
				}else Laya.loader.load(this._skin,Handler.create(this,this.setSource,[this._skin]),null,/*laya.net.Loader.IMAGE*/"image",1,true,this._group);
				}else {
				this.source=null;
			}
		}
	});

	/**
	*资源分组。
	*/
	__getset(0,__proto,'group',function(){
		return this._group;
		},function(value){
		if (value && this._skin)Loader.setGroup(this._skin,value);
		this._group=value;
	});

	/**
	*<p>当前实例的位图 <code>AutoImage</code> 实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"。</li></ul></p>
	*@see laya.ui.AutoBitmap#sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		if (this._bitmap.sizeGrid)return this._bitmap.sizeGrid.join(",");
		return null;
		},function(value){
		this._bitmap.sizeGrid=UIUtils.fillArray(Styles.defaultSizeGrid,value,Number);
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		return this._bitmap.width;
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Component,this,'width',value);
		this._bitmap.width=value==0 ? 0.0000001 :value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Component,this,'height',value);
		this._bitmap.height=value==0 ? 0.0000001 :value;
	});

	return Image;
})(Component)


/**
*<p> <code>Label</code> 类用于创建显示对象以显示文本。</p>
*
*@example <caption>以下示例代码，创建了一个 <code>Label</code> 实例。</caption>
*package
*{
	*import laya.ui.Label;
	*public class Label_Example
	*{
		*public function Label_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*onInit();
			*}
		*private function onInit():void
		*{
			*var label:Label=new Label();//创建一个 Label 类的实例对象 label 。
			*label.font="Arial";//设置 label 的字体。
			*label.bold=true;//设置 label 显示为粗体。
			*label.leading=4;//设置 label 的行间距。
			*label.wordWrap=true;//设置 label 自动换行。
			*label.padding="10,10,10,10";//设置 label 的边距。
			*label.color="#ff00ff";//设置 label 的颜色。
			*label.text="Hello everyone,我是一个可爱的文本！";//设置 label 的文本内容。
			*label.x=100;//设置 label 对象的属性 x 的值，用于控制 label 对象的显示位置。
			*label.y=100;//设置 label 对象的属性 y 的值，用于控制 label 对象的显示位置。
			*label.width=300;//设置 label 的宽度。
			*label.height=200;//设置 label 的高度。
			*Laya.stage.addChild(label);//将 label 添加到显示列表。
			*var passwordLabel:Label=new Label("请原谅我，我不想被人看到我心里话。");//创建一个 Label 类的实例对象 passwordLabel 。
			*passwordLabel.asPassword=true;//设置 passwordLabel 的显示反式为密码显示。
			*passwordLabel.x=100;//设置 passwordLabel 对象的属性 x 的值，用于控制 passwordLabel 对象的显示位置。
			*passwordLabel.y=350;//设置 passwordLabel 对象的属性 y 的值，用于控制 passwordLabel 对象的显示位置。
			*passwordLabel.width=300;//设置 passwordLabel 的宽度。
			*passwordLabel.color="#000000";//设置 passwordLabel 的文本颜色。
			*passwordLabel.bgColor="#ccffff";//设置 passwordLabel 的背景颜色。
			*passwordLabel.fontSize=20;//设置 passwordLabel 的文本字体大小。
			*Laya.stage.addChild(passwordLabel);//将 passwordLabel 添加到显示列表。
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*onInit();
*function onInit(){
	*var label=new laya.ui.Label();//创建一个 Label 类的实例对象 label 。
	*label.font="Arial";//设置 label 的字体。
	*label.bold=true;//设置 label 显示为粗体。
	*label.leading=4;//设置 label 的行间距。
	*label.wordWrap=true;//设置 label 自动换行。
	*label.padding="10,10,10,10";//设置 label 的边距。
	*label.color="#ff00ff";//设置 label 的颜色。
	*label.text="Hello everyone,我是一个可爱的文本！";//设置 label 的文本内容。
	*label.x=100;//设置 label 对象的属性 x 的值，用于控制 label 对象的显示位置。
	*label.y=100;//设置 label 对象的属性 y 的值，用于控制 label 对象的显示位置。
	*label.width=300;//设置 label 的宽度。
	*label.height=200;//设置 label 的高度。
	*Laya.stage.addChild(label);//将 label 添加到显示列表。
	*var passwordLabel=new laya.ui.Label("请原谅我，我不想被人看到我心里话。");//创建一个 Label 类的实例对象 passwordLabel 。
	*passwordLabel.asPassword=true;//设置 passwordLabel 的显示反式为密码显示。
	*passwordLabel.x=100;//设置 passwordLabel 对象的属性 x 的值，用于控制 passwordLabel 对象的显示位置。
	*passwordLabel.y=350;//设置 passwordLabel 对象的属性 y 的值，用于控制 passwordLabel 对象的显示位置。
	*passwordLabel.width=300;//设置 passwordLabel 的宽度。
	*passwordLabel.color="#000000";//设置 passwordLabel 的文本颜色。
	*passwordLabel.bgColor="#ccffff";//设置 passwordLabel 的背景颜色。
	*passwordLabel.fontSize=20;//设置 passwordLabel 的文本字体大小。
	*Laya.stage.addChild(passwordLabel);//将 passwordLabel 添加到显示列表。
	*}
*@example
*import Label=laya.ui.Label;
*class Label_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*this.onInit();
		*}
	*private onInit():void {
		*var label:Label=new Label();//创建一个 Label 类的实例对象 label 。
		*label.font="Arial";//设置 label 的字体。
		*label.bold=true;//设置 label 显示为粗体。
		*label.leading=4;//设置 label 的行间距。
		*label.wordWrap=true;//设置 label 自动换行。
		*label.padding="10,10,10,10";//设置 label 的边距。
		*label.color="#ff00ff";//设置 label 的颜色。
		*label.text="Hello everyone,我是一个可爱的文本！";//设置 label 的文本内容。
		*label.x=100;//设置 label 对象的属性 x 的值，用于控制 label 对象的显示位置。
		*label.y=100;//设置 label 对象的属性 y 的值，用于控制 label 对象的显示位置。
		*label.width=300;//设置 label 的宽度。
		*label.height=200;//设置 label 的高度。
		*Laya.stage.addChild(label);//将 label 添加到显示列表。
		*var passwordLabel:Label=new Label("请原谅我，我不想被人看到我心里话。");//创建一个 Label 类的实例对象 passwordLabel 。
		*passwordLabel.asPassword=true;//设置 passwordLabel 的显示反式为密码显示。
		*passwordLabel.x=100;//设置 passwordLabel 对象的属性 x 的值，用于控制 passwordLabel 对象的显示位置。
		*passwordLabel.y=350;//设置 passwordLabel 对象的属性 y 的值，用于控制 passwordLabel 对象的显示位置。
		*passwordLabel.width=300;//设置 passwordLabel 的宽度。
		*passwordLabel.color="#000000";//设置 passwordLabel 的文本颜色。
		*passwordLabel.bgColor="#ccffff";//设置 passwordLabel 的背景颜色。
		*passwordLabel.fontSize=20;//设置 passwordLabel 的文本字体大小。
		*Laya.stage.addChild(passwordLabel);//将 passwordLabel 添加到显示列表。
		*}
	*}
*@see laya.display.Text
*/
//class laya.ui.Label extends laya.ui.Component
var Label=(function(_super){
	function Label(text){
		/**
		*@private
		*文本 <code>Text</code> 实例。
		*/
		this._tf=null;
		Label.__super.call(this);
		(text===void 0)&& (text="");
		Font.defaultColor=Styles.labelColor;
		this.text=text;
	}

	__class(Label,'laya.ui.Label',_super);
	var __proto=Label.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._tf=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._tf=new Text());
	}

	/**@copy laya.display.Text#changeText()
	**/
	__proto.changeText=function(text){
		this._tf.changeText(text);
	}

	/**
	*<p>边距信息</p>
	*<p>"上边距，右边距，下边距 , 左边距（边距以像素为单位）"</p>
	*@see laya.display.Text.padding
	*/
	__getset(0,__proto,'padding',function(){
		return this._tf.padding.join(",");
		},function(value){
		this._tf.padding=UIUtils.fillArray(Styles.labelPadding,value,Number);
	});

	/**
	*@copy laya.display.Text#bold
	*/
	__getset(0,__proto,'bold',function(){
		return this._tf.bold;
		},function(value){
		this._tf.bold=value;
	});

	/**
	*@copy laya.display.Text#align
	*/
	__getset(0,__proto,'align',function(){
		return this._tf.align;
		},function(value){
		this._tf.align=value;
	});

	/**
	*当前文本内容字符串。
	*@see laya.display.Text.text
	*/
	__getset(0,__proto,'text',function(){
		return this._tf.text;
		},function(value){
		if (this._tf.text !=value){
			if(value)
				value=UIUtils.adptString(value+"");
			this._tf.text=value;
			this.event(/*laya.events.Event.CHANGE*/"change");
			if (!this._width || !this._height)this.onCompResize();
		}
	});

	/**
	*@copy laya.display.Text#italic
	*/
	__getset(0,__proto,'italic',function(){
		return this._tf.italic;
		},function(value){
		this._tf.italic=value;
	});

	/**
	*@copy laya.display.Text#wordWrap
	*/
	/**
	*@copy laya.display.Text#wordWrap
	*/
	__getset(0,__proto,'wordWrap',function(){
		return this._tf.wordWrap;
		},function(value){
		this._tf.wordWrap=value;
	});

	/**
	*@copy laya.display.Text#font
	*/
	__getset(0,__proto,'font',function(){
		return this._tf.font;
		},function(value){
		this._tf.font=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='number')|| (typeof value=='string'))this.text=value+"";
		else Laya.superSet(Component,this,'dataSource',value);
	});

	/**
	*@copy laya.display.Text#color
	*/
	__getset(0,__proto,'color',function(){
		return this._tf.color;
		},function(value){
		this._tf.color=value;
	});

	/**
	*@copy laya.display.Text#valign
	*/
	__getset(0,__proto,'valign',function(){
		return this._tf.valign;
		},function(value){
		this._tf.valign=value;
	});

	/**
	*@copy laya.display.Text#leading
	*/
	__getset(0,__proto,'leading',function(){
		return this._tf.leading;
		},function(value){
		this._tf.leading=value;
	});

	/**
	*@copy laya.display.Text#fontSize
	*/
	__getset(0,__proto,'fontSize',function(){
		return this._tf.fontSize;
		},function(value){
		this._tf.fontSize=value;
	});

	/**
	*@copy laya.display.Text#bgColor
	*/
	__getset(0,__proto,'bgColor',function(){
		return this._tf.bgColor
		},function(value){
		this._tf.bgColor=value;
	});

	/**
	*@copy laya.display.Text#borderColor
	*/
	__getset(0,__proto,'borderColor',function(){
		return this._tf.borderColor
		},function(value){
		this._tf.borderColor=value;
	});

	/**
	*@copy laya.display.Text#stroke
	*/
	__getset(0,__proto,'stroke',function(){
		return this._tf.stroke;
		},function(value){
		this._tf.stroke=value;
	});

	/**
	*@copy laya.display.Text#strokeColor
	*/
	__getset(0,__proto,'strokeColor',function(){
		return this._tf.strokeColor;
		},function(value){
		this._tf.strokeColor=value;
	});

	/**
	*文本控件实体 <code>Text</code> 实例。
	*/
	__getset(0,__proto,'textField',function(){
		return this._tf;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'measureWidth',function(){
		return this._tf.width;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'measureHeight',function(){
		return this._tf.height;
	});

	/**
	*@inheritDoc
	*/
	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'width',function(){
		if (this._width || this._tf.text)return Laya.superGet(Component,this,'width');
		return 0;
		},function(value){
		Laya.superSet(Component,this,'width',value);
		this._tf.width=value;
	});

	/**
	*@inheritDoc
	*/
	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'height',function(){
		if (this._height || this._tf.text)return Laya.superGet(Component,this,'height');
		return 0;
		},function(value){
		Laya.superSet(Component,this,'height',value);
		this._tf.height=value;
	});

	/**
	*@copy laya.display.Text#overflow
	*/
	/**
	*@copy laya.display.Text#overflow
	*/
	__getset(0,__proto,'overflow',function(){
		return this._tf.overflow;
		},function(value){
		this._tf.overflow=value;
	});

	/**
	*@copy laya.display.Text#underline
	*/
	/**
	*@copy laya.display.Text#underline
	*/
	__getset(0,__proto,'underline',function(){
		return this._tf.underline;
		},function(value){
		this._tf.underline=value;
	});

	/**
	*@copy laya.display.Text#underlineColor
	*/
	/**
	*@copy laya.display.Text#underlineColor
	*/
	__getset(0,__proto,'underlineColor',function(){
		return this._tf.underlineColor;
		},function(value){
		this._tf.underlineColor=value;
	});

	return Label;
})(Component)


/**
*<code>ProgressBar</code> 组件显示内容的加载进度。
*@example <caption>以下示例代码，创建了一个新的 <code>ProgressBar</code> 实例，设置了它的皮肤、位置、宽高、网格等信息，并添加到舞台上。</caption>
*package
*{
	*import laya.ui.ProgressBar;
	*import laya.utils.Handler;
	*public class ProgressBar_Example
	*{
		*private var progressBar:ProgressBar;
		*public function ProgressBar_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/progress.png","resource/ui/progress$bar.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*progressBar=new ProgressBar("resource/ui/progress.png");//创建一个 ProgressBar 类的实例对象 progressBar 。
			*progressBar.x=100;//设置 progressBar 对象的属性 x 的值，用于控制 progressBar 对象的显示位置。
			*progressBar.y=100;//设置 progressBar 对象的属性 y 的值，用于控制 progressBar 对象的显示位置。
			*progressBar.value=0.3;//设置 progressBar 的进度值。
			*progressBar.width=200;//设置 progressBar 的宽度。
			*progressBar.height=50;//设置 progressBar 的高度。
			*progressBar.sizeGrid="5,10,5,10";//设置 progressBar 的网格信息。
			*progressBar.changeHandler=new Handler(this,onChange);//设置 progressBar 的value值改变时执行的处理器。
			*Laya.stage.addChild(progressBar);//将 progressBar 添加到显示列表。
			*Laya.timer.once(3000,this,changeValue);//设定 3000ms（毫秒）后，执行函数changeValue。
			*}
		*private function changeValue():void
		*{
			*trace("改变进度条的进度值。");
			*progressBar.value=0.6;
			*}
		*private function onChange(value:Number):void
		*{
			*trace("进度发生改变： value=" ,value);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var res=["resource/ui/progress.png","resource/ui/progress$bar.png"];
*Laya.loader.load(res,laya.utils.Handler.create(this,onLoadComplete));//加载资源。
*function onLoadComplete()
*{
	*progressBar=new laya.ui.ProgressBar("resource/ui/progress.png");//创建一个 ProgressBar 类的实例对象 progressBar 。
	*progressBar.x=100;//设置 progressBar 对象的属性 x 的值，用于控制 progressBar 对象的显示位置。
	*progressBar.y=100;//设置 progressBar 对象的属性 y 的值，用于控制 progressBar 对象的显示位置。
	*progressBar.value=0.3;//设置 progressBar 的进度值。
	*progressBar.width=200;//设置 progressBar 的宽度。
	*progressBar.height=50;//设置 progressBar 的高度。
	*progressBar.sizeGrid="10,5,10,5";//设置 progressBar 的网格信息。
	*progressBar.changeHandler=new laya.utils.Handler(this,onChange);//设置 progressBar 的value值改变时执行的处理器。
	*Laya.stage.addChild(progressBar);//将 progressBar 添加到显示列表。
	*Laya.timer.once(3000,this,changeValue);//设定 3000ms（毫秒）后，执行函数changeValue。
	*}
*function changeValue()
*{
	*console.log("改变进度条的进度值。");
	*progressBar.value=0.6;
	*}
*function onChange(value)
*{
	*console.log("进度发生改变： value=" ,value);
	*}
*@example
*import ProgressBar=laya.ui.ProgressBar;
*import Handler=laya.utils.Handler;
*class ProgressBar_Example {
	*private progressBar:ProgressBar;
	*public ProgressBar_Example(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/progress.png","resource/ui/progress$bar.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*this.progressBar=new ProgressBar("resource/ui/progress.png");//创建一个 ProgressBar 类的实例对象 progressBar 。
		*this.progressBar.x=100;//设置 progressBar 对象的属性 x 的值，用于控制 progressBar 对象的显示位置。
		*this.progressBar.y=100;//设置 progressBar 对象的属性 y 的值，用于控制 progressBar 对象的显示位置。
		*this.progressBar.value=0.3;//设置 progressBar 的进度值。
		*this.progressBar.width=200;//设置 progressBar 的宽度。
		*this.progressBar.height=50;//设置 progressBar 的高度。
		*this.progressBar.sizeGrid="5,10,5,10";//设置 progressBar 的网格信息。
		*this.progressBar.changeHandler=new Handler(this,this.onChange);//设置 progressBar 的value值改变时执行的处理器。
		*Laya.stage.addChild(this.progressBar);//将 progressBar 添加到显示列表。
		*Laya.timer.once(3000,this,this.changeValue);//设定 3000ms（毫秒）后，执行函数changeValue。
		*}
	*private changeValue():void {
		*console.log("改变进度条的进度值。");
		*this.progressBar.value=0.6;
		*}
	*private onChange(value:number):void {
		*console.log("进度发生改变： value=",value);
		*}
	*}
*/
//class laya.ui.ProgressBar extends laya.ui.Component
var ProgressBar=(function(_super){
	function ProgressBar(skin){
		/**
		*当 <code>ProgressBar</code> 实例的 <code>value</code> 属性发生变化时的函数处理器。
		*<p>默认返回参数<code>value</code> 属性（进度值）。</p>
		*/
		this.changeHandler=null;
		/**@private */
		this._bg=null;
		/**@private */
		this._bar=null;
		/**@private */
		this._skin=null;
		/**@private */
		this._value=0.5;
		ProgressBar.__super.call(this);
		this.skin=skin;
	}

	__class(ProgressBar,'laya.ui.ProgressBar',_super);
	var __proto=ProgressBar.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._bg && this._bg.destroy(destroyChild);
		this._bar && this._bar.destroy(destroyChild);
		this._bg=this._bar=null;
		this.changeHandler=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._bg=new Image());
		this.addChild(this._bar=new Image());
		this._bar._bitmap.autoCacheCmd=false;
	}

	/**
	*@private
	*更改进度值的显示。
	*/
	__proto.changeValue=function(){
		if (this.sizeGrid){
			var grid=this.sizeGrid.split(",");
			var left=Number(grid[3]);
			var right=Number(grid[1]);
			var max=this.width-left-right;
			var sw=max *this._value;
			this._bar.width=left+right+sw;
			this._bar.visible=this._bar.width > left+right;
			}else {
			this._bar.width=this.width *this._value;
		}
	}

	/**@inheritDoc */
	__getset(0,__proto,'measureHeight',function(){
		return this._bg.height;
	});

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			this._bg.skin=this._skin;
			this._bar.skin=this._skin.replace(".png","$bar.png");
			this.callLater(this.changeValue);
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'measureWidth',function(){
		return this._bg.width;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Component,this,'height',value);
		this._bg.height=this._height;
		this._bar.height=this._height;
	});

	/**
	*获取进度条对象。
	*/
	__getset(0,__proto,'bar',function(){
		return this._bar;
	});

	/**
	*当前的进度量。
	*<p><b>取值：</b>介于0和1之间。</p>
	*/
	__getset(0,__proto,'value',function(){
		return this._value;
		},function(num){
		if (this._value !=num){
			num=num > 1 ? 1 :num < 0 ? 0 :num;
			this._value=num;
			this.callLater(this.changeValue);
			this.event(/*laya.events.Event.CHANGE*/"change");
			this.changeHandler && this.changeHandler.runWith(num);
		}
	});

	/**
	*获取背景条对象。
	*/
	__getset(0,__proto,'bg',function(){
		return this._bg;
	});

	/**
	*<p>当前 <code>ProgressBar</code> 实例的进度条背景位图（ <code>Image</code> 实例）的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		return this._bg.sizeGrid;
		},function(value){
		this._bg.sizeGrid=this._bar.sizeGrid=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Component,this,'width',value);
		this._bg.width=this._width;
		this.callLater(this.changeValue);
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='number')|| (typeof value=='string'))this.value=Number(value);
		else Laya.superSet(Component,this,'dataSource',value);
	});

	return ProgressBar;
})(Component)


/**鼠标提示管理类*/
//class laya.ui.TipManager extends laya.ui.Component
var TipManager=(function(_super){
	function TipManager(){
		this._tipBox=null;
		this._tipText=null;
		this._defaultTipHandler=null;
		TipManager.__super.call(this);
		this._tipBox=new Component();
		this._tipBox.addChild(this._tipText=new Text());
		this._tipText.x=this._tipText.y=5;
		this._tipText.color=TipManager.tipTextColor;
		this._defaultTipHandler=this._showDefaultTip;
		Laya.stage.on(/*laya.ui.UIEvent.SHOW_TIP*/"showtip",this,this._onStageShowTip);
		Laya.stage.on(/*laya.ui.UIEvent.HIDE_TIP*/"hidetip",this,this._onStageHideTip);
		this.zOrder=1100
	}

	__class(TipManager,'laya.ui.TipManager',_super);
	var __proto=TipManager.prototype;
	/**
	*@private
	*/
	__proto._onStageHideTip=function(e){
		Laya.timer.clear(this,this._showTip);
		this.closeAll();
		this.removeSelf();
	}

	/**
	*@private
	*/
	__proto._onStageShowTip=function(data){
		Laya.timer.once(TipManager.tipDelay,this,this._showTip,[data],true);
	}

	/**
	*@private
	*/
	__proto._showTip=function(tip){
		if ((typeof tip=='string')){
			var text=String(tip);
			if (Boolean(text)){
				this._defaultTipHandler(text);
			}
			}else if ((tip instanceof laya.utils.Handler )){
			(tip).run();
			}else if ((typeof tip=='function')){
			(tip).apply();
		}
		if (true){
			Laya.stage.on(/*laya.events.Event.MOUSE_MOVE*/"mousemove",this,this._onStageMouseMove);
			Laya.stage.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this._onStageMouseDown);
		}
		this._onStageMouseMove(null);
	}

	/**
	*@private
	*/
	__proto._onStageMouseDown=function(e){
		this.closeAll();
	}

	/**
	*@private
	*/
	__proto._onStageMouseMove=function(e){
		this._showToStage(this,TipManager.offsetX,TipManager.offsetY);
	}

	/**
	*@private
	*/
	__proto._showToStage=function(dis,offX,offY){
		(offX===void 0)&& (offX=0);
		(offY===void 0)&& (offY=0);
		var rec=dis.getBounds();
		dis.x=Laya.stage.mouseX+offX;
		dis.y=Laya.stage.mouseY+offY;
		if (dis.x+rec.width > Laya.stage.width){
			dis.x-=rec.width+offX;
		}
		if (dis.y+rec.height > Laya.stage.height){
			dis.y-=rec.height+offY;
		}
	}

	/**关闭所有鼠标提示*/
	__proto.closeAll=function(){
		Laya.timer.clear(this,this._showTip);
		Laya.stage.off(/*laya.events.Event.MOUSE_MOVE*/"mousemove",this,this._onStageMouseMove);
		Laya.stage.off(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this._onStageMouseDown);
		this.removeChildren();
	}

	/**
	*显示显示对象类型的tip
	*/
	__proto.showDislayTip=function(tip){
		this.addChild(tip);
		this._showToStage(this);
		Laya._currentStage.addChild(this);
	}

	/**
	*@private
	*/
	__proto._showDefaultTip=function(text){
		this._tipText.text=text;
		var g=this._tipBox.graphics;
		g.clear();
		g.drawRect(0,0,this._tipText.width+10,this._tipText.height+10,TipManager.tipBackColor);
		this.addChild(this._tipBox);
		this._showToStage(this);
		Laya._currentStage.addChild(this);
	}

	/**默认鼠标提示函数*/
	__getset(0,__proto,'defaultTipHandler',function(){
		return this._defaultTipHandler;
		},function(value){
		this._defaultTipHandler=value;
	});

	TipManager.offsetX=10;
	TipManager.offsetY=15;
	TipManager.tipTextColor="#ffffff";
	TipManager.tipBackColor="#111111";
	TipManager.tipDelay=200;
	return TipManager;
})(Component)


/**
*<code>View</code> 是一个视图类。
*@internal <p><code>View</code></p>
*/
//class laya.ui.View extends laya.ui.Box
var View=(function(_super){
	var DataWatcher;
	function View(){
		/**@private */
		this._idMap=null;
		/**@private */
		this._aniList=null;
		/**@private */
		this._watchMap={};
		View.__super.call(this);
	}

	__class(View,'laya.ui.View',_super);
	var __proto=View.prototype;
	/**
	*@private
	*通过视图数据创建视图。
	*@param uiView 视图数据信息。
	*/
	__proto.createView=function(uiView){
		if (uiView.animations && !this._idMap)this._idMap={};
		View.createComp(uiView,this,this);
		if (uiView.animations){
			var anilist=[];
			var animations=uiView.animations;
			var i=0,len=animations.length;
			var tAni;
			var tAniO;
			for (i=0;i < len;i++){
				tAni=new FrameAnimation();
				tAniO=animations[i];
				tAni._setUp(this._idMap,tAniO);
				this[tAniO.name]=tAni;
				tAni._setControlNode(this);
				switch (tAniO.action){
					case 1:
						tAni.play(0,false);
						break ;
					case 2:
						tAni.play(0,true);
						break ;
					}
				anilist.push(tAni);
			}
			this._aniList=anilist;
		}
		if (this._width > 0 && uiView.props.hitTestPrior==null && !this.mouseThrough)this.hitTestPrior=true;
	}

	/**
	*@private
	*装载UI视图。用于加载模式。
	*@param path UI资源地址。
	*/
	__proto.loadUI=function(path){
		var uiView=View.uiMap[path];
		uiView && this.createView(uiView);
	}

	/**
	*<p>销毁此对象。</p>
	*@param destroyChild 是否同时销毁子节点，若值为true,则销毁子节点，否则不销毁子节点。
	*/
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		if (this._aniList)this._aniList.length=0;
		this._idMap=null;
		this._aniList=null;
		this._watchMap=null;
		laya.ui.Component.prototype.destroy.call(this,destroyChild);
	}

	/**@private */
	__proto.changeData=function(key){
		var arr=this._watchMap[key];
		if (!arr)return;
		console.log("change",key);
		for (var i=0,n=arr.length;i < n;i++){
			var watcher=arr[i];
			watcher.exe(this);
		}
	}

	View._regs=function(){
		for (var key in View.uiClassMap){
			ClassUtils.regClass(key,View.uiClassMap[key]);
		}
	}

	View.createComp=function(uiView,comp,view,dataMap){
		comp=comp || View.getCompInstance(uiView);
		if (!comp){
			console.warn("can not create:"+uiView.type);
			return null;
		};
		var child=uiView.child;
		if (child){
			var isList=(comp instanceof laya.ui.List );
			for (var i=0,n=child.length;i < n;i++){
				var node=child[i];
				if (comp.hasOwnProperty("itemRender")&& (node.props.name=="render" || node.props.renderType==="render")){
					(comp).itemRender=node;
					}else if (node.type=="Graphic"){
					ClassUtils.addGraphicsToSprite(node,comp);
					}else if (ClassUtils.isDrawType(node.type)){
					ClassUtils.addGraphicToSprite(node,comp,true);
					}else {
					if (isList){
						var arr=[];
						var tChild=View.createComp(node,null,view,arr);
						if (arr.length)tChild["_$bindData"]=arr;
						}else {
						tChild=View.createComp(node,null,view,dataMap);
					}
					if (node.type=="Script"){
						if ("owner" in tChild){
							tChild["owner"]=comp;
							}else if ("target" in tChild){
							tChild["target"]=comp;
						}
						}else if (node.props.renderType=="mask" || node.props.name=="mask"){
						comp.mask=tChild;
						}else {(
						tChild instanceof laya.display.Sprite )&& comp.addChild(tChild);
					}
				}
			}
		};
		var props=uiView.props;
		for (var prop in props){
			var value=props[prop];
			View.setCompValue(comp,prop,value,view,dataMap);
		}
		if (Laya.__typeof(comp,'laya.ui.IItem'))(comp).initItems();
		if (uiView.compId && view && view._idMap){
			view._idMap[uiView.compId]=comp;
		}
		return comp;
	}

	View.setCompValue=function(comp,prop,value,view,dataMap){
		if ((typeof value=='string')&& value.indexOf("${")>-1){
			View._sheet || (View._sheet=ClassUtils.getClass("laya.data.Table"));
			if (!View._sheet){
				console.warn("Can not find class Sheet");
				return;
			}
			if (dataMap){
				dataMap.push(comp,prop,value);
				}else if (view){
				if (value.indexOf("].")==-1){
					value=value.replace(".","[0].");
				};
				var watcher=new DataWatcher(comp,prop,value);
				watcher.exe(view);
				var one,temp;
				var str=value.replace(/\[.*?\]\./g,".");
				while ((one=View._parseWatchData.exec(str))!=null){
					var key1=one[1];
					while ((temp=View._parseKeyWord.exec(key1))!=null){
						var key2=temp[0];
						var arr=(view._watchMap[key2] || (view._watchMap[key2]=[]));
						arr.push(watcher);
						View._sheet.I.notifer.on(key2,view,view.changeData,[key2]);
					}
					arr=(view._watchMap[key1] || (view._watchMap[key1]=[]));
					arr.push(watcher);
					View._sheet.I.notifer.on(key1,view,view.changeData,[key1]);
				}
			}
			return;
		}
		if (prop==="var" && view){
			view[value]=comp;
			}else if (prop=="onClick"){
			var fun=Browser.window.eval("(function(){"+value+"})");
			comp.on(/*laya.events.Event.CLICK*/"click",view,fun);
			}else {
			comp[prop]=(value==="true" ? true :(value==="false" ? false :value));
		}
	}

	View.getCompInstance=function(json){
		var runtime=json.props ? json.props.runtime :null;
		var compClass;
		compClass=runtime ? (View.viewClassMap[runtime] || View.uiClassMap[runtime]|| Laya["__classmap"][runtime]):View.uiClassMap[json.type];
		if (json.props && json.props.hasOwnProperty("renderType")&& json.props["renderType"]=="instance")return compClass["instance"];
		return compClass ? new compClass():null;
	}

	View.regComponent=function(key,compClass){
		View.uiClassMap[key]=compClass;
		ClassUtils.regClass(key,compClass);
	}

	View.regViewRuntime=function(key,compClass){
		View.viewClassMap[key]=compClass;
	}

	View.uiMap={};
	View.viewClassMap={};
	View._sheet=null;
	__static(View,
	['uiClassMap',function(){return this.uiClassMap={"ViewStack":ViewStack,"LinkButton":Button,"TextArea":TextArea,"ColorPicker":ColorPicker,"Box":Box,"Button":Button,"CheckBox":CheckBox,"Clip":Clip,"ComboBox":ComboBox,"Component":Component,"HScrollBar":HScrollBar,"HSlider":HSlider,"Image":Image,"Label":Label,"List":List,"Panel":Panel,"ProgressBar":ProgressBar,"Radio":Radio,"RadioGroup":RadioGroup,"ScrollBar":ScrollBar,"Slider":Slider,"Tab":Tab,"TextInput":TextInput,"View":View,"VScrollBar":VScrollBar,"VSlider":VSlider,"Tree":Tree,"HBox":HBox,"VBox":VBox,"Sprite":Sprite,"Animation":Animation,"Text":Text,"FontClip":FontClip};},'_parseWatchData',function(){return this._parseWatchData=/\${(.*?)}/g;},'_parseKeyWord',function(){return this._parseKeyWord=/[a-zA-Z_][a-zA-Z0-9_]*(?:(?:\.[a-zA-Z_][a-zA-Z0-9_]*)+)/g;}
	]);
	View.__init$=function(){
		View._regs()
		//class DataWatcher
		DataWatcher=(function(){
			function DataWatcher(comp,prop,value){
				this.comp=null;
				this.prop=null;
				this.value=null;
				this.comp=comp;
				this.prop=prop;
				this.value=value;
			}
			__class(DataWatcher,'');
			var __proto=DataWatcher.prototype;
			__proto.exe=function(view){
				var fun=UIUtils.getBindFun(this.value);
				this.comp[this.prop]=fun.call(this,view);
			}
			return DataWatcher;
		})()
	}

	return View;
})(Box)


/**
*<code>CheckBox</code> 组件显示一个小方框，该方框内可以有选中标记。
*<code>CheckBox</code> 组件还可以显示可选的文本标签，默认该标签位于 CheckBox 右侧。
*<p><code>CheckBox</code> 使用 <code>dataSource</code>赋值时的的默认属性是：<code>selected</code>。</p>
*
*@example <caption>以下示例代码，创建了一个 <code>CheckBox</code> 实例。</caption>
*package
*{
	*import laya.ui.CheckBox;
	*import laya.utils.Handler;
	*public class CheckBox_Example
	*{
		*public function CheckBox_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load("resource/ui/check.png",Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*trace("资源加载完成！");
			*var checkBox:CheckBox=new CheckBox("resource/ui/check.png","这个是一个CheckBox组件。");//创建一个 CheckBox 类的实例对象 checkBox ,传入它的皮肤skin和标签label。
			*checkBox.x=100;//设置 checkBox 对象的属性 x 的值，用于控制 checkBox 对象的显示位置。
			*checkBox.y=100;//设置 checkBox 对象的属性 y 的值，用于控制 checkBox 对象的显示位置。
			*checkBox.clickHandler=new Handler(this,onClick,[checkBox]);//设置 checkBox 的点击事件处理器。
			*Laya.stage.addChild(checkBox);//将此 checkBox 对象添加到显示列表。
			*}
		*private function onClick(checkBox:CheckBox):void
		*{
			*trace("输出选中状态: checkBox.selected = "+checkBox.selected);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*Laya.loader.load("resource/ui/check.png",laya.utils.Handler.create(this,loadComplete));//加载资源
*function loadComplete()
*{
	*console.log("资源加载完成！");
	*var checkBox:laya.ui.CheckBox=new laya.ui.CheckBox("resource/ui/check.png","这个是一个CheckBox组件。");//创建一个 CheckBox 类的类的实例对象 checkBox ,传入它的皮肤skin和标签label。
	*checkBox.x=100;//设置 checkBox 对象的属性 x 的值，用于控制 checkBox 对象的显示位置。
	*checkBox.y=100;//设置 checkBox 对象的属性 y 的值，用于控制 checkBox 对象的显示位置。
	*checkBox.clickHandler=new laya.utils.Handler(this,this.onClick,[checkBox],false);//设置 checkBox 的点击事件处理器。
	*Laya.stage.addChild(checkBox);//将此 checkBox 对象添加到显示列表。
	*}
*function onClick(checkBox)
*{
	*console.log("checkBox.selected = ",checkBox.selected);
	*}
*@example
*import CheckBox=laya.ui.CheckBox;
*import Handler=laya.utils.Handler;
*class CheckBox_Example{
	*constructor()
	*{
		*Laya.init(640,800);
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("resource/ui/check.png",Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete()
	*{
		*var checkBox:CheckBox=new CheckBox("resource/ui/check.png","这个是一个CheckBox组件。");//创建一个 CheckBox 类的实例对象 checkBox ,传入它的皮肤skin和标签label。
		*checkBox.x=100;//设置 checkBox 对象的属性 x 的值，用于控制 checkBox 对象的显示位置。
		*checkBox.y=100;//设置 checkBox 对象的属性 y 的值，用于控制 checkBox 对象的显示位置。
		*checkBox.clickHandler=new Handler(this,this.onClick,[checkBox]);//设置 checkBox 的点击事件处理器。
		*Laya.stage.addChild(checkBox);//将此 checkBox 对象添加到显示列表。
		*}
	*private onClick(checkBox:CheckBox):void
	*{
		*console.log("输出选中状态: checkBox.selected = "+checkBox.selected);
		*}
	*}
*/
//class laya.ui.CheckBox extends laya.ui.Button
var CheckBox=(function(_super){
	/**
	*创建一个新的 <code>CheckBox</code> 组件实例。
	*@param skin 皮肤资源地址。
	*@param label 文本标签的内容。
	*/
	function CheckBox(skin,label){
		(label===void 0)&& (label="");
		CheckBox.__super.call(this,skin,label);
	}

	__class(CheckBox,'laya.ui.CheckBox',_super);
	var __proto=CheckBox.prototype;
	/**@inheritDoc */
	__proto.preinitialize=function(){
		laya.ui.Component.prototype.preinitialize.call(this);
		this.toggle=true;
		this._autoSize=false;
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		_super.prototype.initialize.call(this);
		this.createText();
		this._text.align="left";
		this._text.valign="top";
		this._text.width=0;
	}

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if ((typeof value=='boolean'))this.selected=value;
		else if ((typeof value=='string'))this.selected=value==="true";
		else Laya.superSet(Button,this,'dataSource',value);
	});

	return CheckBox;
})(Button)


/**
*<code>LayoutBox</code> 是一个布局容器类。
*/
//class laya.ui.LayoutBox extends laya.ui.Box
var LayoutBox=(function(_super){
	function LayoutBox(){
		/**@private */
		this._space=0;
		/**@private */
		this._align="none";
		/**@private */
		this._itemChanged=false;
		LayoutBox.__super.call(this);
	}

	__class(LayoutBox,'laya.ui.LayoutBox',_super);
	var __proto=LayoutBox.prototype;
	/**@inheritDoc */
	__proto.addChild=function(child){
		child.on(/*laya.events.Event.RESIZE*/"resize",this,this.onResize);
		this._setItemChanged();
		return laya.display.Node.prototype.addChild.call(this,child);
	}

	__proto.onResize=function(e){
		this._setItemChanged();
	}

	/**@inheritDoc */
	__proto.addChildAt=function(child,index){
		child.on(/*laya.events.Event.RESIZE*/"resize",this,this.onResize);
		this._setItemChanged();
		return laya.display.Node.prototype.addChildAt.call(this,child,index);
	}

	/**@inheritDoc */
	__proto.removeChild=function(child){
		child.off(/*laya.events.Event.RESIZE*/"resize",this,this.onResize);
		this._setItemChanged();
		return laya.display.Node.prototype.removeChild.call(this,child);
	}

	/**@inheritDoc */
	__proto.removeChildAt=function(index){
		this.getChildAt(index).off(/*laya.events.Event.RESIZE*/"resize",this,this.onResize);
		this._setItemChanged();
		return laya.display.Node.prototype.removeChildAt.call(this,index);
	}

	/**刷新。*/
	__proto.refresh=function(){
		this._setItemChanged();
	}

	/**
	*改变子对象的布局。
	*/
	__proto.changeItems=function(){
		this._itemChanged=false;
	}

	/**
	*排序项目列表。可通过重写改变默认排序规则。
	*@param items 项目列表。
	*/
	__proto.sortItem=function(items){
		if (items)items.sort(function(a,b){return a.y-b.y;});
	}

	__proto._setItemChanged=function(){
		if (!this._itemChanged){
			this._itemChanged=true;
			this.callLater(this.changeItems);
		}
	}

	/**子对象的间隔。*/
	__getset(0,__proto,'space',function(){
		return this._space;
		},function(value){
		this._space=value;
		this._setItemChanged();
	});

	/**子对象对齐方式。*/
	__getset(0,__proto,'align',function(){
		return this._align;
		},function(value){
		this._align=value;
		this._setItemChanged();
	});

	return LayoutBox;
})(Box)


/**
*字体切片，简化版的位图字体，只需设置一个切片图片和文字内容即可使用，效果同位图字体
*使用方式：设置位图字体皮肤skin，设置皮肤对应的字体内容sheet（如果多行，可以使用空格换行），示例：
*fontClip.skin="font1.png";//设置皮肤
*fontClip.sheet="abc123 456";//设置皮肤对应的内容，空格换行。此皮肤为2行5列（显示时skin会被等分为2行5列），第一行对应的文字为"abc123"，第二行为"456"
*fontClip.value="a1326";//显示"a1326"文字
*/
//class laya.ui.FontClip extends laya.ui.Clip
var FontClip=(function(_super){
	function FontClip(skin,sheet){
		/**数值*/
		this._valueArr=null;
		/**文字内容数组**/
		this._indexMap=null;
		/**位图字体内容**/
		this._sheet=null;
		/**@private */
		this._direction="horizontal";
		/**X方向间隙*/
		this._spaceX=0;
		/**Y方向间隙*/
		this._spaceY=0;
		/**@private 水平对齐方式*/
		this._align="left";
		/**@private 显示文字宽*/
		this._wordsW=0;
		/**@private 显示文字高*/
		this._wordsH=0;
		FontClip.__super.call(this);
		if (skin)this.skin=skin;
		if (sheet)this.sheet=sheet;
	}

	__class(FontClip,'laya.ui.FontClip',_super);
	var __proto=FontClip.prototype;
	__proto.createChildren=function(){
		this._bitmap=new AutoBitmap();
		this.on(/*laya.events.Event.LOADED*/"loaded",this,this._onClipLoaded);
	}

	/**
	*资源加载完毕
	*/
	__proto._onClipLoaded=function(){
		this.callLater(this.changeValue);
	}

	/**渲染数值*/
	__proto.changeValue=function(){
		if (!this._sources)return;
		if (!this._valueArr)return;
		this.graphics.clear(true);
		var texture;
		texture=this._sources[0];
		if (!texture)return;
		var isHorizontal=(this._direction==="horizontal");
		if (isHorizontal){
			this._wordsW=this._valueArr.length *(texture.sourceWidth+this.spaceX);
			this._wordsH=texture.sourceHeight;
			}else{
			this._wordsW=texture.sourceWidth;
			this._wordsH=(texture.sourceHeight+this.spaceY)*this._valueArr.length;
		};
		var dX=0;
		if (this._width){
			switch(this._align){
				case "center":
					dX=0.5 *(this._width-this._wordsW);
					break ;
				case "right":
					dX=this._width-this._wordsW;
					break ;
				default :
					dX=0;
				}
		}
		for (var i=0,sz=this._valueArr.length;i < sz;i++){
			var index=this._indexMap[this._valueArr.charAt(i)];
			if (!this.sources[index])continue ;
			texture=this.sources[index];
			if (isHorizontal)this.graphics.drawTexture(texture,dX+i *(texture.sourceWidth+this.spaceX),0,texture.sourceWidth,texture.sourceHeight);
			else this.graphics.drawTexture(texture,0+dX,i *(texture.sourceHeight+this.spaceY),texture.sourceWidth,texture.sourceHeight);
		}
		if (!this._width){
			this.resetLayoutX();
			this.callLater(this.changeSize);
		}
		if (!this._height){
			this.resetLayoutY();
			this.callLater(this.changeSize);
		}
	}

	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this._valueArr=null;
		this._indexMap=null;
		this.graphics.clear(true);
		this.removeSelf();
		this.off(/*laya.events.Event.LOADED*/"loaded",this,this._onClipLoaded);
		_super.prototype.destroy.call(this,destroyChild);
	}

	/**
	*设置位图字体内容，空格代表换行。比如"abc123 456"，代表第一行对应的文字为"abc123"，第二行为"456"
	*/
	__getset(0,__proto,'sheet',function(){
		return this._sheet;
		},function(value){
		value+="";
		this._sheet=value;
		var arr=value.split(" ");
		this._clipX=String(arr[0]).length;
		this.clipY=arr.length;
		this._indexMap={};
		for (var i=0;i < this._clipY;i++){
			var line=arr[i].split("");
			for (var j=0,n=line.length;j < n;j++){
				this._indexMap[line[j]]=i *this._clipX+j;
			}
		}
	});

	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Clip,this,'height',value);
		this.callLater(this.changeValue);
	});

	/**
	*布局方向。
	*<p>默认值为"horizontal"。</p>
	*<p><b>取值：</b>
	*<li>"horizontal"：表示水平布局。</li>
	*<li>"vertical"：表示垂直布局。</li>
	*</p>
	*/
	__getset(0,__proto,'direction',function(){
		return this._direction;
		},function(value){
		this._direction=value;
		this.callLater(this.changeValue);
	});

	/**
	*设置位图字体的显示内容
	*/
	__getset(0,__proto,'value',function(){
		if (!this._valueArr)return "";
		return this._valueArr;
		},function(value){
		value+="";
		this._valueArr=value;
		this.callLater(this.changeValue);
	});

	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Clip,this,'width',value);
		this.callLater(this.changeValue);
	});

	/**X方向文字间隙*/
	__getset(0,__proto,'spaceX',function(){
		return this._spaceX;
		},function(value){
		this._spaceX=value;
		if (this._direction==="horizontal")this.callLater(this.changeValue);
	});

	/**Y方向文字间隙*/
	__getset(0,__proto,'spaceY',function(){
		return this._spaceY;
		},function(value){
		this._spaceY=value;
		if (!(this._direction==="horizontal"))this.callLater(this.changeValue);
	});

	/**水平对齐方式*/
	__getset(0,__proto,'align',function(){
		return this._align;
		},function(v){
		this._align=v;
		this.callLater(this.changeValue);
	});

	__getset(0,__proto,'measureWidth',function(){
		return this._wordsW;
	});

	__getset(0,__proto,'measureHeight',function(){
		return this._wordsH;
	});

	return FontClip;
})(Clip)


/**
*<code>List</code> 控件可显示项目列表。默认为垂直方向列表。可通过UI编辑器自定义列表。
*
*@example <caption>以下示例代码，创建了一个 <code>List</code> 实例。</caption>
*package
*{
	*import laya.ui.List;
	*import laya.utils.Handler;
	*public class List_Example
	*{
		*public function List_Example()
		*{
			*Laya.init(640,800,"false");//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png"],Handler.create(this,onLoadComplete));
			*}
		*private function onLoadComplete():void
		*{
			*var arr:Array=[];//创建一个数组，用于存贮列表的数据信息。
			*for (var i:int=0;i &lt;20;i++)
			*{
				*arr.push({label:"item"+i});
				*}
			*var list:List=new List();//创建一个 List 类的实例对象 list 。
			*list.itemRender=Item;//设置 list 的单元格渲染器。
			*list.repeatX=1;//设置 list 的水平方向单元格数量。
			*list.repeatY=10;//设置 list 的垂直方向单元格数量。
			*list.vScrollBarSkin="resource/ui/vscroll.png";//设置 list 的垂直方向滚动条皮肤。
			*list.array=arr;//设置 list 的列表数据源。
			*list.pos(100,100);//设置 list 的位置。
			*list.selectEnable=true;//设置 list 可选。
			*list.selectHandler=new Handler(this,onSelect);//设置 list 改变选择项执行的处理器。
			*Laya.stage.addChild(list);//将 list 添加到显示列表。
			*}
		*private function onSelect(index:int):void
		*{
			*trace("当前选择的项目索引： index= ",index);
			*}
		*}
	*}
*import laya.ui.Box;
*import laya.ui.Label;
*class Item extends Box
*{
	*public function Item()
	*{
		*graphics.drawRect(0,0,100,20,null,"#ff0000");
		*var label:Label=new Label();
		*label.text="100000";
		*label.name="label";//设置 label 的name属性值。
		*label.size(100,20);
		*addChild(label);
		*}
	*}
*@example
*(function (_super){
	*function Item(){
		*Item.__super.call(this);//初始化父类
		*this.graphics.drawRect(0,0,100,20,"#ff0000");
		*var label=new laya.ui.Label();//创建一个 Label 类的实例对象 label 。
		*label.text="100000";//设置 label 的文本内容。
		*label.name="label";//设置 label 的name属性值。
		*label.size(100,20);//设置 label 的宽度、高度。
		*this.addChild(label);//将 label 添加到显示列表。
		*};
	*Laya.class(Item,"mypackage.listExample.Item",_super);//注册类 Item 。
	*})(laya.ui.Box);
*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
*var res=["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png"];
*Laya.loader.load(res,new laya.utils.Handler(this,onLoadComplete));//加载资源。
*function onLoadComplete(){
	*var arr=[];//创建一个数组，用于存贮列表的数据信息。
	*for (var i=0;i &lt;20;i++){
		*arr.push({label:"item"+i});
		*}
	*var list=new laya.ui.List();//创建一个 List 类的实例对象 list 。
	*list.itemRender=mypackage.listExample.Item;//设置 list 的单元格渲染器。
	*list.repeatX=1;//设置 list 的水平方向单元格数量。
	*list.repeatY=10;//设置 list 的垂直方向单元格数量。
	*list.vScrollBarSkin="resource/ui/vscroll.png";//设置 list 的垂直方向滚动条皮肤。
	*list.array=arr;//设置 list 的列表数据源。
	*list.pos(100,100);//设置 list 的位置。
	*list.selectEnable=true;//设置 list 可选。
	*list.selectHandler=new laya.utils.Handler(this,onSelect);//设置 list 改变选择项执行的处理器。
	*Laya.stage.addChild(list);//将 list 添加到显示列表。
	*}
*function onSelect(index)
*{
	*console.log("当前选择的项目索引： index= ",index);
	*}
*
*@example
*import List=laya.ui.List;
*import Handler=laya.utils.Handler;
*public class List_Example {
	*public List_Example(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png"],Handler.create(this,this.onLoadComplete));
		*}
	*private onLoadComplete():void {
		*var arr=[];//创建一个数组，用于存贮列表的数据信息。
		*for (var i:number=0;i &lt;20;i++)
		*{
			*arr.push({label:"item"+i });
			*}
		*var list:List=new List();//创建一个 List 类的实例对象 list 。
		*list.itemRender=Item;//设置 list 的单元格渲染器。
		*list.repeatX=1;//设置 list 的水平方向单元格数量。
		*list.repeatY=10;//设置 list 的垂直方向单元格数量。
		*list.vScrollBarSkin="resource/ui/vscroll.png";//设置 list 的垂直方向滚动条皮肤。
		*list.array=arr;//设置 list 的列表数据源。
		*list.pos(100,100);//设置 list 的位置。
		*list.selectEnable=true;//设置 list 可选。
		*list.selectHandler=new Handler(this,this.onSelect);//设置 list 改变选择项执行的处理器。
		*Laya.stage.addChild(list);//将 list 添加到显示列表。
		*}
	*private onSelect(index:number):void {
		*console.log("当前选择的项目索引： index= ",index);
		*}
	*}
*import Box=laya.ui.Box;
*import Label=laya.ui.Label;
*class Item extends Box {
	*constructor(){
		*this.graphics.drawRect(0,0,100,20,null,"#ff0000");
		*var label:Label=new Label();
		*label.text="100000";
		*label.name="label";//设置 label 的name属性值。
		*label.size(100,20);
		*this.addChild(label);
		*}
	*}
*/
//class laya.ui.List extends laya.ui.Box
var List=(function(_super){
	function List(){
		/**改变 <code>List</code> 的选择项时执行的处理器，(默认返回参数： 项索引（index:int）)。*/
		this.selectHandler=null;
		/**单元格渲染处理器(默认返回参数cell:Box,index:int)。*/
		this.renderHandler=null;
		/**单元格鼠标事件处理器(默认返回参数e:Event,index:int)。*/
		this.mouseHandler=null;
		/**指定是否可以选择，若值为true则可以选择，否则不可以选择。 @default false*/
		this.selectEnable=false;
		/**最大分页数。*/
		this.totalPage=0;
		/**@private */
		this._content=null;
		/**@private */
		this._scrollBar=null;
		/**@private */
		this._itemRender=null;
		/**@private */
		this._repeatX=0;
		/**@private */
		this._repeatY=0;
		/**@private */
		this._repeatX2=0;
		/**@private */
		this._repeatY2=0;
		/**@private */
		this._spaceX=0;
		/**@private */
		this._spaceY=0;
		/**@private */
		this._array=null;
		/**@private */
		this._startIndex=0;
		/**@private */
		this._selectedIndex=-1;
		/**@private */
		this._page=0;
		/**@private */
		this._isVertical=true;
		/**@private */
		this._cellSize=20;
		/**@private */
		this._cellOffset=0;
		/**@private */
		this._isMoved=false;
		/**是否缓存内容，如果数据源较少，并且list内无动画，设置此属性为true能大大提高性能 */
		this.cacheContent=false;
		/**@private */
		this._createdLine=0;
		/**@private */
		this._cellChanged=false;
		List.__super.call(this);
		this._cells=[];
		this._offset=new Point();
	}

	__class(List,'laya.ui.List',_super);
	var __proto=List.prototype;
	Laya.imps(__proto,{"laya.ui.IRender":true,"laya.ui.IItem":true})
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		this._content && this._content.destroy(destroyChild);
		this._scrollBar && this._scrollBar.destroy(destroyChild);
		laya.ui.Component.prototype.destroy.call(this,destroyChild);
		this._content=null;
		this._scrollBar=null;
		this._itemRender=null;
		this._cells=null;
		this._array=null;
		this.selectHandler=this.renderHandler=this.mouseHandler=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._content=new Box());
	}

	__proto.onScrollStart=function(){
		this._$P.cacheAs || (this._$P.cacheAs=Laya.superGet(Box,this,'cacheAs'));
		Laya.superSet(Box,this,'cacheAs',"none");
		this._scrollBar.once(/*laya.events.Event.END*/"end",this,this.onScrollEnd);
	}

	__proto.onScrollEnd=function(){
		Laya.superSet(Box,this,'cacheAs',this._$P.cacheAs);
	}

	__proto._removePreScrollBar=function(){
		var preNode=this.removeChildByName("scrollBar");
		if (preNode)preNode.destroy(true);
	}

	/**
	*@private
	*更改单元格的信息。
	*@internal 在此销毁、创建单元格，并设置单元格的位置等属性。相当于此列表内容发送改变时调用此函数。
	*/
	__proto.changeCells=function(){
		this._cellChanged=false;
		if (this._itemRender){
			this.scrollBar=this.getChildByName("scrollBar");
			var cell=this._getOneCell();
			var cellWidth=(cell.width+this._spaceX)|| 1;
			var cellHeight=(cell.height+this._spaceY)|| 1;
			if (this._width > 0)this._repeatX2=this._isVertical ? Math.round(this._width / cellWidth):Math.ceil(this._width / cellWidth);
			if (this._height > 0)this._repeatY2=this._isVertical ? Math.ceil(this._height / cellHeight):Math.round(this._height / cellHeight);
			var listWidth=this._width ? this._width :(cellWidth *this.repeatX-this._spaceX);
			var listHeight=this._height ? this._height :(cellHeight *this.repeatY-this._spaceY);
			this._cellSize=this._isVertical ? cellHeight :cellWidth;
			this._cellOffset=this._isVertical ? (cellHeight *Math.max(this._repeatY2,this._repeatY)-listHeight-this._spaceY):(cellWidth *Math.max(this._repeatX2,this._repeatX)-listWidth-this._spaceX);
			if (this._isVertical && this._scrollBar)this._scrollBar.height=listHeight;
			else if (!this._isVertical && this._scrollBar)this._scrollBar.width=listWidth;
			this.setContentSize(listWidth,listHeight);
			var numX=this._isVertical ? this.repeatX :this.repeatY;
			var numY=(this._isVertical ? this.repeatY :this.repeatX)+(this._scrollBar ? 1 :0);
			this._createItems(0,numX,numY);
			this._createdLine=numY;
			if (this._array){
				this.array=this._array;
				this.runCallLater(this.renderItems);
			}
		}
	}

	__proto._getOneCell=function(){
		if (this._cells.length===0){
			var item=this.createItem();
			this._offset.setTo(item.x,item.y);
			if (this.cacheContent)return item;
			this._cells.push(item);
		}
		return this._cells[0];
	}

	__proto._createItems=function(startY,numX,numY){
		var box=this._content;
		var cell=this._getOneCell();
		var cellWidth=cell.width+this._spaceX;
		var cellHeight=cell.height+this._spaceY;
		if (this.cacheContent){
			var cacheBox=new Box();
			cacheBox.cacheAsBitmap=true;
			cacheBox.pos((this._isVertical ? 0 :startY)*cellWidth,(this._isVertical ? startY :0)*cellHeight);
			this._content.addChild(cacheBox);
			this._content.optimizeScrollRect=true;
			box=cacheBox;
			}else {
			var arr=[];
			for (var i=this._cells.length-1;i >-1;i--){
				var item=this._cells[i];
				item.removeSelf();
				arr.push(item);
			}
			this._cells.length=0;
		}
		for (var k=startY;k < numY;k++){
			for (var l=0;l < numX;l++){
				if (arr && arr.length){
					cell=arr.pop();
					}else {
					cell=this.createItem();
				}
				cell.x=(this._isVertical ? l :k)*cellWidth-box.x;
				cell.y=(this._isVertical ? k :l)*cellHeight-box.y;
				cell.name="item"+(k *numX+l);
				box.addChild(cell);
				this.addCell(cell);
			}
		}
	}

	__proto.createItem=function(){
		var arr=[];
		if ((typeof this._itemRender=='function')){
			var box=new this._itemRender();
			}else {
			box=View.createComp(this._itemRender,null,null,arr)
		}
		if (arr.length==0 && box._watchMap){
			var watchMap=box._watchMap;
			for (var name in watchMap){
				var a=watchMap[name];
				for (var i=0;i < a.length;i++){
					var watcher=a[i];
					arr.push(watcher.comp,watcher.prop,watcher.value)
				}
			}
		}
		if (arr.length)box["_$bindData"]=arr;
		return box;
	}

	/**
	*@private
	*添加单元格。
	*@param cell 需要添加的单元格对象。
	*/
	__proto.addCell=function(cell){
		cell.on(/*laya.events.Event.CLICK*/"click",this,this.onCellMouse);
		cell.on(/*laya.events.Event.RIGHT_CLICK*/"rightclick",this,this.onCellMouse);
		cell.on(/*laya.events.Event.MOUSE_OVER*/"mouseover",this,this.onCellMouse);
		cell.on(/*laya.events.Event.MOUSE_OUT*/"mouseout",this,this.onCellMouse);
		cell.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this.onCellMouse);
		cell.on(/*laya.events.Event.MOUSE_UP*/"mouseup",this,this.onCellMouse);
		this._cells.push(cell);
	}

	/**
	*初始化单元格信息。
	*/
	__proto.initItems=function(){
		if (!this._itemRender && this.getChildByName("item0")!=null){
			this.repeatX=1;
			var count=0;
			count=0;
			for (var i=0;i < 10000;i++){
				var cell=this.getChildByName("item"+i);
				if (cell){
					this.addCell(cell);
					count++;
					continue ;
				}
				break ;
			}
			this.repeatY=count;
		}
	}

	/**
	*设置可视区域大小。
	*<p>以（0，0，width参数，height参数）组成的矩形区域为可视区域。</p>
	*@param width 可视区域宽度。
	*@param height 可视区域高度。
	*/
	__proto.setContentSize=function(width,height){
		this._content.width=width;
		this._content.height=height;
		if (this._scrollBar || this._offset.x !=0 || this._offset.y !=0){
			this._content.scrollRect || (this._content.scrollRect=new Rectangle());
			this._content.scrollRect.setTo(-this._offset.x,-this._offset.y,width,height);
			this._content.scrollRect=this._content.scrollRect;
		}
		this.event(/*laya.events.Event.RESIZE*/"resize");
	}

	/**
	*@private
	*单元格的鼠标事件侦听处理函数。
	*/
	__proto.onCellMouse=function(e){
		if (e.type===/*laya.events.Event.MOUSE_DOWN*/"mousedown")this._isMoved=false;
		var cell=e.currentTarget;
		var index=this._startIndex+this._cells.indexOf(cell);
		if (index < 0)return;
		if (e.type===/*laya.events.Event.CLICK*/"click" || e.type===/*laya.events.Event.RIGHT_CLICK*/"rightclick"){
			if (this.selectEnable && !this._isMoved)this.selectedIndex=index;
			else this.changeCellState(cell,true,0);
			}else if ((e.type===/*laya.events.Event.MOUSE_OVER*/"mouseover" || e.type===/*laya.events.Event.MOUSE_OUT*/"mouseout")&& this._selectedIndex!==index){
			this.changeCellState(cell,e.type===/*laya.events.Event.MOUSE_OVER*/"mouseover",0);
		}
		this.mouseHandler && this.mouseHandler.runWith([e,index]);
	}

	/**
	*@private
	*改变单元格的可视状态。
	*@param cell 单元格对象。
	*@param visable 是否显示。
	*@param index 单元格的属性 <code>index</code> 值。
	*/
	__proto.changeCellState=function(cell,visable,index){
		var selectBox=cell.getChildByName("selectBox");
		if (selectBox){
			this.selectEnable=true;
			selectBox.visible=visable;
			selectBox.index=index;
		}
	}

	/**@inheritDoc */
	__proto.changeSize=function(){
		laya.ui.Component.prototype.changeSize.call(this);
		this.setContentSize(this.width,this.height);
		if (this._scrollBar)this.callLater(this.onScrollBarChange);
	}

	/**
	*@private
	*滚动条的 <code>Event.CHANGE</code> 事件侦听处理函数。
	*/
	__proto.onScrollBarChange=function(e){
		this.runCallLater(this.changeCells);
		var scrollValue=this._scrollBar.value;
		var lineX=(this._isVertical ? this.repeatX :this.repeatY);
		var lineY=(this._isVertical ? this.repeatY :this.repeatX);
		var scrollLine=Math.floor(scrollValue / this._cellSize);
		if (!this.cacheContent){
			var index=scrollLine *lineX;
			var num=0;
			if (index > this._startIndex){
				num=index-this._startIndex;
				var down=true;
				var toIndex=this._startIndex+lineX *(lineY+1);
				this._isMoved=true;
				}else if (index < this._startIndex){
				num=this._startIndex-index;
				down=false;
				toIndex=this._startIndex-1;
				this._isMoved=true;
			}
			for (var i=0;i < num;i++){
				if (down){
					var cell=this._cells.shift();
					this._cells[this._cells.length]=cell;
					var cellIndex=toIndex+i;
					}else {
					cell=this._cells.pop();
					this._cells.unshift(cell);
					cellIndex=toIndex-i;
				};
				var pos=Math.floor(cellIndex / lineX)*this._cellSize;
				this._isVertical ? cell.y=pos :cell.x=pos;
				this.renderItem(cell,cellIndex);
			}
			this._startIndex=index;
			this.changeSelectStatus();
			}else {
			num=(lineY+1);
			if (this._createdLine-scrollLine < num){
				this._createItems(this._createdLine,lineX,this._createdLine+num);
				this.renderItems(this._createdLine *lineX,0);
				this._createdLine+=num;
			}
		};
		var r=this._content.scrollRect;
		if (this._isVertical){
			r.y=scrollValue-this._offset.y;
			r.x=-this._offset.x;
			}else {
			r.y=-this._offset.y;
			r.x=scrollValue-this._offset.x;
		}
		this._content.scrollRect=r;
	}

	__proto.posCell=function(cell,cellIndex){
		if (!this._scrollBar)return;
		var lineX=(this._isVertical ? this.repeatX :this.repeatY);
		var lineY=(this._isVertical ? this.repeatY :this.repeatX);
		var pos=Math.floor(cellIndex / lineX)*this._cellSize;
		this._isVertical ? cell.y=pos :cell.x=pos;
	}

	/**
	*@private
	*改变单元格的选择状态。
	*/
	__proto.changeSelectStatus=function(){
		for (var i=0,n=this._cells.length;i < n;i++){
			this.changeCellState(this._cells[i],this._selectedIndex===this._startIndex+i,1);
		}
	}

	/**
	*@private
	*渲染单元格列表。
	*/
	__proto.renderItems=function(from,to){
		(from===void 0)&& (from=0);
		(to===void 0)&& (to=0);
		for (var i=from,n=to || this._cells.length;i < n;i++){
			this.renderItem(this._cells[i],this._startIndex+i);
		}
		this.changeSelectStatus();
	}

	/**
	*渲染一个单元格。
	*@param cell 需要渲染的单元格对象。
	*@param index 单元格索引。
	*/
	__proto.renderItem=function(cell,index){
		if (this._array && index >=0 && index < this._array.length){
			cell.visible=true;
			if (cell._$bindData){
				cell._dataSource=this._array[index];
				this._bindData(cell,this._array[index]);
			}else cell.dataSource=this._array[index];
			if (!this.cacheContent){
				this.posCell(cell,index);
			}
			if (this.hasListener(/*laya.events.Event.RENDER*/"render"))this.event(/*laya.events.Event.RENDER*/"render",[cell,index]);
			if (this.renderHandler)this.renderHandler.runWith([cell,index]);
			}else {
			cell.visible=false;
			cell.dataSource=null;
		}
	}

	__proto._bindData=function(cell,data){
		var arr=cell._$bindData;
		for (var i=0,n=arr.length;i < n;i++){
			var ele=arr[i++];
			var prop=arr[i++];
			var value=arr[i];
			var fun=UIUtils.getBindFun(value);
			ele[prop]=fun.call(this,data);
		}
	}

	/**
	*刷新列表数据源。
	*/
	__proto.refresh=function(){
		this.array=this._array;
	}

	/**
	*获取单元格数据源。
	*@param index 单元格索引。
	*/
	__proto.getItem=function(index){
		if (index >-1 && index < this._array.length){
			return this._array[index];
		}
		return null;
	}

	/**
	*修改单元格数据源。
	*@param index 单元格索引。
	*@param source 单元格数据源。
	*/
	__proto.changeItem=function(index,source){
		if (index >-1 && index < this._array.length){
			this._array[index]=source;
			if (index >=this._startIndex && index < this._startIndex+this._cells.length){
				this.renderItem(this.getCell(index),index);
			}
		}
	}

	/**
	*设置单元格数据源。
	*@param index 单元格索引。
	*@param source 单元格数据源。
	*/
	__proto.setItem=function(index,source){
		this.changeItem(index,source);
	}

	/**
	*添加单元格数据源。
	*@param souce 数据源。
	*/
	__proto.addItem=function(souce){
		this._array.push(souce);
		this.array=this._array;
	}

	/**
	*添加单元格数据源到对应的数据索引处。
	*@param souce 单元格数据源。
	*@param index 索引。
	*/
	__proto.addItemAt=function(souce,index){
		this._array.splice(index,0,souce);
		this.array=this._array;
	}

	/**
	*通过数据源索引删除单元格数据源。
	*@param index 需要删除的数据源索引值。
	*/
	__proto.deleteItem=function(index){
		this._array.splice(index,1);
		this.array=this._array;
	}

	/**
	*通过可视单元格索引，获取单元格。
	*@param index 可视单元格索引。
	*@return 单元格对象。
	*/
	__proto.getCell=function(index){
		this.runCallLater(this.changeCells);
		if (index >-1 && this._cells){
			return this._cells[(index-this._startIndex)% this._cells.length];
		}
		return null;
	}

	/**
	*<p>滚动列表，以设定的数据索引对应的单元格为当前可视列表的第一项。</p>
	*@param index 单元格在数据列表中的索引。
	*/
	__proto.scrollTo=function(index){
		if (this._scrollBar){
			var numX=this._isVertical ? this.repeatX :this.repeatY;
			this._scrollBar.value=Math.floor(index / numX)*this._cellSize;
			}else {
			this.startIndex=index;
		}
	}

	/**
	*<p>缓动滚动列表，以设定的数据索引对应的单元格为当前可视列表的第一项。</p>
	*@param index 单元格在数据列表中的索引。
	*@param time 缓动时间。
	*@param complete 缓动结束回掉
	*/
	__proto.tweenTo=function(index,time,complete){
		(time===void 0)&& (time=200);
		if (this._scrollBar){
			var numX=this._isVertical ? this.repeatX :this.repeatY;
			Tween.to(this._scrollBar,{value:Math.floor(index / numX)*this._cellSize},time,null,complete,0,true);
			}else {
			this.startIndex=index;
			if (complete)complete.run();
		}
	}

	/**@private */
	__proto._setCellChanged=function(){
		if (!this._cellChanged){
			this._cellChanged=true;
			this.callLater(this.changeCells);
		}
	}

	__proto.commitMeasure=function(){
		this.runCallLater(this.changeCells);
	}

	/**@inheritDoc */
	__getset(0,__proto,'cacheAs',_super.prototype._$get_cacheAs,function(value){
		Laya.superSet(Box,this,'cacheAs',value);
		if (this._scrollBar){
			this._$P.cacheAs=null;
			if (value!=="none")this._scrollBar.on(/*laya.events.Event.START*/"start",this,this.onScrollStart);
			else this._scrollBar.off(/*laya.events.Event.START*/"start",this,this.onScrollStart);
		}
	});

	/**
	*获取对 <code>List</code> 组件所包含的内容容器 <code>Box</code> 组件的引用。
	*/
	__getset(0,__proto,'content',function(){
		return this._content;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		if (value !=this._height){
			Laya.superSet(Box,this,'height',value);
			this._setCellChanged();
		}
	});

	/**
	*单元格渲染器。
	*<p><b>取值：</b>
	*<ol>
	*<li>单元格类对象。</li>
	*<li> UI 的 JSON 描述。</li>
	*</ol></p>
	*/
	__getset(0,__proto,'itemRender',function(){
		return this._itemRender;
		},function(value){
		if (this._itemRender !=value){
			this._itemRender=value;
			for (var i=this._cells.length-1;i >-1;i--){
				this._cells[i].destroy();
			}
			this._cells.length=0;
			this._setCellChanged();
		}
	});

	/**
	*垂直方向滚动条皮肤。
	*/
	__getset(0,__proto,'vScrollBarSkin',function(){
		return this._scrollBar ? this._scrollBar.skin :null;
		},function(value){
		this._removePreScrollBar();
		var scrollBar=new VScrollBar();
		scrollBar.name="scrollBar";
		scrollBar.right=0;
		if (value && value !=" ")
			scrollBar.skin=value;
		this.scrollBar=scrollBar;
		this.addChild(scrollBar);
		this._setCellChanged();
	});

	/**
	*列表的当前页码。
	*/
	__getset(0,__proto,'page',function(){
		return this._page;
		},function(value){
		this._page=value
		if (this._array){
			this._page=value > 0 ? value :0;
			this._page=this._page < this.totalPage ? this._page :this.totalPage-1;
			this.startIndex=this._page *this.repeatX *this.repeatY;
		}
	});

	/**
	*水平方向滚动条皮肤。
	*/
	__getset(0,__proto,'hScrollBarSkin',function(){
		return this._scrollBar ? this._scrollBar.skin :null;
		},function(value){
		this._removePreScrollBar();
		var scrollBar=new HScrollBar();
		scrollBar.name="scrollBar";
		scrollBar.bottom=0;
		if (value && value !=" ")
			scrollBar.skin=value;
		this.scrollBar=scrollBar;
		this.addChild(scrollBar);
		this._setCellChanged();
	});

	/**
	*水平方向显示的单元格数量。
	*/
	__getset(0,__proto,'repeatX',function(){
		return this._repeatX > 0 ? this._repeatX :this._repeatX2 > 0 ? this._repeatX2 :1;
		},function(value){
		this._repeatX=value;
		this._setCellChanged();
	});

	/**
	*获取对 <code>List</code> 组件所包含的滚动条 <code>ScrollBar</code> 组件的引用。
	*/
	__getset(0,__proto,'scrollBar',function(){
		return this._scrollBar;
		},function(value){
		if (this._scrollBar !=value){
			this._scrollBar=value;
			if (value){
				this._isVertical=this._scrollBar.isVertical;
				this.addChild(this._scrollBar);
				this._scrollBar.on(/*laya.events.Event.CHANGE*/"change",this,this.onScrollBarChange);
			}
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		if (value !=this._width){
			Laya.superSet(Box,this,'width',value);
			this._setCellChanged();
		}
	});

	/**
	*垂直方向显示的单元格数量。
	*/
	__getset(0,__proto,'repeatY',function(){
		return this._repeatY > 0 ? this._repeatY :this._repeatY2 > 0 ? this._repeatY2 :1;
		},function(value){
		this._repeatY=value;
		this._setCellChanged();
	});

	/**
	*水平方向显示的单元格之间的间距（以像素为单位）。
	*/
	__getset(0,__proto,'spaceX',function(){
		return this._spaceX;
		},function(value){
		this._spaceX=value;
		this._setCellChanged();
	});

	/**
	*垂直方向显示的单元格之间的间距（以像素为单位）。
	*/
	__getset(0,__proto,'spaceY',function(){
		return this._spaceY;
		},function(value){
		this._spaceY=value;
		this._setCellChanged();
	});

	/**
	*表示当前选择的项索引。selectedIndex值更改会引起list重新渲染
	*/
	__getset(0,__proto,'selectedIndex',function(){
		return this._selectedIndex;
		},function(value){
		if (this._selectedIndex !=value){
			this._selectedIndex=value;
			this.changeSelectStatus();
			this.event(/*laya.events.Event.CHANGE*/"change");
			this.selectHandler && this.selectHandler.runWith(value);
			this.startIndex=this._startIndex;
		}
	});

	/**
	*当前选中的单元格数据源。
	*/
	__getset(0,__proto,'selectedItem',function(){
		return this._selectedIndex !=-1 ? this._array[this._selectedIndex] :null;
		},function(value){
		this.selectedIndex=this._array.indexOf(value);
	});

	/**
	*列表的数据总个数。
	*/
	__getset(0,__proto,'length',function(){
		return this._array ? this._array.length :0;
	});

	/**
	*获取或设置当前选择的单元格对象。
	*/
	__getset(0,__proto,'selection',function(){
		return this.getCell(this._selectedIndex);
		},function(value){
		this.selectedIndex=this._startIndex+this._cells.indexOf(value);
	});

	/**
	*当前显示的单元格列表的开始索引。
	*/
	__getset(0,__proto,'startIndex',function(){
		return this._startIndex;
		},function(value){
		this._startIndex=value > 0 ? value :0;
		this.callLater(this.renderItems);
	});

	/**
	*列表数据源。
	*/
	__getset(0,__proto,'array',function(){
		return this._array;
		},function(value){
		this.runCallLater(this.changeCells);
		this._array=value || [];
		var length=this._array.length;
		this.totalPage=Math.ceil(length / (this.repeatX *this.repeatY));
		this._selectedIndex=this._selectedIndex < length ? this._selectedIndex :length-1;
		this.startIndex=this._startIndex;
		if (this._scrollBar){
			this._scrollBar.stopScroll();
			var numX=this._isVertical ? this.repeatX :this.repeatY;
			var numY=this._isVertical ? this.repeatY :this.repeatX;
			var lineCount=Math.ceil(length / numX);
			var total=this._cellOffset > 0 ? this.totalPage+1 :this.totalPage;
			if (total > 1){
				this._scrollBar.scrollSize=this._cellSize;
				this._scrollBar.thumbPercent=numY / lineCount;
				this._scrollBar.setScroll(0,(lineCount-numY)*this._cellSize+this._cellOffset,this._scrollBar.value);
				this._scrollBar.target=this._content;
				}else {
				this._scrollBar.setScroll(0,0,0);
				this._scrollBar.target=this._content;
			}
		}
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if (((typeof value=='number')&& Math.floor(value)==value)|| (typeof value=='string'))this.selectedIndex=parseInt(value);
		else if ((value instanceof Array))this.array=value
		else Laya.superSet(Box,this,'dataSource',value);
	});

	/**
	*单元格集合。
	*/
	__getset(0,__proto,'cells',function(){
		this.runCallLater(this.changeCells);
		return this._cells;
	});

	return List;
})(Box)


/**
*使用 <code>HScrollBar</code> （水平 <code>ScrollBar</code> ）控件，可以在因数据太多而不能在显示区域完全显示时控制显示的数据部分。
*@example <caption>以下示例代码，创建了一个 <code>HScrollBar</code> 实例。</caption>
*package
*{
	*import laya.ui.HScrollBar;
	*import laya.utils.Handler;
	*public class HScrollBar_Example
	*{
		*private var hScrollBar:HScrollBar;
		*public function HScrollBar_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/hscroll.png","resource/ui/hscroll$bar.png","resource/ui/hscroll$down.png","resource/ui/hscroll$up.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*hScrollBar=new HScrollBar();//创建一个 HScrollBar 类的实例对象 hScrollBar 。
			*hScrollBar.skin="resource/ui/hscroll.png";//设置 hScrollBar 的皮肤。
			*hScrollBar.x=100;//设置 hScrollBar 对象的属性 x 的值，用于控制 hScrollBar 对象的显示位置。
			*hScrollBar.y=100;//设置 hScrollBar 对象的属性 y 的值，用于控制 hScrollBar 对象的显示位置。
			*hScrollBar.changeHandler=new Handler(this,onChange);//设置 hScrollBar 的滚动变化处理器。
			*Laya.stage.addChild(hScrollBar);//将此 hScrollBar 对象添加到显示列表。
			*}
		*private function onChange(value:Number):void
		*{
			*trace("滚动条的位置： value="+value);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var hScrollBar;
*var res=["resource/ui/hscroll.png","resource/ui/hscroll$bar.png","resource/ui/hscroll$down.png","resource/ui/hscroll$up.png"];
*Laya.loader.load(res,laya.utils.Handler.create(this,onLoadComplete));//加载资源。
*function onLoadComplete(){
	*console.log("资源加载完成！");
	*hScrollBar=new laya.ui.HScrollBar();//创建一个 HScrollBar 类的实例对象 hScrollBar 。
	*hScrollBar.skin="resource/ui/hscroll.png";//设置 hScrollBar 的皮肤。
	*hScrollBar.x=100;//设置 hScrollBar 对象的属性 x 的值，用于控制 hScrollBar 对象的显示位置。
	*hScrollBar.y=100;//设置 hScrollBar 对象的属性 y 的值，用于控制 hScrollBar 对象的显示位置。
	*hScrollBar.changeHandler=new laya.utils.Handler(this,onChange);//设置 hScrollBar 的滚动变化处理器。
	*Laya.stage.addChild(hScrollBar);//将此 hScrollBar 对象添加到显示列表。
	*}
*function onChange(value)
*{
	*console.log("滚动条的位置： value="+value);
	*}
*@example
*import HScrollBar=laya.ui.HScrollBar;
*import Handler=laya.utils.Handler;
*class HScrollBar_Example {
	*private hScrollBar:HScrollBar;
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/hscroll.png","resource/ui/hscroll$bar.png","resource/ui/hscroll$down.png","resource/ui/hscroll$up.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*this.hScrollBar=new HScrollBar();//创建一个 HScrollBar 类的实例对象 hScrollBar 。
		*this.hScrollBar.skin="resource/ui/hscroll.png";//设置 hScrollBar 的皮肤。
		*this.hScrollBar.x=100;//设置 hScrollBar 对象的属性 x 的值，用于控制 hScrollBar 对象的显示位置。
		*this.hScrollBar.y=100;//设置 hScrollBar 对象的属性 y 的值，用于控制 hScrollBar 对象的显示位置。
		*this.hScrollBar.changeHandler=new Handler(this,this.onChange);//设置 hScrollBar 的滚动变化处理器。
		*Laya.stage.addChild(this.hScrollBar);//将此 hScrollBar 对象添加到显示列表。
		*}
	*private onChange(value:number):void {
		*console.log("滚动条的位置： value="+value);
		*}
	*}
*/
//class laya.ui.HScrollBar extends laya.ui.ScrollBar
var HScrollBar=(function(_super){
	function HScrollBar(){
		HScrollBar.__super.call(this);;
	}

	__class(HScrollBar,'laya.ui.HScrollBar',_super);
	var __proto=HScrollBar.prototype;
	/**@inheritDoc */
	__proto.initialize=function(){
		_super.prototype.initialize.call(this);
		this.slider.isVertical=false;
	}

	return HScrollBar;
})(ScrollBar)


/**
*<code>Panel</code> 是一个面板容器类。
*/
//class laya.ui.Panel extends laya.ui.Box
var Panel=(function(_super){
	function Panel(){
		/**@private */
		this._content=null;
		/**@private */
		this._vScrollBar=null;
		/**@private */
		this._hScrollBar=null;
		/**@private */
		this._scrollChanged=false;
		Panel.__super.call(this);
		this.width=this.height=100;
	}

	__class(Panel,'laya.ui.Panel',_super);
	var __proto=Panel.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		laya.ui.Component.prototype.destroy.call(this,destroyChild);
		this._content && this._content.destroy(destroyChild);
		this._vScrollBar && this._vScrollBar.destroy(destroyChild);
		this._hScrollBar && this._hScrollBar.destroy(destroyChild);
		this._vScrollBar=null;
		this._hScrollBar=null;
		this._content=null;
	}

	/**@inheritDoc */
	__proto.destroyChildren=function(){
		this._content.destroyChildren();
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		laya.display.Node.prototype.addChild.call(this,this._content=new Box());
	}

	/**@inheritDoc */
	__proto.addChild=function(child){
		child.on(/*laya.events.Event.RESIZE*/"resize",this,this.onResize);
		this._setScrollChanged();
		return this._content.addChild(child);
	}

	/**
	*@private
	*子对象的 <code>Event.RESIZE</code> 事件侦听处理函数。
	*/
	__proto.onResize=function(){
		this._setScrollChanged();
	}

	/**@inheritDoc */
	__proto.addChildAt=function(child,index){
		child.on(/*laya.events.Event.RESIZE*/"resize",this,this.onResize);
		this._setScrollChanged();
		return this._content.addChildAt(child,index);
	}

	/**@inheritDoc */
	__proto.removeChild=function(child){
		child.off(/*laya.events.Event.RESIZE*/"resize",this,this.onResize);
		this._setScrollChanged();
		return this._content.removeChild(child);
	}

	/**@inheritDoc */
	__proto.removeChildAt=function(index){
		this.getChildAt(index).off(/*laya.events.Event.RESIZE*/"resize",this,this.onResize);
		this._setScrollChanged();
		return this._content.removeChildAt(index);
	}

	/**@inheritDoc */
	__proto.removeChildren=function(beginIndex,endIndex){
		(beginIndex===void 0)&& (beginIndex=0);
		(endIndex===void 0)&& (endIndex=0x7fffffff);
		for (var i=this._content.numChildren-1;i >-1;i--){
			this._content.removeChildAt(i);
		}
		this._setScrollChanged();
		return this;
	}

	/**@inheritDoc */
	__proto.getChildAt=function(index){
		return this._content.getChildAt(index);
	}

	/**@inheritDoc */
	__proto.getChildByName=function(name){
		return this._content.getChildByName(name);
	}

	/**@inheritDoc */
	__proto.getChildIndex=function(child){
		return this._content.getChildIndex(child);
	}

	/**@private */
	__proto.changeScroll=function(){
		this._scrollChanged=false;
		var contentW=this.contentWidth || 1;
		var contentH=this.contentHeight || 1;
		var vscroll=this._vScrollBar;
		var hscroll=this._hScrollBar;
		var vShow=vscroll && contentH > this._height;
		var hShow=hscroll && contentW > this._width;
		var showWidth=vShow ? this._width-vscroll.width :this._width;
		var showHeight=hShow ? this._height-hscroll.height :this._height;
		if (vscroll){
			vscroll.x=this._width-vscroll.width;
			vscroll.y=0;
			vscroll.height=this._height-(hShow ? hscroll.height :0);
			vscroll.scrollSize=Math.max(this._height *0.033,1);
			vscroll.thumbPercent=showHeight / contentH;
			vscroll.setScroll(0,contentH-showHeight,vscroll.value);
		}
		if (hscroll){
			hscroll.x=0;
			hscroll.y=this._height-hscroll.height;
			hscroll.width=this._width-(vShow ? vscroll.width :0);
			hscroll.scrollSize=Math.max(this._width *0.033,1);
			hscroll.thumbPercent=showWidth / contentW;
			hscroll.setScroll(0,contentW-showWidth,hscroll.value);
		}
	}

	/**@inheritDoc */
	__proto.changeSize=function(){
		laya.ui.Component.prototype.changeSize.call(this);
		this.setContentSize(this._width,this._height);
	}

	/**
	*@private
	*设置内容的宽度、高度（以像素为单位）。
	*@param width 宽度。
	*@param height 高度。
	*/
	__proto.setContentSize=function(width,height){
		var content=this._content;
		content.width=width;
		content.height=height;
		content.scrollRect || (content.scrollRect=new Rectangle());
		content.scrollRect.setTo(0,0,width,height);
		content.scrollRect=content.scrollRect;
	}

	/**
	*@private
	*滚动条的<code><code>Event.MOUSE_DOWN</code>事件侦听处理函数。</code>事件侦听处理函数。
	*@param scrollBar 滚动条对象。
	*@param e Event 对象。
	*/
	__proto.onScrollBarChange=function(scrollBar){
		var rect=this._content.scrollRect;
		if (rect){
			var start=Math.round(scrollBar.value);
			scrollBar.isVertical ? rect.y=start :rect.x=start;
			this._content.scrollRect=rect;
		}
	}

	/**
	*<p>滚动内容容器至设定的垂直、水平方向滚动条位置。</p>
	*@param x 水平方向滚动条属性value值。滚动条位置数字。
	*@param y 垂直方向滚动条属性value值。滚动条位置数字。
	*/
	__proto.scrollTo=function(x,y){
		(x===void 0)&& (x=0);
		(y===void 0)&& (y=0);
		if (this.vScrollBar)this.vScrollBar.value=y;
		if (this.hScrollBar)this.hScrollBar.value=x;
	}

	/**
	*刷新滚动内容。
	*/
	__proto.refresh=function(){
		this.changeScroll();
	}

	__proto.onScrollStart=function(){
		this._$P.cacheAs || (this._$P.cacheAs=Laya.superGet(Box,this,'cacheAs'));
		Laya.superSet(Box,this,'cacheAs',"none");
		this._hScrollBar && this._hScrollBar.once(/*laya.events.Event.END*/"end",this,this.onScrollEnd);
		this._vScrollBar && this._vScrollBar.once(/*laya.events.Event.END*/"end",this,this.onScrollEnd);
	}

	__proto.onScrollEnd=function(){
		Laya.superSet(Box,this,'cacheAs',this._$P.cacheAs);
	}

	/**@private */
	__proto._setScrollChanged=function(){
		if (!this._scrollChanged){
			this._scrollChanged=true;
			this.callLater(this.changeScroll);
		}
	}

	/**@inheritDoc */
	__getset(0,__proto,'numChildren',function(){
		return this._content.numChildren;
	});

	/**
	*水平方向滚动条皮肤。
	*/
	__getset(0,__proto,'hScrollBarSkin',function(){
		return this._hScrollBar ? this._hScrollBar.skin :null;
		},function(value){
		if (this._hScrollBar==null){
			laya.display.Node.prototype.addChild.call(this,this._hScrollBar=new HScrollBar());
			this._hScrollBar.on(/*laya.events.Event.CHANGE*/"change",this,this.onScrollBarChange,[this._hScrollBar]);
			this._hScrollBar.target=this._content;
			this._setScrollChanged();
		}
		this._hScrollBar.skin=value;
	});

	/**
	*@private
	*获取内容宽度（以像素为单位）。
	*/
	__getset(0,__proto,'contentWidth',function(){
		var max=0;
		for (var i=this._content.numChildren-1;i >-1;i--){
			var comp=this._content.getChildAt(i);
			max=Math.max(comp.x+comp.width *comp.scaleX,max);
		}
		return max;
	});

	/**
	*@private
	*获取内容高度（以像素为单位）。
	*/
	__getset(0,__proto,'contentHeight',function(){
		var max=0;
		for (var i=this._content.numChildren-1;i >-1;i--){
			var comp=this._content.getChildAt(i);
			max=Math.max(comp.y+comp.height *comp.scaleY,max);
		}
		return max;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Box,this,'width',value);
		this._setScrollChanged();
	});

	/**
	*水平方向滚动条对象。
	*/
	__getset(0,__proto,'hScrollBar',function(){
		return this._hScrollBar;
	});

	/**
	*获取内容容器对象。
	*/
	__getset(0,__proto,'content',function(){
		return this._content;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Box,this,'height',value);
		this._setScrollChanged();
	});

	/**
	*垂直方向滚动条皮肤。
	*/
	__getset(0,__proto,'vScrollBarSkin',function(){
		return this._vScrollBar ? this._vScrollBar.skin :null;
		},function(value){
		if (this._vScrollBar==null){
			laya.display.Node.prototype.addChild.call(this,this._vScrollBar=new VScrollBar());
			this._vScrollBar.on(/*laya.events.Event.CHANGE*/"change",this,this.onScrollBarChange,[this._vScrollBar]);
			this._vScrollBar.target=this._content;
			this._setScrollChanged();
		}
		this._vScrollBar.skin=value;
	});

	/**
	*垂直方向滚动条对象。
	*/
	__getset(0,__proto,'vScrollBar',function(){
		return this._vScrollBar;
	});

	/**@inheritDoc */
	__getset(0,__proto,'cacheAs',_super.prototype._$get_cacheAs,function(value){
		Laya.superSet(Box,this,'cacheAs',value);
		this._$P.cacheAs=null;
		if (value!=="none"){
			this._hScrollBar && this._hScrollBar.on(/*laya.events.Event.START*/"start",this,this.onScrollStart);
			this._vScrollBar && this._vScrollBar.on(/*laya.events.Event.START*/"start",this,this.onScrollStart);
			}else {
			this._hScrollBar && this._hScrollBar.off(/*laya.events.Event.START*/"start",this,this.onScrollStart);
			this._vScrollBar && this._vScrollBar.off(/*laya.events.Event.START*/"start",this,this.onScrollStart);
		}
	});

	return Panel;
})(Box)


/**
*使用 <code>HSlider</code> 控件，用户可以通过在滑块轨道的终点之间移动滑块来选择值。
*<p> <code>HSlider</code> 控件采用水平方向。滑块轨道从左向右扩展，而标签位于轨道的顶部或底部。</p>
*
*@example <caption>以下示例代码，创建了一个 <code>HSlider</code> 实例。</caption>
*package
*{
	*import laya.ui.HSlider;
	*import laya.utils.Handler;
	*public class HSlider_Example
	*{
		*private var hSlider:HSlider;
		*public function HSlider_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/hslider.png","resource/ui/hslider$bar.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*hSlider=new HSlider();//创建一个 HSlider 类的实例对象 hSlider 。
			*hSlider.skin="resource/ui/hslider.png";//设置 hSlider 的皮肤。
			*hSlider.min=0;//设置 hSlider 最低位置值。
			*hSlider.max=10;//设置 hSlider 最高位置值。
			*hSlider.value=2;//设置 hSlider 当前位置值。
			*hSlider.tick=1;//设置 hSlider 刻度值。
			*hSlider.x=100;//设置 hSlider 对象的属性 x 的值，用于控制 hSlider 对象的显示位置。
			*hSlider.y=100;//设置 hSlider 对象的属性 y 的值，用于控制 hSlider 对象的显示位置。
			*hSlider.changeHandler=new Handler(this,onChange);//设置 hSlider 位置变化处理器。
			*Laya.stage.addChild(hSlider);//把 hSlider 添加到显示列表。
			*}
		*private function onChange(value:Number):void
		*{
			*trace("滑块的位置： value="+value);
			*}
		*}
	*}
*@example
*Laya.init(640,800,"canvas");//设置游戏画布宽高、渲染模式
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var hSlider;
*var res=["resource/ui/hslider.png","resource/ui/hslider$bar.png"];
*Laya.loader.load(res,laya.utils.Handler.create(this,onLoadComplete));
*function onLoadComplete(){
	*console.log("资源加载完成！");
	*hSlider=new laya.ui.HSlider();//创建一个 HSlider 类的实例对象 hSlider 。
	*hSlider.skin="resource/ui/hslider.png";//设置 hSlider 的皮肤。
	*hSlider.min=0;//设置 hSlider 最低位置值。
	*hSlider.max=10;//设置 hSlider 最高位置值。
	*hSlider.value=2;//设置 hSlider 当前位置值。
	*hSlider.tick=1;//设置 hSlider 刻度值。
	*hSlider.x=100;//设置 hSlider 对象的属性 x 的值，用于控制 hSlider 对象的显示位置。
	*hSlider.y=100;//设置 hSlider 对象的属性 y 的值，用于控制 hSlider 对象的显示位置。
	*hSlider.changeHandler=new laya.utils.Handler(this,onChange);//设置 hSlider 位置变化处理器。
	*Laya.stage.addChild(hSlider);//把 hSlider 添加到显示列表。
	*}
*function onChange(value)
*{
	*console.log("滑块的位置： value="+value);
	*}
*@example
*import Handler=laya.utils.Handler;
*import HSlider=laya.ui.HSlider;
*class HSlider_Example {
	*private hSlider:HSlider;
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/hslider.png","resource/ui/hslider$bar.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*this.hSlider=new HSlider();//创建一个 HSlider 类的实例对象 hSlider 。
		*this.hSlider.skin="resource/ui/hslider.png";//设置 hSlider 的皮肤。
		*this.hSlider.min=0;//设置 hSlider 最低位置值。
		*this.hSlider.max=10;//设置 hSlider 最高位置值。
		*this.hSlider.value=2;//设置 hSlider 当前位置值。
		*this.hSlider.tick=1;//设置 hSlider 刻度值。
		*this.hSlider.x=100;//设置 hSlider 对象的属性 x 的值，用于控制 hSlider 对象的显示位置。
		*this.hSlider.y=100;//设置 hSlider 对象的属性 y 的值，用于控制 hSlider 对象的显示位置。
		*this.hSlider.changeHandler=new Handler(this,this.onChange);//设置 hSlider 位置变化处理器。
		*Laya.stage.addChild(this.hSlider);//把 hSlider 添加到显示列表。
		*}
	*private onChange(value:number):void {
		*console.log("滑块的位置： value="+value);
		*}
	*}
*
*@see laya.ui.Slider
*/
//class laya.ui.HSlider extends laya.ui.Slider
var HSlider=(function(_super){
	/**
	*创建一个 <code>HSlider</code> 类实例。
	*@param skin 皮肤。
	*/
	function HSlider(skin){
		HSlider.__super.call(this,skin);
		this.isVertical=false;
	}

	__class(HSlider,'laya.ui.HSlider',_super);
	return HSlider;
})(Slider)


/**
*<code>Group</code> 是一个可以自动布局的项集合控件。
*<p> <code>Group</code> 的默认项对象为 <code>Button</code> 类实例。
*<code>Group</code> 是 <code>Tab</code> 和 <code>RadioGroup</code> 的基类。</p>
*/
//class laya.ui.UIGroup extends laya.ui.Box
var UIGroup=(function(_super){
	function UIGroup(labels,skin){
		/**
		*改变 <code>Group</code> 的选择项时执行的处理器，(默认返回参数： 项索引（index:int）)。
		*/
		this.selectHandler=null;
		/**@private */
		this._items=null;
		/**@private */
		this._selectedIndex=-1;
		/**@private */
		this._skin=null;
		/**@private */
		this._direction="horizontal";
		/**@private */
		this._space=0;
		/**@private */
		this._labels=null;
		/**@private */
		this._labelColors=null;
		/**@private */
		this._labelFont=null;
		/**@private */
		this._labelStrokeColor=null;
		/**@private */
		this._strokeColors=null;
		/**@private */
		this._labelStroke=NaN;
		/**@private */
		this._labelSize=0;
		/**@private */
		this._labelBold=false;
		/**@private */
		this._labelPadding=null;
		/**@private */
		this._labelAlign=null;
		/**@private */
		this._stateNum=0;
		/**@private */
		this._labelChanged=false;
		UIGroup.__super.call(this);
		this.skin=skin;
		this.labels=labels;
	}

	__class(UIGroup,'laya.ui.UIGroup',_super);
	var __proto=UIGroup.prototype;
	Laya.imps(__proto,{"laya.ui.IItem":true})
	/**@inheritDoc */
	__proto.preinitialize=function(){
		this.mouseEnabled=true;
	}

	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		laya.ui.Component.prototype.destroy.call(this,destroyChild);
		this._items && (this._items.length=0);
		this._items=null;
		this.selectHandler=null;
	}

	/**
	*添加一个项对象，返回此项对象的索引id。
	*
	*@param item 需要添加的项对象。
	*@param autoLayOut 是否自动布局，如果为true，会根据 <code>direction</code> 和 <code>space</code> 属性计算item的位置。
	*@return
	*/
	__proto.addItem=function(item,autoLayOut){
		(autoLayOut===void 0)&& (autoLayOut=true);
		var display=item;
		var index=this._items.length;
		display.name="item"+index;
		this.addChild(display);
		this.initItems();
		if (autoLayOut && index > 0){
			var preItem=this._items [index-1];
			if (this._direction=="horizontal"){
				display.x=preItem.x+preItem.width+this._space;
				}else {
				display.y=preItem.y+preItem.height+this._space;
			}
			}else {
			if (autoLayOut){
				display.x=0;
				display.y=0;
			}
		}
		return index;
	}

	/**
	*删除一个项对象。
	*@param item 需要删除的项对象。
	*@param autoLayOut 是否自动布局，如果为true，会根据 <code>direction</code> 和 <code>space</code> 属性计算item的位置。
	*/
	__proto.delItem=function(item,autoLayOut){
		(autoLayOut===void 0)&& (autoLayOut=true);
		var index=this._items.indexOf(item);
		if (index !=-1){
			var display=item;
			this.removeChild(display);
			for (var i=index+1,n=this._items.length;i < n;i++){
				var child=this._items [i];
				child.name="item"+(i-1);
				if (autoLayOut){
					if (this._direction=="horizontal"){
						child.x-=display.width+this._space;
						}else {
						child.y-=display.height+this._space;
					}
				}
			}
			this.initItems();
			if (this._selectedIndex >-1){
				var newIndex=0;
				newIndex=this._selectedIndex < this._items.length ? this._selectedIndex :(this._selectedIndex-1);
				this._selectedIndex=-1;
				this.selectedIndex=newIndex;
			}
		}
	}

	/**
	*初始化项对象们。
	*/
	__proto.initItems=function(){
		this._items || (this._items=[]);
		this._items.length=0;
		for (var i=0;i < 10000;i++){
			var item=this.getChildByName("item"+i);
			if (item==null)break ;
			this._items.push(item);
			item.selected=(i===this._selectedIndex);
			item.clickHandler=Handler.create(this,this.itemClick,[i],false);
		}
	}

	/**
	*@private
	*项对象的点击事件侦听处理函数。
	*@param index 项索引。
	*/
	__proto.itemClick=function(index){
		this.selectedIndex=index;
	}

	/**
	*@private
	*通过对象的索引设置项对象的 <code>selected</code> 属性值。
	*@param index 需要设置的项对象的索引。
	*@param selected 表示项对象的选中状态。
	*/
	__proto.setSelect=function(index,selected){
		if (this._items && index >-1 && index < this._items.length)this._items[index].selected=selected;
	}

	/**
	*@private
	*创建一个项显示对象。
	*@param skin 项对象的皮肤。
	*@param label 项对象标签。
	*/
	__proto.createItem=function(skin,label){
		return null;
	}

	/**
	*@private
	*更改项对象的属性值。
	*/
	__proto.changeLabels=function(){
		this._labelChanged=false;
		if (this._items){
			var left=0
			for (var i=0,n=this._items.length;i < n;i++){
				var btn=this._items [i];
				this._skin && (btn.skin=this._skin);
				this._labelColors && (btn.labelColors=this._labelColors);
				this._labelSize && (btn.labelSize=this._labelSize);
				this._labelStroke && (btn.labelStroke=this._labelStroke);
				this._labelStrokeColor && (btn.labelStrokeColor=this._labelStrokeColor);
				this._strokeColors && (btn.strokeColors=this._strokeColors);
				this._labelBold && (btn.labelBold=this._labelBold);
				this._labelPadding && (btn.labelPadding=this._labelPadding);
				this._labelAlign && (btn.labelAlign=this._labelAlign);
				this._stateNum && (btn.stateNum=this._stateNum);
				this._labelFont && (btn.labelFont=this._labelFont);
				if (this._direction==="horizontal"){
					btn.y=0;
					btn.x=left;
					left+=btn.width+this._space;
					}else {
					btn.x=0;
					btn.y=left;
					left+=btn.height+this._space;
				}
			}
		}
		this.changeSize();
	}

	/**@inheritDoc */
	__proto.commitMeasure=function(){
		this.runCallLater(this.changeLabels);
	}

	/**@private */
	__proto._setLabelChanged=function(){
		if (!this._labelChanged){
			this._labelChanged=true;
			this.callLater(this.changeLabels);
		}
	}

	/**
	*<p>描边颜色，以字符串表示。</p>
	*默认值为 "#000000"（黑色）;
	*@see laya.display.Text.strokeColor()
	*/
	__getset(0,__proto,'labelStrokeColor',function(){
		return this._labelStrokeColor;
		},function(value){
		if (this._labelStrokeColor !=value){
			this._labelStrokeColor=value;
			this._setLabelChanged();
		}
	});

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			this._setLabelChanged();
		}
	});

	/**
	*表示当前选择的项索引。默认值为-1。
	*/
	__getset(0,__proto,'selectedIndex',function(){
		return this._selectedIndex;
		},function(value){
		if (this._selectedIndex !=value){
			this.setSelect(this._selectedIndex,false);
			this._selectedIndex=value;
			this.setSelect(value,true);
			this.event(/*laya.events.Event.CHANGE*/"change");
			this.selectHandler && this.selectHandler.runWith(this._selectedIndex);
		}
	});

	/**
	*标签集合字符串。以逗号做分割，如"item0,item1,item2,item3,item4,item5"。
	*/
	__getset(0,__proto,'labels',function(){
		return this._labels;
		},function(value){
		if (this._labels !=value){
			this._labels=value;
			this.removeChildren();
			this._setLabelChanged();
			if (this._labels){
				var a=this._labels.split(",");
				for (var i=0,n=a.length;i < n;i++){
					var item=this.createItem(this._skin,a[i]);
					item.name="item"+i;
					this.addChild(item);
				}
			}
			this.initItems();
		}
	});

	/**
	*<p>表示各个状态下的描边颜色。</p>
	*@see laya.display.Text.strokeColor()
	*/
	__getset(0,__proto,'strokeColors',function(){
		return this._strokeColors;
		},function(value){
		if (this._strokeColors !=value){
			this._strokeColors=value;
			this._setLabelChanged();
		}
	});

	/**
	*@copy laya.ui.Button#labelColors()
	*/
	__getset(0,__proto,'labelColors',function(){
		return this._labelColors;
		},function(value){
		if (this._labelColors !=value){
			this._labelColors=value;
			this._setLabelChanged();
		}
	});

	/**
	*<p>描边宽度（以像素为单位）。</p>
	*默认值0，表示不描边。
	*@see laya.display.Text.stroke()
	*/
	__getset(0,__proto,'labelStroke',function(){
		return this._labelStroke;
		},function(value){
		if (this._labelStroke !=value){
			this._labelStroke=value;
			this._setLabelChanged();
		}
	});

	/**
	*表示按钮文本标签的字体大小。
	*/
	__getset(0,__proto,'labelSize',function(){
		return this._labelSize;
		},function(value){
		if (this._labelSize !=value){
			this._labelSize=value;
			this._setLabelChanged();
		}
	});

	/**
	*表示按钮的状态值，以数字表示，默认为3态。
	*@see laya.ui.Button#stateNum
	*/
	__getset(0,__proto,'stateNum',function(){
		return this._stateNum;
		},function(value){
		if (this._stateNum !=value){
			this._stateNum=value;
			this._setLabelChanged();
		}
	});

	/**
	*表示按钮文本标签是否为粗体字。
	*/
	__getset(0,__proto,'labelBold',function(){
		return this._labelBold;
		},function(value){
		if (this._labelBold !=value){
			this._labelBold=value;
			this._setLabelChanged();
		}
	});

	/**
	*表示按钮文本标签的字体名称，以字符串形式表示。
	*@see laya.display.Text.font()
	*/
	__getset(0,__proto,'labelFont',function(){
		return this._labelFont;
		},function(value){
		if (this._labelFont !=value){
			this._labelFont=value;
			this._setLabelChanged();
		}
	});

	/**
	*表示按钮文本标签的边距。
	*<p><b>格式：</b>"上边距,右边距,下边距,左边距"。</p>
	*/
	__getset(0,__proto,'labelPadding',function(){
		return this._labelPadding;
		},function(value){
		if (this._labelPadding !=value){
			this._labelPadding=value;
			this._setLabelChanged();
		}
	});

	/**
	*布局方向。
	*<p>默认值为"horizontal"。</p>
	*<p><b>取值：</b>
	*<li>"horizontal"：表示水平布局。</li>
	*<li>"vertical"：表示垂直布局。</li>
	*</p>
	*/
	__getset(0,__proto,'direction',function(){
		return this._direction;
		},function(value){
		this._direction=value;
		this._setLabelChanged();
	});

	/**
	*项对象们之间的间隔（以像素为单位）。
	*/
	__getset(0,__proto,'space',function(){
		return this._space;
		},function(value){
		this._space=value;
		this._setLabelChanged();
	});

	/**
	*项对象们的存放数组。
	*/
	__getset(0,__proto,'items',function(){
		return this._items;
	});

	/**
	*获取或设置当前选择的项对象。
	*/
	__getset(0,__proto,'selection',function(){
		return this._selectedIndex >-1 && this._selectedIndex < this._items.length ? this._items[this._selectedIndex] :null;
		},function(value){
		this.selectedIndex=this._items.indexOf(value);
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if (((typeof value=='number')&& Math.floor(value)==value)|| (typeof value=='string'))this.selectedIndex=parseInt(value);
		else if ((value instanceof Array))this.labels=(value).join(",");
		else Laya.superSet(Box,this,'dataSource',value);
	});

	return UIGroup;
})(Box)


/**
*<code>Radio</code> 控件使用户可在一组互相排斥的选择中做出一种选择。
*用户一次只能选择 <code>Radio</code> 组中的一个成员。选择未选中的组成员将取消选择该组中当前所选的 <code>Radio</code> 控件。
*@see laya.ui.RadioGroup
*/
//class laya.ui.Radio extends laya.ui.Button
var Radio=(function(_super){
	function Radio(skin,label){
		/**@private */
		this._value=null;
		(label===void 0)&& (label="");
		Radio.__super.call(this,skin,label);
	}

	__class(Radio,'laya.ui.Radio',_super);
	var __proto=Radio.prototype;
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._value=null;
	}

	/**@inheritDoc */
	__proto.preinitialize=function(){
		laya.ui.Component.prototype.preinitialize.call(this);
		this.toggle=false;
		this._autoSize=false;
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		_super.prototype.initialize.call(this);
		this.createText();
		this._text.align="left";
		this._text.valign="top";
		this._text.width=0;
		this.on(/*laya.events.Event.CLICK*/"click",this,this.onClick);
	}

	/**
	*@private
	*对象的<code>Event.CLICK</code>事件侦听处理函数。
	*/
	__proto.onClick=function(e){
		this.selected=true;
	}

	/**
	*获取或设置 <code>Radio</code> 关联的可选用户定义值。
	*/
	__getset(0,__proto,'value',function(){
		return this._value !=null ? this._value :this.label;
		},function(obj){
		this._value=obj;
	});

	return Radio;
})(Button)


/**
*<code>Tree</code> 控件使用户可以查看排列为可扩展树的层次结构数据。
*
*@example
*package
*{
	*import laya.ui.Tree;
	*import laya.utils.Browser;
	*import laya.utils.Handler;
	*public class Tree_Example
	*{
		*public function Tree_Example()
		*{
			*Laya.init(640,800);
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png","resource/ui/clip_selectBox.png","resource/ui/clip_tree_folder.png","resource/ui/clip_tree_arrow.png"],Handler.create(this,onLoadComplete));
			*}
		*private function onLoadComplete():void
		*{
			*var xmlString:String;//创建一个xml字符串，用于存储树结构数据。
			*xmlString="&lt;root&gt;&lt;item label='box1'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;abc label='child5'/&gt;&lt;/item&gt;&lt;item label='box2'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;/item&gt;&lt;/root&gt;";
			*var domParser:*=new Browser.window.DOMParser();//创建一个DOMParser实例domParser。
			*var xml:*=domParser.parseFromString(xmlString,"text/xml");//解析xml字符。
			*var tree:Tree=new Tree();//创建一个 Tree 类的实例对象 tree 。
			*tree.scrollBarSkin="resource/ui/vscroll.png";//设置 tree 的皮肤。
			*tree.itemRender=Item;//设置 tree 的项渲染器。
			*tree.xml=xml;//设置 tree 的树结构数据。
			*tree.x=100;//设置 tree 对象的属性 x 的值，用于控制 tree 对象的显示位置。
			*tree.y=100;//设置 tree 对象的属性 y 的值，用于控制 tree 对象的显示位置。
			*tree.width=200;//设置 tree 的宽度。
			*tree.height=100;//设置 tree 的高度。
			*Laya.stage.addChild(tree);//将 tree 添加到显示列表。
			*}
		*}
	*}
*import laya.ui.Box;
*import laya.ui.Clip;
*import laya.ui.Label;
*class Item extends Box
*{
	*public function Item()
	*{
		*this.name="render";
		*this.right=0;
		*this.left=0;
		*var selectBox:Clip=new Clip("resource/ui/clip_selectBox.png",1,2);
		*selectBox.name="selectBox";
		*selectBox.height=24;
		*selectBox.x=13;
		*selectBox.y=0;
		*selectBox.left=12;
		*addChild(selectBox);
		*var folder:Clip=new Clip("resource/ui/clip_tree_folder.png",1,3);
		*folder.name="folder";
		*folder.x=14;
		*folder.y=4;
		*addChild(folder);
		*var label:Label=new Label("treeItem");
		*label.name="label";
		*label.color="#ffff00";
		*label.width=150;
		*label.height=22;
		*label.x=33;
		*label.y=1;
		*label.left=33;
		*label.right=0;
		*addChild(label);
		*var arrow:Clip=new Clip("resource/ui/clip_tree_arrow.png",1,2);
		*arrow.name="arrow";
		*arrow.x=0;
		*arrow.y=5;
		*addChild(arrow);
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高、渲染模式
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var res=["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png","resource/ui/clip_selectBox.png","resource/ui/clip_tree_folder.png","resource/ui/clip_tree_arrow.png"];
*Laya.loader.load(res,new laya.utils.Handler(this,onLoadComplete));
*function onLoadComplete(){
	*var xmlString;//创建一个xml字符串，用于存储树结构数据。
	*xmlString="&lt;root&gt;&lt;item label='box1'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;abc label='child5'/&gt;&lt;/item&gt;&lt;item label='box2'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;/item&gt;&lt;/root&gt;";
	*var domParser=new laya.utils.Browser.window.DOMParser();//创建一个DOMParser实例domParser。
	*var xml=domParser.parseFromString(xmlString,"text/xml");//解析xml字符。
	*var tree=new laya.ui.Tree();//创建一个 Tree 类的实例对象 tree 。
	*tree.scrollBarSkin="resource/ui/vscroll.png";//设置 tree 的皮肤。
	*tree.itemRender=mypackage.treeExample.Item;//设置 tree 的项渲染器。
	*tree.xml=xml;//设置 tree 的树结构数据。
	*tree.x=100;//设置 tree 对象的属性 x 的值，用于控制 tree 对象的显示位置。
	*tree.y=100;//设置 tree 对象的属性 y 的值，用于控制 tree 对象的显示位置。
	*tree.width=200;//设置 tree 的宽度。
	*tree.height=100;//设置 tree 的高度。
	*Laya.stage.addChild(tree);//将 tree 添加到显示列表。
	*}
*(function (_super){
	*function Item(){
		*Item.__super.call(this);//初始化父类。
		*this.right=0;
		*this.left=0;
		*var selectBox=new laya.ui.Clip("resource/ui/clip_selectBox.png",1,2);
		*selectBox.name="selectBox";//设置 selectBox 的name 为“selectBox”时，将被识别为树结构的项的背景。2帧：悬停时背景、选中时背景。
		*selectBox.height=24;
		*selectBox.x=13;
		*selectBox.y=0;
		*selectBox.left=12;
		*this.addChild(selectBox);//需要使用this.访问父类的属性或方法。
		*var folder=new laya.ui.Clip("resource/ui/clip_tree_folder.png",1,3);
		*folder.name="folder";//设置 folder 的name 为“folder”时，将被识别为树结构的文件夹开启状态图表。2帧：折叠状态、打开状态。
		*folder.x=14;
		*folder.y=4;
		*this.addChild(folder);
		*var label=new laya.ui.Label("treeItem");
		*label.name="label";//设置 label 的name 为“label”时，此值将用于树结构数据赋值。
		*label.color="#ffff00";
		*label.width=150;
		*label.height=22;
		*label.x=33;
		*label.y=1;
		*label.left=33;
		*label.right=0;
		*this.addChild(label);
		*var arrow=new laya.ui.Clip("resource/ui/clip_tree_arrow.png",1,2);
		*arrow.name="arrow";//设置 arrow 的name 为“arrow”时，将被识别为树结构的文件夹开启状态图表。2帧：折叠状态、打开状态。
		*arrow.x=0;
		*arrow.y=5;
		*this.addChild(arrow);
		*};
	*Laya.class(Item,"mypackage.treeExample.Item",_super);//注册类 Item 。
	*})(laya.ui.Box);
*@example
*import Tree=laya.ui.Tree;
*import Browser=laya.utils.Browser;
*import Handler=laya.utils.Handler;
*class Tree_Example {
	*constructor(){
		*Laya.init(640,800);
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png","resource/ui/vscroll$up.png","resource/ui/clip_selectBox.png","resource/ui/clip_tree_folder * . * png","resource/ui/clip_tree_arrow.png"],Handler.create(this,this.onLoadComplete));
		*}
	*private onLoadComplete():void {
		*var xmlString:String;//创建一个xml字符串，用于存储树结构数据。
		*xmlString="&lt;root&gt;&lt;item label='box1'&gt;&lt;abc label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;abc label='child5'/&gt;&lt;/item&gt;&lt;item label='box2'&gt;&lt;abc  * label='child1'/&gt;&lt;abc label='child2'/&gt;&lt;abc label='child3'/&gt;&lt;abc label='child4'/&gt;&lt;/item&gt;&lt;/root&gt;";
		*var domParser:any=new Browser.window.DOMParser();//创建一个DOMParser实例domParser。
		*var xml:any=domParser.parseFromString(xmlString,"text/xml");//解析xml字符。
		*var tree:Tree=new Tree();//创建一个 Tree 类的实例对象 tree 。
		*tree.scrollBarSkin="resource/ui/vscroll.png";//设置 tree 的皮肤。
		*tree.itemRender=Item;//设置 tree 的项渲染器。
		*tree.xml=xml;//设置 tree 的树结构数据。
		*tree.x=100;//设置 tree 对象的属性 x 的值，用于控制 tree 对象的显示位置。
		*tree.y=100;//设置 tree 对象的属性 y 的值，用于控制 tree 对象的显示位置。
		*tree.width=200;//设置 tree 的宽度。
		*tree.height=100;//设置 tree 的高度。
		*Laya.stage.addChild(tree);//将 tree 添加到显示列表。
		*}
	*}
*import Box=laya.ui.Box;
*import Clip=laya.ui.Clip;
*import Label=laya.ui.Label;
*class Item extends Box {
	*constructor(){
		*super();
		*this.name="render";
		*this.right=0;
		*this.left=0;
		*var selectBox:Clip=new Clip("resource/ui/clip_selectBox.png",1,2);
		*selectBox.name="selectBox";
		*selectBox.height=24;
		*selectBox.x=13;
		*selectBox.y=0;
		*selectBox.left=12;
		*this.addChild(selectBox);
		*var folder:Clip=new Clip("resource/ui/clip_tree_folder.png",1,3);
		*folder.name="folder";
		*folder.x=14;
		*folder.y=4;
		*this.addChild(folder);
		*var label:Label=new Label("treeItem");
		*label.name="label";
		*label.color="#ffff00";
		*label.width=150;
		*label.height=22;
		*label.x=33;
		*label.y=1;
		*label.left=33;
		*label.right=0;
		*this.addChild(label);
		*var arrow:Clip=new Clip("resource/ui/clip_tree_arrow.png",1,2);
		*arrow.name="arrow";
		*arrow.x=0;
		*arrow.y=5;
		*this.addChild(arrow);
		*}
	*}
*/
//class laya.ui.Tree extends laya.ui.Box
var Tree=(function(_super){
	function Tree(){
		/**@private */
		this._list=null;
		/**@private */
		this._source=null;
		/**@private */
		this._renderHandler=null;
		/**@private */
		this._spaceLeft=10;
		/**@private */
		this._spaceBottom=0;
		/**@private */
		this._keepStatus=true;
		Tree.__super.call(this);
		this.width=this.height=200;
	}

	__class(Tree,'laya.ui.Tree',_super);
	var __proto=Tree.prototype;
	Laya.imps(__proto,{"laya.ui.IRender":true})
	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		laya.ui.Component.prototype.destroy.call(this,destroyChild);
		this._list && this._list.destroy(destroyChild);
		this._list=null;
		this._source=null;
		this._renderHandler=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._list=new List());
		this._list.renderHandler=Handler.create(this,this.renderItem,null,false);
		this._list.repeatX=1;
		this._list.on(/*laya.events.Event.CHANGE*/"change",this,this.onListChange);
	}

	/**
	*@private
	*此对象包含的<code>List</code>实例的<code>Event.CHANGE</code>事件侦听处理函数。
	*/
	__proto.onListChange=function(e){
		this.event(/*laya.events.Event.CHANGE*/"change");
	}

	/**
	*@private
	*获取数据源集合。
	*/
	__proto.getArray=function(){
		var arr=[];
		var item;
		/*for each*/for(var $each_item in this._source){
			item=this._source[$each_item];
			if (this.getParentOpenStatus(item)){
				item.x=this._spaceLeft *this.getDepth(item);
				arr.push(item);
			}
		}
		return arr;
	}

	/**
	*@private
	*获取项对象的深度。
	*/
	__proto.getDepth=function(item,num){
		(num===void 0)&& (num=0);
		if (item.nodeParent==null)return num;
		else return this.getDepth(item.nodeParent,num+1);
	}

	/**
	*@private
	*获取项对象的上一级的打开状态。
	*/
	__proto.getParentOpenStatus=function(item){
		var parent=item.nodeParent;
		if (parent==null){
			return true;
			}else {
			if (parent.isOpen){
				if (parent.nodeParent !=null)return this.getParentOpenStatus(parent);
				else return true;
				}else {
				return false;
			}
		}
	}

	/**
	*@private
	*渲染一个项对象。
	*@param cell 一个项对象。
	*@param index 项的索引。
	*/
	__proto.renderItem=function(cell,index){
		var item=cell.dataSource;
		if (item){
			cell.left=item.x;
			var arrow=cell.getChildByName("arrow");
			if (arrow){
				if (item.hasChild){
					arrow.visible=true;
					arrow.index=item.isOpen ? 1 :0;
					arrow.tag=index;
					arrow.off(/*laya.events.Event.CLICK*/"click",this,this.onArrowClick);
					arrow.on(/*laya.events.Event.CLICK*/"click",this,this.onArrowClick);
					}else {
					arrow.visible=false;
				}
			};
			var folder=cell.getChildByName("folder");
			if (folder){
				if (folder.clipY==2){
					folder.index=item.isDirectory ? 0 :1;
					}else {
					folder.index=item.isDirectory ? item.isOpen ? 1 :0 :2;
				}
			}
			this._renderHandler && this._renderHandler.runWith([cell,index]);
		}
	}

	/**
	*@private
	*/
	__proto.onArrowClick=function(e){
		var arrow=e.currentTarget;
		var index=arrow.tag;
		this._list.array[index].isOpen=!this._list.array[index].isOpen;
		this.event(/*laya.events.Event.OPEN*/"open");
		this._list.array=this.getArray();
	}

	/**
	*设置指定项索引的项对象的打开状态。
	*@param index 项索引。
	*@param isOpen 是否处于打开状态。
	*/
	__proto.setItemState=function(index,isOpen){
		if (!this._list.array[index])return;
		this._list.array[index].isOpen=isOpen;
		this._list.array=this.getArray();
	}

	/**
	*刷新项列表。
	*/
	__proto.fresh=function(){
		this._list.array=this.getArray();
		this.repaint();
	}

	/**
	*@private
	*解析并处理XML类型的数据源。
	*/
	__proto.parseXml=function(xml,source,nodeParent,isRoot){
		var obj;
		var list=xml.childNodes;
		var childCount=list.length;
		if (!isRoot){
			obj={};
			var list2=xml.attributes;
			var attrs;
			/*for each*/for(var $each_attrs in list2){
				attrs=list2[$each_attrs];
				var prop=attrs.nodeName;
				var value=attrs.nodeValue;
				obj[prop]=value=="true" ? true :value=="false" ? false :value;
			}
			obj.nodeParent=nodeParent;
			if (childCount > 0)obj.isDirectory=true;
			obj.hasChild=childCount > 0;
			source.push(obj);
		}
		for (var i=0;i < childCount;i++){
			var node=list[i];
			this.parseXml(node,source,obj,false);
		}
	}

	/**
	*@private
	*处理数据项的打开状态。
	*/
	__proto.parseOpenStatus=function(oldSource,newSource){
		for (var i=0,n=newSource.length;i < n;i++){
			var newItem=newSource[i];
			if (newItem.isDirectory){
				for (var j=0,m=oldSource.length;j < m;j++){
					var oldItem=oldSource[j];
					if (oldItem.isDirectory && this.isSameParent(oldItem,newItem)&& newItem.label==oldItem.label){
						newItem.isOpen=oldItem.isOpen;
						break ;
					}
				}
			}
		}
	}

	/**
	*@private
	*判断两个项对象在树结构中的父节点是否相同。
	*@param item1 项对象。
	*@param item2 项对象。
	*@return 如果父节点相同值为true，否则值为false。
	*/
	__proto.isSameParent=function(item1,item2){
		if (item1.nodeParent==null && item2.nodeParent==null)return true;
		else if (item1.nodeParent==null || item2.nodeParent==null)return false
		else {
			if (item1.nodeParent.label==item2.nodeParent.label)return this.isSameParent(item1.nodeParent,item2.nodeParent);
			else return false;
		}
	}

	/**
	*更新项列表，显示指定键名的数据项。
	*@param key 键名。
	*/
	__proto.filter=function(key){
		if (Boolean(key)){
			var result=[];
			this.getFilterSource(this._source,result,key);
			this._list.array=result;
			}else {
			this._list.array=this.getArray();
		}
	}

	/**
	*@private
	*获取数据源中指定键名的值。
	*/
	__proto.getFilterSource=function(array,result,key){
		key=key.toLocaleLowerCase();
		var item;
		/*for each*/for(var $each_item in array){
			item=array[$each_item];
			if (!item.isDirectory && String(item.label).toLowerCase().indexOf(key)>-1){
				item.x=0;
				result.push(item);
			}
			if (item.child && item.child.length > 0){
				this.getFilterSource(item.child,result,key);
			}
		}
	}

	/**
	*每一项之间的间隔距离（以像素为单位）。
	*/
	__getset(0,__proto,'spaceBottom',function(){
		return this._list.spaceY;
		},function(value){
		this._list.spaceY=value;
	});

	/**
	*数据源发生变化后，是否保持之前打开状态，默认为true。
	*<p><b>取值：</b>
	*<li>true：保持之前打开状态。</li>
	*<li>false：不保持之前打开状态。</li>
	*</p>
	*/
	__getset(0,__proto,'keepStatus',function(){
		return this._keepStatus;
		},function(value){
		this._keepStatus=value;
	});

	/**
	*此对象包含的<code>List</code>实例的单元格渲染器。
	*<p><b>取值：</b>
	*<ol>
	*<li>单元格类对象。</li>
	*<li> UI 的 JSON 描述。</li>
	*</ol></p>
	*/
	__getset(0,__proto,'itemRender',function(){
		return this._list.itemRender;
		},function(value){
		this._list.itemRender=value;
	});

	/**
	*列表数据源，只包含当前可视节点数据。
	*/
	__getset(0,__proto,'array',function(){
		return this._list.array;
		},function(value){
		if (this._keepStatus && this._list.array && value){
			this.parseOpenStatus(this._list.array,value);
		}
		this._source=value;
		this._list.array=this.getArray();
	});

	/**
	*单元格鼠标事件处理器。
	*<p>默认返回参数（e:Event,index:int）。</p>
	*/
	__getset(0,__proto,'mouseHandler',function(){
		return this._list.mouseHandler;
		},function(value){
		this._list.mouseHandler=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		Laya.superSet(Box,this,'dataSource',value);
	});

	/**
	*数据源，全部节点数据。
	*/
	__getset(0,__proto,'source',function(){
		return this._source;
	});

	/**滚动条*/
	__getset(0,__proto,'scrollBar',function(){
		return this._list.scrollBar;
	});

	/**
	*此对象包含的<code>List</code>实例对象。
	*/
	__getset(0,__proto,'list',function(){
		return this._list;
	});

	/**
	*滚动条皮肤。
	*/
	__getset(0,__proto,'scrollBarSkin',function(){
		return this._list.vScrollBarSkin;
		},function(value){
		this._list.vScrollBarSkin=value;
	});

	/**
	*<code>Tree</code> 实例的渲染处理器。
	*/
	__getset(0,__proto,'renderHandler',function(){
		return this._renderHandler;
		},function(value){
		this._renderHandler=value;
	});

	/**
	*表示当前选择的项索引。
	*/
	__getset(0,__proto,'selectedIndex',function(){
		return this._list.selectedIndex;
		},function(value){
		this._list.selectedIndex=value;
	});

	/**
	*左侧缩进距离（以像素为单位）。
	*/
	__getset(0,__proto,'spaceLeft',function(){
		return this._spaceLeft;
		},function(value){
		this._spaceLeft=value;
	});

	/**
	*当前选中的项对象的数据源。
	*/
	__getset(0,__proto,'selectedItem',function(){
		return this._list.selectedItem;
		},function(value){
		this._list.selectedItem=value;
	});

	/**
	*@inheritDoc
	*/
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Box,this,'width',value);
		this._list.width=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Box,this,'height',value);
		this._list.height=value;
	});

	/**
	*xml结构的数据源。
	*/
	__getset(0,__proto,'xml',null,function(value){
		var arr=[];
		this.parseXml(value.childNodes[0],arr,null,true);
		this.array=arr;
	});

	/**
	*表示选择的树节点项的<code>path</code>属性值。
	*/
	__getset(0,__proto,'selectedPath',function(){
		if (this._list.selectedItem){
			return this._list.selectedItem.path;
		}
		return null;
	});

	return Tree;
})(Box)


/**
*<code>ViewStack</code> 类用于视图堆栈类，用于视图的显示等设置处理。
*/
//class laya.ui.ViewStack extends laya.ui.Box
var ViewStack=(function(_super){
	function ViewStack(){
		/**@private */
		this._items=null;
		/**@private */
		this._selectedIndex=0;
		ViewStack.__super.call(this);
		this._setIndexHandler=Handler.create(this,this.setIndex,null,false);
	}

	__class(ViewStack,'laya.ui.ViewStack',_super);
	var __proto=ViewStack.prototype;
	Laya.imps(__proto,{"laya.ui.IItem":true})
	/**
	*批量设置视图对象。
	*@param views 视图对象数组。
	*/
	__proto.setItems=function(views){
		this.removeChildren();
		var index=0;
		for (var i=0,n=views.length;i < n;i++){
			var item=views[i];
			if (item){
				item.name="item"+index;
				this.addChild(item);
				index++;
			}
		}
		this.initItems();
	}

	/**
	*添加视图。
	*@internal 添加视图对象，并设置此视图对象的<code>name</code> 属性。
	*@param view 需要添加的视图对象。
	*/
	__proto.addItem=function(view){
		view.name="item"+this._items.length;
		this.addChild(view);
		this.initItems();
	}

	/**
	*初始化视图对象集合。
	*/
	__proto.initItems=function(){
		this._items=[];
		for (var i=0;i < 10000;i++){
			var item=this.getChildByName("item"+i);
			if (item==null){
				break ;
			}
			this._items.push(item);
			item.visible=(i==this._selectedIndex);
		}
	}

	/**
	*@private
	*通过对象的索引设置项对象的 <code>selected</code> 属性值。
	*@param index 需要设置的对象的索引。
	*@param selected 表示对象的选中状态。
	*/
	__proto.setSelect=function(index,selected){
		if (this._items && index >-1 && index < this._items.length){
			this._items[index].visible=selected;
		}
	}

	/**
	*@private
	*设置属性<code>selectedIndex</code>的值。
	*@param index 选中项索引值。
	*/
	__proto.setIndex=function(index){
		this.selectedIndex=index;
	}

	/**@inheritDoc */
	__getset(0,__proto,'dataSource',_super.prototype._$get_dataSource,function(value){
		this._dataSource=value;
		if (((typeof value=='number')&& Math.floor(value)==value)|| (typeof value=='string')){
			this.selectedIndex=parseInt(value);
			}else {
			for (var prop in this._dataSource){
				if (this.hasOwnProperty(prop)){
					this[prop]=this._dataSource[prop];
				}
			}
		}
	});

	/**
	*表示当前视图索引。
	*/
	__getset(0,__proto,'selectedIndex',function(){
		return this._selectedIndex;
		},function(value){
		if (this._selectedIndex !=value){
			this.setSelect(this._selectedIndex,false);
			this._selectedIndex=value;
			this.setSelect(this._selectedIndex,true);
		}
	});

	/**
	*获取或设置当前选择的项对象。
	*/
	__getset(0,__proto,'selection',function(){
		return this._selectedIndex >-1 && this._selectedIndex < this._items.length ? this._items[this._selectedIndex] :null;
		},function(value){
		this.selectedIndex=this._items.indexOf(value);
	});

	/**
	*视图集合数组。
	*/
	__getset(0,__proto,'items',function(){
		return this._items;
	});

	/**
	*索引设置处理器。
	*<p>默认回调参数：index:int</p>
	*/
	__getset(0,__proto,'setIndexHandler',function(){
		return this._setIndexHandler;
		},function(value){
		this._setIndexHandler=value;
	});

	return ViewStack;
})(Box)


/**
*
*使用 <code>VScrollBar</code> （垂直 <code>ScrollBar</code> ）控件，可以在因数据太多而不能在显示区域完全显示时控制显示的数据部分。
*
*@example <caption>以下示例代码，创建了一个 <code>VScrollBar</code> 实例。</caption>
*package
*{
	*import laya.ui.vScrollBar;
	*import laya.ui.VScrollBar;
	*import laya.utils.Handler;
	*public class VScrollBar_Example
	*{
		*private var vScrollBar:VScrollBar;
		*public function VScrollBar_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png"],Handler.create(this,onLoadComplete));
			*}
		*private function onLoadComplete():void
		*{
			*vScrollBar=new VScrollBar();//创建一个 vScrollBar 类的实例对象 hScrollBar 。
			*vScrollBar.skin="resource/ui/vscroll.png";//设置 vScrollBar 的皮肤。
			*vScrollBar.x=100;//设置 vScrollBar 对象的属性 x 的值，用于控制 vScrollBar 对象的显示位置。
			*vScrollBar.y=100;//设置 vScrollBar 对象的属性 y 的值，用于控制 vScrollBar 对象的显示位置。
			*vScrollBar.changeHandler=new Handler(this,onChange);//设置 vScrollBar 的滚动变化处理器。
			*Laya.stage.addChild(vScrollBar);//将此 vScrollBar 对象添加到显示列表。
			*}
		*private function onChange(value:Number):void
		*{
			*trace("滚动条的位置： value="+value);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var vScrollBar;
*var res=["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png"];
*Laya.loader.load(res,laya.utils.Handler.create(this,onLoadComplete));//加载资源。
*function onLoadComplete(){
	*vScrollBar=new laya.ui.VScrollBar();//创建一个 vScrollBar 类的实例对象 hScrollBar 。
	*vScrollBar.skin="resource/ui/vscroll.png";//设置 vScrollBar 的皮肤。
	*vScrollBar.x=100;//设置 vScrollBar 对象的属性 x 的值，用于控制 vScrollBar 对象的显示位置。
	*vScrollBar.y=100;//设置 vScrollBar 对象的属性 y 的值，用于控制 vScrollBar 对象的显示位置。
	*vScrollBar.changeHandler=new laya.utils.Handler(this,onChange);//设置 vScrollBar 的滚动变化处理器。
	*Laya.stage.addChild(vScrollBar);//将此 vScrollBar 对象添加到显示列表。
	*}
*function onChange(value){
	*console.log("滚动条的位置： value="+value);
	*}
*@example
*import VScrollBar=laya.ui.VScrollBar;
*import Handler=laya.utils.Handler;
*class VScrollBar_Example {
	*private vScrollBar:VScrollBar;
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/vscroll.png","resource/ui/vscroll$bar.png","resource/ui/vscroll$down.png","resource/ui/vscroll$up.png"],Handler.create(this,this.onLoadComplete));
		*}
	*private onLoadComplete():void {
		*this.vScrollBar=new VScrollBar();//创建一个 vScrollBar 类的实例对象 hScrollBar 。
		*this.vScrollBar.skin="resource/ui/vscroll.png";//设置 vScrollBar 的皮肤。
		*this.vScrollBar.x=100;//设置 vScrollBar 对象的属性 x 的值，用于控制 vScrollBar 对象的显示位置。
		*this.vScrollBar.y=100;//设置 vScrollBar 对象的属性 y 的值，用于控制 vScrollBar 对象的显示位置。
		*this.vScrollBar.changeHandler=new Handler(this,this.onChange);//设置 vScrollBar 的滚动变化处理器。
		*Laya.stage.addChild(this.vScrollBar);//将此 vScrollBar 对象添加到显示列表。
		*}
	*private onChange(value:number):void {
		*console.log("滚动条的位置： value="+value);
		*}
	*}
*/
//class laya.ui.VScrollBar extends laya.ui.ScrollBar
var VScrollBar=(function(_super){
	function VScrollBar(){
		VScrollBar.__super.call(this);;
	}

	__class(VScrollBar,'laya.ui.VScrollBar',_super);
	return VScrollBar;
})(ScrollBar)


/**
*<code>TextInput</code> 类用于创建显示对象以显示和输入文本。
*
*@example <caption>以下示例代码，创建了一个 <code>TextInput</code> 实例。</caption>
*package
*{
	*import laya.display.Stage;
	*import laya.ui.TextInput;
	*import laya.utils.Handler;
	*public class TextInput_Example
	*{
		*public function TextInput_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/input.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*var textInput:TextInput=new TextInput("这是一个TextInput实例。");//创建一个 TextInput 类的实例对象 textInput 。
			*textInput.skin="resource/ui/input.png";//设置 textInput 的皮肤。
			*textInput.sizeGrid="4,4,4,4";//设置 textInput 的网格信息。
			*textInput.color="#008fff";//设置 textInput 的文本颜色。
			*textInput.font="Arial";//设置 textInput 的文本字体。
			*textInput.bold=true;//设置 textInput 的文本显示为粗体。
			*textInput.fontSize=30;//设置 textInput 的字体大小。
			*textInput.wordWrap=true;//设置 textInput 的文本自动换行。
			*textInput.x=100;//设置 textInput 对象的属性 x 的值，用于控制 textInput 对象的显示位置。
			*textInput.y=100;//设置 textInput 对象的属性 y 的值，用于控制 textInput 对象的显示位置。
			*textInput.width=300;//设置 textInput 的宽度。
			*textInput.height=200;//设置 textInput 的高度。
			*Laya.stage.addChild(textInput);//将 textInput 添加到显示列表。
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*Laya.loader.load(["resource/ui/input.png"],laya.utils.Handler.create(this,onLoadComplete));//加载资源。
*function onLoadComplete(){
	*var textInput=new laya.ui.TextInput("这是一个TextInput实例。");//创建一个 TextInput 类的实例对象 textInput 。
	*textInput.skin="resource/ui/input.png";//设置 textInput 的皮肤。
	*textInput.sizeGrid="4,4,4,4";//设置 textInput 的网格信息。
	*textInput.color="#008fff";//设置 textInput 的文本颜色。
	*textInput.font="Arial";//设置 textInput 的文本字体。
	*textInput.bold=true;//设置 textInput 的文本显示为粗体。
	*textInput.fontSize=30;//设置 textInput 的字体大小。
	*textInput.wordWrap=true;//设置 textInput 的文本自动换行。
	*textInput.x=100;//设置 textInput 对象的属性 x 的值，用于控制 textInput 对象的显示位置。
	*textInput.y=100;//设置 textInput 对象的属性 y 的值，用于控制 textInput 对象的显示位置。
	*textInput.width=300;//设置 textInput 的宽度。
	*textInput.height=200;//设置 textInput 的高度。
	*Laya.stage.addChild(textInput);//将 textInput 添加到显示列表。
	*}
*@example
*import Stage=laya.display.Stage;
*import TextInput=laya.ui.TextInput;
*import Handler=laya.utils.Handler;
*class TextInput_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/input.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*var textInput:TextInput=new TextInput("这是一个TextInput实例。");//创建一个 TextInput 类的实例对象 textInput 。
		*textInput.skin="resource/ui/input.png";//设置 textInput 的皮肤。
		*textInput.sizeGrid="4,4,4,4";//设置 textInput 的网格信息。
		*textInput.color="#008fff";//设置 textInput 的文本颜色。
		*textInput.font="Arial";//设置 textInput 的文本字体。
		*textInput.bold=true;//设置 textInput 的文本显示为粗体。
		*textInput.fontSize=30;//设置 textInput 的字体大小。
		*textInput.wordWrap=true;//设置 textInput 的文本自动换行。
		*textInput.x=100;//设置 textInput 对象的属性 x 的值，用于控制 textInput 对象的显示位置。
		*textInput.y=100;//设置 textInput 对象的属性 y 的值，用于控制 textInput 对象的显示位置。
		*textInput.width=300;//设置 textInput 的宽度。
		*textInput.height=200;//设置 textInput 的高度。
		*Laya.stage.addChild(textInput);//将 textInput 添加到显示列表。
		*}
	*}
*/
//class laya.ui.TextInput extends laya.ui.Label
var TextInput=(function(_super){
	function TextInput(text){
		/**@private */
		this._bg=null;
		/**@private */
		this._skin=null;
		TextInput.__super.call(this);
		(text===void 0)&& (text="");
		this.text=text;
		this.skin=this.skin;
	}

	__class(TextInput,'laya.ui.TextInput',_super);
	var __proto=TextInput.prototype;
	/**@inheritDoc */
	__proto.preinitialize=function(){
		this.mouseEnabled=true;
	}

	/**@inheritDoc */
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._bg && this._bg.destroy();
		this._bg=null;
	}

	/**@inheritDoc */
	__proto.createChildren=function(){
		this.addChild(this._tf=new Input());
		this._tf.padding=Styles.inputLabelPadding;
		this._tf.on(/*laya.events.Event.INPUT*/"input",this,this._onInput);
		this._tf.on(/*laya.events.Event.ENTER*/"enter",this,this._onEnter);
		this._tf.on(/*laya.events.Event.BLUR*/"blur",this,this._onBlur);
		this._tf.on(/*laya.events.Event.FOCUS*/"focus",this,this._onFocus);
	}

	/**
	*@private
	*/
	__proto._onFocus=function(){
		this.event(/*laya.events.Event.FOCUS*/"focus",this);
	}

	/**
	*@private
	*/
	__proto._onBlur=function(){
		this.event(/*laya.events.Event.BLUR*/"blur",this);
	}

	/**
	*@private
	*/
	__proto._onInput=function(){
		this.event(/*laya.events.Event.INPUT*/"input",this);
	}

	/**
	*@private
	*/
	__proto._onEnter=function(){
		this.event(/*laya.events.Event.ENTER*/"enter",this);
	}

	/**@inheritDoc */
	__proto.initialize=function(){
		this.width=128;
		this.height=22;
	}

	/**选中输入框内的文本。*/
	__proto.select=function(){
		(this._tf).select();
	}

	__proto.setSelection=function(startIndex,endIndex){
		(this._tf).setSelection(startIndex,endIndex);
	}

	/**
	*当前文本内容字符串。
	*@see laya.display.Text.text
	*/
	__getset(0,__proto,'text',_super.prototype._$get_text,function(value){
		if (this._tf.text !=value){
			value=value+"";
			this._tf.text=value;
			this.event(/*laya.events.Event.CHANGE*/"change");
		}
	});

	/**
	*表示此对象包含的文本背景 <code>AutoBitmap</code> 组件实例。
	*/
	__getset(0,__proto,'bg',function(){
		return this._bg;
		},function(value){
		this.graphics=this._bg=value;
	});

	/**
	*设置原生input输入框的y坐标偏移。
	*/
	__getset(0,__proto,'inputElementYAdjuster',function(){
		return (this._tf).inputElementYAdjuster;
		},function(value){
		(this._tf).inputElementYAdjuster=value;
	});

	/**
	*<p>指示当前是否是文本域。</p>
	*值为true表示当前是文本域，否则不是文本域。
	*/
	__getset(0,__proto,'multiline',function(){
		return (this._tf).multiline;
		},function(value){
		(this._tf).multiline=value;
	});

	/**
	*@copy laya.ui.Image#skin
	*/
	__getset(0,__proto,'skin',function(){
		return this._skin;
		},function(value){
		if (this._skin !=value){
			this._skin=value;
			this._bg || (this.graphics=this._bg=new AutoBitmap());
			this._bg.source=Loader.getRes(this._skin);
			this._width && (this._bg.width=this._width);
			this._height && (this._bg.height=this._height);
		}
	});

	/**
	*<p>当前实例的背景图（ <code>AutoBitmap</code> ）实例的有效缩放网格数据。</p>
	*<p>数据格式："上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)"，以逗号分隔。
	*<ul><li>例如："4,4,4,4,1"</li></ul></p>
	*@see laya.ui.AutoBitmap.sizeGrid
	*/
	__getset(0,__proto,'sizeGrid',function(){
		return this._bg && this._bg.sizeGrid ? this._bg.sizeGrid.join(","):null;
		},function(value){
		this._bg || (this.graphics=this._bg=new AutoBitmap());
		this._bg.sizeGrid=UIUtils.fillArray(Styles.defaultSizeGrid,value,Number);
	});

	/**
	*设置原生input输入框的x坐标偏移。
	*/
	__getset(0,__proto,'inputElementXAdjuster',function(){
		return (this._tf).inputElementXAdjuster;
		},function(value){
		(this._tf).inputElementXAdjuster=value;
	});

	/**@inheritDoc */
	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(Label,this,'width',value);
		this._bg && (this._bg.width=value);
	});

	/**@inheritDoc */
	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(Label,this,'height',value);
		this._bg && (this._bg.height=value);
	});

	/**
	*设置可编辑状态。
	*/
	__getset(0,__proto,'editable',function(){
		return (this._tf).editable;
		},function(value){
		(this._tf).editable=value;
	});

	/**限制输入的字符。*/
	__getset(0,__proto,'restrict',function(){
		return (this._tf).restrict;
		},function(pattern){
		(this._tf).restrict=pattern;
	});

	/**
	*@copy laya.display.Input#prompt
	*/
	__getset(0,__proto,'prompt',function(){
		return (this._tf).prompt;
		},function(value){
		(this._tf).prompt=value;
	});

	/**
	*@copy laya.display.Input#promptColor
	*/
	__getset(0,__proto,'promptColor',function(){
		return (this._tf).promptColor;
		},function(value){
		(this._tf).promptColor=value;
	});

	/**
	*@copy laya.display.Input#maxChars
	*/
	__getset(0,__proto,'maxChars',function(){
		return (this._tf).maxChars;
		},function(value){
		(this._tf).maxChars=value;
	});

	/**
	*@copy laya.display.Input#focus
	*/
	__getset(0,__proto,'focus',function(){
		return (this._tf).focus;
		},function(value){
		(this._tf).focus=value;
	});

	/**
	*@copy laya.display.Input#type
	*/
	__getset(0,__proto,'type',function(){
		return (this._tf).type;
		},function(value){
		(this._tf).type=value;
	});

	/**
	*@copy laya.display.Input#asPassword
	*/
	__getset(0,__proto,'asPassword',function(){
		return (this._tf).asPassword;
		},function(value){
		(this._tf).asPassword=value;
	});

	return TextInput;
})(Label)


/**
*使用 <code>VSlider</code> 控件，用户可以通过在滑块轨道的终点之间移动滑块来选择值。
*<p> <code>VSlider</code> 控件采用垂直方向。滑块轨道从下往上扩展，而标签位于轨道的左右两侧。</p>
*
*@example <caption>以下示例代码，创建了一个 <code>VSlider</code> 实例。</caption>
*package
*{
	*import laya.ui.HSlider;
	*import laya.ui.VSlider;
	*import laya.utils.Handler;
	*public class VSlider_Example
	*{
		*private var vSlider:VSlider;
		*public function VSlider_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/vslider.png","resource/ui/vslider$bar.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*vSlider=new VSlider();//创建一个 VSlider 类的实例对象 vSlider 。
			*vSlider.skin="resource/ui/vslider.png";//设置 vSlider 的皮肤。
			*vSlider.min=0;//设置 vSlider 最低位置值。
			*vSlider.max=10;//设置 vSlider 最高位置值。
			*vSlider.value=2;//设置 vSlider 当前位置值。
			*vSlider.tick=1;//设置 vSlider 刻度值。
			*vSlider.x=100;//设置 vSlider 对象的属性 x 的值，用于控制 vSlider 对象的显示位置。
			*vSlider.y=100;//设置 vSlider 对象的属性 y 的值，用于控制 vSlider 对象的显示位置。
			*vSlider.changeHandler=new Handler(this,onChange);//设置 vSlider 位置变化处理器。
			*Laya.stage.addChild(vSlider);//把 vSlider 添加到显示列表。
			*}
		*private function onChange(value:Number):void
		*{
			*trace("滑块的位置： value="+value);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var vSlider;
*Laya.loader.load(["resource/ui/vslider.png","resource/ui/vslider$bar.png"],laya.utils.Handler.create(this,onLoadComplete));//加载资源。
*function onLoadComplete(){
	*vSlider=new laya.ui.VSlider();//创建一个 VSlider 类的实例对象 vSlider 。
	*vSlider.skin="resource/ui/vslider.png";//设置 vSlider 的皮肤。
	*vSlider.min=0;//设置 vSlider 最低位置值。
	*vSlider.max=10;//设置 vSlider 最高位置值。
	*vSlider.value=2;//设置 vSlider 当前位置值。
	*vSlider.tick=1;//设置 vSlider 刻度值。
	*vSlider.x=100;//设置 vSlider 对象的属性 x 的值，用于控制 vSlider 对象的显示位置。
	*vSlider.y=100;//设置 vSlider 对象的属性 y 的值，用于控制 vSlider 对象的显示位置。
	*vSlider.changeHandler=new laya.utils.Handler(this,onChange);//设置 vSlider 位置变化处理器。
	*Laya.stage.addChild(vSlider);//把 vSlider 添加到显示列表。
	*}
*function onChange(value){
	*console.log("滑块的位置： value="+value);
	*}
*@example
*import HSlider=laya.ui.HSlider;
*import VSlider=laya.ui.VSlider;
*import Handler=laya.utils.Handler;
*class VSlider_Example {
	*private vSlider:VSlider;
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/vslider.png","resource/ui/vslider$bar.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*this.vSlider=new VSlider();//创建一个 VSlider 类的实例对象 vSlider 。
		*this.vSlider.skin="resource/ui/vslider.png";//设置 vSlider 的皮肤。
		*this.vSlider.min=0;//设置 vSlider 最低位置值。
		*this.vSlider.max=10;//设置 vSlider 最高位置值。
		*this.vSlider.value=2;//设置 vSlider 当前位置值。
		*this.vSlider.tick=1;//设置 vSlider 刻度值。
		*this.vSlider.x=100;//设置 vSlider 对象的属性 x 的值，用于控制 vSlider 对象的显示位置。
		*this.vSlider.y=100;//设置 vSlider 对象的属性 y 的值，用于控制 vSlider 对象的显示位置。
		*this.vSlider.changeHandler=new Handler(this,this.onChange);//设置 vSlider 位置变化处理器。
		*Laya.stage.addChild(this.vSlider);//把 vSlider 添加到显示列表。
		*}
	*private onChange(value:number):void {
		*console.log("滑块的位置： value="+value);
		*}
	*}
*@see laya.ui.Slider
*/
//class laya.ui.VSlider extends laya.ui.Slider
var VSlider=(function(_super){
	function VSlider(){
		VSlider.__super.call(this);;
	}

	__class(VSlider,'laya.ui.VSlider',_super);
	return VSlider;
})(Slider)


/**
*<code>Dialog</code> 组件是一个弹出对话框，实现对话框弹出，拖动，模式窗口功能。
*可以通过UIConfig设置弹出框背景透明度，模式窗口点击边缘是否关闭等
*通过设置zOrder属性，可以更改弹出的层次
*通过设置popupEffect和closeEffect可以设置弹出效果和关闭效果，如果不想有任何弹出关闭效果，可以设置前述属性为空
*
*@example <caption>以下示例代码，创建了一个 <code>Dialog</code> 实例。</caption>
*package
*{
	*import laya.ui.Dialog;
	*import laya.utils.Handler;
	*public class Dialog_Example
	*{
		*private var dialog:Dialog_Instance;
		*public function Dialog_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load("resource/ui/btn_close.png",Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*dialog=new Dialog_Instance();//创建一个 Dialog_Instance 类的实例对象 dialog。
			*dialog.dragArea="0,0,150,50";//设置 dialog 的拖拽区域。
			*dialog.show();//显示 dialog。
			*dialog.closeHandler=new Handler(this,onClose);//设置 dialog 的关闭函数处理器。
			*}
		*private function onClose(name:String):void
		*{
			*if (name==Dialog.CLOSE)
			*{
				*trace("通过点击 name 为"+name+"的组件，关闭了dialog。");
				*}
			*}
		*}
	*}
*import laya.ui.Button;
*import laya.ui.Dialog;
*import laya.ui.Image;
*class Dialog_Instance extends Dialog
*{
	*function Dialog_Instance():void
	*{
		*var bg:Image=new Image("resource/ui/bg.png");
		*bg.sizeGrid="40,10,5,10";
		*bg.width=150;
		*bg.height=250;
		*addChild(bg);
		*var image:Image=new Image("resource/ui/image.png");
		*addChild(image);
		*var button:Button=new Button("resource/ui/btn_close.png");
		*button.name=Dialog.CLOSE;//设置button的name属性值。
		*button.x=0;
		*button.y=0;
		*addChild(button);
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高、渲染模式
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*var dialog;
*Laya.loader.load("resource/ui/btn_close.png",laya.utils.Handler.create(this,loadComplete));//加载资源
*(function (_super){//新建一个类Dialog_Instance继承自laya.ui.Dialog。
	*function Dialog_Instance(){
		*Dialog_Instance.__super.call(this);//初始化父类
		*var bg=new laya.ui.Image("resource/ui/bg.png");//新建一个 Image 类的实例 bg 。
		*bg.sizeGrid="10,40,10,5";//设置 bg 的网格信息。
		*bg.width=150;//设置 bg 的宽度。
		*bg.height=250;//设置 bg 的高度。
		*this.addChild(bg);//将 bg 添加到显示列表。
		*var image=new laya.ui.Image("resource/ui/image.png");//新建一个 Image 类的实例 image 。
		*this.addChild(image);//将 image 添加到显示列表。
		*var button=new laya.ui.Button("resource/ui/btn_close.png");//新建一个 Button 类的实例 bg 。
		*button.name=laya.ui.Dialog.CLOSE;//设置 button 的 name 属性值。
		*button.x=0;//设置 button 对象的属性 x 的值，用于控制 button 对象的显示位置。
		*button.y=0;//设置 button 对象的属性 y 的值，用于控制 button 对象的显示位置。
		*this.addChild(button);//将 button 添加到显示列表。
		*};
	*Laya.class(Dialog_Instance,"mypackage.dialogExample.Dialog_Instance",_super);//注册类Dialog_Instance。
	*})(laya.ui.Dialog);
*function loadComplete(){
	*console.log("资源加载完成！");
	*dialog=new mypackage.dialogExample.Dialog_Instance();//创建一个 Dialog_Instance 类的实例对象 dialog。
	*dialog.dragArea="0,0,150,50";//设置 dialog 的拖拽区域。
	*dialog.show();//显示 dialog。
	*dialog.closeHandler=new laya.utils.Handler(this,onClose);//设置 dialog 的关闭函数处理器。
	*}
*function onClose(name){
	*if (name==laya.ui.Dialog.CLOSE){
		*console.log("通过点击 name 为"+name+"的组件，关闭了dialog。");
		*}
	*}
*@example
*import Dialog=laya.ui.Dialog;
*import Handler=laya.utils.Handler;
*class Dialog_Example {
	*private dialog:Dialog_Instance;
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load("resource/ui/btn_close.png",Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*this.dialog=new Dialog_Instance();//创建一个 Dialog_Instance 类的实例对象 dialog。
		*this.dialog.dragArea="0,0,150,50";//设置 dialog 的拖拽区域。
		*this.dialog.show();//显示 dialog。
		*this.dialog.closeHandler=new Handler(this,this.onClose);//设置 dialog 的关闭函数处理器。
		*}
	*private onClose(name:string):void {
		*if (name==Dialog.CLOSE){
			*console.log("通过点击 name 为"+name+"的组件，关闭了dialog。");
			*}
		*}
	*}
*import Button=laya.ui.Button;
*class Dialog_Instance extends Dialog {
	*Dialog_Instance():void {
		*var bg:laya.ui.Image=new laya.ui.Image("resource/ui/bg.png");
		*bg.sizeGrid="40,10,5,10";
		*bg.width=150;
		*bg.height=250;
		*this.addChild(bg);
		*var image:laya.ui.Image=new laya.ui.Image("resource/ui/image.png");
		*this.addChild(image);
		*var button:Button=new Button("resource/ui/btn_close.png");
		*button.name=Dialog.CLOSE;//设置button的name属性值。
		*button.x=0;
		*button.y=0;
		*this.addChild(button);
		*}
	*}
*/
//class laya.ui.Dialog extends laya.ui.View
var Dialog=(function(_super){
	function Dialog(){
		/**
		*一个布尔值，指定对话框是否居中弹。
		*<p>如果值为true，则居中弹出，否则，则根据对象坐标显示，默认为true。</p>
		*/
		this.popupCenter=true;
		/**
		*对话框被关闭时会触发的回调函数处理器。
		*<p>回调函数参数为用户点击的按钮名字name:String。</p>
		*/
		this.closeHandler=null;
		/**
		*弹出对话框效果，可以设置一个效果代替默认的弹出效果，如果不想有任何效果，可以赋值为null
		*全局默认弹出效果可以通过manager.popupEffect修改
		*/
		this.popupEffect=null;
		/**
		*关闭对话框效果，可以设置一个效果代替默认的关闭效果，如果不想有任何效果，可以赋值为null
		*全局默认关闭效果可以通过manager.closeEffect修改
		*/
		this.closeEffect=null;
		/**组名称*/
		this.group=null;
		/**是否是模式窗口*/
		this.isModal=false;
		/**@private */
		this._dragArea=null;
		Dialog.__super.call(this);
	}

	__class(Dialog,'laya.ui.Dialog',_super);
	var __proto=Dialog.prototype;
	/**@inheritDoc */
	__proto.initialize=function(){
		this.popupEffect=Dialog.manager.popupEffectHandler;
		this.closeEffect=Dialog.manager.closeEffectHandler;
		this._dealDragArea();
		this.on(/*laya.events.Event.CLICK*/"click",this,this._onClick);
	}

	/**@private */
	__proto._dealDragArea=function(){
		var dragTarget=this.getChildByName("drag");
		if (dragTarget){
			this.dragArea=dragTarget.x+","+dragTarget.y+","+dragTarget.width+","+dragTarget.height;
			dragTarget.removeSelf();
		}
	}

	/**
	*@private (protected)
	*对象的 <code>Event.CLICK</code> 点击事件侦听处理函数。
	*/
	__proto._onClick=function(e){
		var btn=e.target;
		if (btn){
			switch (btn.name){
				case "close":
				case "cancel":
				case "sure":
				case "no":
				case "ok":
				case "yes":
					this.close(btn.name);
					break ;
				}
		}
	}

	/**
	*显示对话框（以非模式窗口方式显示）。
	*@param closeOther 是否关闭其它的对话框。若值为true则关闭其它对话框。
	*@param showEffect 是否显示弹出效果
	*/
	__proto.show=function(closeOther,showEffect){
		(closeOther===void 0)&& (closeOther=false);
		(showEffect===void 0)&& (showEffect=true);
		this._open(false,closeOther,showEffect);
	}

	/**
	*显示对话框（以模式窗口方式显示）。
	*@param closeOther 是否关闭其它的对话框。若值为true则关闭其它对话框。
	*@param showEffect 是否显示弹出效果
	*/
	__proto.popup=function(closeOther,showEffect){
		(closeOther===void 0)&& (closeOther=false);
		(showEffect===void 0)&& (showEffect=true);
		this._open(true,closeOther,showEffect);
	}

	/**@private */
	__proto._open=function(modal,closeOther,showEffect){
		Dialog.manager.lock(false);
		this.isModal=modal;
		Dialog.manager.open(this,closeOther,showEffect);
	}

	/**打开完成后，调用此方法（如果有弹出动画，则在动画完成后执行）*/
	__proto.onOpened=function(){}
	/**
	*关闭对话框。
	*@param type 如果是点击默认关闭按钮触发，则传入关闭按钮的名字(name)，否则为null。
	*@param showEffect 是否显示关闭效果
	*/
	__proto.close=function(type,showEffect){
		(showEffect===void 0)&& (showEffect=true);
		Dialog.manager.close(this,type,showEffect);
	}

	/**关闭完成后，调用此方法（如果有关闭动画，则在动画完成后执行）
	*@param type 如果是点击默认关闭按钮触发，则传入关闭按钮的名字(name)，否则为null。
	*/
	__proto.onClosed=function(type){}
	/**@private */
	__proto._onMouseDown=function(e){
		var point=this.getMousePoint();
		if (this._dragArea.contains(point.x,point.y))this.startDrag();
		else this.stopDrag();
	}

	/**
	*用来指定对话框的拖拽区域。默认值为"0,0,0,0"。
	*<p><b>格式：</b>构成一个矩形所需的 x,y,width,heith 值，用逗号连接为字符串。
	*例如："0,0,100,200"。
	*</p>
	*
	*@see #includeExamplesSummary 请参考示例
	*/
	__getset(0,__proto,'dragArea',function(){
		if (this._dragArea)return this._dragArea.toString();
		return null;
		},function(value){
		if (value){
			var a=UIUtils.fillArray([0,0,0,0],value,Number);
			this._dragArea=new Rectangle(a[0],a[1],a[2],a[3]);
			this.on(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this._onMouseDown);
			}else {
			this._dragArea=null;
			this.off(/*laya.events.Event.MOUSE_DOWN*/"mousedown",this,this._onMouseDown);
		}
	});

	/**
	*弹出框的显示状态；如果弹框处于显示中，则为true，否则为false;
	*/
	__getset(0,__proto,'isPopup',function(){
		return this.parent !=null;
	});

	__getset(0,__proto,'zOrder',_super.prototype._$get_zOrder,function(value){
		Laya.superSet(View,this,'zOrder',value);
		Dialog.manager._checkMask();
	});

	/**对话框管理容器，所有的对话框都在该容器内，并且受管理器管，可以自定义自己的管理器，来更改窗口管理的流程。
	*任意对话框打开和关闭，都会触发管理类的open和close事件*/
	__getset(1,Dialog,'manager',function(){
		return Dialog._manager=Dialog._manager|| new DialogManager();
		},function(value){
		Dialog._manager=value;
	});

	Dialog.setLockView=function(view){
		Dialog.manager.setLockView(view);
	}

	Dialog.lock=function(value){
		Dialog.manager.lock(value);
	}

	Dialog.closeAll=function(){
		Dialog.manager.closeAll();
	}

	Dialog.getDialogsByGroup=function(group){
		return Dialog.manager.getDialogsByGroup(group);
	}

	Dialog.closeByGroup=function(group){
		return Dialog.manager.closeByGroup(group);
	}

	Dialog.CLOSE="close";
	Dialog.CANCEL="cancel";
	Dialog.SURE="sure";
	Dialog.NO="no";
	Dialog.OK="ok";
	Dialog.YES="yes";
	Dialog._manager=null;
	return Dialog;
})(View)


/**
*<code>HBox</code> 是一个水平布局容器类。
*/
//class laya.ui.HBox extends laya.ui.LayoutBox
var HBox=(function(_super){
	function HBox(){
		HBox.__super.call(this);;
	}

	__class(HBox,'laya.ui.HBox',_super);
	var __proto=HBox.prototype;
	/**@inheritDoc */
	__proto.sortItem=function(items){
		if (items)items.sort(function(a,b){return a.x-b.x;});
	}

	/**@inheritDoc */
	__proto.changeItems=function(){
		this._itemChanged=false;
		var items=[];
		var maxHeight=0;
		for (var i=0,n=this.numChildren;i < n;i++){
			var item=this.getChildAt(i);
			if (item&&item.layoutEnabled){
				items.push(item);
				maxHeight=this._height?this._height:Math.max(maxHeight,item.height *item.scaleY);
			}
		}
		this.sortItem(items);
		var left=0;
		for (i=0,n=items.length;i < n;i++){
			item=items[i];
			item.x=left;
			left+=item.width *item.scaleX+this._space;
			if (this._align=="top"){
				item.y=0;
				}else if (this._align=="middle"){
				item.y=(maxHeight-item.height *item.scaleY)*0.5;
				}else if (this._align=="bottom"){
				item.y=maxHeight-item.height *item.scaleY;
			}
		}
		this.changeSize();
	}

	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		if (this._height !=value){
			Laya.superSet(LayoutBox,this,'height',value);
			this.callLater(this.changeItems);
		}
	});

	HBox.NONE="none";
	HBox.TOP="top";
	HBox.MIDDLE="middle";
	HBox.BOTTOM="bottom";
	return HBox;
})(LayoutBox)


/**
*<code>VBox</code> 是一个垂直布局容器类。
*/
//class laya.ui.VBox extends laya.ui.LayoutBox
var VBox=(function(_super){
	function VBox(){
		VBox.__super.call(this);;
	}

	__class(VBox,'laya.ui.VBox',_super);
	var __proto=VBox.prototype;
	/**@inheritDoc */
	__proto.changeItems=function(){
		this._itemChanged=false;
		var items=[];
		var maxWidth=0;
		for (var i=0,n=this.numChildren;i < n;i++){
			var item=this.getChildAt(i);
			if (item&&item.layoutEnabled){
				items.push(item);
				maxWidth=this._width?this._width:Math.max(maxWidth,item.width *item.scaleX);
			}
		}
		this.sortItem(items);
		var top=0;
		for (i=0,n=items.length;i < n;i++){
			item=items[i];
			item.y=top;
			top+=item.height *item.scaleY+this._space;
			if (this._align=="left"){
				item.x=0;
				}else if (this._align=="center"){
				item.x=(maxWidth-item.width *item.scaleX)*0.5;
				}else if (this._align=="right"){
				item.x=maxWidth-item.width *item.scaleX;
			}
		}
		this.changeSize();
	}

	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		if (this._width !=value){
			Laya.superSet(LayoutBox,this,'width',value);
			this.callLater(this.changeItems);
		}
	});

	VBox.NONE="none";
	VBox.LEFT="left";
	VBox.CENTER="center";
	VBox.RIGHT="right";
	return VBox;
})(LayoutBox)


/**
*<code>RadioGroup</code> 控件定义一组 <code>Radio</code> 控件，这些控件相互排斥；
*因此，用户每次只能选择一个 <code>Radio</code> 控件。
*
*@example <caption>以下示例代码，创建了一个 <code>RadioGroup</code> 实例。</caption>
*package
*{
	*import laya.ui.Radio;
	*import laya.ui.RadioGroup;
	*import laya.utils.Handler;
	*public class RadioGroup_Example
	*{
		*public function RadioGroup_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/radio.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*var radioGroup:RadioGroup=new RadioGroup();//创建一个 RadioGroup 类的实例对象 radioGroup 。
			*radioGroup.pos(100,100);//设置 radioGroup 的位置信息。
			*radioGroup.labels="item0,item1,item2";//设置 radioGroup 的标签集。
			*radioGroup.skin="resource/ui/radio.png";//设置 radioGroup 的皮肤。
			*radioGroup.space=10;//设置 radioGroup 的项间隔距离。
			*radioGroup.selectHandler=new Handler(this,onSelect);//设置 radioGroup 的选择项发生改变时执行的处理器。
			*Laya.stage.addChild(radioGroup);//将 radioGroup 添加到显示列表。
			*}
		*private function onSelect(index:int):void
		*{
			*trace("当前选择的单选按钮索引: index= ",index);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高、渲染模式
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*Laya.loader.load(["resource/ui/radio.png"],laya.utils.Handler.create(this,onLoadComplete));
*function onLoadComplete(){
	*var radioGroup=new laya.ui.RadioGroup();//创建一个 RadioGroup 类的实例对象 radioGroup 。
	*radioGroup.pos(100,100);//设置 radioGroup 的位置信息。
	*radioGroup.labels="item0,item1,item2";//设置 radioGroup 的标签集。
	*radioGroup.skin="resource/ui/radio.png";//设置 radioGroup 的皮肤。
	*radioGroup.space=10;//设置 radioGroup 的项间隔距离。
	*radioGroup.selectHandler=new laya.utils.Handler(this,onSelect);//设置 radioGroup 的选择项发生改变时执行的处理器。
	*Laya.stage.addChild(radioGroup);//将 radioGroup 添加到显示列表。
	*}
*function onSelect(index){
	*console.log("当前选择的单选按钮索引: index= ",index);
	*}
*@example
*import Radio=laya.ui.Radio;
*import RadioGroup=laya.ui.RadioGroup;
*import Handler=laya.utils.Handler;
*class RadioGroup_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/radio.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*var radioGroup:RadioGroup=new RadioGroup();//创建一个 RadioGroup 类的实例对象 radioGroup 。
		*radioGroup.pos(100,100);//设置 radioGroup 的位置信息。
		*radioGroup.labels="item0,item1,item2";//设置 radioGroup 的标签集。
		*radioGroup.skin="resource/ui/radio.png";//设置 radioGroup 的皮肤。
		*radioGroup.space=10;//设置 radioGroup 的项间隔距离。
		*radioGroup.selectHandler=new Handler(this,this.onSelect);//设置 radioGroup 的选择项发生改变时执行的处理器。
		*Laya.stage.addChild(radioGroup);//将 radioGroup 添加到显示列表。
		*}
	*private onSelect(index:number):void {
		*console.log("当前选择的单选按钮索引: index= ",index);
		*}
	*}
*/
//class laya.ui.RadioGroup extends laya.ui.UIGroup
var RadioGroup=(function(_super){
	function RadioGroup(){
		RadioGroup.__super.call(this);;
	}

	__class(RadioGroup,'laya.ui.RadioGroup',_super);
	var __proto=RadioGroup.prototype;
	/**@inheritDoc */
	__proto.createItem=function(skin,label){
		return new Radio(skin,label);
	}

	return RadioGroup;
})(UIGroup)


/**
*<code>Tab</code> 组件用来定义选项卡按钮组。 *
*@internal <p>属性：<code>selectedIndex</code> 的默认值为-1。</p>
*
*@example <caption>以下示例代码，创建了一个 <code>Tab</code> 实例。</caption>
*package
*{
	*import laya.ui.Tab;
	*import laya.utils.Handler;
	*public class Tab_Example
	*{
		*public function Tab_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/tab.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*var tab:Tab=new Tab();//创建一个 Tab 类的实例对象 tab 。
			*tab.skin="resource/ui/tab.png";//设置 tab 的皮肤。
			*tab.labels="item0,item1,item2";//设置 tab 的标签集。
			*tab.x=100;//设置 tab 对象的属性 x 的值，用于控制 tab 对象的显示位置。
			*tab.y=100;//设置 tab 对象的属性 y 的值，用于控制 tab 对象的显示位置。
			*tab.selectHandler=new Handler(this,onSelect);//设置 tab 的选择项发生改变时执行的处理器。
			*Laya.stage.addChild(tab);//将 tab 添到显示列表。
			*}
		*private function onSelect(index:int):void
		*{
			*trace("当前选择的表情页索引: index= ",index);
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*Laya.loader.load(["resource/ui/tab.png"],laya.utils.Handler.create(this,onLoadComplete));
*function onLoadComplete(){
	*var tab=new laya.ui.Tab();//创建一个 Tab 类的实例对象 tab 。
	*tab.skin="resource/ui/tab.png";//设置 tab 的皮肤。
	*tab.labels="item0,item1,item2";//设置 tab 的标签集。
	*tab.x=100;//设置 tab 对象的属性 x 的值，用于控制 tab 对象的显示位置。
	*tab.y=100;//设置 tab 对象的属性 y 的值，用于控制 tab 对象的显示位置。
	*tab.selectHandler=new laya.utils.Handler(this,onSelect);//设置 tab 的选择项发生改变时执行的处理器。
	*Laya.stage.addChild(tab);//将 tab 添到显示列表。
	*}
*function onSelect(index){
	*console.log("当前选择的标签页索引: index= ",index);
	*}
*@example
*import Tab=laya.ui.Tab;
*import Handler=laya.utils.Handler;
*class Tab_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/tab.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*var tab:Tab=new Tab();//创建一个 Tab 类的实例对象 tab 。
		*tab.skin="resource/ui/tab.png";//设置 tab 的皮肤。
		*tab.labels="item0,item1,item2";//设置 tab 的标签集。
		*tab.x=100;//设置 tab 对象的属性 x 的值，用于控制 tab 对象的显示位置。
		*tab.y=100;//设置 tab 对象的属性 y 的值，用于控制 tab 对象的显示位置。
		*tab.selectHandler=new Handler(this,this.onSelect);//设置 tab 的选择项发生改变时执行的处理器。
		*Laya.stage.addChild(tab);//将 tab 添到显示列表。
		*}
	*private onSelect(index:number):void {
		*console.log("当前选择的表情页索引: index= ",index);
		*}
	*}
*/
//class laya.ui.Tab extends laya.ui.UIGroup
var Tab=(function(_super){
	function Tab(){
		Tab.__super.call(this);;
	}

	__class(Tab,'laya.ui.Tab',_super);
	var __proto=Tab.prototype;
	/**
	*@private
	*@inheritDoc
	*/
	__proto.createItem=function(skin,label){
		return new Button(skin,label);
	}

	return Tab;
})(UIGroup)


/**
*<code>TextArea</code> 类用于创建显示对象以显示和输入文本。
*@example <caption>以下示例代码，创建了一个 <code>TextArea</code> 实例。</caption>
*package
*{
	*import laya.ui.TextArea;
	*import laya.utils.Handler;
	*public class TextArea_Example
	*{
		*public function TextArea_Example()
		*{
			*Laya.init(640,800);//设置游戏画布宽高。
			*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
			*Laya.loader.load(["resource/ui/input.png"],Handler.create(this,onLoadComplete));//加载资源。
			*}
		*private function onLoadComplete():void
		*{
			*var textArea:TextArea=new TextArea("这个一个TextArea实例。");//创建一个 TextArea 类的实例对象 textArea 。
			*textArea.skin="resource/ui/input.png";//设置 textArea 的皮肤。
			*textArea.sizeGrid="4,4,4,4";//设置 textArea 的网格信息。
			*textArea.color="#008fff";//设置 textArea 的文本颜色。
			*textArea.font="Arial";//设置 textArea 的字体。
			*textArea.bold=true;//设置 textArea 的文本显示为粗体。
			*textArea.fontSize=20;//设置 textArea 的文本字体大小。
			*textArea.wordWrap=true;//设置 textArea 的文本自动换行。
			*textArea.x=100;//设置 textArea 对象的属性 x 的值，用于控制 textArea 对象的显示位置。
			*textArea.y=100;//设置 textArea 对象的属性 y 的值，用于控制 textArea 对象的显示位置。
			*textArea.width=300;//设置 textArea 的宽度。
			*textArea.height=200;//设置 textArea 的高度。
			*Laya.stage.addChild(textArea);//将 textArea 添加到显示列表。
			*}
		*}
	*}
*@example
*Laya.init(640,800);//设置游戏画布宽高、渲染模式
*Laya.stage.bgColor="#efefef";//设置画布的背景颜色
*Laya.loader.load(["resource/ui/input.png"],laya.utils.Handler.create(this,onLoadComplete));//加载资源。
*function onLoadComplete(){
	*var textArea=new laya.ui.TextArea("这个一个TextArea实例。");//创建一个 TextArea 类的实例对象 textArea 。
	*textArea.skin="resource/ui/input.png";//设置 textArea 的皮肤。
	*textArea.sizeGrid="4,4,4,4";//设置 textArea 的网格信息。
	*textArea.color="#008fff";//设置 textArea 的文本颜色。
	*textArea.font="Arial";//设置 textArea 的字体。
	*textArea.bold=true;//设置 textArea 的文本显示为粗体。
	*textArea.fontSize=20;//设置 textArea 的文本字体大小。
	*textArea.wordWrap=true;//设置 textArea 的文本自动换行。
	*textArea.x=100;//设置 textArea 对象的属性 x 的值，用于控制 textArea 对象的显示位置。
	*textArea.y=100;//设置 textArea 对象的属性 y 的值，用于控制 textArea 对象的显示位置。
	*textArea.width=300;//设置 textArea 的宽度。
	*textArea.height=200;//设置 textArea 的高度。
	*Laya.stage.addChild(textArea);//将 textArea 添加到显示列表。
	*}
*@example
*import TextArea=laya.ui.TextArea;
*import Handler=laya.utils.Handler;
*class TextArea_Example {
	*constructor(){
		*Laya.init(640,800);//设置游戏画布宽高、渲染模式。
		*Laya.stage.bgColor="#efefef";//设置画布的背景颜色。
		*Laya.loader.load(["resource/ui/input.png"],Handler.create(this,this.onLoadComplete));//加载资源。
		*}
	*private onLoadComplete():void {
		*var textArea:TextArea=new TextArea("这个一个TextArea实例。");//创建一个 TextArea 类的实例对象 textArea 。
		*textArea.skin="resource/ui/input.png";//设置 textArea 的皮肤。
		*textArea.sizeGrid="4,4,4,4";//设置 textArea 的网格信息。
		*textArea.color="#008fff";//设置 textArea 的文本颜色。
		*textArea.font="Arial";//设置 textArea 的字体。
		*textArea.bold=true;//设置 textArea 的文本显示为粗体。
		*textArea.fontSize=20;//设置 textArea 的文本字体大小。
		*textArea.wordWrap=true;//设置 textArea 的文本自动换行。
		*textArea.x=100;//设置 textArea 对象的属性 x 的值，用于控制 textArea 对象的显示位置。
		*textArea.y=100;//设置 textArea 对象的属性 y 的值，用于控制 textArea 对象的显示位置。
		*textArea.width=300;//设置 textArea 的宽度。
		*textArea.height=200;//设置 textArea 的高度。
		*Laya.stage.addChild(textArea);//将 textArea 添加到显示列表。
		*}
	*}
*/
//class laya.ui.TextArea extends laya.ui.TextInput
var TextArea=(function(_super){
	function TextArea(text){
		/**@private */
		this._vScrollBar=null;
		/**@private */
		this._hScrollBar=null;
		(text===void 0)&& (text="");
		TextArea.__super.call(this,text);
	}

	__class(TextArea,'laya.ui.TextArea',_super);
	var __proto=TextArea.prototype;
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		_super.prototype.destroy.call(this,destroyChild);
		this._vScrollBar && this._vScrollBar.destroy();
		this._hScrollBar && this._hScrollBar.destroy();
		this._vScrollBar=null;
		this._hScrollBar=null;
	}

	__proto.initialize=function(){
		this.width=180;
		this.height=150;
		this._tf.wordWrap=true;
		this.multiline=true;
	}

	__proto.onVBarChanged=function(e){
		if (this._tf.scrollY !=this._vScrollBar.value){
			this._tf.scrollY=this._vScrollBar.value;
		}
	}

	__proto.onHBarChanged=function(e){
		if (this._tf.scrollX !=this._hScrollBar.value){
			this._tf.scrollX=this._hScrollBar.value;
		}
	}

	__proto.changeScroll=function(){
		var vShow=this._vScrollBar && this._tf.maxScrollY > 0;
		var hShow=this._hScrollBar && this._tf.maxScrollX > 0;
		var showWidth=vShow ? this._width-this._vScrollBar.width :this._width;
		var showHeight=hShow ? this._height-this._hScrollBar.height :this._height;
		var padding=this._tf.padding || Styles.labelPadding;
		this._tf.width=showWidth;
		this._tf.height=showHeight;
		if (this._vScrollBar){
			this._vScrollBar.x=this._width-this._vScrollBar.width-padding[2];
			this._vScrollBar.y=padding[1];
			this._vScrollBar.height=this._height-(hShow ? this._hScrollBar.height :0)-padding[1]-padding[3];
			this._vScrollBar.scrollSize=1;
			this._vScrollBar.thumbPercent=showHeight / Math.max(this._tf.textHeight,showHeight);
			this._vScrollBar.setScroll(1,this._tf.maxScrollY,this._tf.scrollY);
			this._vScrollBar.visible=vShow;
		}
		if (this._hScrollBar){
			this._hScrollBar.x=padding[0];
			this._hScrollBar.y=this._height-this._hScrollBar.height-padding[3];
			this._hScrollBar.width=this._width-(vShow ? this._vScrollBar.width :0)-padding[0]-padding[2];
			this._hScrollBar.scrollSize=Math.max(showWidth *0.033,1);
			this._hScrollBar.thumbPercent=showWidth / Math.max(this._tf.textWidth,showWidth);
			this._hScrollBar.setScroll(0,this.maxScrollX,this.scrollX);
			this._hScrollBar.visible=hShow;
		}
	}

	/**滚动到某个位置*/
	__proto.scrollTo=function(y){
		this.commitMeasure();
		this._tf.scrollY=y;
	}

	/**垂直滚动值*/
	__getset(0,__proto,'scrollY',function(){
		return this._tf.scrollY;
	});

	__getset(0,__proto,'width',_super.prototype._$get_width,function(value){
		Laya.superSet(TextInput,this,'width',value);
		this.callLater(this.changeScroll);
	});

	/**水平滚动条实体*/
	__getset(0,__proto,'hScrollBar',function(){
		return this._hScrollBar;
	});

	__getset(0,__proto,'height',_super.prototype._$get_height,function(value){
		Laya.superSet(TextInput,this,'height',value);
		this.callLater(this.changeScroll);
	});

	/**水平滚动最大值*/
	__getset(0,__proto,'maxScrollX',function(){
		return this._tf.maxScrollX;
	});

	/**垂直滚动条皮肤*/
	__getset(0,__proto,'vScrollBarSkin',function(){
		return this._vScrollBar ? this._vScrollBar.skin :null;
		},function(value){
		if (this._vScrollBar==null){
			this.addChild(this._vScrollBar=new VScrollBar());
			this._vScrollBar.on(/*laya.events.Event.CHANGE*/"change",this,this.onVBarChanged);
			this._vScrollBar.target=this._tf;
			this.callLater(this.changeScroll);
		}
		this._vScrollBar.skin=value;
	});

	/**水平滚动条皮肤*/
	__getset(0,__proto,'hScrollBarSkin',function(){
		return this._hScrollBar ? this._hScrollBar.skin :null;
		},function(value){
		if (this._hScrollBar==null){
			this.addChild(this._hScrollBar=new HScrollBar());
			this._hScrollBar.on(/*laya.events.Event.CHANGE*/"change",this,this.onHBarChanged);
			this._hScrollBar.mouseWheelEnable=false;
			this._hScrollBar.target=this._tf;
			this.callLater(this.changeScroll);
		}
		this._hScrollBar.skin=value;
	});

	/**垂直滚动条实体*/
	__getset(0,__proto,'vScrollBar',function(){
		return this._vScrollBar;
	});

	/**垂直滚动最大值*/
	__getset(0,__proto,'maxScrollY',function(){
		return this._tf.maxScrollY;
	});

	/**水平滚动值*/
	__getset(0,__proto,'scrollX',function(){
		return this._tf.scrollX;
	});

	return TextArea;
})(TextInput)


/**
*异步Dialog的生命周期:show或者popup > onCreate(如果没有创建过)> onOpen > onClose > onDestroy(如果销毁)
*onCreate在页面未创建时执行一次，再次打开页面不会再执行，适合写一些只执行一次的逻辑，比如资源加载，节点事件监听
*onOpen在页面每次打开都会执行，适合做一些每次都需要处理的事情，比如消息请求，根据数据初始化页面
*onClose在每次关闭的时候调用，适合关闭时停止动画，网络消息监听等逻辑
*onDestroy在页面被销毁的时候调用，适合置空引用对象
*/
//class laya.ui.AsynDialog extends laya.ui.Dialog
var AsynDialog=(function(_super){
	function AsynDialog(){
		/**@private */
		this._uiView=null;
		/**打开时是否关闭其他页面*/
		this.isCloseOther=false;
		AsynDialog.__super.call(this);
	}

	__class(AsynDialog,'laya.ui.AsynDialog',_super);
	var __proto=AsynDialog.prototype;
	/**@private */
	__proto.createView=function(uiView){
		this._uiView=uiView;
	}

	__proto._open=function(modal,closeOther,showEffect){
		this.isModal=modal;
		this.isCloseOther=closeOther;
		Dialog.manager.lock(true);
		if (this._uiView)this.onCreated();
		else this.onOpen();
	}

	/**
	*在页面未创建时执行一次，再次打开页面不会再执行，适合写一些只执行一次的逻辑，比如资源加载，节点事件监听
	*/
	__proto.onCreated=function(){
		this.createUI();
		this.onOpen();
	}

	/**根据节点数据创建UI*/
	__proto.createUI=function(){
		laya.ui.View.prototype.createView.call(this,this._uiView);
		this._uiView=null;
		this._dealDragArea();
	}

	/**
	*在页面每次打开都会执行，适合做一些每次都需要处理的事情，比如消息请求，根据数据初始化页面
	*/
	__proto.onOpen=function(){
		Dialog.manager.open(this,this.isCloseOther);
		Dialog.manager.lock(false);
	}

	__proto.close=function(type,showEffect){
		(showEffect===void 0)&& (showEffect=true);
		Dialog.manager.close(this);
		this.onClose();
	}

	/**
	*在每次关闭的时候调用，适合关闭时停止动画，网络消息监听等逻辑
	*/
	__proto.onClose=function(){}
	__proto.destroy=function(destroyChild){
		(destroyChild===void 0)&& (destroyChild=true);
		laya.ui.View.prototype.destroy.call(this,destroyChild);
		this._uiView=null;
		this.onDestroy();
	}

	/**
	*在页面被销毁的时候调用，适合置空引用对象
	*/
	__proto.onDestroy=function(){}
	return AsynDialog;
})(Dialog)


	Laya.__init([View]);
})(window,document,Laya);

if (typeof define === 'function' && define.amd){
	define('laya.core', ['require', "exports"], function(require, exports) {
        'use strict';
        Object.defineProperty(exports, '__esModule', { value: true });
        for (var i in Laya) {
			var o = Laya[i];
            o && o.__isclass && (exports[i] = o);
        }
    });
}
var CLASS$=Laya.class;
var STATICATTR$=Laya.static;
var View=laya.ui.View;
var Dialog=laya.ui.Dialog;
var AdminGame1ManageUI=(function(_super){
		function AdminGame1ManageUI(){
			
		    this.GameName=null;
		    this.BtnBack=null;
		    this.BtnCloseGame=null;
		    this.BtnModifyOdds=null;
		    this.BtnModifyPrice=null;
		    this.BtnModifyTime=null;
		    this.BtnModifyMax=null;
		    this.BetMax=null;
		    this.BetPrice=null;
		    this.BetOdds=null;
		    this.BetTime=null;

			AdminGame1ManageUI.__super.call(this);
		}

		CLASS$(AdminGame1ManageUI,'ui.background.AdminGame1ManageUI',_super);
		var __proto__=AdminGame1ManageUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminGame1ManageUI.uiView);

		}

		AdminGame1ManageUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800,"centerX":0}},{"type":"Image","props":{"y":0,"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82,"centerX":0}},{"type":"Label","props":{"y":20,"x":90,"width":280,"var":"GameName","valign":"middle","text":"游戏名","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"y":0,"width":100,"var":"BtnCloseGame","skin":"resource/checkbutton3.png","right":0,"labelStrokeColor":"#333333","labelStroke":3,"labelSize":20,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","labelAlign":"center","label":"关闭玩法","height":80}},{"type":"Button","props":{"y":170,"x":310,"width":150,"var":"BtnModifyOdds","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","selected":false,"labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"修改返奖","height":60}},{"type":"Button","props":{"y":320,"x":310,"width":150,"var":"BtnModifyPrice","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"修改价格","height":60}},{"type":"Button","props":{"y":620,"x":310,"width":150,"var":"BtnModifyTime","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"修改时间","height":60}},{"type":"Button","props":{"y":470,"x":310,"width":150,"var":"BtnModifyMax","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"修改上限","height":60}},{"type":"Label","props":{"y":400,"x":30,"width":150,"valign":"middle","text":"投注上限：","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":25,"color":"#40e0d0","align":"left"}},{"type":"Label","props":{"y":470,"x":30,"width":150,"var":"BetMax","valign":"middle","text":"100 注","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":35,"color":"#ffffff","align":"left"}},{"type":"Label","props":{"y":250,"x":34,"width":150,"valign":"middle","text":"单注价格：","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":25,"color":"#40e0d0","align":"left"}},{"type":"Label","props":{"y":320,"x":34,"width":150,"var":"BetPrice","valign":"middle","text":"0.01 ETH","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":35,"color":"#ffffff","align":"left"}},{"type":"Label","props":{"y":100,"x":30,"width":150,"valign":"middle","text":"返奖率：","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":25,"color":"#40e0d0","align":"left"}},{"type":"Label","props":{"y":170,"x":30,"width":150,"var":"BetOdds","valign":"middle","text":"216 / 240 (95%)","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":30,"color":"#ffffff","align":"left"}},{"type":"Label","props":{"y":550,"x":30,"width":150,"valign":"middle","text":"开奖时间：","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":25,"color":"#40e0d0","align":"left"}},{"type":"Label","props":{"y":620,"x":30,"width":150,"var":"BetTime","valign":"middle","text":"10 分钟","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":35,"color":"#ffffff","align":"left"}}]};
		return AdminGame1ManageUI;
	})(View);
var AdminGame3ConfirmUI=(function(_super){
		function AdminGame3ConfirmUI(){
			
		    this.BtnOk=null;
		    this.BtnClose=null;
		    this.HomeGoal=null;
		    this.VisitorGoal=null;
		    this.VisitorName=null;
		    this.HomeName=null;

			AdminGame3ConfirmUI.__super.call(this);
		}

		CLASS$(AdminGame3ConfirmUI,'ui.background.AdminGame3ConfirmUI',_super);
		var __proto__=AdminGame3ConfirmUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminGame3ConfirmUI.uiView);

		}

		AdminGame3ConfirmUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"x":0,"width":470,"skin":"resource/base.png","sizeGrid":"5,5,5,5","height":400,"centerY":-85,"centerX":0},"child":[{"type":"Label","props":{"y":30,"width":400,"valign":"middle","text":"录入双方进球数","height":50,"fontSize":30,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Button","props":{"y":300,"width":300,"var":"BtnOk","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"确认开奖","height":70,"centerX":0}},{"type":"Button","props":{"width":80,"var":"BtnClose","top":10,"left":5,"height":80},"child":[{"type":"Image","props":{"y":19,"x":24,"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"TextInput","props":{"y":180,"width":150,"var":"HomeGoal","type":"number","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"进球","height":60,"fontSize":27,"color":"#ffffff","centerX":-120,"align":"center"}},{"type":"TextInput","props":{"y":180,"width":150,"var":"VisitorGoal","type":"number","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"进球","height":60,"fontSize":27,"color":"#ffffff","centerX":120,"align":"center"}},{"type":"Label","props":{"y":110,"width":150,"var":"VisitorName","valign":"middle","text":"客队","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":25,"color":"#B6DFE5","centerX":120,"align":"center"}},{"type":"Label","props":{"y":155,"width":150,"valign":"middle","text":"VS","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":30,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Label","props":{"y":110,"width":150,"var":"HomeName","valign":"middle","text":"主队","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":25,"color":"#B6DFE5","centerX":-120,"align":"center"}}]}]};
		return AdminGame3ConfirmUI;
	})(View);
var AdminGame3CreateUI=(function(_super){
		function AdminGame3CreateUI(){
			
		    this.BtnOk=null;
		    this.BtnClose=null;
		    this.HomeName=null;
		    this.VisitorName=null;
		    this.LeagueName=null;
		    this.StopDate=null;
		    this.StopTime=null;

			AdminGame3CreateUI.__super.call(this);
		}

		CLASS$(AdminGame3CreateUI,'ui.background.AdminGame3CreateUI',_super);
		var __proto__=AdminGame3CreateUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminGame3CreateUI.uiView);

		}

		AdminGame3CreateUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":100,"x":0,"width":470,"skin":"resource/base.png","sizeGrid":"5,5,5,5","height":600,"centerY":0,"centerX":0},"child":[{"type":"Label","props":{"y":30,"width":400,"valign":"middle","text":"录入开赛球队","height":50,"fontSize":30,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Button","props":{"y":510,"width":300,"var":"BtnOk","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"确认","height":70,"centerX":0}},{"type":"Button","props":{"width":80,"var":"BtnClose","top":10,"left":5,"height":80},"child":[{"type":"Image","props":{"y":19,"x":24,"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"ComboBox","props":{"y":180,"width":250,"var":"HomeName","type":"number","skin":"resource/input.png","sizeGrid":"10,10,10,10","selectedIndex":0,"scrollBarSkin":"comp/vscroll.png","prompt":"输入球队名","labelSize":25,"height":60,"fontSize":27,"color":"#ffffff","centerX":62,"align":"center"}},{"type":"ComboBox","props":{"y":260,"width":250,"var":"VisitorName","type":"number","skin":"resource/input.png","sizeGrid":"10,10,10,10","scrollBarSkin":"comp/vscroll.png","prompt":"输入球队名","labelSize":25,"height":60,"fontSize":27,"color":"#ffffff","centerX":64,"align":"center"}},{"type":"Label","props":{"y":260,"width":150,"valign":"middle","text":"客队名称","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":25,"color":"#B6DFE5","centerX":-150,"align":"center"}},{"type":"Label","props":{"y":180,"width":150,"valign":"middle","text":"主队名称","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":25,"color":"#B6DFE5","centerX":-150,"align":"center"}},{"type":"ComboBox","props":{"y":100,"width":250,"var":"LeagueName","type":"number","skin":"resource/input.png","sizeGrid":"10,10,10,10","scrollBarSkin":"comp/vscroll.png","prompt":"输入赛事类型","labelSize":25,"height":60,"fontSize":27,"color":"#ffffff","centerX":62,"align":"center"}},{"type":"Label","props":{"y":100,"width":150,"valign":"middle","text":"赛事","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":25,"color":"#B6DFE5","centerX":-150,"align":"center"}},{"type":"TextInput","props":{"y":340,"width":250,"var":"StopDate","type":"date","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"投注截止日期","height":60,"fontSize":27,"color":"#ffffff","centerX":64,"align":"center"}},{"type":"Label","props":{"y":340,"width":150,"valign":"middle","text":"截止日期","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":25,"color":"#B6DFE5","centerX":-150,"align":"center"}},{"type":"TextInput","props":{"y":420,"width":250,"var":"StopTime","type":"time","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"投注截止时间","height":60,"fontSize":27,"color":"#ffffff","centerX":64,"align":"center"}},{"type":"Label","props":{"y":420,"width":150,"valign":"middle","text":"截止时间","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":25,"color":"#B6DFE5","centerX":-150,"align":"center"}}]}]};
		return AdminGame3CreateUI;
	})(View);
var AdminGame3ListUI=(function(_super){
		function AdminGame3ListUI(){
			
		    this.MatchList=null;

			AdminGame3ListUI.__super.call(this);
		}

		CLASS$(AdminGame3ListUI,'ui.background.AdminGame3ListUI',_super);
		var __proto__=AdminGame3ListUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminGame3ListUI.uiView);

		}

		AdminGame3ListUI.uiView={"type":"View","props":{"width":470,"height":550},"child":[{"type":"List","props":{"width":470,"var":"MatchList","top":0,"centerX":0,"bottom":0},"child":[{"type":"Box","props":{"y":0,"x":0,"width":470,"name":"render","height":180},"child":[{"type":"Image","props":{"y":0,"x":0,"width":470,"skin":"resource/base.png","sizeGrid":"5,5,5,5","height":120,"centerX":0}},{"type":"Button","props":{"y":120,"x":10,"width":200,"stateNum":1,"skin":"resource/btn_create1.png","sizeGrid":"10,10,10,10","name":"BtnCancel","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"取消赛事","height":60,"alpha":1}},{"type":"Button","props":{"y":120,"x":260,"width":200,"stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","right":10,"name":"BtnConfirm","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"录入赛果","height":60,"alpha":1}},{"type":"Label","props":{"y":60,"x":15,"width":200,"valign":"middle","text":"主队","strokeColor":"#381A09","stroke":3,"overflow":"visible","name":"HomeName","height":40,"fontSize":25,"color":"#B6DFE5","centerX":-120,"align":"right"}},{"type":"Label","props":{"y":60,"x":160,"width":150,"valign":"middle","text":"VS","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":40,"fontSize":20,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Label","props":{"y":60,"x":255,"width":200,"valign":"middle","text":"客队","strokeColor":"#381A09","stroke":3,"overflow":"visible","name":"VisitorName","height":40,"fontSize":25,"color":"#B6DFE5","centerX":120,"align":"left"}},{"type":"Label","props":{"y":10,"x":360,"width":140,"valign":"middle","text":"截止时间","right":10,"overflow":"hidden","name":"EndTime","height":40,"fontSize":20,"color":"#aaaaaa","align":"right"}},{"type":"Label","props":{"y":10,"x":15,"width":80,"valign":"middle","text":"世界杯","overflow":"hidden","name":"GameType","height":40,"fontSize":20,"color":"#aaaaaa","align":"left"}}]}]}]};
		return AdminGame3ListUI;
	})(View);
var AdminGame3ManageUI=(function(_super){
		function AdminGame3ManageUI(){
			
		    this.BtnCreateRound=null;
		    this.BtnModifyWater=null;
		    this.BtnModifyPrice=null;
		    this.BtnModifyMax=null;
		    this.GameName=null;
		    this.BtnBack=null;
		    this.BtnCloseGame=null;
		    this.List=null;

			AdminGame3ManageUI.__super.call(this);
		}

		CLASS$(AdminGame3ManageUI,'ui.background.AdminGame3ManageUI',_super);
		var __proto__=AdminGame3ManageUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminGame3ManageUI.uiView);

		}

		AdminGame3ManageUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800,"centerX":0}},{"type":"Image","props":{"y":0,"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82,"centerX":0}},{"type":"Button","props":{"width":300,"var":"BtnCreateRound","stateNum":3,"skin":"resource/btn2.png","sizeGrid":"10,10,10,10","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"＋发布新赛事","height":70,"centerX":0,"bottom":85}},{"type":"Image","props":{"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82,"centerX":0,"bottom":0},"child":[{"type":"Button","props":{"x":10,"width":150,"var":"BtnModifyWater","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","selected":false,"labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"修改返奖","height":70,"centerY":0}},{"type":"Button","props":{"x":160,"width":150,"var":"BtnModifyPrice","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","name":"item1","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"修改价格","height":70,"centerY":0,"centerX":0}},{"type":"Button","props":{"width":150,"var":"BtnModifyMax","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","right":10,"name":"item2","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"修改上限","height":70,"centerY":0}}]},{"type":"Label","props":{"y":20,"x":90,"width":280,"var":"GameName","valign":"middle","text":"游戏名","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"y":0,"width":100,"var":"BtnCloseGame","skin":"resource/checkbutton3.png","right":0,"labelStrokeColor":"#333333","labelStroke":3,"labelSize":20,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","labelBold":false,"labelAlign":"center","label":"关闭玩法","height":80}},{"type":"Panel","props":{"y":85,"width":470,"var":"List","height":550,"centerX":0}}]};
		return AdminGame3ManageUI;
	})(View);
var AdminMainUI=(function(_super){
		function AdminMainUI(){
			
		    this.BtnRefresh=null;
		    this.BtnLoginOut=null;
		    this.GameList=null;
		    this.QRCode=null;
		    this.Address=null;
		    this.Money=null;
		    this.Currency=null;

			AdminMainUI.__super.call(this);
		}

		CLASS$(AdminMainUI,'ui.background.AdminMainUI',_super);
		var __proto__=AdminMainUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminMainUI.uiView);

		}

		AdminMainUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800}},{"type":"Image","props":{"y":0,"width":480,"skin":"resource/main_top.png","sizeGrid":"5,5,5,5","height":82,"centerX":0},"child":[{"type":"Label","props":{"x":10,"width":440,"valign":"middle","text":"游戏管理","height":40,"fontSize":30,"color":"#ffc43b","centerY":0,"centerX":0,"align":"center"}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnRefresh","height":80},"child":[{"type":"Image","props":{"width":50,"skin":"resource/refresh.png","height":60,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"y":0,"width":80,"var":"BtnLoginOut","right":0,"height":80},"child":[{"type":"Image","props":{"width":48,"skin":"resource/out.png","height":42,"centerY":0,"centerX":0}}]}]},{"type":"List","props":{"y":270,"x":0,"width":480,"var":"GameList","vScrollBarSkin":"comp/vscroll.png","height":520},"child":[{"type":"Box","props":{"y":0,"x":0,"width":240,"name":"render","height":260},"child":[{"type":"Image","props":{"y":0,"width":240,"skin":"resource/icon1.png","sizeGrid":"10,10,10,10","name":"Icon","height":260,"centerX":0}}]}]},{"type":"Image","props":{"y":130,"x":30,"width":120,"var":"QRCode","height":120}},{"type":"TextArea","props":{"y":90,"x":15,"wordWrap":true,"width":450,"var":"Address","valign":"middle","text":"Address","overflow":"scroll","height":25,"fontSize":20,"editable":false,"color":"#c0c0c0","centerX":0,"align":"center"}},{"type":"Label","props":{"y":200,"x":190,"width":200,"var":"Money","valign":"bottom","text":"999999","right":90,"height":50,"fontSize":40,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":200,"x":360,"width":100,"var":"Currency","valign":"bottom","text":"ETH","right":20,"height":50,"fontSize":30,"color":"#F6F3E1","align":"right"}}]};
		return AdminMainUI;
	})(View);
var AdminModifyUI=(function(_super){
		function AdminModifyUI(){
			
		    this.BtnBack=null;
		    this.Title1=null;
		    this.BtnOk=null;
		    this.BtnClose=null;
		    this.Value=null;
		    this.Title2=null;

			AdminModifyUI.__super.call(this);
		}

		CLASS$(AdminModifyUI,'ui.background.AdminModifyUI',_super);
		var __proto__=AdminModifyUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminModifyUI.uiView);

		}

		AdminModifyUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Button","props":{"y":0,"x":0,"width":480,"var":"BtnBack","skin":"resource/bg.png","sizeGrid":"30,5,5,5","height":800,"alpha":0.3}},{"type":"Image","props":{"y":100,"x":0,"width":470,"skin":"resource/base.png","sizeGrid":"5,5,5,5","height":400,"centerY":0,"centerX":0},"child":[{"type":"Label","props":{"y":30,"width":400,"var":"Title1","valign":"middle","text":"修改开奖时间","height":50,"fontSize":30,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Button","props":{"y":300,"width":300,"var":"BtnOk","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"确认","height":70,"centerX":0}},{"type":"Button","props":{"width":80,"var":"BtnClose","top":10,"left":5,"height":80},"child":[{"type":"Image","props":{"y":19,"x":24,"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"TextInput","props":{"y":150,"width":200,"var":"Value","skin":"resource/input.png","sizeGrid":"10,10,10,10","height":60,"fontSize":27,"color":"#ffffff","centerX":110,"align":"center"}},{"type":"Label","props":{"y":150,"width":150,"var":"Title2","valign":"middle","text":"设置开奖时间","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":60,"fontSize":25,"color":"#B6DFE5","centerX":-130,"align":"left"}}]}]};
		return AdminModifyUI;
	})(View);
var AdminWalleMoneyUI=(function(_super){
		function AdminWalleMoneyUI(){
			
		    this.BtnBack=null;
		    this.BtnRecharge=null;
		    this.BtnTransfer=null;
		    this.Bonus=null;
		    this.Money=null;
		    this.Currency1=null;
		    this.Currency2=null;
		    this.AddressList=null;
		    this.BtnAdd=null;

			AdminWalleMoneyUI.__super.call(this);
		}

		CLASS$(AdminWalleMoneyUI,'ui.background.AdminWalleMoneyUI',_super);
		var __proto__=AdminWalleMoneyUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminWalleMoneyUI.uiView);

		}

		AdminWalleMoneyUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,5,5,5","height":800}},{"type":"Image","props":{"y":0,"width":480,"skin":"resource/main_top.png","height":82,"centerX":0}},{"type":"Label","props":{"y":20,"width":280,"valign":"middle","text":"资金管理","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"y":250,"width":200,"var":"BtnRecharge","stateNum":1,"skin":"resource/btn_wallet3.png","sizeGrid":"5,5,5,5","right":30,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"充值","height":80}},{"type":"Button","props":{"y":250,"width":200,"var":"BtnTransfer","stateNum":1,"skin":"resource/btn_wallet3.png","sizeGrid":"5,5,5,5","left":30,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"转出","height":80}},{"type":"Label","props":{"y":203,"width":230,"var":"Bonus","valign":"middle","text":"--","right":100,"height":40,"fontSize":25,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":140,"width":230,"var":"Money","valign":"middle","text":"--","right":100,"height":50,"fontSize":25,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":140,"valign":"middle","text":"账户资金","left":20,"height":50,"fontSize":25,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":200,"valign":"middle","text":"待兑付","left":20,"height":40,"fontSize":25,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":140,"width":100,"var":"Currency1","valign":"middle","right":30,"height":50,"fontSize":25,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":203,"width":100,"var":"Currency2","valign":"middle","right":30,"height":40,"fontSize":25,"color":"#F6F3E1","align":"right"}},{"type":"List","props":{"y":400,"width":470,"var":"AddressList","height":300,"centerX":0},"child":[{"type":"Box","props":{"y":0,"x":0,"width":470,"name":"render","height":60},"child":[{"type":"Label","props":{"x":10,"width":400,"valign":"middle","text":"地址地址地址地址地址地址地址地址地址地址","overflow":"scroll","name":"Address","height":40,"fontSize":20,"color":"#aaaaaa","centerY":0,"align":"left"}},{"type":"Button","props":{"y":180,"x":420,"width":40,"stateNum":1,"skin":"resource/close.png","right":10,"name":"BtnDelete","labelSize":20,"labelColors":"#ffffff","labelAlign":"center","height":40,"centerY":0}}]}]},{"type":"Label","props":{"y":355,"valign":"middle","text":"收款地址","left":20,"height":50,"fontSize":30,"color":"#40e0d0","align":"right"}},{"type":"Label","props":{"y":90,"x":10,"valign":"middle","text":"当前资金","left":20,"height":50,"fontSize":30,"color":"#40e0d0","align":"right"}},{"type":"Button","props":{"y":710,"width":300,"var":"BtnAdd","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"添加收款地址","height":70,"centerX":0}}]};
		return AdminWalleMoneyUI;
	})(View);
var AdminWalletAccountUI=(function(_super){
		function AdminWalletAccountUI(){
			
		    this.BtnAdd=null;

			AdminWalletAccountUI.__super.call(this);
		}

		CLASS$(AdminWalletAccountUI,'ui.background.AdminWalletAccountUI',_super);
		var __proto__=AdminWalletAccountUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminWalletAccountUI.uiView);

		}

		AdminWalletAccountUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":10,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800,"centerX":0}},{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_top.png","height":82,"centerX":0}},{"type":"Label","props":{"y":20,"width":280,"valign":"middle","text":"权限账号管理","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Button","props":{"y":0,"x":0,"width":80,"height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"List","props":{"y":100,"x":5,"width":470,"height":600,"centerX":0},"child":[{"type":"Box","props":{"y":0,"x":0,"width":470,"name":"render","height":60},"child":[{"type":"Label","props":{"x":10,"width":400,"valign":"middle","text":"地址地址地址地址地址地址地址地址地址地址","overflow":"scroll","name":"AccountAddress","height":40,"fontSize":20,"color":"#ffffff","centerY":0,"align":"left"}},{"type":"Button","props":{"y":180,"x":420,"width":40,"stateNum":1,"skin":"resource/close.png","right":10,"name":"BtnDelete","labelSize":20,"labelColors":"#ffffff","labelAlign":"center","height":40,"centerY":0}}]}]},{"type":"Button","props":{"y":710,"width":300,"var":"BtnAdd","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"添加权限账号","height":70,"centerX":0}}]};
		return AdminWalletAccountUI;
	})(View);
var AdminWalletAddAddressUI=(function(_super){
		function AdminWalletAddAddressUI(){
			
		    this.Title=null;
		    this.BtnOk=null;
		    this.BtnClose=null;
		    this.Address=null;

			AdminWalletAddAddressUI.__super.call(this);
		}

		CLASS$(AdminWalletAddAddressUI,'ui.background.AdminWalletAddAddressUI',_super);
		var __proto__=AdminWalletAddAddressUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminWalletAddAddressUI.uiView);

		}

		AdminWalletAddAddressUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":100,"x":0,"width":470,"skin":"resource/base.png","sizeGrid":"5,5,5,5","height":300,"centerY":0,"centerX":0},"child":[{"type":"Label","props":{"y":30,"width":400,"var":"Title","valign":"middle","text":"添加运营账号","height":50,"fontSize":30,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Button","props":{"y":200,"width":300,"var":"BtnOk","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"确认","height":70,"centerX":0}},{"type":"Button","props":{"width":80,"var":"BtnClose","top":10,"left":5,"height":80},"child":[{"type":"Image","props":{"y":19,"x":24,"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"TextInput","props":{"y":120,"width":400,"var":"Address","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"输入账号地址","height":60,"fontSize":20,"color":"#ffffff","centerX":0,"align":"center"}}]}]};
		return AdminWalletAddAddressUI;
	})(View);
var AdminWalletAddressUI=(function(_super){
		function AdminWalletAddressUI(){
			
		    this.Title=null;
		    this.BtnBack=null;
		    this.AddressList=null;
		    this.BtnAdd=null;

			AdminWalletAddressUI.__super.call(this);
		}

		CLASS$(AdminWalletAddressUI,'ui.background.AdminWalletAddressUI',_super);
		var __proto__=AdminWalletAddressUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminWalletAddressUI.uiView);

		}

		AdminWalletAddressUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":10,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800,"centerX":0}},{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_top.png","height":82,"centerX":0}},{"type":"Label","props":{"y":20,"width":280,"var":"Title","valign":"middle","text":"运营账号管理","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"List","props":{"y":100,"x":5,"width":470,"var":"AddressList","height":600,"centerX":0},"child":[{"type":"Box","props":{"y":0,"x":0,"width":470,"name":"render","height":60},"child":[{"type":"Label","props":{"x":10,"width":400,"valign":"middle","text":"地址地址地址地址地址地址地址地址地址地址","overflow":"scroll","name":"Address","height":40,"fontSize":20,"color":"#ffffff","centerY":0,"align":"left"}},{"type":"Button","props":{"y":180,"x":420,"width":40,"stateNum":1,"skin":"resource/close.png","right":10,"name":"BtnDelete","labelSize":20,"labelColors":"#ffffff","labelAlign":"center","height":40,"centerY":0}}]}]},{"type":"Button","props":{"y":710,"width":300,"var":"BtnAdd","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"添加运营账号","height":70,"centerX":0}}]};
		return AdminWalletAddressUI;
	})(View);
var AdminWalletMainUI=(function(_super){
		function AdminWalletMainUI(){
			
		    this.BtnAdmin=null;
		    this.BtnMoney=null;
		    this.BtnAccount=null;
		    this.BtnContract=null;
		    this.BtnRefresh=null;
		    this.BtnLoginOut=null;
		    this.TxtLastProposalDesc=null;
		    this.TxtLastProposalStatus=null;
		    this.TxtCurProposalDesc=null;
		    this.BtnAccept=null;
		    this.BtnReject=null;
		    this.BtnAccepted=null;
		    this.QRCode=null;
		    this.Address=null;
		    this.Money=null;
		    this.Currency=null;

			AdminWalletMainUI.__super.call(this);
		}

		CLASS$(AdminWalletMainUI,'ui.background.AdminWalletMainUI',_super);
		var __proto__=AdminWalletMainUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminWalletMainUI.uiView);

		}

		AdminWalletMainUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,5,5,5","height":800}},{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/base.png","height":800}},{"type":"Image","props":{"y":0,"width":480,"skin":"resource/main_top.png","height":82,"centerX":0}},{"type":"Button","props":{"x":0,"width":120,"var":"BtnAdmin","stateNum":1,"skin":"resource/btn_wallet2.png","sizeGrid":"10,10,10,10","labelSize":24,"labelColors":"#ffffff,#40E0D0,#40E0D0","label":"运营","height":80,"bottom":-5}},{"type":"Button","props":{"x":360,"width":120,"var":"BtnMoney","stateNum":1,"skin":"resource/btn_wallet2.png","sizeGrid":"10,10,10,10","labelSize":24,"labelColors":"#ffffff,#40E0D0,#40E0D0","label":"资金","height":80,"bottom":-5}},{"type":"Button","props":{"x":120,"width":120,"var":"BtnAccount","stateNum":1,"skin":"resource/btn_wallet2.png","sizeGrid":"10,10,10,10","labelSize":24,"labelColors":"#ffffff,#40E0D0,#40E0D0","label":"权限","height":80,"bottom":-5}},{"type":"Label","props":{"y":20,"width":280,"valign":"middle","text":"超级管理","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Button","props":{"x":240,"width":120,"var":"BtnContract","stateNum":1,"skin":"resource/btn_wallet2.png","sizeGrid":"10,10,10,10","labelSize":24,"labelColors":"#ffffff,#40E0D0,#40E0D0","label":"合约","height":80,"bottom":-5}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnRefresh","height":80},"child":[{"type":"Image","props":{"width":50,"skin":"resource/refresh.png","height":60,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"y":0,"width":80,"var":"BtnLoginOut","right":0,"height":80},"child":[{"type":"Image","props":{"width":48,"skin":"resource/out.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Image","props":{"y":500,"width":450,"skin":"resource/game3card.png","sizeGrid":"10,10,10,10","height":220,"centerX":0,"alpha":0.8},"child":[{"type":"Label","props":{"y":50,"wordWrap":true,"width":430,"var":"TxtLastProposalDesc","valign":"middle","height":100,"fontSize":20,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Label","props":{"y":155,"wordWrap":true,"width":400,"var":"TxtLastProposalStatus","valign":"middle","height":50,"fontSize":30,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Label","props":{"y":0,"x":25,"wordWrap":true,"width":400,"valign":"middle","text":"上一个提案","strokeColor":"#333333","stroke":3,"height":40,"fontSize":25,"color":"#ffffff","centerX":0,"align":"center"}}]},{"type":"Image","props":{"y":270,"width":450,"skin":"resource/game3card.png","sizeGrid":"10,10,10,10","height":220,"centerX":0},"child":[{"type":"Label","props":{"y":50,"wordWrap":true,"width":430,"var":"TxtCurProposalDesc","valign":"middle","height":100,"fontSize":20,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Button","props":{"y":155,"width":150,"var":"BtnAccept","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#22e807","label":"同意","height":50,"centerX":120}},{"type":"Button","props":{"y":155,"width":150,"var":"BtnReject","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#f93633","label":"拒绝","height":50,"centerX":-120}},{"type":"Button","props":{"y":155,"width":225,"var":"BtnAccepted","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#22e807","label":"已同意","height":50,"disabled":true,"centerX":0}},{"type":"Label","props":{"y":0,"x":26,"wordWrap":true,"width":400,"valign":"middle","text":"待处理的提案","strokeColor":"#333333","stroke":3,"height":40,"fontSize":25,"color":"#ffffff","centerX":0,"align":"center"}}]},{"type":"Image","props":{"y":130,"x":20,"width":120,"var":"QRCode","height":120}},{"type":"TextArea","props":{"y":90,"wordWrap":true,"width":450,"var":"Address","valign":"middle","text":"Address","overflow":"scroll","height":25,"fontSize":20,"editable":false,"color":"#c0c0c0","centerX":0,"align":"center"}},{"type":"Label","props":{"y":200,"width":200,"var":"Money","valign":"bottom","text":"999999","right":90,"height":50,"fontSize":40,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":200,"width":100,"var":"Currency","valign":"bottom","text":"ETH","right":20,"height":50,"fontSize":30,"color":"#F6F3E1","align":"right"}}]};
		return AdminWalletMainUI;
	})(View);
var AdminWithDrawUI=(function(_super){
		function AdminWithDrawUI(){
			
		    this.AbleWithDraw=null;
		    this.BtnOk=null;
		    this.ChooseAddress=null;
		    this.EditMoney=null;
		    this.BtnBack=null;

			AdminWithDrawUI.__super.call(this);
		}

		CLASS$(AdminWithDrawUI,'ui.background.AdminWithDrawUI',_super);
		var __proto__=AdminWithDrawUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(AdminWithDrawUI.uiView);

		}

		AdminWithDrawUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800}},{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_top.png","height":82,"centerX":0}},{"type":"Label","props":{"y":20,"width":280,"valign":"middle","text":"转出","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Label","props":{"y":220,"width":400,"var":"AbleWithDraw","valign":"middle","text":"可提现金额：\b","height":40,"fontSize":24,"color":"#40e0d0","centerX":-10,"align":"left"}},{"type":"Button","props":{"y":700,"width":400,"var":"BtnOk","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"确认","height":70,"centerX":0}},{"type":"ComboBox","props":{"y":150,"width":440,"var":"ChooseAddress","skin":"resource/input.png","sizeGrid":"10,10,10,10","labelSize":27,"labelColors":"#ffffff,#ffffff,#ffffff","height":60,"fontSize":27,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"TextInput","props":{"y":265,"width":440,"var":"EditMoney","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"  金额","height":60,"fontSize":30,"color":"#ffffff","centerX":0,"align":"left"}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Label","props":{"y":100,"width":400,"valign":"middle","text":"选择提现地址","height":40,"fontSize":24,"color":"#40e0d0","centerX":-10,"align":"left"}}]};
		return AdminWithDrawUI;
	})(View);
var BetDiff2UI=(function(_super){
		function BetDiff2UI(){
			
		    this.Txt1=null;
		    this.Bet_Diff2_1=null;
		    this.Bet_Diff2_2=null;
		    this.Bet_Diff2_3=null;
		    this.Bet_Diff2_4=null;
		    this.Bet_Diff2_5=null;
		    this.Bet_Diff2_6=null;
		    this.Bet_Diff2_1D=null;
		    this.Bet_Diff2_2D=null;
		    this.Bet_Diff2_3D=null;
		    this.Bet_Diff2_4D=null;
		    this.Bet_Diff2_5D=null;
		    this.Bet_Diff2_6D=null;
		    this.Bet_Diff2_1T=null;
		    this.Bet_Diff2_2T=null;
		    this.Bet_Diff2_3T=null;
		    this.Bet_Diff2_4T=null;
		    this.Bet_Diff2_5T=null;
		    this.Bet_Diff2_6T=null;

			BetDiff2UI.__super.call(this);
		}

		CLASS$(BetDiff2UI,'ui.game.BetDiff2UI',_super);
		var __proto__=BetDiff2UI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(BetDiff2UI.uiView);

		}

		BetDiff2UI.uiView={"type":"View","props":{"width":470,"height":600},"child":[{"type":"Image","props":{"y":0,"x":-5,"width":480,"skin":"resource/bet_bottom2.png","sizeGrid":"10,10,10,10","height":600,"centerX":0}},{"type":"Label","props":{"y":40,"x":110,"width":250,"text":"猜有2个号码不相同","strokeColor":"#381A09","stroke":5,"overflow":"visible","height":30,"fontSize":25,"color":"#ffc43b","align":"center"}},{"type":"Label","props":{"y":100,"width":440,"var":"Txt1","text":"选2个不同的号码，奖金","overflow":"visible","height":20,"fontSize":20,"color":"#E2DCA7","centerX":0,"bold":false,"align":"left"}},{"type":"Button","props":{"y":140,"x":20,"width":60,"var":"Bet_Diff2_1","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"1","height":50}},{"type":"Button","props":{"y":140,"x":95,"width":60,"var":"Bet_Diff2_2","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"2","height":50}},{"type":"Button","props":{"y":140,"x":170,"width":60,"var":"Bet_Diff2_3","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"3","height":50}},{"type":"Button","props":{"y":140,"x":245,"width":60,"var":"Bet_Diff2_4","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"4","height":50}},{"type":"Button","props":{"y":140,"x":320,"width":60,"var":"Bet_Diff2_5","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"5","height":50}},{"type":"Button","props":{"y":140,"x":395,"width":60,"var":"Bet_Diff2_6","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"6","height":50}},{"type":"Label","props":{"y":230,"x":112,"width":250,"text":"胆拖玩法","strokeColor":"#381a09","stroke":5,"overflow":"visible","height":30,"fontSize":25,"color":"#ffc43b","align":"center"}},{"type":"Label","props":{"y":270,"width":440,"text":"胆码","overflow":"visible","height":25,"fontSize":25,"color":"#B6DFE5","centerX":0,"align":"center"}},{"type":"Button","props":{"y":310,"x":20,"width":60,"var":"Bet_Diff2_1D","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"1","height":50}},{"type":"Button","props":{"y":310,"x":95,"width":60,"var":"Bet_Diff2_2D","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"2","height":50}},{"type":"Button","props":{"y":310,"x":170,"width":60,"var":"Bet_Diff2_3D","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"3","height":50}},{"type":"Button","props":{"y":310,"x":245,"width":60,"var":"Bet_Diff2_4D","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"4","height":50}},{"type":"Button","props":{"y":310,"x":320,"width":60,"var":"Bet_Diff2_5D","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"5","height":50}},{"type":"Button","props":{"y":310,"x":395,"width":60,"var":"Bet_Diff2_6D","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"6","height":50}},{"type":"Label","props":{"y":370,"width":440,"text":"托码","overflow":"visible","height":25,"fontSize":25,"color":"#B6DFE5","centerX":0,"align":"center"}},{"type":"Button","props":{"y":410,"x":20,"width":60,"var":"Bet_Diff2_1T","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"1","height":50}},{"type":"Button","props":{"y":410,"x":95,"width":60,"var":"Bet_Diff2_2T","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"2","height":50}},{"type":"Button","props":{"y":410,"x":170,"width":60,"var":"Bet_Diff2_3T","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"3","height":50}},{"type":"Button","props":{"y":410,"x":245,"width":60,"var":"Bet_Diff2_4T","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"4","height":50}},{"type":"Button","props":{"y":410,"x":320,"width":60,"var":"Bet_Diff2_5T","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"5","height":50}},{"type":"Button","props":{"y":410,"x":395,"width":60,"var":"Bet_Diff2_6T","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"6","height":50}}]};
		return BetDiff2UI;
	})(View);
var BetDiff3UI=(function(_super){
		function BetDiff3UI(){
			
		    this.Txt1=null;
		    this.Bet_Diff3_1=null;
		    this.Bet_Diff3_2=null;
		    this.Bet_Diff3_3=null;
		    this.Bet_Diff3_4=null;
		    this.Bet_Diff3_5=null;
		    this.Bet_Diff3_6=null;
		    this.Txt2=null;
		    this.Bet_Diff3_Lian=null;
		    this.Bet_Diff3_1D=null;
		    this.Bet_Diff3_2D=null;
		    this.Bet_Diff3_3D=null;
		    this.Bet_Diff3_4D=null;
		    this.Bet_Diff3_5D=null;
		    this.Bet_Diff3_6D=null;
		    this.Bet_Diff3_1T=null;
		    this.Bet_Diff3_2T=null;
		    this.Bet_Diff3_3T=null;
		    this.Bet_Diff3_4T=null;
		    this.Bet_Diff3_5T=null;
		    this.Bet_Diff3_6T=null;

			BetDiff3UI.__super.call(this);
		}

		CLASS$(BetDiff3UI,'ui.game.BetDiff3UI',_super);
		var __proto__=BetDiff3UI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(BetDiff3UI.uiView);

		}

		BetDiff3UI.uiView={"type":"View","props":{"width":470,"height":600},"child":[{"type":"Image","props":{"y":0,"x":-5,"width":480,"skin":"resource/bet_bottom2.png","sizeGrid":"10,10,10,10","height":600,"centerX":0}},{"type":"Label","props":{"y":20,"x":110,"width":250,"text":"猜3个号码各不相同","strokeColor":"#381A09","stroke":5,"overflow":"visible","height":30,"fontSize":25,"color":"#ffc43b","align":"center"}},{"type":"Label","props":{"y":70,"width":440,"var":"Txt1","text":"选3个不同的号码，奖金","overflow":"visible","height":20,"fontSize":20,"color":"#E2DCA7","centerX":0,"align":"left"}},{"type":"Button","props":{"y":110,"x":20,"width":60,"var":"Bet_Diff3_1","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"1","height":50}},{"type":"Button","props":{"y":110,"x":95,"width":60,"var":"Bet_Diff3_2","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"2","height":50}},{"type":"Button","props":{"y":110,"x":170,"width":60,"var":"Bet_Diff3_3","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"3","height":50}},{"type":"Button","props":{"y":110,"x":245,"width":60,"var":"Bet_Diff3_4","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"4","height":50}},{"type":"Button","props":{"y":110,"x":320,"width":60,"var":"Bet_Diff3_5","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"5","height":50}},{"type":"Button","props":{"y":110,"x":395,"width":60,"var":"Bet_Diff3_6","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"6","height":50}},{"type":"Label","props":{"y":190,"width":440,"var":"Txt2","text":"123/234/345/456任意，奖金","overflow":"visible","height":20,"fontSize":20,"color":"#E2DCA7","centerX":0,"align":"left"}},{"type":"Button","props":{"y":230,"x":20,"width":430,"var":"Bet_Diff3_Lian","toggle":true,"skin":"resource/btn2.png","sizeGrid":"10,10,10,10","labelSize":24,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"三连号通选","height":50}},{"type":"Label","props":{"y":330,"x":112,"width":250,"text":"胆拖玩法","strokeColor":"#381A09","stroke":5,"overflow":"visible","height":30,"fontSize":25,"color":"#ffc43b","align":"center"}},{"type":"Label","props":{"y":370,"width":440,"text":"胆码","overflow":"visible","height":25,"fontSize":25,"color":"#B6DFE5","centerX":0,"align":"center"}},{"type":"Button","props":{"y":410,"x":20,"width":60,"var":"Bet_Diff3_1D","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"1","height":50}},{"type":"Button","props":{"y":410,"x":95,"width":60,"var":"Bet_Diff3_2D","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"2","height":50}},{"type":"Button","props":{"y":410,"x":170,"width":60,"var":"Bet_Diff3_3D","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"3","height":50}},{"type":"Button","props":{"y":410,"x":245,"width":60,"var":"Bet_Diff3_4D","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"4","height":50}},{"type":"Button","props":{"y":410,"x":320,"width":60,"var":"Bet_Diff3_5D","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"5","height":50}},{"type":"Button","props":{"y":410,"x":395,"width":60,"var":"Bet_Diff3_6D","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"6","height":50}},{"type":"Label","props":{"y":490,"width":440,"text":"托码","overflow":"visible","height":25,"fontSize":25,"color":"#B6DFE5","centerX":0,"align":"center"}},{"type":"Button","props":{"y":530,"x":20,"width":60,"var":"Bet_Diff3_1T","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"1","height":50}},{"type":"Button","props":{"y":530,"x":95,"width":60,"var":"Bet_Diff3_2T","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"2","height":50}},{"type":"Button","props":{"y":530,"x":170,"width":60,"var":"Bet_Diff3_3T","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"3","height":50}},{"type":"Button","props":{"y":530,"x":245,"width":60,"var":"Bet_Diff3_4T","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"4","height":50}},{"type":"Button","props":{"y":530,"x":320,"width":60,"var":"Bet_Diff3_5T","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"5","height":50}},{"type":"Button","props":{"y":530,"x":395,"width":60,"var":"Bet_Diff3_6T","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"6","height":50}}]};
		return BetDiff3UI;
	})(View);
var BetSame2UI=(function(_super){
		function BetSame2UI(){
			
		    this.Bet_Same2_11=null;
		    this.Bet_Same2_22=null;
		    this.Bet_Same2_33=null;
		    this.Bet_Same2_44=null;
		    this.Bet_Same2_55=null;
		    this.Bet_Same2_66=null;
		    this.Txt1=null;
		    this.Bet_Same2_1=null;
		    this.Bet_Same2_2=null;
		    this.Bet_Same2_3=null;
		    this.Bet_Same2_4=null;
		    this.Bet_Same2_5=null;
		    this.Bet_Same2_6=null;
		    this.Txt2=null;
		    this.Bet_Same2_11A=null;
		    this.Bet_Same2_22A=null;
		    this.Bet_Same2_33A=null;
		    this.Bet_Same2_44A=null;
		    this.Bet_Same2_55A=null;
		    this.Bet_Same2_66A=null;

			BetSame2UI.__super.call(this);
		}

		CLASS$(BetSame2UI,'ui.game.BetSame2UI',_super);
		var __proto__=BetSame2UI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(BetSame2UI.uiView);

		}

		BetSame2UI.uiView={"type":"View","props":{"width":470,"height":600},"child":[{"type":"Image","props":{"y":0,"width":480,"skin":"resource/bet_bottom2.png","sizeGrid":"5,5,5,5","height":600,"centerX":0}},{"type":"Button","props":{"y":150,"x":20,"width":60,"var":"Bet_Same2_11","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"11","height":50}},{"type":"Button","props":{"y":150,"x":95,"width":60,"var":"Bet_Same2_22","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"22","height":50}},{"type":"Button","props":{"y":150,"x":170,"width":60,"var":"Bet_Same2_33","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"33","height":50}},{"type":"Button","props":{"y":150,"x":245,"width":60,"var":"Bet_Same2_44","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"44","height":50}},{"type":"Button","props":{"y":150,"x":320,"width":60,"var":"Bet_Same2_55","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"55","height":50}},{"type":"Button","props":{"y":150,"x":395,"width":60,"var":"Bet_Same2_66","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"66","height":50}},{"type":"Label","props":{"y":20,"x":110,"width":250,"text":"猜对子号（有2个相同）","strokeColor":"#381A09","stroke":5,"overflow":"visible","height":30,"fontSize":25,"color":"#ffc43b","align":"center"}},{"type":"Label","props":{"y":70,"width":440,"var":"Txt1","text":"选择同号与不同号的组合，奖金","overflow":"visible","height":20,"fontSize":20,"color":"#E2DCA7","centerX":0,"align":"left"}},{"type":"Button","props":{"y":260,"x":20,"width":60,"var":"Bet_Same2_1","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"1","height":50}},{"type":"Button","props":{"y":260,"x":95,"width":60,"var":"Bet_Same2_2","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"2","height":50}},{"type":"Button","props":{"y":260,"x":170,"width":60,"var":"Bet_Same2_3","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"3","height":50}},{"type":"Button","props":{"y":260,"x":245,"width":60,"var":"Bet_Same2_4","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"4","height":50}},{"type":"Button","props":{"y":260,"x":320,"width":60,"var":"Bet_Same2_5","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"5","height":50}},{"type":"Button","props":{"y":260,"x":395,"width":60,"var":"Bet_Same2_6","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"6","height":50}},{"type":"Label","props":{"y":110,"x":125,"width":220,"text":"同号","overflow":"visible","height":30,"fontSize":25,"color":"#B6DFE5","align":"center"}},{"type":"Label","props":{"y":220,"x":125,"width":220,"text":"不同号","overflow":"visible","height":30,"fontSize":25,"color":"#B6DFE5","align":"center"}},{"type":"Label","props":{"y":360,"width":440,"var":"Txt2","text":"猜两个指定的相同号码，奖金","overflow":"visible","height":20,"fontSize":20,"color":"#E2DCA7","centerX":0,"align":"left"}},{"type":"Button","props":{"y":400,"x":20,"width":60,"var":"Bet_Same2_11A","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"11*","height":50}},{"type":"Button","props":{"y":400,"x":95,"width":60,"var":"Bet_Same2_22A","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"22*","height":50}},{"type":"Button","props":{"y":400,"x":170,"width":60,"var":"Bet_Same2_33A","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"33*","height":50}},{"type":"Button","props":{"y":400,"x":245,"width":60,"var":"Bet_Same2_44A","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"44*","height":50}},{"type":"Button","props":{"y":400,"x":320,"width":60,"var":"Bet_Same2_55A","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"55*","height":50}},{"type":"Button","props":{"y":400,"x":395,"width":60,"var":"Bet_Same2_66A","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"66*","height":50}}]};
		return BetSame2UI;
	})(View);
var BetSame3UI=(function(_super){
		function BetSame3UI(){
			
		    this.Bet_111=null;
		    this.Bet_222=null;
		    this.Bet_333=null;
		    this.Bet_444=null;
		    this.Bet_555=null;
		    this.Bet_666=null;
		    this.Bet_Same=null;
		    this.Bonus_111=null;
		    this.Bonus_222=null;
		    this.Bonus_333=null;
		    this.Bonus_444=null;
		    this.Bonus_555=null;
		    this.Bonus_666=null;
		    this.Bonus_Same=null;

			BetSame3UI.__super.call(this);
		}

		CLASS$(BetSame3UI,'ui.game.BetSame3UI',_super);
		var __proto__=BetSame3UI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(BetSame3UI.uiView);

		}

		BetSame3UI.uiView={"type":"View","props":{"width":470,"height":600},"child":[{"type":"Image","props":{"y":0,"x":-5,"width":480,"skin":"resource/bet_bottom2.png","sizeGrid":"10,10,10,10","height":600,"centerX":0}},{"type":"Button","props":{"y":90,"x":20,"width":140,"var":"Bet_111","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"111","height":50}},{"type":"Button","props":{"y":90,"x":165,"width":140,"var":"Bet_222","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"222","height":50}},{"type":"Button","props":{"y":90,"x":310,"width":140,"var":"Bet_333","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"333","height":50}},{"type":"Button","props":{"y":200,"x":20,"width":140,"var":"Bet_444","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#777777","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"444","height":50}},{"type":"Button","props":{"y":200,"x":165,"width":140,"var":"Bet_555","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"555","height":50}},{"type":"Button","props":{"y":200,"x":310,"width":140,"var":"Bet_666","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"666","height":50}},{"type":"Button","props":{"y":370,"x":20,"width":430,"var":"Bet_Same","toggle":true,"skin":"resource/btn2.png","sizeGrid":"10,10,10,10","labelSize":24,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"三同号通选","height":50}},{"type":"Label","props":{"y":30,"x":125,"width":220,"text":"猜豹子号（3个相同）","strokeColor":"#381A09","stroke":5,"overflow":"visible","height":30,"fontSize":25,"color":"#ffc43b","align":"center"}},{"type":"Label","props":{"y":150,"x":20,"width":140,"var":"Bonus_111","text":"180倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":150,"x":165,"width":140,"var":"Bonus_222","text":"180倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":150,"x":310,"width":140,"var":"Bonus_333","text":"180倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":260,"x":20,"width":140,"var":"Bonus_444","text":"180倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":260,"x":165,"width":140,"var":"Bonus_555","text":"180倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":260,"x":310,"width":140,"var":"Bonus_666","text":"180倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":430,"x":20,"width":430,"var":"Bonus_Same","text":"30倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","bold":true,"align":"center"}},{"type":"Label","props":{"y":330,"x":20,"width":430,"text":"猜任意豹子","strokeColor":"#381A09","stroke":5,"overflow":"visible","height":30,"fontSize":25,"color":"#ffc43b","align":"center"}}]};
		return BetSame3UI;
	})(View);
var BetSumUI=(function(_super){
		function BetSumUI(){
			
		    this.Bet_3=null;
		    this.Bet_4=null;
		    this.Bet_5=null;
		    this.Bet_6=null;
		    this.Bet_7=null;
		    this.Bet_8=null;
		    this.Bet_9=null;
		    this.Bet_10=null;
		    this.Bet_11=null;
		    this.Bet_12=null;
		    this.Bet_13=null;
		    this.Bet_14=null;
		    this.Bet_15=null;
		    this.Bet_16=null;
		    this.Bet_17=null;
		    this.Bet_18=null;
		    this.BetAll_Big=null;
		    this.BetAll_Small=null;
		    this.BetAll_Singular=null;
		    this.BetAll_Even=null;
		    this.Bonus_3=null;
		    this.Bonus_13=null;
		    this.Bonus_12=null;
		    this.Bonus_11=null;
		    this.Bonus_18=null;
		    this.Bonus_17=null;
		    this.Bonus_16=null;
		    this.Bonus_15=null;
		    this.Bonus_4=null;
		    this.Bonus_6=null;
		    this.Bonus_5=null;
		    this.Bonus_7=null;
		    this.Bonus_8=null;
		    this.Bonus_9=null;
		    this.Bonus_10=null;
		    this.Bonus_14=null;

			BetSumUI.__super.call(this);
		}

		CLASS$(BetSumUI,'ui.game.BetSumUI',_super);
		var __proto__=BetSumUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(BetSumUI.uiView);

		}

		BetSumUI.uiView={"type":"View","props":{"width":470,"height":600},"child":[{"type":"Image","props":{"y":0,"width":480,"skin":"resource/bet_bottom2.png","sizeGrid":"28,15,12,8","height":600,"centerX":0}},{"type":"Button","props":{"y":60,"x":20,"width":100,"var":"Bet_3","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"3","height":50}},{"type":"Button","props":{"y":60,"x":130,"width":100,"var":"Bet_4","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"4","height":50}},{"type":"Button","props":{"y":60,"x":240,"width":100,"var":"Bet_5","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"5","height":50}},{"type":"Button","props":{"y":60,"x":350,"width":100,"var":"Bet_6","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"6","height":50}},{"type":"Button","props":{"y":165,"x":20,"width":100,"var":"Bet_7","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"7","height":50}},{"type":"Button","props":{"y":165,"x":130,"width":100,"var":"Bet_8","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"8","height":50}},{"type":"Button","props":{"y":165,"x":240,"width":100,"var":"Bet_9","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"9","height":50}},{"type":"Button","props":{"y":165,"x":350,"width":100,"var":"Bet_10","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"10","height":50}},{"type":"Button","props":{"y":270,"x":20,"width":100,"var":"Bet_11","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"11","height":50}},{"type":"Button","props":{"y":270,"x":130,"width":100,"var":"Bet_12","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"12","height":50}},{"type":"Button","props":{"y":270,"x":240,"width":100,"var":"Bet_13","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"13","height":50}},{"type":"Button","props":{"y":270,"x":350,"width":100,"var":"Bet_14","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"14","height":50}},{"type":"Button","props":{"y":375,"x":20,"width":100,"var":"Bet_15","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"15","height":50}},{"type":"Button","props":{"y":375,"x":130,"width":100,"var":"Bet_16","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"16","height":50}},{"type":"Button","props":{"y":375,"x":240,"width":100,"var":"Bet_17","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"17","height":50}},{"type":"Button","props":{"y":375,"x":350,"width":100,"var":"Bet_18","toggle":true,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"18","height":50}},{"type":"Button","props":{"y":530,"x":20,"width":100,"var":"BetAll_Big","toggle":true,"skin":"resource/btn3.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#777777","labelStroke":3,"labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"大","height":50}},{"type":"Button","props":{"y":530,"x":130,"width":100,"var":"BetAll_Small","toggle":true,"skin":"resource/btn3.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#777777","labelStroke":3,"labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"小","height":50}},{"type":"Button","props":{"y":530,"x":240,"width":100,"var":"BetAll_Singular","toggle":true,"skin":"resource/btn3.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#777777","labelStroke":3,"labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"单","height":50}},{"type":"Button","props":{"y":530,"x":350,"width":100,"var":"BetAll_Even","toggle":true,"skin":"resource/btn3.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#777777","labelStroke":3,"labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"双","height":50}},{"type":"Label","props":{"y":20,"x":125,"width":220,"text":"猜开奖号码相加的和","strokeColor":"#381A09","stroke":5,"overflow":"visible","height":30,"fontSize":25,"color":"#ffc43b","align":"center"}},{"type":"Label","props":{"y":490,"x":125,"width":220,"text":"快速选号","strokeColor":"#381A09","stroke":5,"overflow":"visible","height":30,"fontSize":25,"color":"#ffc43b","align":"center"}},{"type":"Label","props":{"y":120,"x":20,"width":100,"var":"Bonus_3","text":"180倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":330,"x":240,"width":100,"var":"Bonus_13","text":"8.6倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":330,"x":130,"width":100,"var":"Bonus_12","text":"7.2倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":330,"x":20,"width":100,"var":"Bonus_11","text":"6.7倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":435,"x":350,"width":100,"var":"Bonus_18","text":"180倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","bold":false,"align":"center"}},{"type":"Label","props":{"y":435,"x":240,"width":100,"var":"Bonus_17","text":"60倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":435,"x":130,"width":100,"var":"Bonus_16","text":"30倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":435,"x":20,"width":100,"var":"Bonus_15","text":"18倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":120,"x":130,"width":100,"var":"Bonus_4","text":"60倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":120,"x":350,"width":100,"var":"Bonus_6","text":"18倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":120,"x":240,"width":100,"var":"Bonus_5","text":"30倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":225,"x":20,"width":100,"var":"Bonus_7","text":"12倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":225,"x":130,"width":100,"var":"Bonus_8","text":"8.6倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":225,"x":240,"width":100,"var":"Bonus_9","text":"7.2倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":225,"x":350,"width":100,"var":"Bonus_10","text":"6.7倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}},{"type":"Label","props":{"y":330,"x":350,"width":100,"var":"Bonus_14","text":"12倍","overflow":"visible","height":30,"fontSize":25,"color":"#E2DCA7","align":"center"}}]};
		return BetSumUI;
	})(View);
var DescUI=(function(_super){
		function DescUI(){
			
		    this.BtnBack=null;
		    this.Desc=null;

			DescUI.__super.call(this);
		}

		CLASS$(DescUI,'ui.game.DescUI',_super);
		var __proto__=DescUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(DescUI.uiView);

		}

		DescUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800}},{"type":"Label","props":{"y":20,"width":280,"valign":"middle","text":"玩法说明","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Image","props":{"x":10,"width":460,"skin":"resource/input.png","sizeGrid":"10,10,10,10","height":720,"bottom":0},"child":[{"type":"Label","props":{"x":90,"wordWrap":true,"width":440,"var":"Desc","overflow":"scroll","leading":10,"height":700,"fontSize":24,"color":"#F6F3E1","centerY":0,"centerX":0,"align":"left"}}]}]};
		return DescUI;
	})(View);
var GameMain1UI=(function(_super){
		function GameMain1UI(){
			
		    this.BtnType=null;
		    this.ResultTxt=null;
		    this.LastResult=null;
		    this.Num1=null;
		    this.Num2=null;
		    this.Num3=null;
		    this.TimeTxt=null;
		    this.NextTime=null;
		    this.BetTxt=null;
		    this.BtnRandom=null;
		    this.BtnOk=null;
		    this.GameMain=null;
		    this.BtnBack=null;
		    this.BtnMore=null;

			GameMain1UI.__super.call(this);
		}

		CLASS$(GameMain1UI,'ui.game.GameMain1UI',_super);
		var __proto__=GameMain1UI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(GameMain1UI.uiView);

		}

		GameMain1UI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800}},{"type":"Image","props":{"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82}},{"type":"Image","props":{"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82,"centerX":0,"bottom":0}},{"type":"Tab","props":{"y":80,"width":450,"var":"BtnType","space":1,"skin":"resource/tab.png","labels":"和值,三同,二同,三不同,二不同","labelStrokeColor":"#AF401E","labelStroke":5,"labelSize":20,"labelColors":"#ffffff,#ffffff,#ffffff","labelAlign":"center","height":50,"direction":"horizontal","centerX":0}},{"type":"TextArea","props":{"y":5,"width":170,"var":"ResultTxt","type":"text","text":"0期开奖号码","mouseEnabled":false,"hitTestPrior":false,"height":70,"fontSize":24,"editable":false,"color":"#F6F3E1","centerX":-90,"align":"center"},"child":[{"type":"Label","props":{"y":35,"width":143,"var":"LastResult","height":30,"fontSize":30,"color":"#ffd700","centerX":0,"bold":true,"align":"center"}},{"type":"Image","props":{"x":20,"width":40,"var":"Num1","skin":"resource/dice1.png","height":40,"centerY":15}},{"type":"Image","props":{"width":40,"var":"Num2","skin":"resource/dice1.png","height":40,"centerY":15,"centerX":0}},{"type":"Image","props":{"width":40,"var":"Num3","skin":"resource/dice1.png","right":20,"height":40,"centerY":15}}]},{"type":"TextArea","props":{"y":5,"width":170,"var":"TimeTxt","type":"text","text":"距离开奖时间","mouseEnabled":false,"hitTestPrior":false,"height":70,"fontSize":24,"editable":false,"color":"#F6F3E1","centerX":90,"alpha":1,"align":"center"},"child":[{"type":"Label","props":{"y":35,"width":143,"var":"NextTime","text":"MM:SS","height":30,"fontSize":30,"color":"#B6DFE5","centerX":0,"align":"center"}}]},{"type":"Image","props":{"width":250,"skin":"resource/input.png","sizeGrid":"5,5,5,5","height":80,"centerX":0,"bottom":0},"child":[{"type":"Label","props":{"width":250,"var":"BetTxt","text":"共$注，$元","height":24,"fontSize":24,"color":"#ffffff","centerY":0,"centerX":0,"align":"center"}}]},{"type":"Button","props":{"x":10,"width":100,"var":"BtnRandom","stateNum":1,"skin":"resource/btn1.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":24,"labelColors":"#FEF1AF,#FEF1AF,#FEF1AF","label":"机选","height":70,"bottom":10}},{"type":"Button","props":{"x":375,"width":100,"var":"BtnOk","stateNum":1,"skin":"resource/btn1.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":24,"labelColors":"#FEF1AF,#FEF1AF,#FEF1AF","label":"确定","height":70,"bottom":10}},{"type":"Panel","props":{"y":130,"x":5,"width":470,"var":"GameMain","height":580}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"y":0,"width":80,"var":"BtnMore","right":0,"height":80},"child":[{"type":"Image","props":{"width":46,"skin":"resource/more.png","height":22,"centerY":0,"centerX":0}}]}]};
		return GameMain1UI;
	})(View);
var Kuai3OrderListUI=(function(_super){
		function Kuai3OrderListUI(){
			
		    this.OrderList=null;
		    this.TimeTxt=null;
		    this.EndTime=null;
		    this.BtnClear=null;
		    this.BetTxt=null;
		    this.BtnBack=null;
		    this.BtnPay=null;
		    this.BtnRandom=null;
		    this.RateTxt=null;
		    this.BtnDec=null;
		    this.BtnAdd=null;
		    this.BtnRate=null;
		    this.RateList=null;
		    this.BtnHideRateList=null;
		    this.BtnRate50=null;
		    this.BtnRate20=null;
		    this.BtnRate10=null;

			Kuai3OrderListUI.__super.call(this);
		}

		CLASS$(Kuai3OrderListUI,'ui.game.Kuai3OrderListUI',_super);
		var __proto__=Kuai3OrderListUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(Kuai3OrderListUI.uiView);

		}

		Kuai3OrderListUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"x":10,"width":480,"skin":"resource/main_bg.png","height":800,"centerY":0,"centerX":0}},{"type":"Image","props":{"y":718,"x":0,"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82,"centerX":0,"bottom":0}},{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82,"centerX":0}},{"type":"List","props":{"y":90,"x":5,"width":470,"var":"OrderList","height":550},"child":[{"type":"Box","props":{"y":5,"width":460,"name":"render","height":100,"centerX":0},"child":[{"type":"Image","props":{"width":460,"skin":"resource/base.png","sizeGrid":"5,5,5,5","height":110,"centerY":0,"centerX":0}},{"type":"Image","props":{"y":0,"x":5,"width":450,"skin":"resource/line.png","sizeGrid":"5,5,5,5","height":100,"centerY":0,"centerX":0}},{"type":"Button","props":{"width":450,"sizeGrid":"10,10,10,10","name":"BtnCheck","labelSize":40,"labelColors":"#ffffff","labelAlign":"left","height":100,"centerY":0,"centerX":0,"alpha":0.5}},{"type":"Button","props":{"y":10,"width":40,"stateNum":1,"skin":"resource/close.png","right":20,"name":"BtnDelete","labelSize":20,"labelColors":"#ffffff","labelAlign":"center","height":40}},{"type":"Label","props":{"y":55,"x":20,"width":150,"valign":"middle","text":"和值","name":"Type","height":30,"fontSize":24,"color":"#c0c0c0","align":"left"}},{"type":"Label","props":{"y":10,"x":20,"width":300,"valign":"middle","text":"4,15,13,15","overflow":"hidden","name":"Numbers","height":30,"fontSize":27,"color":"#F6F3E1","align":"left"}},{"type":"Label","props":{"y":10,"x":300,"width":100,"valign":"middle","text":"5注","name":"Hands","height":30,"fontSize":24,"color":"#c0c0c0","align":"center"}},{"type":"Label","props":{"y":55,"x":280,"width":150,"valign":"middle","text":"1883ETH","name":"Price","height":30,"fontSize":24,"color":"#ffd700","align":"center"}}]}]},{"type":"Label","props":{"y":5,"x":165,"width":250,"var":"TimeTxt","text":"本期截止","height":80,"fontSize":27,"color":"#F6F3E1","centerX":0,"align":"center"},"child":[{"type":"Label","props":{"y":40,"x":0,"width":150,"var":"EndTime","text":"MM:SS","height":30,"fontSize":30,"color":"#B6DFE5","centerX":0,"align":"center"}}]},{"type":"Button","props":{"y":0,"width":80,"var":"BtnClear","right":0,"labelSize":24,"labelColors":"#40e0d0","labelAlign":"center","height":80},"child":[{"type":"Image","props":{"width":32,"skin":"resource/delete.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Image","props":{"y":730,"x":115,"width":250,"skin":"resource/input.png","sizeGrid":"10,10,10,10","height":80,"centerX":0,"bottom":0},"child":[{"type":"Label","props":{"x":-40,"width":250,"var":"BetTxt","text":"共$注，$元","height":24,"fontSize":24,"color":"#F6F3E1","centerY":0,"centerX":0,"align":"center"}}]},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"x":375,"width":100,"var":"BtnPay","stateNum":1,"skin":"resource/btn1.png","sizeGrid":"10,10,10,10","right":5,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":24,"labelColors":"#FEF1AF,#FEF1AF,#FEF1AF","label":"确定","height":70,"bottom":10}},{"type":"Button","props":{"x":10,"width":100,"var":"BtnRandom","stateNum":1,"skin":"resource/btn1.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":24,"labelColors":"#FEF1AF,#FEF1AF,#FEF1AF","label":"机选","height":70,"bottom":10}},{"type":"Image","props":{"y":650,"width":440,"skin":"resource/btn_create1.png","sizeGrid":"0,20,0,20","height":65,"centerX":0,"alpha":1},"child":[{"type":"Label","props":{"x":75,"width":100,"var":"RateTxt","text":"1倍","height":30,"fontSize":30,"color":"#ffffff","centerY":0,"centerX":0,"align":"center"}},{"type":"Button","props":{"x":0,"width":135,"var":"BtnDec","stateNum":1,"skin":"resource/dec.png","height":60,"centerY":0}},{"type":"Button","props":{"width":135,"var":"BtnAdd","stateNum":1,"skin":"resource/add.png","right":0,"height":60,"centerY":0}},{"type":"Button","props":{"y":10,"width":135,"var":"BtnRate","height":60,"centerY":0,"centerX":0}},{"type":"Image","props":{"width":200,"visible":false,"var":"RateList","skin":"resource/base.png","sizeGrid":"10,10,10,10","height":200,"centerX":0,"bottom":60},"child":[{"type":"Button","props":{"width":480,"var":"BtnHideRateList","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","height":800,"centerY":-155,"centerX":0,"alpha":1}},{"type":"Button","props":{"y":130,"x":10,"width":180,"var":"BtnRate50","stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","right":10,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"50倍","height":60,"bottom":10,"alpha":1}},{"type":"Button","props":{"width":180,"var":"BtnRate20","stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"20倍","height":60,"centerX":0,"bottom":70,"alpha":1}},{"type":"Button","props":{"width":180,"var":"BtnRate10","stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","right":10,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"10倍","height":60,"bottom":130,"alpha":1}}]}]}]};
		return Kuai3OrderListUI;
	})(View);
var MoreUI=(function(_super){
		function MoreUI(){
			
		    this.BtnDesc=null;
		    this.BtnReport=null;

			MoreUI.__super.call(this);
		}

		CLASS$(MoreUI,'ui.game.MoreUI',_super);
		var __proto__=MoreUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(MoreUI.uiView);

		}

		MoreUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/bg.png","sizeGrid":"30,5,5,5","height":800,"alpha":0.3}},{"type":"Image","props":{"width":200,"top":60,"skin":"resource/base.png","sizeGrid":"10,10,10,10","right":0,"height":150},"child":[{"type":"Button","props":{"width":180,"var":"BtnDesc","stateNum":3,"skin":"resource/btn_wallet.png","sizeGrid":"5,5,5,5","right":10,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"玩法说明","height":60,"bottom":10,"alpha":1}},{"type":"Button","props":{"width":180,"var":"BtnReport","stateNum":3,"skin":"resource/btn_wallet.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"开奖走势","height":60,"centerX":0,"bottom":77,"alpha":1}}]}]};
		return MoreUI;
	})(View);
var ReportUI=(function(_super){
		function ReportUI(){
			
		    this.RecordList=null;
		    this.BtnBack=null;
		    this.ReportType=null;
		    this.BtnSum=null;
		    this.BtnDiff=null;
		    this.BtnHotCold=null;

			ReportUI.__super.call(this);
		}

		CLASS$(ReportUI,'ui.game.ReportUI',_super);
		var __proto__=ReportUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(ReportUI.uiView);

		}

		ReportUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800}},{"type":"List","props":{"width":480,"var":"RecordList","vScrollBarSkin":"comp/vscroll.png","height":720,"centerX":0,"bottom":0},"child":[{"type":"Box","props":{"y":5,"width":480,"name":"render","height":50,"centerX":0},"child":[{"type":"Image","props":{"x":0,"width":80,"skin":"resource/input.png","sizeGrid":"10,10,10,10","height":50}},{"type":"Image","props":{"y":0,"x":80,"width":100,"skin":"resource/input.png","sizeGrid":"10,10,10,10","height":50}},{"type":"Image","props":{"y":0,"x":180,"width":100,"skin":"resource/input.png","sizeGrid":"10,10,10,10","height":50}},{"type":"Image","props":{"y":0,"x":280,"width":100,"skin":"resource/input.png","sizeGrid":"10,10,10,10","height":50}},{"type":"Image","props":{"y":0,"x":380,"width":100,"skin":"resource/input.png","sizeGrid":"10,10,10,10","height":50}},{"type":"Label","props":{"y":13,"x":0,"width":80,"text":"期数","name":"Round","height":25,"fontSize":24,"color":"#F6F3E1","centerY":0,"align":"center"}},{"type":"Label","props":{"y":13,"x":80,"width":100,"text":"开奖号","name":"Number","height":25,"fontSize":24,"color":"#E2DCA7","centerY":0,"align":"center"}},{"type":"Label","props":{"y":13,"x":180,"width":100,"text":"和值","name":"Sum","height":25,"fontSize":24,"color":"#ffffff","centerY":0,"align":"center"}},{"type":"Label","props":{"y":13,"x":280,"width":100,"text":"大小","name":"Size","height":25,"fontSize":24,"color":"#ffffff","centerY":0,"align":"center"}},{"type":"Label","props":{"y":13,"x":380,"width":100,"text":"单双","name":"Parity","height":25,"fontSize":24,"color":"#ffffff","centerY":0,"align":"center"}}]}]},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Tab","props":{"y":0,"width":300,"var":"ReportType","selectedIndex":0,"height":80,"centerX":0},"child":[{"type":"Button","props":{"width":100,"var":"BtnSum","stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","name":"item0","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"和值","height":80,"centerY":0,"centerX":-100}},{"type":"Button","props":{"width":100,"var":"BtnDiff","stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","name":"item1","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"同号","height":80,"centerY":0,"centerX":0}},{"type":"Button","props":{"y":0,"x":200,"width":100,"var":"BtnHotCold","stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","name":"item2","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":30,"labelColors":"#FEF5CC,#FEF5CC,#FEF5CC","label":"冷热","height":80,"centerY":0,"centerX":100}}]}]};
		return ReportUI;
	})(View);
var Game2BetInfoUI=(function(_super){
		function Game2BetInfoUI(){
			
		    this.BtnBack=null;
		    this.Btn1=null;
		    this.Btn2=null;
		    this.Btn5=null;
		    this.Btn10=null;
		    this.Btn20=null;
		    this.BtnMax=null;
		    this.BetTxt=null;
		    this.BtnReset=null;
		    this.BtnOk=null;
		    this.BtnClose=null;

			Game2BetInfoUI.__super.call(this);
		}

		CLASS$(Game2BetInfoUI,'ui.game2.Game2BetInfoUI',_super);
		var __proto__=Game2BetInfoUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(Game2BetInfoUI.uiView);

		}

		Game2BetInfoUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Button","props":{"y":0,"x":0,"width":480,"var":"BtnBack","skin":"resource/bg.png","sizeGrid":"30,5,5,5","height":800,"alpha":0.3}},{"type":"Image","props":{"y":100,"x":0,"width":450,"skin":"resource/dice_bg2.png","sizeGrid":"5,5,5,5","height":600,"centerY":0,"centerX":0},"child":[{"type":"Button","props":{"y":230,"x":60,"width":100,"var":"Btn1","stateNum":1,"skin":"resource/chip1.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":10,"labelSize":30,"labelColors":"#E2DCA7,#E2DCA7,#E2DCA7","labelAlign":"center","label":"+0.01","height":100}},{"type":"Button","props":{"y":230,"width":100,"var":"Btn2","stateNum":1,"skin":"resource/chip2.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":10,"labelSize":30,"labelColors":"#E2DCA7,#E2DCA7,#E2DCA7","labelAlign":"center","label":"+0.02","height":100,"centerX":0}},{"type":"Button","props":{"y":230,"width":100,"var":"Btn5","stateNum":1,"skin":"resource/chip3.png","sizeGrid":"5,5,5,5","right":60,"labelStrokeColor":"#381A09","labelStroke":10,"labelSize":30,"labelColors":"#E2DCA7,#E2DCA7,#E2DCA7","labelAlign":"center","label":"+0.05","height":100}},{"type":"Button","props":{"y":340,"x":60,"width":100,"var":"Btn10","stateNum":1,"skin":"resource/chip4.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":10,"labelSize":30,"labelColors":"#E2DCA7,#E2DCA7,#E2DCA7","labelAlign":"center","label":"+0.1","height":100}},{"type":"Button","props":{"y":340,"width":100,"var":"Btn20","stateNum":1,"skin":"resource/chip5.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":10,"labelSize":30,"labelColors":"#E2DCA7,#E2DCA7,#E2DCA7","labelAlign":"center","label":"+0.2","height":100,"centerX":0}},{"type":"Button","props":{"y":340,"width":100,"var":"BtnMax","stateNum":1,"skin":"resource/chip6.png","sizeGrid":"5,5,5,5","right":60,"labelStrokeColor":"#381A09","labelStroke":10,"labelSize":30,"labelColors":"#E2DCA7,#E2DCA7,#E2DCA7","labelAlign":"center","label":"+Max","height":100}},{"type":"Image","props":{"y":120,"width":400,"skin":"resource/input.png","sizeGrid":"5,5,5,5","height":80,"centerX":0},"child":[{"type":"Label","props":{"width":350,"var":"BetTxt","valign":"middle","text":"0.02","height":50,"fontSize":40,"color":"#ffffff","centerY":0,"centerX":0,"align":"center"}}]},{"type":"Label","props":{"y":30,"width":400,"valign":"middle","text":"选择下注金额","height":50,"fontSize":30,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Button","props":{"y":120,"width":80,"var":"BtnReset","right":20,"height":80},"child":[{"type":"Image","props":{"width":50,"skin":"resource/refresh.png","height":60,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"y":480,"width":294,"var":"BtnOk","stateNum":1,"skin":"resource/btn_confirm.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelPadding":"-5","labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"确定投注","height":99,"centerX":0}},{"type":"Button","props":{"width":80,"var":"BtnClose","top":10,"left":5,"height":80},"child":[{"type":"Image","props":{"y":19,"x":24,"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]}]}]};
		return Game2BetInfoUI;
	})(View);
var Game2RecordUI=(function(_super){
		function Game2RecordUI(){
			
		    this.RecordList=null;
		    this.BtnClose=null;
		    this.Desc=null;

			Game2RecordUI.__super.call(this);
		}

		CLASS$(Game2RecordUI,'ui.game2.Game2RecordUI',_super);
		var __proto__=Game2RecordUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(Game2RecordUI.uiView);

		}

		Game2RecordUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/bg.png","sizeGrid":"30,5,5,5","height":800,"alpha":0.3}},{"type":"Image","props":{"width":240,"skin":"resource/base.png","sizeGrid":"5,5,5,5","right":0,"height":600,"centerY":0},"child":[{"type":"List","props":{"y":50,"width":220,"var":"RecordList","height":530,"centerX":0},"child":[{"type":"Box","props":{"y":0,"width":230,"name":"render","height":100,"centerX":0},"child":[{"type":"Image","props":{"width":230,"skin":"resource/dice_wnd1.png","sizeGrid":"5,5,5,5","height":100,"centerY":0,"centerX":0}},{"type":"Label","props":{"width":150,"valign":"middle","text":"9999 ETH","right":10,"name":"BetMoney","height":30,"fontSize":20,"color":"#c0c0c0","bottom":15,"align":"right"}},{"type":"Label","props":{"y":5,"width":100,"valign":"middle","text":"100期","overflow":"hidden","name":"Round","left":10,"height":30,"fontSize":20,"color":"#Ffffff","align":"left"}},{"type":"Label","props":{"x":40,"width":60,"valign":"middle","name":"Result","height":30,"fontSize":20,"color":"#ffd700","bottom":15,"align":"left"}},{"type":"Label","props":{"y":5,"width":100,"valign":"middle","text":"未中奖","stroke":5,"right":10,"name":"Status","height":30,"fontSize":20,"color":"#fffff0","align":"right"}},{"type":"Label","props":{"width":150,"valign":"middle","text":"999 ETH","right":10,"name":"BonueMoney","height":30,"fontSize":20,"color":"#ffd700","bottom":15,"align":"right"}},{"type":"Image","props":{"x":10,"width":50,"skin":"resource/coin_heads.png","name":"Coin","height":50,"bottom":15}}]}]},{"type":"Label","props":{"y":20,"x":-90,"width":180,"valign":"middle","text":"我的投注","overflow":"hidden","height":30,"fontSize":20,"color":"#ffffff","centerX":0,"align":"center"}}]},{"type":"Button","props":{"y":0,"x":0,"width":480,"var":"BtnClose","stateNum":3,"sizeGrid":"5,5,5,5","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","height":800,"centerY":0,"alpha":1}},{"type":"Label","props":{"width":240,"var":"Desc","valign":"middle","right":0,"height":600,"fontSize":30,"color":"#fffff0","centerY":0,"align":"center"}}]};
		return Game2RecordUI;
	})(View);
var Game2ReportUI=(function(_super){
		function Game2ReportUI(){
			
		    this.HistoryList=null;
		    this.BtnClose=null;
		    this.Desc=null;

			Game2ReportUI.__super.call(this);
		}

		CLASS$(Game2ReportUI,'ui.game2.Game2ReportUI',_super);
		var __proto__=Game2ReportUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(Game2ReportUI.uiView);

		}

		Game2ReportUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":10,"x":10,"width":480,"skin":"resource/bg.png","sizeGrid":"30,5,5,5","height":800,"alpha":0.3}},{"type":"Image","props":{"y":10,"width":200,"skin":"resource/base.png","sizeGrid":"5,5,5,5","left":0,"height":600,"centerY":0},"child":[{"type":"List","props":{"y":50,"width":180,"var":"HistoryList","height":530,"centerX":0},"child":[{"type":"Box","props":{"y":0,"width":190,"name":"render","height":70,"centerX":0},"child":[{"type":"Image","props":{"width":190,"skin":"resource/dice_wnd1.png","sizeGrid":"5,5,5,5","height":70,"centerY":0,"centerX":0}},{"type":"Label","props":{"width":100,"valign":"middle","text":"100期","overflow":"hidden","name":"Round","left":10,"height":30,"fontSize":20,"color":"#ffffff","centerY":0,"align":"left"}},{"type":"Label","props":{"width":40,"valign":"middle","right":10,"name":"Result","height":30,"fontSize":20,"color":"#ffd700","centerY":0,"align":"left"}},{"type":"Image","props":{"width":50,"skin":"resource/coin_heads.png","right":15,"name":"Coin","height":50,"centerY":0}}]}]},{"type":"Label","props":{"y":20,"width":180,"valign":"middle","text":"开奖记录","overflow":"hidden","height":30,"fontSize":20,"color":"#ffffff","centerX":0,"align":"center"}}]},{"type":"Button","props":{"y":10,"width":480,"var":"BtnClose","stateNum":3,"sizeGrid":"5,5,5,5","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","height":800,"centerY":0,"centerX":0,"alpha":1}},{"type":"Label","props":{"y":100,"x":0,"width":200,"var":"Desc","valign":"middle","left":0,"height":600,"fontSize":30,"centerY":0,"align":"center"}}]};
		return Game2ReportUI;
	})(View);
var GameMain2UI=(function(_super){
		function GameMain2UI(){
			
		    this.GameMain=null;
		    this.BtnTails=null;
		    this.TxtTailsRate=null;
		    this.TxtTailsMoney=null;
		    this.BtnHeads=null;
		    this.TxtHeadsRate=null;
		    this.TxtHeadsMoney=null;
		    this.ResultTxt=null;
		    this.Coin=null;
		    this.TxtResultContainer=null;
		    this.TimeTxt=null;
		    this.NextTime=null;
		    this.BtnBack=null;
		    this.BtnMore=null;
		    this.BetMoney=null;
		    this.Txt1=null;
		    this.BonusMoney=null;
		    this.Txt2=null;
		    this.BtnRecord=null;
		    this.BtnReport=null;
		    this.BtnBlockLink=null;

			GameMain2UI.__super.call(this);
		}

		CLASS$(GameMain2UI,'ui.game2.GameMain2UI',_super);
		var __proto__=GameMain2UI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(GameMain2UI.uiView);

		}

		GameMain2UI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"x":24,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800,"centerY":0,"centerX":0}},{"type":"Image","props":{"width":500,"skin":"resource/dice_bg.png","sizeGrid":"28,15,12,8","scaleY":0.95,"scaleX":0.95,"height":843,"centerY":0,"centerX":0}},{"type":"Image","props":{"y":0,"x":28,"width":424,"skin":"resource/dice_wnd3.png","height":763,"centerX":0}},{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82,"centerX":0}},{"type":"Panel","props":{"y":0,"x":5,"width":470,"var":"GameMain","height":800},"child":[{"type":"Button","props":{"y":360,"width":180,"var":"BtnTails","stateNum":1,"skin":"resource/wnd_tails.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":10,"labelSize":30,"labelPadding":"-105","labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"labelAlign":"center","height":257,"centerX":90},"child":[{"type":"TextArea","props":{"y":0,"width":180,"var":"TxtTailsRate","valign":"middle","text":"1.9倍 ","strokeColor":"#381A09","stroke":5,"mouseEnabled":false,"height":40,"fontSize":25,"color":"#E2DCA7","centerX":0,"align":"center"}},{"type":"Label","props":{"width":180,"var":"TxtTailsMoney","valign":"middle","text":"999999","height":30,"fontSize":20,"color":"#ffffff","centerX":0,"bottom":15,"align":"center"}},{"type":"Label","props":{"y":175,"x":-180,"width":180,"valign":"middle","text":"尾数：13579bdf","height":40,"fontSize":20,"color":"#aaaaaa","centerX":0,"align":"center"}}]},{"type":"Button","props":{"y":360,"width":180,"var":"BtnHeads","stateNum":1,"skin":"resource/wnd_heads.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":10,"labelSize":30,"labelPadding":"-105","labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"labelAlign":"center","height":257,"centerX":-95},"child":[{"type":"TextArea","props":{"y":0,"width":180,"var":"TxtHeadsRate","valign":"middle","text":"1.9倍 ","strokeColor":"#381A09","stroke":5,"mouseEnabled":false,"height":40,"fontSize":25,"color":"#E2DCA7","centerX":0,"align":"center"}},{"type":"Label","props":{"x":200,"width":200,"var":"TxtHeadsMoney","valign":"middle","text":"999999","height":30,"fontSize":20,"color":"#ffffff","centerX":0,"bottom":15,"align":"center"}},{"type":"Label","props":{"y":175,"x":180,"width":180,"valign":"middle","text":"尾数：02468ace","height":40,"fontSize":20,"color":"#aaaaaa","centerX":0,"align":"center"}}]}]},{"type":"Image","props":{"y":90,"width":380,"skin":"resource/dice_wnd2.png","height":90,"centerX":0},"child":[{"type":"Label","props":{"y":0,"x":15,"width":350,"var":"ResultTxt","valign":"middle","type":"text","text":"期开奖结果","strokeColor":"#381A09","stroke":5,"mouseEnabled":false,"hitTestPrior":false,"height":50,"fontSize":27,"editable":false,"color":"#E2DCA7","centerX":0,"align":"center"}}]},{"type":"Image","props":{"y":140,"width":100,"var":"Coin","skin":"resource/coin_heads.png","height":100,"centerX":0}},{"type":"Panel","props":{"y":280,"x":77,"wordWrap":true,"width":326,"var":"TxtResultContainer","valign":"middle","text":"0xf76f310b23bd9c4ce6ee303ec75bb74dadeae885aba1af7d8a45b6827fc266ed","height":80,"fontSize":26,"color":"#aaaaaa","centerX":0,"bold":true,"align":"left"}},{"type":"TextArea","props":{"y":5,"width":250,"var":"TimeTxt","type":"text","text":"距离{}期开奖时间","mouseEnabled":false,"hitTestPrior":false,"height":70,"fontSize":24,"editable":false,"color":"#F6F3E1","centerX":0,"alpha":1,"align":"center"},"child":[{"type":"Label","props":{"y":35,"width":143,"var":"NextTime","text":"MM:SS","height":30,"fontSize":30,"color":"#B6DFE5","centerX":0,"align":"center"}}]},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"y":0,"width":80,"visible":false,"var":"BtnMore","right":0,"height":80,"alpha":1},"child":[{"type":"Image","props":{"width":46,"skin":"resource/more.png","height":22,"centerY":0,"centerX":0}}]},{"type":"Image","props":{"width":180,"skin":"resource/money_left.png","sizeGrid":"5,5,5,5","height":121,"centerX":-95,"bottom":55},"child":[{"type":"Label","props":{"width":150,"var":"BetMoney","valign":"middle","text":"--","height":30,"fontSize":25,"color":"#F6F3E1","centerY":0,"centerX":10,"align":"center"}},{"type":"Label","props":{"y":5,"width":50,"valign":"middle","text":"本金","height":30,"fontSize":25,"color":"#F6F3E1","centerX":10,"align":"right"}},{"type":"Label","props":{"width":50,"var":"Txt1","valign":"middle","height":30,"fontSize":25,"color":"#E2DCA7","centerX":10,"bottom":10,"align":"center"}}]},{"type":"Image","props":{"width":180,"skin":"resource/money_right.png","sizeGrid":"5,5,5,5","height":121,"centerX":90,"bottom":55},"child":[{"type":"Label","props":{"y":5,"width":50,"valign":"middle","text":"奖金","height":30,"fontSize":25,"color":"#F6F3E1","centerX":-10,"align":"right"}},{"type":"Label","props":{"width":150,"var":"BonusMoney","valign":"middle","text":"--","height":30,"fontSize":25,"color":"#F6F3E1","centerY":0,"centerX":-10,"align":"center"}},{"type":"Label","props":{"y":126,"width":50,"var":"Txt2","valign":"middle","height":30,"fontSize":25,"color":"#E2DCA7","centerX":-10,"bottom":10,"align":"center"}}]},{"type":"Button","props":{"y":10,"x":0,"width":63,"var":"BtnRecord","stateNum":1,"skin":"resource/left.png","sizeGrid":"10,10,10,10","scaleY":0.8,"scaleX":0.8,"right":0,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":20,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","height":72,"centerY":0}},{"type":"Button","props":{"y":340,"x":0,"width":63,"var":"BtnReport","stateNum":1,"skin":"resource/right.png","sizeGrid":"10,10,10,10","scaleY":0.8,"scaleX":0.8,"left":0,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":20,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","height":72,"centerY":0}},{"type":"Button","props":{"y":230,"width":80,"visible":false,"var":"BtnBlockLink","right":118,"height":80,"alpha":1},"child":[{"type":"Image","props":{"width":46,"skin":"resource/more.png","height":22,"centerY":0,"centerX":0}}]}]};
		return GameMain2UI;
	})(View);
var BetGoalUI=(function(_super){
		function BetGoalUI(){
			
		    this.BettingList=null;

			BetGoalUI.__super.call(this);
		}

		CLASS$(BetGoalUI,'ui.game3.BetGoalUI',_super);
		var __proto__=BetGoalUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(BetGoalUI.uiView);

		}

		BetGoalUI.uiView={"type":"View","props":{"width":470,"height":600},"child":[{"type":"List","props":{"y":0,"x":0,"width":470,"var":"BettingList","height":600},"child":[{"type":"Box","props":{"y":10,"width":480,"scaleY":0.95,"scaleX":0.95,"name":"render","height":262,"centerX":0},"child":[{"type":"Image","props":{"width":480,"skin":"resource/game3card.png","sizeGrid":"5,5,5,5","height":262,"centerY":0,"centerX":0}},{"type":"Image","props":{"y":60,"width":475,"skin":"resource/game3wnd.png","sizeGrid":"5,5,5,5","scaleY":0.95,"scaleX":0.95,"height":190,"centerX":0}},{"type":"Label","props":{"y":0,"width":200,"valign":"middle","text":"世界杯","strokeColor":"#333333","stroke":8,"overflow":"hidden","name":"GameType","height":40,"fontSize":27,"color":"#ffffff","centerX":0,"bold":true,"align":"center"}},{"type":"Label","props":{"y":60,"width":262,"valign":"middle","text":"截止时间","right":25,"overflow":"hidden","name":"EndTime","height":40,"fontSize":20,"color":"#aaaaaa","align":"right"}},{"type":"Label","props":{"y":60,"x":25,"width":200,"valign":"middle","text":"999999 ETH","overflow":"visible","name":"TotalBonus","height":40,"fontSize":20,"color":"#fffff0","align":"left"}},{"type":"Button","props":{"y":150,"x":85,"width":150,"toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","name":"BetOdd","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"进球单数(9.9)","height":60,"centerX":-80}},{"type":"Button","props":{"y":150,"width":150,"toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","name":"BetEven","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"进球双数(9.9)","height":60,"centerX":80}},{"type":"Label","props":{"y":100,"width":150,"valign":"middle","text":"vs","strokeColor":"#381A09","stroke":3,"overflow":"hidden","height":40,"fontSize":20,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Label","props":{"y":200,"width":150,"valign":"middle","text":"99%","overflow":"hidden","name":"BetOddPer","height":40,"fontSize":20,"color":"#aaaaaa","centerX":-80,"align":"center"}},{"type":"Label","props":{"y":200,"width":150,"valign":"middle","text":"99%","overflow":"hidden","name":"BetEvenPer","height":40,"fontSize":20,"color":"#aaaaaa","centerX":80,"align":"center"}},{"type":"Label","props":{"y":100,"width":200,"valign":"middle","text":"主队","strokeColor":"#381A09","stroke":5,"overflow":"scroll","name":"HomeName","height":40,"fontSize":25,"color":"#B6DFE5","centerX":-120,"align":"right"}},{"type":"Label","props":{"y":100,"width":200,"valign":"middle","text":"客队","strokeColor":"#381A09","stroke":5,"overflow":"scroll","name":"VisitorName","height":40,"fontSize":25,"color":"#B6DFE5","centerX":120,"align":"left"}},{"type":"Button","props":{"y":5,"width":40,"stateNum":1,"skin":"resource/close.png","right":5,"name":"BtnDelete","labelSize":20,"labelColors":"#ffffff","labelAlign":"center","height":40}}]}]}]};
		return BetGoalUI;
	})(View);
var BetScoreUI=(function(_super){
		function BetScoreUI(){
			
		    this.BettingList=null;

			BetScoreUI.__super.call(this);
		}

		CLASS$(BetScoreUI,'ui.game3.BetScoreUI',_super);
		var __proto__=BetScoreUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(BetScoreUI.uiView);

		}

		BetScoreUI.uiView={"type":"View","props":{"width":470,"height":600},"child":[{"type":"List","props":{"y":0,"x":0,"width":470,"var":"BettingList","height":600},"child":[{"type":"Box","props":{"y":10,"width":480,"scaleY":0.95,"scaleX":0.95,"name":"render","height":262,"centerX":0},"child":[{"type":"Image","props":{"width":480,"skin":"resource/game3card.png","sizeGrid":"5,5,5,5","height":262,"centerY":0,"centerX":0}},{"type":"Image","props":{"y":60,"width":475,"skin":"resource/game3wnd.png","sizeGrid":"5,5,5,5","scaleY":0.95,"scaleX":0.95,"height":190,"centerX":0}},{"type":"Label","props":{"y":0,"width":200,"valign":"middle","text":"世界杯","strokeColor":"#333333","stroke":8,"overflow":"hidden","name":"GameType","height":40,"fontSize":27,"color":"#ffffff","centerX":0,"bold":true,"align":"center"}},{"type":"Label","props":{"y":60,"width":257,"valign":"middle","text":"截止时间","right":25,"overflow":"hidden","name":"EndTime","height":40,"fontSize":20,"color":"#aaaaaa","align":"right"}},{"type":"Label","props":{"y":60,"x":25,"width":200,"valign":"middle","text":"999999 ETH","overflow":"visible","name":"TotalBonus","height":40,"fontSize":20,"color":"#fffff0","align":"left"}},{"type":"Button","props":{"y":150,"width":420,"toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","name":"BtnChoose","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"点击选择比分","height":80,"centerX":0}},{"type":"Label","props":{"y":100,"width":150,"valign":"middle","text":"vs","strokeColor":"#381A09","stroke":3,"overflow":"hidden","height":40,"fontSize":20,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Label","props":{"y":100,"width":200,"valign":"middle","text":"主队","strokeColor":"#381A09","stroke":5,"overflow":"scroll","name":"HomeName","height":40,"fontSize":25,"color":"#B6DFE5","centerX":-120,"align":"right"}},{"type":"Label","props":{"y":100,"width":200,"valign":"middle","text":"客队","strokeColor":"#381A09","stroke":5,"overflow":"scroll","name":"VisitorName","height":40,"fontSize":25,"color":"#B6DFE5","centerX":120,"align":"left"}},{"type":"Button","props":{"y":5,"width":40,"stateNum":1,"skin":"resource/close.png","right":5,"name":"BtnDelete","labelSize":20,"labelColors":"#ffffff","labelAlign":"center","height":40}}]}]}]};
		return BetScoreUI;
	})(View);
var BetScoreInfoUI=(function(_super){
		function BetScoreInfoUI(){
			
		    this.HomeName=null;
		    this.VisitorName=null;
		    this.Bet10=null;
		    this.Bet00=null;
		    this.Bet01=null;
		    this.Bet10Per=null;
		    this.Bet00Per=null;
		    this.Bet01Per=null;
		    this.Bet20=null;
		    this.Bet11=null;
		    this.Bet02=null;
		    this.Bet20Per=null;
		    this.Bet11Per=null;
		    this.Bet02Per=null;
		    this.Bet21=null;
		    this.Bet22=null;
		    this.Bet12=null;
		    this.Bet21Per=null;
		    this.Bet22Per=null;
		    this.Bet12Per=null;
		    this.BetWin=null;
		    this.BetDraw=null;
		    this.BetLose=null;
		    this.BetWinPer=null;
		    this.BetDrawPer=null;
		    this.BetLosePer=null;
		    this.BtnConfirm=null;
		    this.BtnCancel=null;

			BetScoreInfoUI.__super.call(this);
		}

		CLASS$(BetScoreInfoUI,'ui.game3.BetScoreInfoUI',_super);
		var __proto__=BetScoreInfoUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(BetScoreInfoUI.uiView);

		}

		BetScoreInfoUI.uiView={"type":"View","props":{"width":480,"skin":"resource/btn4.png","height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/dice_wnd1.png","sizeGrid":"10,10,10,10","height":800,"alpha":0.5}},{"type":"Image","props":{"x":0,"width":480,"skin":"resource/game3tip.png","sizeGrid":"100,30,120,30","height":650,"centerY":0,"centerX":0},"child":[{"type":"Label","props":{"y":30,"width":200,"var":"HomeName","valign":"middle","text":"主队","strokeColor":"#381A09","stroke":5,"overflow":"visible","height":40,"fontSize":25,"color":"#B6DFE5","centerX":-120,"align":"right"}},{"type":"Label","props":{"y":30,"width":150,"valign":"middle","text":"/","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":40,"fontSize":20,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Label","props":{"y":30,"width":200,"var":"VisitorName","valign":"middle","text":"客队","strokeColor":"#381A09","stroke":5,"overflow":"scroll","height":40,"fontSize":25,"color":"#B6DFE5","centerX":120,"align":"left"}},{"type":"Button","props":{"y":150,"width":120,"var":"Bet10","toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"1 - 0 (9.9)","height":60,"centerX":-140}},{"type":"Button","props":{"y":150,"width":120,"var":"Bet00","toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"0 - 0 (9.9)","height":60,"centerX":0}},{"type":"Button","props":{"y":150,"width":120,"var":"Bet01","toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"0 - 1 (9.9)","height":60,"centerX":140}},{"type":"Label","props":{"y":200,"width":120,"var":"Bet10Per","valign":"middle","text":"99%","overflow":"hidden","height":40,"fontSize":20,"color":"#aaaaaa","centerX":-140,"align":"center"}},{"type":"Label","props":{"y":200,"width":120,"var":"Bet00Per","valign":"middle","text":"99%","overflow":"hidden","height":40,"fontSize":20,"color":"#aaaaaa","centerX":0,"align":"center"}},{"type":"Label","props":{"y":200,"width":120,"var":"Bet01Per","valign":"middle","text":"99%","overflow":"hidden","height":40,"fontSize":20,"color":"#aaaaaa","centerX":140,"align":"center"}},{"type":"Button","props":{"y":250,"width":120,"var":"Bet20","toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"2 - 0 (9.9)","height":60,"centerX":-140}},{"type":"Button","props":{"y":250,"width":120,"var":"Bet11","toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"1 - 1 (9.9)","height":60,"centerX":0}},{"type":"Button","props":{"y":250,"width":120,"var":"Bet02","toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"0 - 2 (9.9)","height":60,"centerX":140}},{"type":"Label","props":{"y":300,"width":120,"var":"Bet20Per","valign":"middle","text":"99%","overflow":"hidden","height":40,"fontSize":20,"color":"#aaaaaa","centerX":-140,"align":"center"}},{"type":"Label","props":{"y":300,"width":120,"var":"Bet11Per","valign":"middle","text":"99%","overflow":"hidden","height":40,"fontSize":20,"color":"#aaaaaa","centerX":0,"align":"center"}},{"type":"Label","props":{"y":300,"width":120,"var":"Bet02Per","valign":"middle","text":"99%","overflow":"hidden","height":40,"fontSize":20,"color":"#aaaaaa","centerX":140,"align":"center"}},{"type":"Button","props":{"y":350,"width":120,"var":"Bet21","toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"2 - 1 (9.9)","height":60,"centerX":-140}},{"type":"Button","props":{"y":350,"width":120,"var":"Bet22","toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"2 - 2 (9.9)","height":60,"centerX":0}},{"type":"Button","props":{"y":350,"width":120,"var":"Bet12","toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"1 - 2 (9.9)","height":60,"centerX":140}},{"type":"Label","props":{"y":400,"width":120,"var":"Bet21Per","valign":"middle","text":"99%","overflow":"hidden","height":40,"fontSize":20,"color":"#aaaaaa","centerX":-140,"align":"center"}},{"type":"Label","props":{"y":400,"width":120,"var":"Bet22Per","valign":"middle","text":"99%","overflow":"hidden","height":40,"fontSize":20,"color":"#aaaaaa","centerX":0,"align":"center"}},{"type":"Label","props":{"y":400,"width":120,"var":"Bet12Per","valign":"middle","text":"99%","overflow":"hidden","height":40,"fontSize":20,"color":"#aaaaaa","centerX":140,"align":"center"}},{"type":"Button","props":{"y":450,"width":120,"var":"BetWin","toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"赢其他 (9.9)","height":60,"centerX":-140}},{"type":"Button","props":{"y":450,"width":120,"var":"BetDraw","toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"平其他 (9.9)","height":60,"centerX":0}},{"type":"Button","props":{"y":450,"width":120,"var":"BetLose","toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"负其他 (9.9)","height":60,"centerX":140}},{"type":"Label","props":{"y":500,"width":120,"var":"BetWinPer","valign":"middle","text":"99%","overflow":"hidden","height":40,"fontSize":20,"color":"#aaaaaa","centerX":-140,"align":"center"}},{"type":"Label","props":{"y":500,"width":120,"var":"BetDrawPer","valign":"middle","text":"99%","overflow":"hidden","height":40,"fontSize":20,"color":"#aaaaaa","centerX":0,"align":"center"}},{"type":"Label","props":{"y":500,"width":120,"var":"BetLosePer","valign":"middle","text":"99%","overflow":"hidden","height":40,"fontSize":20,"color":"#aaaaaa","centerX":140,"align":"center"}},{"type":"Label","props":{"y":100,"width":120,"valign":"middle","text":"主胜","strokeColor":"#111111","stroke":3,"overflow":"hidden","height":40,"fontSize":25,"color":"#40e0d0","centerX":-140,"align":"center"}},{"type":"Label","props":{"y":100,"width":120,"valign":"middle","text":"平局","strokeColor":"#111111","stroke":3,"overflow":"hidden","height":40,"fontSize":25,"color":"#40e0d0","centerX":0,"align":"center"}},{"type":"Label","props":{"y":100,"width":120,"valign":"middle","text":"主负","strokeColor":"#111111","stroke":3,"overflow":"hidden","height":40,"fontSize":25,"color":"#40e0d0","centerX":140,"align":"center"}},{"type":"Button","props":{"y":565,"width":180,"var":"BtnConfirm","toggle":true,"stateNum":1,"skin":"resource/btn4.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":30,"labelPadding":"-2","labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"确定","height":70,"centerX":120}},{"type":"Button","props":{"y":565,"width":180,"var":"BtnCancel","toggle":true,"stateNum":1,"skin":"resource/btn4.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":30,"labelPadding":"-2","labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"取消","height":70,"centerX":-120}}]}]};
		return BetScoreInfoUI;
	})(View);
var BetWinloseUI=(function(_super){
		function BetWinloseUI(){
			
		    this.BettingList=null;

			BetWinloseUI.__super.call(this);
		}

		CLASS$(BetWinloseUI,'ui.game3.BetWinloseUI',_super);
		var __proto__=BetWinloseUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(BetWinloseUI.uiView);

		}

		BetWinloseUI.uiView={"type":"View","props":{"width":470,"height":600},"child":[{"type":"List","props":{"y":0,"x":0,"width":470,"var":"BettingList","height":600},"child":[{"type":"Box","props":{"y":10,"width":480,"scaleY":0.95,"scaleX":0.95,"name":"render","height":262,"centerX":0},"child":[{"type":"Image","props":{"width":480,"skin":"resource/game3card.png","sizeGrid":"5,5,5,5","height":262,"centerY":0,"centerX":0}},{"type":"Image","props":{"y":60,"width":475,"skin":"resource/game3wnd.png","sizeGrid":"5,5,5,5","scaleY":0.95,"scaleX":0.95,"height":190,"centerX":0}},{"type":"Label","props":{"y":0,"width":200,"valign":"middle","text":"世界杯","strokeColor":"#333333","stroke":8,"overflow":"hidden","name":"GameType","height":40,"fontSize":27,"color":"#ffffff","centerX":0,"bold":true,"align":"center"}},{"type":"Label","props":{"y":60,"width":234,"valign":"middle","text":"截止时间","right":25,"overflow":"hidden","name":"EndTime","height":40,"fontSize":20,"color":"#aaaaaa","align":"right"}},{"type":"Label","props":{"y":60,"x":25,"width":200,"valign":"middle","text":"999999 ETH","overflow":"visible","name":"TotalBonus","height":40,"fontSize":20,"color":"#fffff0","align":"left"}},{"type":"Button","props":{"y":150,"width":140,"toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","name":"BetHome","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"主胜(9.9)","height":60,"centerX":-140}},{"type":"Button","props":{"width":140,"toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","name":"BetDraw","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"平(9.9)","height":60,"centerX":0,"bottom":52}},{"type":"Button","props":{"y":150,"width":140,"toggle":true,"stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"5,5,5,5","name":"BetVisitor","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":20,"labelColors":"#fffff0,#fffff0,#fffff0","labelBold":true,"label":"客胜(9.9)","height":60,"centerX":140}},{"type":"Label","props":{"y":100,"width":150,"valign":"middle","text":"vs","strokeColor":"#381A09","stroke":3,"overflow":"hidden","height":40,"fontSize":20,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Label","props":{"y":200,"width":140,"valign":"middle","text":"99%","overflow":"hidden","name":"BetHomePer","height":40,"fontSize":20,"color":"#aaaaaa","centerX":-140,"align":"center"}},{"type":"Label","props":{"y":200,"width":140,"valign":"middle","text":"99%","overflow":"hidden","name":"BetDrawPer","height":40,"fontSize":20,"color":"#aaaaaa","centerX":0,"align":"center"}},{"type":"Label","props":{"y":100,"width":200,"valign":"middle","text":"主队","strokeColor":"#381A09","stroke":5,"overflow":"scroll","name":"HomeName","height":40,"fontSize":25,"color":"#B6DFE5","centerX":-120,"align":"right"}},{"type":"Label","props":{"y":100,"width":200,"valign":"middle","text":"客队","strokeColor":"#381A09","stroke":5,"overflow":"scroll","name":"VisitorName","height":40,"fontSize":25,"color":"#B6DFE5","centerX":120,"align":"left"}},{"type":"Button","props":{"y":5,"width":40,"stateNum":1,"skin":"resource/close.png","right":5,"name":"BtnDelete","labelSize":20,"labelColors":"#ffffff","labelAlign":"center","height":40}},{"type":"Label","props":{"y":200,"width":140,"valign":"middle","text":"99%","overflow":"hidden","name":"BetVisitorPer","height":40,"fontSize":20,"color":"#aaaaaa","centerX":140,"align":"center"}}]}]}]};
		return BetWinloseUI;
	})(View);
var FootBallOrderListUI=(function(_super){
		function FootBallOrderListUI(){
			
		    this.OrderList=null;
		    this.BtnClear=null;
		    this.BetTxt=null;
		    this.BtnBack=null;
		    this.BtnPay=null;
		    this.RateTxt=null;
		    this.BtnDec=null;
		    this.BtnAdd=null;
		    this.BtnRate=null;
		    this.RateList=null;
		    this.BtnHideRateList=null;
		    this.BtnRate50=null;
		    this.BtnRate20=null;
		    this.BtnRate10=null;

			FootBallOrderListUI.__super.call(this);
		}

		CLASS$(FootBallOrderListUI,'ui.game3.FootBallOrderListUI',_super);
		var __proto__=FootBallOrderListUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(FootBallOrderListUI.uiView);

		}

		FootBallOrderListUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"x":10,"width":480,"skin":"resource/main_bg.png","height":800,"centerY":0,"centerX":0}},{"type":"Image","props":{"y":718,"x":0,"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82,"centerX":0,"bottom":0}},{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82,"centerX":0}},{"type":"Panel","props":{"y":90,"x":5,"width":470,"var":"OrderList","height":550}},{"type":"Label","props":{"y":5,"x":165,"width":250,"valign":"middle","text":"确认订单","height":80,"fontSize":40,"color":"#F6F3E1","centerX":0,"align":"center"}},{"type":"Button","props":{"y":0,"width":80,"var":"BtnClear","right":0,"labelSize":24,"labelColors":"#40e0d0","labelAlign":"center","height":80},"child":[{"type":"Image","props":{"width":32,"skin":"resource/delete.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Image","props":{"x":5,"width":300,"skin":"resource/input.png","sizeGrid":"10,10,10,10","height":80,"bottom":0},"child":[{"type":"Label","props":{"x":-40,"width":250,"var":"BetTxt","text":"共$注，$元","height":24,"fontSize":24,"color":"#F6F3E1","centerY":0,"centerX":0,"align":"center"}}]},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"x":315,"width":160,"var":"BtnPay","stateNum":1,"skin":"resource/btn1.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#FEF1AF,#FEF1AF,#FEF1AF","label":"确定","height":80,"bottom":5}},{"type":"Image","props":{"y":650,"width":440,"skin":"resource/btn_create1.png","sizeGrid":"0,20,0,20","height":65,"centerX":0,"alpha":1},"child":[{"type":"Label","props":{"x":75,"width":100,"var":"RateTxt","text":"1倍","height":30,"fontSize":30,"color":"#ffffff","centerY":0,"centerX":0,"align":"center"}},{"type":"Button","props":{"x":0,"width":135,"var":"BtnDec","stateNum":1,"skin":"resource/dec.png","height":60,"centerY":0}},{"type":"Button","props":{"width":135,"var":"BtnAdd","stateNum":1,"skin":"resource/add.png","right":0,"height":60,"centerY":0}},{"type":"Button","props":{"y":10,"width":135,"var":"BtnRate","height":60,"centerY":0,"centerX":0}},{"type":"Image","props":{"width":200,"visible":false,"var":"RateList","skin":"resource/base.png","sizeGrid":"10,10,10,10","height":200,"centerX":0,"bottom":60},"child":[{"type":"Button","props":{"width":480,"var":"BtnHideRateList","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","height":800,"centerY":-155,"centerX":0,"alpha":1}},{"type":"Button","props":{"y":130,"x":10,"width":180,"var":"BtnRate50","stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","right":10,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"50倍","height":60,"bottom":10,"alpha":1}},{"type":"Button","props":{"width":180,"var":"BtnRate20","stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"20倍","height":60,"centerX":0,"bottom":70,"alpha":1}},{"type":"Button","props":{"width":180,"var":"BtnRate10","stateNum":3,"skin":"resource/checkbutton.png","sizeGrid":"10,10,10,10","right":10,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"10倍","height":60,"bottom":130,"alpha":1}}]}]}]};
		return FootBallOrderListUI;
	})(View);
var GameMain3UI=(function(_super){
		function GameMain3UI(){
			
		    this.BtnType=null;
		    this.BetTxt=null;
		    this.BtnOk=null;
		    this.GameMain=null;
		    this.BtnBack=null;
		    this.BtnMore=null;

			GameMain3UI.__super.call(this);
		}

		CLASS$(GameMain3UI,'ui.game3.GameMain3UI',_super);
		var __proto__=GameMain3UI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(GameMain3UI.uiView);

		}

		GameMain3UI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800}},{"type":"Image","props":{"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82}},{"type":"Tab","props":{"y":0,"x":90,"width":300,"var":"BtnType","selectedIndex":0,"height":80,"centerX":0},"child":[{"type":"Image","props":{"y":0,"width":306,"skin":"resource/checkbutton_bg.png","sizeGrid":"28,15,12,8","height":80,"centerX":0}},{"type":"Button","props":{"y":0,"x":0,"width":100,"stateNum":3,"skin":"resource/checkbutton4.png","sizeGrid":"5,5,5,5","name":"item0","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":30,"labelColors":"#aaaaaa,#FEF5CC,#FEF5CC","label":"胜平负","height":80,"centerY":0,"centerX":-100}},{"type":"Button","props":{"y":0,"x":100,"width":100,"stateNum":3,"skin":"resource/checkbutton4.png","sizeGrid":"5,5,5,5","name":"item1","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":30,"labelColors":"#aaaaaa,#FEF5CC,#FEF5CC","label":"比分","height":80,"centerY":0,"centerX":0}},{"type":"Button","props":{"y":0,"x":200,"width":100,"stateNum":3,"skin":"resource/checkbutton4.png","sizeGrid":"5,5,5,5","name":"item2","labelStrokeColor":"#381A09","labelStroke":5,"labelSize":30,"labelColors":"#aaaaaa,#FEF5CC,#FEF5CC","label":"进球","height":80,"centerY":0,"centerX":100}}]},{"type":"Image","props":{"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82,"centerX":0,"bottom":0}},{"type":"Image","props":{"x":5,"width":300,"skin":"resource/input.png","sizeGrid":"5,5,5,5","height":80,"bottom":0},"child":[{"type":"Label","props":{"width":250,"var":"BetTxt","text":"共$注，$元","height":24,"fontSize":24,"color":"#ffffff","centerY":0,"centerX":0,"align":"center"}}]},{"type":"Button","props":{"x":315,"width":160,"var":"BtnOk","stateNum":1,"skin":"resource/btn1.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#FEF1AF,#FEF1AF,#FEF1AF","label":"确定","height":80,"bottom":5}},{"type":"Panel","props":{"y":80,"x":5,"width":470,"var":"GameMain","height":640}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"y":0,"width":80,"visible":false,"var":"BtnMore","right":0,"height":80},"child":[{"type":"Image","props":{"width":46,"skin":"resource/more.png","height":22,"centerY":0,"centerX":0}}]}]};
		return GameMain3UI;
	})(View);
var HomeMainUI=(function(_super){
		function HomeMainUI(){
			
		    this.GameList=null;
		    this.BtnFunc=null;
		    this.BtnWallet=null;
		    this.BtnHall=null;
		    this.BtnRecord=null;

			HomeMainUI.__super.call(this);
		}

		CLASS$(HomeMainUI,'ui.home.HomeMainUI',_super);
		var __proto__=HomeMainUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(HomeMainUI.uiView);

		}

		HomeMainUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800}},{"type":"Image","props":{"y":0,"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82,"centerX":0},"child":[{"type":"Image","props":{"width":438,"skin":"resource/name.png","sizeGrid":"28,15,12,8","scaleY":0.6,"scaleX":0.6,"height":94,"centerY":0,"centerX":0}}]},{"type":"List","props":{"y":90,"x":5,"width":470,"var":"GameList","vScrollBarSkin":"comp/vscroll.png","height":600},"child":[{"type":"Box","props":{"y":5,"x":0,"width":240,"name":"render","height":260},"child":[{"type":"Image","props":{"y":0,"width":240,"skin":"resource/icon1.png","sizeGrid":"10,10,10,10","name":"Icon","height":260,"centerX":0}}]}]},{"type":"Image","props":{"width":480,"skin":"resource/main_bottom.png","sizeGrid":"28,15,12,8","height":108,"centerX":0,"bottom":0}},{"type":"Tab","props":{"y":720,"x":0,"width":480,"var":"BtnFunc","stateNum":0,"selectedIndex":0,"height":80,"bottom":0},"child":[{"type":"Button","props":{"y":0,"x":320,"width":160,"var":"BtnWallet","stateNum":3,"sizeGrid":"10,10,10,10","right":0,"name":"item2","labelSize":25,"labelPadding":"30","labelColors":"#929292,#0079ff","height":80,"bottom":0},"child":[{"type":"Image","props":{"width":112,"skin":"resource/wallet.png","scaleY":0.8,"scaleX":0.8,"hitTestPrior":false,"height":85,"centerY":-20,"centerX":0}},{"type":"Label","props":{"width":160,"valign":"middle","text":"钱包","overflow":"hidden","height":30,"fontSize":25,"color":"#F6F3E1","centerX":0,"bottom":5,"align":"center"}}]},{"type":"Button","props":{"y":0,"x":-10,"width":160,"var":"BtnHall","stateNum":3,"sizeGrid":"10,10,10,10","name":"item0","labelSize":25,"labelPadding":"30","labelColors":"#929292,#0079ff","height":80,"bottom":0},"child":[{"type":"Image","props":{"x":383,"width":92,"skin":"resource/home.png","scaleY":0.8,"scaleX":0.8,"hitTestPrior":false,"height":89,"centerY":-20,"centerX":0}},{"type":"Label","props":{"y":45,"x":330,"width":160,"valign":"middle","text":"游戏","overflow":"hidden","height":30,"fontSize":25,"color":"#F6F3E1","centerX":0,"bottom":5,"align":"center"}}]},{"type":"Button","props":{"y":0,"x":160,"width":160,"var":"BtnRecord","stateNum":3,"sizeGrid":"10,10,10,10","name":"item1","labelSize":25,"labelPadding":"30","labelColors":"#929292,#0079ff","height":80,"centerX":0,"bottom":0},"child":[{"type":"Image","props":{"width":93,"skin":"resource/record.png","scaleY":0.8,"scaleX":0.8,"hitTestPrior":false,"height":102,"centerY":-20,"centerX":0}},{"type":"Label","props":{"y":45,"x":160,"width":160,"valign":"middle","text":"记录","overflow":"hidden","height":30,"fontSize":25,"color":"#F6F3E1","centerX":0,"bottom":5,"align":"center"}}]}]}]};
		return HomeMainUI;
	})(View);
var confirmUI=(function(_super){
		function confirmUI(){
			
		    this.Message=null;
		    this.BtnOk=null;
		    this.BtnNo=null;

			confirmUI.__super.call(this);
		}

		CLASS$(confirmUI,'ui.home.confirmUI',_super);
		var __proto__=confirmUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(confirmUI.uiView);

		}

		confirmUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/bg.png","sizeGrid":"30,5,5,5","height":800,"alpha":0.3}},{"type":"Image","props":{"width":400,"skin":"resource/base.png","sizeGrid":"10,10,10,10","height":250,"centerY":0,"centerX":0},"child":[{"type":"Label","props":{"wordWrap":true,"width":380,"var":"Message","valign":"middle","text":"你真的要这样吗？","height":150,"fontSize":24,"color":"#F6F3E1","centerY":-30,"centerX":0,"align":"center"}},{"type":"Button","props":{"width":180,"var":"BtnOk","stateNum":3,"skin":"resource/btn_wallet.png","sizeGrid":"5,5,5,5","right":10,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"确定","height":60,"bottom":10,"alpha":1}},{"type":"Button","props":{"x":10,"width":180,"var":"BtnNo","stateNum":3,"skin":"resource/btn_wallet.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"取消","height":60,"bottom":10,"alpha":1}}]}]};
		return confirmUI;
	})(View);
var loadingUI=(function(_super){
		function loadingUI(){
			
		    this.Message=null;

			loadingUI.__super.call(this);
		}

		CLASS$(loadingUI,'ui.home.loadingUI',_super);
		var __proto__=loadingUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(loadingUI.uiView);

		}

		loadingUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/bg.png","sizeGrid":"30,5,5,5","height":800,"alpha":0.3}},{"type":"Image","props":{"width":300,"skin":"resource/base.png","sizeGrid":"5,5,5,5","height":150,"centerY":0,"centerX":0},"child":[{"type":"Label","props":{"wordWrap":true,"width":250,"var":"Message","valign":"middle","text":"准备数据中……","height":100,"fontSize":24,"color":"#F6F3E1","centerY":0,"centerX":0,"align":"center"}}]}]};
		return loadingUI;
	})(View);
var tipsUI=(function(_super){
		function tipsUI(){
			
		    this.Message=null;
		    this.BtnOk=null;

			tipsUI.__super.call(this);
		}

		CLASS$(tipsUI,'ui.home.tipsUI',_super);
		var __proto__=tipsUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(tipsUI.uiView);

		}

		tipsUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":10,"x":10,"width":480,"skin":"resource/bg.png","sizeGrid":"30,5,5,5","height":800,"alpha":0.3}},{"type":"Image","props":{"width":400,"skin":"resource/base.png","sizeGrid":"5,5,5,5","height":250,"centerY":0,"centerX":0},"child":[{"type":"Label","props":{"wordWrap":true,"width":370,"var":"Message","valign":"middle","text":"121期开始投注了！","height":150,"fontSize":24,"color":"#F6F3E1","centerY":-30,"centerX":0,"align":"center"}},{"type":"Button","props":{"width":200,"var":"BtnOk","stateNum":3,"skin":"resource/btn_wallet.png","sizeGrid":"5,5,5,5","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"确定","height":60,"centerX":0,"bottom":10,"alpha":1}}]}]};
		return tipsUI;
	})(View);
var RecordUI=(function(_super){
		function RecordUI(){
			
		    this.Desc=null;
		    this.RecordList=null;
		    this.BtnBack=null;
		    this.BtnRefresh=null;

			RecordUI.__super.call(this);
		}

		CLASS$(RecordUI,'ui.record.RecordUI',_super);
		var __proto__=RecordUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(RecordUI.uiView);

		}

		RecordUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800}},{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_top.png","sizeGrid":"28,15,12,8","height":82,"centerX":0}},{"type":"Label","props":{"y":85,"x":5,"width":470,"var":"Desc","valign":"middle","strokeColor":"#381A09","stroke":5,"height":700,"fontSize":30,"color":"#aaaaaa","centerX":0,"align":"center"}},{"type":"List","props":{"y":85,"width":470,"var":"RecordList","height":700,"centerX":0},"child":[{"type":"Box","props":{"y":5,"width":470,"name":"render","height":100,"centerX":0},"child":[{"type":"Image","props":{"width":460,"skin":"resource/base.png","sizeGrid":"5,5,5,5","height":110,"centerY":0,"centerX":0}},{"type":"Image","props":{"x":5,"width":460,"skin":"resource/line.png","sizeGrid":"5,5,5,5","height":100,"centerY":0,"centerX":0}},{"type":"Label","props":{"y":15,"x":25,"width":150,"valign":"middle","text":"和值","name":"Type","height":30,"fontSize":27,"color":"#ffffff","align":"left"}},{"type":"Label","props":{"y":60,"x":25,"width":150,"valign":"middle","text":"1883ETH","name":"Price","height":30,"fontSize":30,"color":"#c0c0c0","align":"left"}},{"type":"Label","props":{"y":15,"width":100,"valign":"middle","text":"194期","right":25,"name":"Round","height":30,"fontSize":27,"color":"#c0c0c0","align":"right"}},{"type":"Label","props":{"y":60,"width":300,"valign":"middle","text":"等待开奖/恭喜中奖/未中奖","right":25,"overflow":"scroll","name":"Text","height":30,"fontSize":30,"color":"#B6DFE5","align":"right"}},{"type":"Label","props":{"y":60,"width":180,"valign":"middle","text":"111.111 ETH","right":25,"overflow":"scroll","name":"Bonus","height":30,"fontSize":30,"color":"#ffd700","align":"right"}},{"type":"Button","props":{"y":271,"x":10,"width":450,"sizeGrid":"10,10,10,10","name":"BtnCheck","labelSize":40,"labelColors":"#ffffff","labelAlign":"left","height":100,"centerY":0,"centerX":0,"alpha":0.5}}]}]},{"type":"Label","props":{"y":20,"width":280,"valign":"middle","text":"投注记录","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"y":0,"width":80,"var":"BtnRefresh","right":0,"height":80},"child":[{"type":"Image","props":{"width":50,"skin":"resource/refresh.png","height":60,"centerY":0,"centerX":0}}]}]};
		return RecordUI;
	})(View);
var RecordInfoUI=(function(_super){
		function RecordInfoUI(){
			
		    this.Numbers=null;
		    this.Result=null;
		    this.Num1=null;
		    this.Num2=null;
		    this.Num3=null;
		    this.Type=null;
		    this.BonusTitle=null;
		    this.Status=null;
		    this.Bonus=null;
		    this.Price=null;
		    this.Hands=null;

			RecordInfoUI.__super.call(this);
		}

		CLASS$(RecordInfoUI,'ui.record.RecordInfoUI',_super);
		var __proto__=RecordInfoUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(RecordInfoUI.uiView);

		}

		RecordInfoUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/bg.png","sizeGrid":"30,5,5,5","height":800,"alpha":0.5}},{"type":"Image","props":{"width":400,"skin":"resource/base.png","sizeGrid":"5,5,5,5","height":500,"centerY":0,"centerX":0},"child":[{"type":"Label","props":{"y":290,"x":20,"width":360,"var":"Numbers","valign":"top","text":"4,15,13,15","overflow":"scroll","height":90,"fontSize":24,"color":"#B6DFE5","align":"left"}},{"type":"TextArea","props":{"y":20,"width":350,"var":"Result","valign":"middle","type":"text","text":"0期开奖","mouseEnabled":false,"hitTestPrior":false,"height":70,"fontSize":24,"editable":false,"color":"#F6F3E1","centerX":0,"align":"left"},"child":[{"type":"Image","props":{"width":40,"var":"Num1","skin":"resource/dice1.png","right":110,"height":40,"centerY":0}},{"type":"Image","props":{"width":40,"var":"Num2","skin":"resource/dice1.png","right":60,"height":40,"centerY":0}},{"type":"Image","props":{"width":40,"var":"Num3","skin":"resource/dice1.png","right":10,"height":40,"centerY":0}}]},{"type":"Label","props":{"y":240,"x":20,"width":300,"var":"Type","valign":"middle","text":"我的投注 - ","overflow":"hidden","height":30,"fontSize":24,"color":"#ffffff","align":"left"}},{"type":"Label","props":{"y":120,"x":20,"width":150,"valign":"middle","text":"订单状态","overflow":"hidden","height":30,"fontSize":24,"color":"#ffffff","align":"left"}},{"type":"Label","props":{"y":120,"width":210,"var":"BonusTitle","valign":"middle","text":"中奖金额","right":10,"overflow":"hidden","height":30,"fontSize":24,"color":"#ffffff","align":"left"}},{"type":"Image","props":{"y":10,"width":400,"skin":"resource/line.png","sizeGrid":"30,5,5,5","height":100,"centerX":0,"alpha":0.3}},{"type":"Label","props":{"y":160,"x":20,"width":150,"var":"Status","valign":"middle","text":"已中奖","strokeColor":"#381A09","stroke":5,"overflow":"hidden","height":60,"fontSize":30,"color":"#ffc43b","align":"left"}},{"type":"Label","props":{"y":160,"width":210,"var":"Bonus","valign":"middle","text":"0.100ETH","strokeColor":"#381A09","stroke":5,"right":10,"overflow":"hidden","height":60,"fontSize":30,"color":"#ffc43b","align":"left"}},{"type":"Label","props":{"y":445,"width":150,"var":"Price","valign":"middle","right":30,"overflow":"hidden","height":30,"fontSize":24,"color":"#c0c0c0","align":"right"}},{"type":"Label","props":{"y":405,"width":150,"var":"Hands","valign":"middle","right":30,"overflow":"hidden","height":30,"fontSize":24,"color":"#c0c0c0","align":"right"}},{"type":"Label","props":{"y":405,"x":120,"width":100,"valign":"middle","text":"注数：","overflow":"hidden","height":30,"fontSize":24,"color":"#c0c0c0","align":"left"}},{"type":"Label","props":{"y":445,"x":120,"width":100,"valign":"middle","text":"金额：","overflow":"hidden","height":30,"fontSize":24,"color":"#c0c0c0","align":"left"}}]}]};
		return RecordInfoUI;
	})(View);
var RecordInfo1UI=(function(_super){
		function RecordInfo1UI(){
			
		    this.Numbers=null;
		    this.Result=null;
		    this.Coin=null;
		    this.Type=null;
		    this.BonusTitle=null;
		    this.Status=null;
		    this.Bonus=null;
		    this.Price=null;

			RecordInfo1UI.__super.call(this);
		}

		CLASS$(RecordInfo1UI,'ui.record.RecordInfo1UI',_super);
		var __proto__=RecordInfo1UI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(RecordInfo1UI.uiView);

		}

		RecordInfo1UI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/bg.png","sizeGrid":"30,5,5,5","height":800,"alpha":0.5}},{"type":"Image","props":{"width":400,"skin":"resource/base.png","sizeGrid":"5,5,5,5","height":500,"centerY":0,"centerX":0},"child":[{"type":"Label","props":{"y":290,"x":20,"width":360,"var":"Numbers","valign":"top","text":"正","overflow":"scroll","height":90,"fontSize":24,"color":"#B6DFE5","align":"left"}},{"type":"TextArea","props":{"y":20,"width":350,"var":"Result","valign":"middle","type":"text","text":"0期开奖","mouseEnabled":false,"hitTestPrior":false,"height":70,"fontSize":24,"editable":false,"color":"#F6F3E1","centerX":0,"align":"left"},"child":[{"type":"Image","props":{"width":60,"var":"Coin","skin":"resource/dice1.png","right":10,"height":60,"centerY":0}}]},{"type":"Label","props":{"y":240,"x":20,"width":300,"var":"Type","valign":"middle","text":"我的投注","overflow":"hidden","height":30,"fontSize":24,"color":"#ffffff","align":"left"}},{"type":"Label","props":{"y":120,"x":20,"width":150,"valign":"middle","text":"订单状态","overflow":"hidden","height":30,"fontSize":24,"color":"#ffffff","align":"left"}},{"type":"Label","props":{"y":120,"width":210,"var":"BonusTitle","valign":"middle","text":"中奖金额","right":10,"overflow":"hidden","height":30,"fontSize":24,"color":"#ffffff","align":"left"}},{"type":"Image","props":{"y":10,"width":400,"skin":"resource/line.png","sizeGrid":"30,5,5,5","height":100,"centerX":0,"alpha":0.3}},{"type":"Label","props":{"y":160,"x":20,"width":150,"var":"Status","valign":"middle","text":"已中奖","strokeColor":"#381A09","stroke":5,"overflow":"hidden","height":60,"fontSize":30,"color":"#ffc43b","align":"left"}},{"type":"Label","props":{"y":160,"width":210,"var":"Bonus","valign":"middle","text":"0.100ETH","strokeColor":"#381A09","stroke":5,"right":10,"overflow":"hidden","height":60,"fontSize":30,"color":"#ffc43b","align":"left"}},{"type":"Label","props":{"y":445,"width":150,"var":"Price","valign":"middle","right":30,"overflow":"hidden","height":30,"fontSize":24,"color":"#c0c0c0","align":"right"}},{"type":"Label","props":{"y":445,"x":120,"width":100,"valign":"middle","text":"金额：","overflow":"hidden","height":30,"fontSize":24,"color":"#c0c0c0","align":"left"}}]}]};
		return RecordInfo1UI;
	})(View);
var RecordInfo2UI=(function(_super){
		function RecordInfo2UI(){
			
		    this.Numbers=null;
		    this.Type=null;
		    this.BonusTitle=null;
		    this.Status=null;
		    this.Bonus=null;
		    this.Price=null;
		    this.HomeName=null;
		    this.VisitorName=null;
		    this.TxtResult=null;

			RecordInfo2UI.__super.call(this);
		}

		CLASS$(RecordInfo2UI,'ui.record.RecordInfo2UI',_super);
		var __proto__=RecordInfo2UI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(RecordInfo2UI.uiView);

		}

		RecordInfo2UI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/bg.png","sizeGrid":"30,5,5,5","height":800,"alpha":0.5}},{"type":"Image","props":{"width":400,"skin":"resource/base.png","sizeGrid":"5,5,5,5","height":500,"centerY":0,"centerX":0},"child":[{"type":"Label","props":{"y":290,"x":20,"width":360,"var":"Numbers","valign":"top","text":"正","overflow":"scroll","height":90,"fontSize":24,"color":"#B6DFE5","align":"left"}},{"type":"Label","props":{"y":240,"x":20,"width":300,"var":"Type","valign":"middle","text":"我的投注 - ","overflow":"hidden","height":30,"fontSize":24,"color":"#ffffff","align":"left"}},{"type":"Label","props":{"y":120,"x":20,"width":150,"valign":"middle","text":"订单状态","overflow":"hidden","height":30,"fontSize":24,"color":"#ffffff","align":"left"}},{"type":"Label","props":{"y":120,"width":210,"var":"BonusTitle","valign":"middle","text":"中奖金额","right":10,"overflow":"hidden","height":30,"fontSize":24,"color":"#ffffff","align":"left"}},{"type":"Image","props":{"y":10,"width":400,"skin":"resource/line.png","sizeGrid":"30,5,5,5","height":100,"centerX":0,"alpha":0.3}},{"type":"Label","props":{"y":160,"x":20,"width":150,"var":"Status","valign":"middle","text":"已中奖","strokeColor":"#381A09","stroke":5,"overflow":"hidden","height":60,"fontSize":30,"color":"#ffc43b","align":"left"}},{"type":"Label","props":{"y":160,"width":210,"var":"Bonus","valign":"middle","text":"0.100ETH","strokeColor":"#381A09","stroke":5,"right":10,"overflow":"hidden","height":60,"fontSize":30,"color":"#ffc43b","align":"left"}},{"type":"Label","props":{"y":445,"width":150,"var":"Price","valign":"middle","right":30,"overflow":"hidden","height":30,"fontSize":24,"color":"#c0c0c0","align":"right"}},{"type":"Label","props":{"y":445,"x":120,"width":100,"valign":"middle","text":"金额：","overflow":"hidden","height":30,"fontSize":24,"color":"#c0c0c0","align":"left"}},{"type":"Label","props":{"y":20,"width":100,"valign":"middle","text":"VS","strokeColor":"#381A09","stroke":3,"overflow":"hidden","height":40,"fontSize":30,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Label","props":{"y":20,"width":150,"var":"HomeName","valign":"middle","text":"主队","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":40,"fontSize":25,"color":"#B6DFE5","centerX":-120,"align":"right"}},{"type":"Label","props":{"y":20,"width":150,"var":"VisitorName","valign":"middle","text":"客队","strokeColor":"#381A09","stroke":3,"overflow":"visible","height":40,"fontSize":25,"color":"#B6DFE5","centerX":120,"align":"left"}},{"type":"Label","props":{"y":60,"width":100,"var":"TxtResult","valign":"middle","text":"0 : 0","strokeColor":"#381A09","stroke":3,"overflow":"hidden","height":40,"fontSize":30,"color":"#3cf303","centerX":0,"align":"center"}}]}]};
		return RecordInfo2UI;
	})(View);
var TestPageUI=(function(_super){
		function TestPageUI(){
			
		    this.btn=null;
		    this.clip=null;
		    this.combobox=null;
		    this.tab=null;
		    this.list=null;
		    this.btn2=null;
		    this.check=null;
		    this.radio=null;
		    this.box=null;

			TestPageUI.__super.call(this);
		}

		CLASS$(TestPageUI,'ui.test.TestPageUI',_super);
		var __proto__=TestPageUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(TestPageUI.uiView);

		}

		TestPageUI.uiView={"type":"View","props":{"width":600,"height":400},"child":[{"type":"Image","props":{"y":0,"x":0,"width":600,"skin":"comp/bg.png","sizeGrid":"30,4,4,4","height":400}},{"type":"Button","props":{"y":56,"x":41,"width":150,"var":"btn","skin":"comp/button.png","sizeGrid":"4,4,4,4","label":"点我赋值","height":37}},{"type":"Clip","props":{"y":56,"x":401,"var":"clip","skin":"comp/clip_num.png","clipX":10}},{"type":"ComboBox","props":{"y":143,"x":220,"width":200,"var":"combobox","skin":"comp/combobox.png","sizeGrid":"4,20,4,4","selectedIndex":1,"labels":"select1,select2,selecte3","height":23}},{"type":"Tab","props":{"y":96,"x":220,"var":"tab","skin":"comp/tab.png","labels":"tab1,tab2,tab3"}},{"type":"VScrollBar","props":{"y":223,"x":259,"skin":"comp/vscroll.png","height":150,"alpha":0,"visible":"false"}},{"type":"VSlider","props":{"y":223,"x":224,"skin":"comp/vslider.png","height":150}},{"type":"List","props":{"y":68,"x":452,"width":128,"var":"list","vScrollBarSkin":"comp/vscroll.png","repeatX":1,"height":299},"child":[{"type":"Box","props":{"y":0,"x":0,"width":112,"name":"render","height":30},"child":[{"type":"Label","props":{"y":5,"x":26,"width":78,"text":"this is a list","skin":"comp/label.png","name":"label","height":20,"fontSize":14}},{"type":"Clip","props":{"y":2,"x":0,"skin":"comp/clip_num.png","name":"clip","clipX":10}}]}]},{"type":"Button","props":{"y":4,"x":563,"skin":"comp/btn_close.png","name":"close"}},{"type":"Button","props":{"y":112,"x":41,"width":150,"var":"btn2","skin":"comp/button.png","sizeGrid":"4,4,4,4","labelSize":30,"labelBold":true,"label":"点我赋值","height":66}},{"type":"CheckBox","props":{"y":188,"x":220,"var":"check","skin":"comp/checkbox.png","label":"checkBox1"}},{"type":"RadioGroup","props":{"y":61,"x":220,"var":"radio","skin":"comp/radiogroup.png","labels":"radio1,radio2,radio3"}},{"type":"Panel","props":{"y":223,"x":299,"width":127,"vScrollBarSkin":"comp/vscroll.png","height":150},"child":[{"type":"Image","props":{"skin":"comp/image.png"}}]},{"type":"CheckBox","props":{"y":188,"x":326,"skin":"comp/checkbox.png","labelColors":"#ff0000","label":"checkBox2"}},{"type":"Box","props":{"y":197,"x":41,"var":"box"},"child":[{"type":"ProgressBar","props":{"y":70,"width":150,"skin":"comp/progress.png","sizeGrid":"4,4,4,4","name":"progress","height":14}},{"type":"Label","props":{"y":103,"width":137,"text":"This is a Label","skin":"comp/label.png","name":"label","height":26,"fontSize":20}},{"type":"TextInput","props":{"y":148,"width":150,"text":"textinput","skin":"comp/textinput.png","name":"input"}},{"type":"HSlider","props":{"width":150,"skin":"comp/hslider.png","name":"slider"}},{"type":"HScrollBar","props":{"y":34,"width":150,"skin":"comp/hscroll.png","name":"scroll"}}]}]};
		return TestPageUI;
	})(View);
var CreateUI=(function(_super){
		function CreateUI(){
			
		    this.BtnCreate=null;
		    this.WalletPassword=null;
		    this.BtnChange=null;
		    this.WalletUserName=null;

			CreateUI.__super.call(this);
		}

		CLASS$(CreateUI,'ui.wallet.CreateUI',_super);
		var __proto__=CreateUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(CreateUI.uiView);

		}

		CreateUI.uiView={"type":"View","props":{"width":480,"layoutEnabled":true,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"0,0,0,0","height":802}},{"type":"Button","props":{"y":390,"width":400,"var":"BtnCreate","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"创建账户","height":70,"centerX":0}},{"type":"TextInput","props":{"y":304,"width":440,"var":"WalletPassword","type":"password","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"\b输入密码，至少6个字符","height":60,"fontSize":24,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Button","props":{"y":500,"width":400,"var":"BtnChange","stateNum":1,"skin":"resource/btn_create1.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"已有账户","height":70,"centerX":0,"alpha":1}},{"type":"Label","props":{"y":182,"width":440,"valign":"middle","text":"为ETH账户设置密码","height":40,"fontSize":24,"color":"#F6F3E1","centerX":0,"align":"center"}},{"type":"TextInput","props":{"y":233,"width":440,"var":"WalletUserName","type":"text","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"输入用户名，至少3个字符","height":60,"fontSize":24,"color":"#ffffff","centerX":0,"align":"center"}}]};
		return CreateUI;
	})(View);
var CreateSuccessUI=(function(_super){
		function CreateSuccessUI(){
			
		    this.TxtPolicy=null;
		    this.AccountInfo=null;
		    this.BtnCopy=null;
		    this.BtnLogin=null;

			CreateSuccessUI.__super.call(this);
		}

		CLASS$(CreateSuccessUI,'ui.wallet.CreateSuccessUI',_super);
		var __proto__=CreateSuccessUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(CreateSuccessUI.uiView);

		}

		CreateSuccessUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"30,5,5,5","height":800}},{"type":"Label","props":{"y":30,"width":440,"text":"注册成功","height":50,"fontSize":50,"color":"#98FB98","centerX":0,"align":"center"}},{"type":"Label","props":{"y":110,"wordWrap":true,"width":440,"var":"TxtPolicy","text":"                          安全声明\\n·账户·keystore请自己保存。\\n·我们不会访问账户、恢复密钥、重置密码，或是撤销交易。\\n·账户安全由自己负责，我们不对你的损失负责。","leading":10,"height":230,"fontSize":24,"color":"#F6F3E1","centerX":0,"align":"left"}},{"type":"TextArea","props":{"y":325,"wordWrap":true,"width":440,"var":"AccountInfo","skin":"resource/input.png","sizeGrid":"10,10,10,10","overflow":"scroll","height":280,"fontSize":25,"editable":false,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Button","props":{"y":630,"width":400,"var":"BtnCopy","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"复制到剪切板","height":70,"centerX":0,"alpha":1}},{"type":"Button","props":{"y":720,"width":400,"var":"BtnLogin","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"我已保存","height":70,"centerX":0,"alpha":1}}]};
		return CreateSuccessUI;
	})(View);
var DepositUI=(function(_super){
		function DepositUI(){
			
		    this.BtnBack=null;
		    this.EditMoney=null;
		    this.WalletIcon=null;
		    this.BtnCopy=null;
		    this.Address=null;

			DepositUI.__super.call(this);
		}

		CLASS$(DepositUI,'ui.wallet.DepositUI',_super);
		var __proto__=DepositUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(DepositUI.uiView);

		}

		DepositUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,5,5,5","height":800}},{"type":"Label","props":{"y":15,"width":280,"valign":"middle","text":"充值","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Label","props":{"y":140,"width":440,"valign":"middle","text":"输入金额","height":40,"fontSize":30,"color":"#c0c0c0","centerX":0,"align":"center"}},{"type":"TextInput","props":{"y":200,"width":440,"var":"EditMoney","skin":"resource/input.png","sizeGrid":"10,10,10,10","height":60,"fontSize":45,"color":"#ffd700","centerX":0,"align":"center"}},{"type":"Label","props":{"y":340,"width":440,"valign":"middle","text":"您的钱包地址二维码","height":40,"fontSize":30,"color":"#c0c0c0","centerX":0,"align":"center"}},{"type":"Image","props":{"y":400,"x":140,"width":200,"var":"WalletIcon","height":200}},{"type":"Button","props":{"y":700,"width":400,"var":"BtnCopy","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"复制地址","height":80,"centerX":0,"alpha":1}},{"type":"TextArea","props":{"y":630,"x":10,"wordWrap":true,"width":450,"var":"Address","valign":"middle","text":"Address","height":25,"fontSize":20,"editable":false,"color":"#c0c0c0","centerX":0,"align":"center"}}]};
		return DepositUI;
	})(View);
var DepositSuceesUI=(function(_super){
		function DepositSuceesUI(){
			
		    this.BtnOk=null;
		    this.BtnJump=null;

			DepositSuceesUI.__super.call(this);
		}

		CLASS$(DepositSuceesUI,'ui.wallet.DepositSuceesUI',_super);
		var __proto__=DepositSuceesUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(DepositSuceesUI.uiView);

		}

		DepositSuceesUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"30,5,5,5","height":800}},{"type":"Label","props":{"y":60,"width":440,"text":"交易成功","height":50,"fontSize":50,"color":"#98FB98","centerX":0,"align":"center"}},{"type":"Button","props":{"y":200,"width":400,"var":"BtnOk","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"确认","height":70,"centerX":0}},{"type":"Button","props":{"y":290,"width":400,"var":"BtnJump","stateNum":1,"skin":"resource/btn_create1.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"查看交易","height":70,"centerX":0,"alpha":1}}]};
		return DepositSuceesUI;
	})(View);
var LoginUI=(function(_super){
		function LoginUI(){
			
		    this.WalletPassword=null;
		    this.WalletKeystore=null;
		    this.BtnLogin=null;
		    this.BtnCreate=null;
		    this.WalletUserName=null;

			LoginUI.__super.call(this);
		}

		CLASS$(LoginUI,'ui.wallet.LoginUI',_super);
		var __proto__=LoginUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(LoginUI.uiView);

		}

		LoginUI.uiView={"type":"View","props":{"width":480,"layoutEnabled":false,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"30,5,5,5","height":800}},{"type":"TextInput","props":{"y":461,"width":400,"var":"WalletPassword","type":"password","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"密码","height":60,"fontSize":27,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"TextInput","props":{"y":210,"wordWrap":true,"width":450,"var":"WalletKeystore","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"Keystore","height":180,"fontSize":27,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"Label","props":{"y":160,"width":440,"valign":"middle","text":"用ETH账户登陆","height":40,"fontSize":25,"color":"#F6F3E1","centerX":0,"align":"center"}},{"type":"Button","props":{"y":530,"width":400,"var":"BtnLogin","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"登录","height":70,"centerX":0}},{"type":"Button","props":{"y":620,"width":400,"var":"BtnCreate","stateNum":1,"skin":"resource/btn_create1.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"创建账户","height":70,"centerX":0,"alpha":1}},{"type":"Image","props":{"y":60,"width":445,"skin":"resource/name.png","sizeGrid":"30,5,5,5","scaleY":0.6,"scaleX":0.6,"height":89,"centerX":0}},{"type":"TextInput","props":{"y":393,"width":400,"var":"WalletUserName","type":"text","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"输入用户名，至少3个字符","height":60,"fontSize":24,"color":"#ffffff","centerX":1,"align":"center"}}]};
		return LoginUI;
	})(View);
var MyWalletUI=(function(_super){
		function MyWalletUI(){
			
		    this.BtnInfo=null;
		    this.BtnOut=null;
		    this.WalletIcon=null;
		    this.BetMoney=null;
		    this.BtnCopy=null;
		    this.BtnBack=null;
		    this.BtnLoginOut=null;
		    this.BtnCash=null;
		    this.BtnRecharge=null;
		    this.Address=null;
		    this.TotalMoney=null;
		    this.BonusMoney=null;
		    this.BtnTransfer=null;
		    this.Txt1=null;
		    this.Txt2=null;
		    this.Txt3=null;

			MyWalletUI.__super.call(this);
		}

		CLASS$(MyWalletUI,'ui.wallet.MyWalletUI',_super);
		var __proto__=MyWalletUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(MyWalletUI.uiView);

		}

		MyWalletUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,5,5,5","height":800}},{"type":"Image","props":{"y":0,"width":480,"skin":"resource/main_top.png","height":82,"centerX":0}},{"type":"Image","props":{"y":100,"width":450,"skin":"resource/wallet_wnd1.png","height":232,"centerX":0}},{"type":"Button","props":{"x":0,"width":160,"var":"BtnInfo","stateNum":1,"skin":"resource/btn_wallet2.png","sizeGrid":"10,10,10,10","labelSize":24,"labelColors":"#ffffff,#40E0D0,#40E0D0","label":"详情","height":80,"bottom":-5}},{"type":"Button","props":{"width":160,"var":"BtnOut","stateNum":1,"skin":"resource/btn_wallet2.png","sizeGrid":"10,10,10,10","right":0,"labelSize":24,"labelColors":"#ffffff,#40E0D0,#40E0D0","label":"导出","height":80,"bottom":-5}},{"type":"Label","props":{"y":20,"width":280,"valign":"middle","text":"我的钱包","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Image","props":{"y":490,"width":180,"var":"WalletIcon","height":180,"centerX":0}},{"type":"Label","props":{"y":440,"width":400,"text":"钱包地址","height":40,"fontSize":30,"color":"#c0c0c0","centerX":0,"align":"center"}},{"type":"Label","props":{"y":163,"width":200,"var":"BetMoney","valign":"bottom","text":"--","right":100,"height":40,"fontSize":30,"color":"#F6F3E1","align":"right"}},{"type":"Button","props":{"width":160,"var":"BtnCopy","stateNum":1,"skin":"resource/btn_wallet2.png","sizeGrid":"10,10,10,10","labelSize":24,"labelColors":"#ffffff,#40E0D0,#40E0D0","label":"复制","height":80,"centerX":0,"bottom":-5}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"y":0,"width":80,"var":"BtnLoginOut","right":0,"height":80},"child":[{"type":"Image","props":{"width":48,"skin":"resource/out.png","height":42,"centerY":0,"centerX":0}}]},{"type":"Button","props":{"y":265,"width":150,"var":"BtnCash","stateNum":1,"skin":"resource/btn_withdraw.png","right":30,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelPadding":"-1","labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"转移","height":60}},{"type":"Button","props":{"y":340,"width":200,"var":"BtnRecharge","stateNum":1,"skin":"resource/btn_wallet3.png","sizeGrid":"5,5,5,5","right":30,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"充值","height":80}},{"type":"TextArea","props":{"y":680,"wordWrap":true,"width":450,"var":"Address","valign":"middle","text":"Address","overflow":"scroll","height":25,"fontSize":20,"editable":false,"color":"#c0c0c0","centerX":0,"align":"center"}},{"type":"Label","props":{"y":103,"width":200,"var":"TotalMoney","valign":"bottom","text":"--","right":100,"height":50,"fontSize":40,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":211,"width":200,"var":"BonusMoney","valign":"bottom","text":"--","right":100,"height":40,"fontSize":30,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":100,"valign":"bottom","text":"总资金","left":30,"height":50,"fontSize":30,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":160,"valign":"bottom","text":"本金","left":30,"height":40,"fontSize":25,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":208,"valign":"bottom","text":"奖金","left":30,"height":40,"fontSize":25,"color":"#F6F3E1","align":"right"}},{"type":"Button","props":{"y":340,"width":200,"var":"BtnTransfer","stateNum":1,"skin":"resource/btn_wallet3.png","sizeGrid":"5,5,5,5","left":30,"labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"提现","height":80}},{"type":"Label","props":{"y":103,"width":100,"var":"Txt1","valign":"bottom","right":30,"height":50,"fontSize":30,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":163,"width":100,"var":"Txt2","valign":"bottom","right":30,"height":40,"fontSize":30,"color":"#F6F3E1","align":"right"}},{"type":"Label","props":{"y":211,"width":100,"var":"Txt3","valign":"bottom","right":30,"height":40,"fontSize":30,"color":"#F6F3E1","align":"right"}}]};
		return MyWalletUI;
	})(View);
var QuickLoginUI=(function(_super){
		function QuickLoginUI(){
			
		    this.WalletPassword=null;
		    this.BtnLogin=null;
		    this.BtnSwitch=null;
		    this.Addresses=null;

			QuickLoginUI.__super.call(this);
		}

		CLASS$(QuickLoginUI,'ui.wallet.QuickLoginUI',_super);
		var __proto__=QuickLoginUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(QuickLoginUI.uiView);

		}

		QuickLoginUI.uiView={"type":"View","props":{"width":480,"layoutEnabled":false,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"30,5,5,5","height":800}},{"type":"TextInput","props":{"y":407,"width":280,"var":"WalletPassword","type":"password","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"密码","height":60,"fontSize":27,"color":"#ffffff","centerX":53,"align":"left"}},{"type":"Button","props":{"y":530,"width":400,"var":"BtnLogin","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"登录","height":70,"centerX":0}},{"type":"Button","props":{"y":620,"width":400,"var":"BtnSwitch","stateNum":1,"skin":"resource/btn_create1.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"已有账户","height":70,"centerX":0,"alpha":1}},{"type":"Image","props":{"y":60,"width":445,"skin":"resource/name.png","sizeGrid":"30,5,5,5","scaleY":0.6,"scaleX":0.6,"height":89,"centerX":0}},{"type":"Image","props":{"y":140,"width":256,"skin":"resource/logo.png","sizeGrid":"30,5,5,5","scaleY":0.6,"scaleX":0.6,"height":256,"centerX":0}},{"type":"ComboBox","props":{"y":339,"width":280,"var":"Addresses","type":"number","skin":"resource/input.png","sizeGrid":"10,10,10,10","selectedIndex":1,"prompt":"输入球队名","labels":"sdfasdf,skdjflasdkjf","labelSize":27,"labelPadding":"0","labelColors":"#ffffff,#ffffff,#ffffff","height":60,"fontSize":27,"color":"#ffffff","centerX":53,"align":"center"}},{"type":"Label","props":{"y":352,"x":39,"width":102,"text":"用户名：","height":33,"fontSize":27,"color":"#fbf9f9"}},{"type":"Label","props":{"y":421,"x":39,"width":102,"text":"密    码：","height":33,"fontSize":27,"color":"#fbf9f9"}}]};
		return QuickLoginUI;
	})(View);
var WithDrawUI=(function(_super){
		function WithDrawUI(){
			
		    this.AbleWithDraw=null;
		    this.Loss=null;
		    this.BtnNext=null;
		    this.BtnMore=null;
		    this.EditAddress=null;
		    this.EditNote=null;
		    this.EditMoney=null;
		    this.EditGasPrice=null;
		    this.EditGasLimit=null;
		    this.BtnBack=null;

			WithDrawUI.__super.call(this);
		}

		CLASS$(WithDrawUI,'ui.wallet.WithDrawUI',_super);
		var __proto__=WithDrawUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(WithDrawUI.uiView);

		}

		WithDrawUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800}},{"type":"Label","props":{"y":15,"width":280,"valign":"middle","text":"转出","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Label","props":{"y":190,"width":400,"var":"AbleWithDraw","valign":"middle","text":"可提现金额：\b","height":40,"fontSize":24,"color":"#40e0d0","centerX":-4,"align":"left"}},{"type":"Label","props":{"y":610,"width":440,"visible":false,"var":"Loss","valign":"middle","text":"\b手续费:0.00001 ETH","height":40,"fontSize":24,"color":"#40e0d0","centerX":0,"align":"right"}},{"type":"Button","props":{"y":700,"width":400,"var":"BtnNext","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"下一步","height":70,"centerX":0}},{"type":"Button","props":{"y":390,"width":400,"var":"BtnMore","toggle":true,"stateNum":1,"skin":"resource/btn_create1.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"高级选项\b▽","height":60,"centerX":0,"alpha":1}},{"type":"TextInput","props":{"y":100,"width":440,"var":"EditAddress","skin":"resource/input.png","sizeGrid":"4,4,4,4","height":60,"fontSize":27,"color":"#ffffff","centerX":0,"align":"center"}},{"type":"TextInput","props":{"y":310,"width":440,"var":"EditNote","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"  \b备注","height":60,"fontSize":30,"color":"#ffffff","centerX":0,"align":"left"}},{"type":"TextInput","props":{"y":235,"width":440,"var":"EditMoney","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"  金额","height":60,"fontSize":30,"color":"#ffffff","centerX":0,"align":"left"}},{"type":"TextInput","props":{"y":465,"width":440,"visible":false,"var":"EditGasPrice","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"  瓦斯价格","height":60,"fontSize":30,"color":"#ffffff","centerX":0,"align":"left"}},{"type":"TextInput","props":{"y":540,"width":440,"visible":false,"var":"EditGasLimit","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"  瓦斯上限","height":60,"fontSize":30,"color":"#ffffff","centerX":0,"align":"left"}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]}]};
		return WithDrawUI;
	})(View);
var WithDrawConfirmUI=(function(_super){
		function WithDrawConfirmUI(){
			
		    this.BtnConfirm=null;
		    this.RecipientAddress=null;
		    this.TransFee=null;
		    this.TransAmount=null;
		    this.PaymentAddress=null;
		    this.BtnBack=null;

			WithDrawConfirmUI.__super.call(this);
		}

		CLASS$(WithDrawConfirmUI,'ui.wallet.WithDrawConfirmUI',_super);
		var __proto__=WithDrawConfirmUI.prototype;
		__proto__.createChildren=function(){
		    
			laya.ui.Component.prototype.createChildren.call(this);
			this.createView(WithDrawConfirmUI.uiView);

		}

		WithDrawConfirmUI.uiView={"type":"View","props":{"width":480,"height":800},"child":[{"type":"Image","props":{"y":0,"x":0,"width":480,"skin":"resource/main_bg.png","sizeGrid":"28,15,12,8","height":800}},{"type":"Label","props":{"y":15,"width":280,"valign":"middle","text":"转出\b确认","strokeColor":"#381A09","stroke":5,"height":40,"fontSize":30,"color":"#ffc43b","centerX":0,"align":"center"}},{"type":"Button","props":{"y":700,"width":440,"var":"BtnConfirm","stateNum":1,"skin":"resource/btn_create2.png","sizeGrid":"10,10,10,10","labelStrokeColor":"#743A14","labelStroke":5,"labelSize":30,"labelColors":"#F6F3E1,#F6F3E1,#F6F3E1","label":"确认无误，现在提现","height":70,"centerX":0}},{"type":"Label","props":{"y":230,"width":440,"text":"支出地址","height":40,"fontSize":24,"color":"#c0c0c0","centerX":0,"align":"left"}},{"type":"Label","props":{"y":110,"width":440,"text":"接收地址","height":40,"fontSize":24,"color":"#c0c0c0","centerX":0,"align":"left"}},{"type":"Label","props":{"y":350,"width":440,"text":"手续费","height":40,"fontSize":24,"color":"#c0c0c0","centerX":0,"align":"left"}},{"type":"Label","props":{"y":470,"width":440,"text":"提现金额","height":40,"fontSize":24,"color":"#c0c0c0","centerX":0,"align":"left"}},{"type":"TextArea","props":{"y":140,"wordWrap":false,"width":440,"var":"RecipientAddress","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"dfd54632x4566xfgh","padding":"15","overflow":"hidden","height":60,"fontSize":30,"editable":false,"color":"#40e0d0","centerX":0,"borderColor":"#ffffffff","align":"left"}},{"type":"TextArea","props":{"y":380,"wordWrap":false,"width":440,"var":"TransFee","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"10000.00","padding":"15","overflow":"hidden","height":60,"fontSize":30,"editable":false,"color":"#40e0d0","centerX":0,"borderColor":"#ffffffff","align":"left"}},{"type":"TextArea","props":{"y":500,"wordWrap":false,"width":440,"var":"TransAmount","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"22222.00","padding":"15","overflow":"hidden","height":60,"fontSize":30,"editable":false,"color":"#40e0d0","centerX":0,"borderColor":"#ffffffff","align":"left"}},{"type":"TextArea","props":{"y":260,"wordWrap":false,"width":440,"var":"PaymentAddress","skin":"resource/input.png","sizeGrid":"10,10,10,10","prompt":"12asd234fgn567bas2123","padding":"15","overflow":"hidden","height":60,"fontSize":30,"editable":false,"color":"#40e0d0","centerX":0,"borderColor":"#ffffffff","align":"left"}},{"type":"Button","props":{"y":0,"x":0,"width":80,"var":"BtnBack","height":80},"child":[{"type":"Image","props":{"width":33,"skin":"resource/back.png","height":42,"centerY":0,"centerX":0}}]}]};
		return WithDrawConfirmUI;
	})(View);
!function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(e){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},r=function(){this.data=[]},n=function(e,t,r){this.data=e,this.size=e.length,this.type=t,this.encoding=r},i=r.prototype,o=n.prototype,s=e.FileReaderSync,a=function(e){this.code=this[this.name=e]},f="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=f.length,c=e.URL||e.webkitURL||e,h=c.createObjectURL,d=c.revokeObjectURL,l=c,p=e.btoa,b=e.atob,m=e.ArrayBuffer,y=e.Uint8Array,g=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(n.fake=o.fake=!0;u--;)a.prototype[f[u]]=u+1;return c.createObjectURL||(l=e.URL=function(e){var t,r=document.createElementNS("http://www.w3.org/1999/xhtml","a");return r.href=e,"origin"in r||("data:"===r.protocol.toLowerCase()?r.origin=null:(t=e.match(g),r.origin=t&&t[1])),r}),l.createObjectURL=function(e){var t,r=e.type;return null===r&&(r="application/octet-stream"),e instanceof n?(t="data:"+r,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):p?t+";base64,"+p(e.data):t+","+encodeURIComponent(e.data)):h?h.call(c,e):void 0},l.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&d&&d.call(c,e)},i.append=function(e){var r=this.data;if(y&&(e instanceof m||e instanceof y)){for(var i="",o=new y(e),f=0,u=o.length;f<u;f++)i+=String.fromCharCode(o[f]);r.push(i)}else if("Blob"===t(e)||"File"===t(e)){if(!s)throw new a("NOT_READABLE_ERR");var c=new s;r.push(c.readAsBinaryString(e))}else e instanceof n?"base64"===e.encoding&&b?r.push(b(e.data)):"URI"===e.encoding?r.push(decodeURIComponent(e.data)):"raw"===e.encoding&&r.push(e.data):("string"!=typeof e&&(e+=""),r.push(unescape(encodeURIComponent(e))))},i.getBlob=function(e){return arguments.length||(e=null),new n(this.data.join(""),e,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,r){var i=arguments.length;return i<3&&(r=null),new n(this.data.slice(e,i>1?t:this.data.length),r,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},r}(e);e.Blob=function(e,r){var n=r&&r.type||"",i=new t;if(e)for(var o=0,s=e.length;o<s;o++)Uint8Array&&e[o]instanceof Uint8Array?i.append(e[o].buffer):i.append(e[o]);var a=i.getBlob(n);return!a.slice&&a.webkitSlice&&(a.slice=a.webkitSlice),a};var r=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=r(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ethereumjs=e()}}(function(){return function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var f="function"==typeof require&&require;if(!a&&f)return f(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r||e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){(function(r){"use strict";function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function i(e){return r.Buffer&&"function"==typeof r.Buffer.isBuffer?r.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=e("util/"),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,f="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function c(e){return!i(e)&&("function"==typeof r.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var h=t.exports=y,d=/\s*function\s+([^\(\s]*)\s*/;function l(e){if(o.isFunction(e)){if(f)return e.name;var t=e.toString().match(d);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function b(e){if(f||!o.isFunction(e))return o.inspect(e);var t=l(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,r,n,i){throw new h.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function y(e,t){e||m(e,!0,t,"==",h.ok)}function g(e,t,r,s){if(e===t)return!0;if(i(e)&&i(t))return 0===n(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(c(e)&&c(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var f=(s=s||{actual:[],expected:[]}).actual.indexOf(e);return-1!==f&&f===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),function(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=v(e),s=v(t);if(i&&!s||!i&&s)return!1;if(i)return e=a.call(e),t=a.call(t),g(e,t,r);var f,u,c=S(e),h=S(t);if(c.length!==h.length)return!1;for(c.sort(),h.sort(),u=c.length-1;u>=0;u--)if(c[u]!==h[u])return!1;for(u=c.length-1;u>=0;u--)if(f=c[u],!g(e[f],t[f],r,n))return!1;return!0}(e,t,r,s))}return r?e===t:e==t}function v(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function _(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&m(i,r,"Missing expected exception"+n);var s="string"==typeof n,a=!e&&o.isError(i),f=!e&&i&&!r;if((a&&s&&w(i,r)||f)&&m(i,r,"Got unwanted exception"+n),e&&i&&r&&!w(i,r)||!e&&i)throw i}h.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=p(b((t=this).actual),128)+" "+t.operator+" "+p(b(t.expected),128),this.generatedMessage=!0);var r=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var i=n.stack,o=l(r),s=i.indexOf("\n"+o);if(s>=0){var a=i.indexOf("\n",s+1);i=i.substring(a+1)}this.stack=i}}},o.inherits(h.AssertionError,Error),h.fail=m,h.ok=y,h.equal=function(e,t,r){e!=t&&m(e,t,r,"==",h.equal)},h.notEqual=function(e,t,r){e==t&&m(e,t,r,"!=",h.notEqual)},h.deepEqual=function(e,t,r){g(e,t,!1)||m(e,t,r,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(e,t,r){g(e,t,!0)||m(e,t,r,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(e,t,r){g(e,t,!1)&&m(e,t,r,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function e(t,r,n){g(t,r,!0)&&m(t,r,n,"notDeepStrictEqual",e)},h.strictEqual=function(e,t,r){e!==t&&m(e,t,r,"===",h.strictEqual)},h.notStrictEqual=function(e,t,r){e===t&&m(e,t,r,"!==",h.notStrictEqual)},h.throws=function(e,t,r){_(!0,e,t,r)},h.doesNotThrow=function(e,t,r){_(!1,e,t,r)},h.ifError=function(e){if(e)throw e};var S=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":103}],2:[function(e,t,r){"use strict";r.byteLength=function(e){return 3*e.length/4-u(e)},r.toByteArray=function(e){var t,r,n,s,a,f=e.length;s=u(e),a=new o(3*f/4-s),r=s>0?f-4:f;var c=0;for(t=0;t<r;t+=4)n=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],a[c++]=n>>16&255,a[c++]=n>>8&255,a[c++]=255&n;2===s?(n=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,a[c++]=255&n):1===s&&(n=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,a[c++]=n>>8&255,a[c++]=255&n);return a},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o="",s=[],a=0,f=r-i;a<f;a+=16383)s.push(c(e,a,a+16383>f?f:a+16383));1===i?(t=e[r-1],o+=n[t>>2],o+=n[t<<4&63],o+="=="):2===i&&(t=(e[r-2]<<8)+e[r-1],o+=n[t>>10],o+=n[t>>4&63],o+=n[t<<2&63],o+="=");return s.push(o),s.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,f=s.length;a<f;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16)+(e[a+1]<<8)+e[a+2],s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],3:[function(e,t,r){var n=e("safe-buffer").Buffer;t.exports={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var r=e[5+t];return!(0===r||6+t+r!==e.length||128&e[4]||t>1&&0===e[4]&&!(128&e[5])||128&e[t+6]||r>1&&0===e[t+6]&&!(128&e[t+7]))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},encode:function(e,t){var r=e.length,i=t.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}}},{"safe-buffer":82}],4:[function(e,t,r){!function(t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof t?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;try{s=e("buffer").Buffer}catch(e){}function a(e,t,r){for(var n=0,i=Math.min(e.length,r),o=t;o<i;o++){var s=e.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function f(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=e.length-6,n=0;r>=t;r-=6)i=a(e,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==t&&(i=a(e,t,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=f(e,c,c+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=f(e,c,e.length,t),c=0;c<s;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,f=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=f>>>26,h=67108863&f,d=Math.min(u,t.length-1),l=Math.max(0,u-e.length+1);l<=d;l++){var p=u-l|0;c+=(s=(i=0|e.words[p])*(o=0|t.words[l])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,f=0|c}return 0!==f?r.words[u]=0|f:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(e=e||10,t=0|t||1,16===e||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],f=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?u[6-f.length]+f+r:f+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var d=c[e],l=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(e);r=(p=p.idivn(l)).isZero()?b+r:u[d-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,f="le"===t,u=new e(o),c=this.clone();if(f){for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,r){var n,i,o,s=e.words,a=t.words,f=r.words,u=0,c=0|s[0],h=8191&c,d=c>>>13,l=0|s[1],p=8191&l,b=l>>>13,m=0|s[2],y=8191&m,g=m>>>13,v=0|s[3],w=8191&v,_=v>>>13,S=0|s[4],A=8191&S,E=S>>>13,k=0|s[5],M=8191&k,x=k>>>13,I=0|s[6],B=8191&I,P=I>>>13,C=0|s[7],T=8191&C,R=C>>>13,L=0|s[8],N=8191&L,j=L>>>13,O=0|s[9],D=8191&O,z=O>>>13,F=0|a[0],U=8191&F,q=F>>>13,H=0|a[1],K=8191&H,V=H>>>13,Y=0|a[2],G=8191&Y,W=Y>>>13,J=0|a[3],Z=8191&J,X=J>>>13,$=0|a[4],Q=8191&$,ee=$>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],fe=8191&ae,ue=ae>>>13,ce=0|a[8],he=8191&ce,de=ce>>>13,le=0|a[9],pe=8191&le,be=le>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(u+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(d,U)|0))<<13)|0;u=((o=Math.imul(d,q))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,q))+Math.imul(b,U)|0,o=Math.imul(b,q);var ye=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,K)|0))<<13)|0;u=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,U),i=(i=Math.imul(y,q))+Math.imul(g,U)|0,o=Math.imul(g,q),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,V)|0;var ge=(u+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(d,G)|0))<<13)|0;u=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,q))+Math.imul(_,U)|0,o=Math.imul(_,q),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,V)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,W)|0;var ve=(u+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,X)|0)+Math.imul(d,Z)|0))<<13)|0;u=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(A,U),i=(i=Math.imul(A,q))+Math.imul(E,U)|0,o=Math.imul(E,q),n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,X)|0;var we=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,U),i=(i=Math.imul(M,q))+Math.imul(x,U)|0,o=Math.imul(x,q),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var _e=(u+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(d,re)|0))<<13)|0;u=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,q))+Math.imul(P,U)|0,o=Math.imul(P,q),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(x,K)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,se)|0)+Math.imul(d,oe)|0))<<13)|0;u=((o=o+Math.imul(d,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(T,U),i=(i=Math.imul(T,q))+Math.imul(R,U)|0,o=Math.imul(R,q),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0;var Ae=(u+(n=n+Math.imul(h,fe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ue)|0)+Math.imul(d,fe)|0))<<13)|0;u=((o=o+Math.imul(d,ue)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,U),i=(i=Math.imul(N,q))+Math.imul(j,U)|0,o=Math.imul(j,q),n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,V)|0,n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,ue)|0;var Ee=(u+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;u=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,U),i=(i=Math.imul(D,q))+Math.imul(z,U)|0,o=Math.imul(z,q),n=n+Math.imul(N,K)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(j,K)|0,o=o+Math.imul(j,V)|0,n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,W)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,ue)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,ue)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,de)|0;var ke=(u+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,be)|0)+Math.imul(d,pe)|0))<<13)|0;u=((o=o+Math.imul(d,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,V))+Math.imul(z,K)|0,o=Math.imul(z,V),n=n+Math.imul(N,G)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,W)|0,n=n+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,X)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,se)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,se)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(y,he)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(g,he)|0,o=o+Math.imul(g,de)|0;var Me=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,G),i=(i=Math.imul(D,W))+Math.imul(z,G)|0,o=Math.imul(z,W),n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,X)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(E,fe)|0,o=o+Math.imul(E,ue)|0,n=n+Math.imul(w,he)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(_,he)|0,o=o+Math.imul(_,de)|0;var xe=(u+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,be)|0)+Math.imul(g,pe)|0))<<13)|0;u=((o=o+Math.imul(g,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,X))+Math.imul(z,Z)|0,o=Math.imul(z,X),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(R,re)|0,o=o+Math.imul(R,ne)|0,n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(x,fe)|0,o=o+Math.imul(x,ue)|0,n=n+Math.imul(A,he)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(E,he)|0,o=o+Math.imul(E,de)|0;var Ie=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,be)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(z,Q)|0,o=Math.imul(z,ee),n=n+Math.imul(N,re)|0,i=(i=i+Math.imul(N,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,ue)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,de)|0;var Be=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,be)|0)+Math.imul(E,pe)|0))<<13)|0;u=((o=o+Math.imul(E,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(z,re)|0,o=Math.imul(z,ne),n=n+Math.imul(N,oe)|0,i=(i=i+Math.imul(N,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(R,fe)|0,o=o+Math.imul(R,ue)|0,n=n+Math.imul(B,he)|0,i=(i=i+Math.imul(B,de)|0)+Math.imul(P,he)|0,o=o+Math.imul(P,de)|0;var Pe=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(z,oe)|0,o=Math.imul(z,se),n=n+Math.imul(N,fe)|0,i=(i=i+Math.imul(N,ue)|0)+Math.imul(j,fe)|0,o=o+Math.imul(j,ue)|0,n=n+Math.imul(T,he)|0,i=(i=i+Math.imul(T,de)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,de)|0;var Ce=(u+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,be)|0)+Math.imul(P,pe)|0))<<13)|0;u=((o=o+Math.imul(P,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,fe),i=(i=Math.imul(D,ue))+Math.imul(z,fe)|0,o=Math.imul(z,ue),n=n+Math.imul(N,he)|0,i=(i=i+Math.imul(N,de)|0)+Math.imul(j,he)|0,o=o+Math.imul(j,de)|0;var Te=(u+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,be)|0)+Math.imul(R,pe)|0))<<13)|0;u=((o=o+Math.imul(R,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,he),i=(i=Math.imul(D,de))+Math.imul(z,he)|0,o=Math.imul(z,de);var Re=(u+(n=n+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,be)|0)+Math.imul(j,pe)|0))<<13)|0;u=((o=o+Math.imul(j,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Le=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,be))+Math.imul(z,pe)|0))<<13)|0;return u=((o=Math.imul(z,be))+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863,f[0]=me,f[1]=ye,f[2]=ge,f[3]=ve,f[4]=we,f[5]=_e,f[6]=Se,f[7]=Ae,f[8]=Ee,f[9]=ke,f[10]=Me,f[11]=xe,f[12]=Ie,f[13]=Be,f[14]=Pe,f[15]=Ce,f[16]=Te,f[17]=Re,f[18]=Le,0!==u&&(f[19]=u,r.length++),r};function p(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(l=d),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?l(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,f=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=f;u++){var c=o-u,h=(0|e.words[c])*(0|t.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,f=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=f,d=u,l=0;l<s;l++){var p=r[c+l],b=n[c+l],m=r[c+l+s],y=n[c+l+s],g=h*m-d*y;y=h*y+d*m,m=g,r[c+l]=p+m,n[c+l]=b+y,r[c+l+s]=p-m,n[c+l+s]=b-y,l!==a&&(g=f*h-u*d,d=f*d+u*h,h=g)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),f=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,f,n,i),this.transform(u,o,c,h,n,i);for(var l=0;l<n;l++){var p=a[l]*c[l]-f[l]*h[l];f[l]=a[l]*h[l]+f[l]*c[l],a[l]=p}return this.conjugate(a,f,n),this.transform(a,f,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,f=(0|this.words[t])-a<<r;this.words[t]=f|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,f=r;if(i-=s,i=Math.max(0,i),f){for(var u=0;u<s;u++)f.words[u]=this.words[u];f.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var h=0|this.words[u];this.words[u]=c<<26-o|h>>>o,c=h&a}return f&&0!==c&&(f.words[f.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var f=(0|e.words[i])*t;a=((o-=67108863&f)>>26)-(f/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,f=n.length-i.length;if("mod"!==t){(a=new o(null)).length=f+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=n.clone()._ishlnsubmul(i,1,f);0===c.negative&&(n=c,a&&(a.words[f]=1));for(var h=f-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),f=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),h=t.clone();!t.isZero();){for(var d=0,l=1;0==(t.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||f.isOdd())&&(a.iadd(c),f.isub(h)),a.iushrn(1),f.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(f)):(r.isub(t),a.isub(i),f.isub(s))}return{a:a,b:f,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),f=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(f),s.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(f),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(g,y),g.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,y),i(w,y),i(_,y),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new v;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),f=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,u).cmp(f);)c.redIAdd(f);for(var h=this.pow(c,i),d=this.pow(e,i.addn(1).iushrn(1)),l=this.pow(e,i),p=s;0!==l.cmp(a);){for(var b=l,m=0;0!==b.cmp(a);m++)b=b.redSqr();n(m<p);var y=this.pow(h,new o(1).iushln(p-m-1));d=d.redMul(y),h=y.redSqr(),l=l.redMul(h),p=m}return d},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,f=t.bitLength()%26;for(0===f&&(f=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],c=f-1;c>=0;c--){var h=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===c)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}f=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,S),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)},{buffer:6}],5:[function(e,t,r){var n;function i(e){this.rand=e}if(t.exports=function(e){return n||(n=new i(null)),n.generate(e)},t.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=e("crypto");if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},{crypto:6}],6:[function(e,t,r){},{}],7:[function(e,t,r){(function(r){const n=e("js-sha3"),i=[224,256,384,512];var o=function(e){if(void 0!==e&&-1==i.indexOf(e))throw new Error("Unsupported hash length");this.content=[],this.bitcount=e?"keccak_"+e:"keccak_512"};o.prototype.update=function(e){if(r.isBuffer(e))this.content.push(e);else{if("string"!=typeof e)throw new Error("Unsupported argument to update");this.content.push(new r(e))}return this},o.prototype.digest=function(e){var t=n[this.bitcount](r.concat(this.content));if("hex"===e)return t;if("binary"===e||void 0===e)return new r(t,"hex").toString("binary");throw new Error("Unsupported encoding for digest: "+e)},t.exports={SHA3Hash:o}}).call(this,e("buffer").Buffer)},{buffer:8,"js-sha3":55}],8:[function(e,t,r){"use strict";var n=e("base64-js"),i=e("ieee754");r.Buffer=a,r.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},r.INSPECT_MAX_BYTES=50;var o=2147483647;function s(e){if(e>o)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=a.prototype,t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(e)}return f(e,t,r)}function f(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return F(e)?function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(r||0))throw new RangeError("'length' is out of bounds");var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=a.prototype,n}(e,t,r):"string"==typeof e?function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var r=0|l(e,t),n=s(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t):function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=s(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(e){if(U(e)||"length"in e)return"number"!=typeof e.length||q(e.length)?s(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e){return u(e),s(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function l(e,t){if(a.isBuffer(e))return e.length;if(U(e)||F(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return O(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return D(e).length;default:if(n)return O(e).length;t=(""+t).toLowerCase(),n=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),q(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,s=1,a=e.length,f=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,f/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===f)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+f>a&&(r=a-f),o=r;o>=0;o--){for(var h=!0,d=0;d<f;d++)if(u(e,o+d)!==u(t,d)){h=!1;break}if(h)return o}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(q(a))return s;e[r+s]=a}return s}function g(e,t,r,n){return z(O(t,e.length-r),e,r,n)}function v(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return v(e,t,r,n)}function _(e,t,r,n){return z(D(t),e,r,n)}function S(e,t,r,n){return z(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,f,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(f=(31&u)<<6|63&o)>127&&(c=f);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(f=(15&u)<<12|(63&o)<<6|63&s)>2047&&(f<55296||f>57343)&&(c=f);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(f=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&f<1114112&&(c=f)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}r.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,r){return f(e,t,r)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=l,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return M(this,t,r);case"latin1":case"binary":return x(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,r,n,i){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,f=Math.min(o,s),u=this.slice(n,i),c=e.slice(t,r),h=0;h<f;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return g(this,e,t,r);case"ascii":return v(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function x(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=j(e[o]);return i}function B(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function T(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(e,t,r,n,o){return t=+t,r>>>=0,o||T(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,o){return t=+t,r>>>=0,o||T(e,0,r,8),i.write(e,t,r,n,52,8),r+8}a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=a.prototype,n},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||C(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||C(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);C(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);C(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=a.isBuffer(e)?e:new a(e,n),f=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%f]}return this};var N=/[^+/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function O(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function D(e){return n.toByteArray(function(e){if((e=e.trim().replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function F(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function U(e){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(e)}function q(e){return e!=e}},{"base64-js":2,ieee754:50}],9:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("stream").Transform,o=e("string_decoder").StringDecoder;function s(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(s,i),s.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},t.exports=s},{inherits:51,"safe-buffer":82,stream:97,string_decoder:98}],10:[function(e,t,r){(function(e){function t(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===t(e)},r.isObject=function(e){return"object"==typeof e&&null!==e},r.isDate=function(e){return"[object Date]"===t(e)},r.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":52}],11:[function(e,t,r){(function(r){"use strict";var n=e("inherits"),i=e("./md5"),o=e("ripemd160"),s=e("sha.js"),a=e("cipher-base");function f(e){a.call(this,"digest"),this._hash=e,this.buffers=[]}function u(e){a.call(this,"digest"),this._hash=e}n(f,a),f.prototype._update=function(e){this.buffers.push(e)},f.prototype._final=function(){var e=r.concat(this.buffers),t=this._hash(e);return this.buffers=null,t},n(u,a),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return"md5"===(e=e.toLowerCase())?new f(i):new u("rmd160"===e||"ripemd160"===e?new o:s(e))}}).call(this,e("buffer").Buffer)},{"./md5":13,buffer:8,"cipher-base":9,inherits:51,ripemd160:80,"sha.js":90}],12:[function(e,t,r){(function(e){"use strict";var r=4,n=new e(r);n.fill(0);t.exports=function(t,i){var o=i(function(t){if(t.length%r!=0){var i=t.length+(r-t.length%r);t=e.concat([t,n],i)}for(var o=new Array(t.length>>>2),s=0,a=0;s<t.length;s+=r,a++)o[a]=t.readInt32LE(s);return o}(t),8*t.length);t=new e(16);for(var s=0;s<o.length;s++)t.writeInt32LE(o[s],s<<2,!0);return t}}).call(this,e("buffer").Buffer)},{buffer:8}],13:[function(e,t,r){"use strict";var n=e("./make-hash");function i(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,h=0;h<e.length;h+=16){var d=r,l=n,p=i,b=o;n=u(n=u(n=u(n=u(n=f(n=f(n=f(n=f(n=a(n=a(n=a(n=a(n=s(n=s(n=s(n=s(n,i=s(i,o=s(o,r=s(r,n,i,o,e[h+0],7,-680876936),n,i,e[h+1],12,-389564586),r,n,e[h+2],17,606105819),o,r,e[h+3],22,-1044525330),i=s(i,o=s(o,r=s(r,n,i,o,e[h+4],7,-176418897),n,i,e[h+5],12,1200080426),r,n,e[h+6],17,-1473231341),o,r,e[h+7],22,-45705983),i=s(i,o=s(o,r=s(r,n,i,o,e[h+8],7,1770035416),n,i,e[h+9],12,-1958414417),r,n,e[h+10],17,-42063),o,r,e[h+11],22,-1990404162),i=s(i,o=s(o,r=s(r,n,i,o,e[h+12],7,1804603682),n,i,e[h+13],12,-40341101),r,n,e[h+14],17,-1502002290),o,r,e[h+15],22,1236535329),i=a(i,o=a(o,r=a(r,n,i,o,e[h+1],5,-165796510),n,i,e[h+6],9,-1069501632),r,n,e[h+11],14,643717713),o,r,e[h+0],20,-373897302),i=a(i,o=a(o,r=a(r,n,i,o,e[h+5],5,-701558691),n,i,e[h+10],9,38016083),r,n,e[h+15],14,-660478335),o,r,e[h+4],20,-405537848),i=a(i,o=a(o,r=a(r,n,i,o,e[h+9],5,568446438),n,i,e[h+14],9,-1019803690),r,n,e[h+3],14,-187363961),o,r,e[h+8],20,1163531501),i=a(i,o=a(o,r=a(r,n,i,o,e[h+13],5,-1444681467),n,i,e[h+2],9,-51403784),r,n,e[h+7],14,1735328473),o,r,e[h+12],20,-1926607734),i=f(i,o=f(o,r=f(r,n,i,o,e[h+5],4,-378558),n,i,e[h+8],11,-2022574463),r,n,e[h+11],16,1839030562),o,r,e[h+14],23,-35309556),i=f(i,o=f(o,r=f(r,n,i,o,e[h+1],4,-1530992060),n,i,e[h+4],11,1272893353),r,n,e[h+7],16,-155497632),o,r,e[h+10],23,-1094730640),i=f(i,o=f(o,r=f(r,n,i,o,e[h+13],4,681279174),n,i,e[h+0],11,-358537222),r,n,e[h+3],16,-722521979),o,r,e[h+6],23,76029189),i=f(i,o=f(o,r=f(r,n,i,o,e[h+9],4,-640364487),n,i,e[h+12],11,-421815835),r,n,e[h+15],16,530742520),o,r,e[h+2],23,-995338651),i=u(i,o=u(o,r=u(r,n,i,o,e[h+0],6,-198630844),n,i,e[h+7],10,1126891415),r,n,e[h+14],15,-1416354905),o,r,e[h+5],21,-57434055),i=u(i,o=u(o,r=u(r,n,i,o,e[h+12],6,1700485571),n,i,e[h+3],10,-1894986606),r,n,e[h+10],15,-1051523),o,r,e[h+1],21,-2054922799),i=u(i,o=u(o,r=u(r,n,i,o,e[h+8],6,1873313359),n,i,e[h+15],10,-30611744),r,n,e[h+6],15,-1560198380),o,r,e[h+13],21,1309151649),i=u(i,o=u(o,r=u(r,n,i,o,e[h+4],6,-145523070),n,i,e[h+11],10,-1120210379),r,n,e[h+2],15,718787259),o,r,e[h+9],21,-343485551),r=c(r,d),n=c(n,l),i=c(i,p),o=c(o,b)}return[r,n,i,o]}function o(e,t,r,n,i,o){return c((s=c(c(t,e),c(n,o)))<<(a=i)|s>>>32-a,r);var s,a}function s(e,t,r,n,i,s,a){return o(t&r|~t&n,e,t,i,s,a)}function a(e,t,r,n,i,s,a){return o(t&n|r&~n,e,t,i,s,a)}function f(e,t,r,n,i,s,a){return o(t^r^n,e,t,i,s,a)}function u(e,t,r,n,i,s,a){return o(r^(t|~n),e,t,i,s,a)}function c(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}t.exports=function(e){return n(e,i)}},{"./make-hash":12}],14:[function(e,t,r){"use strict";var n=r;n.version=e("../package.json").version,n.utils=e("./elliptic/utils"),n.rand=e("brorand"),n.curve=e("./elliptic/curve"),n.curves=e("./elliptic/curves"),n.ec=e("./elliptic/ec"),n.eddsa=e("./elliptic/eddsa")},{"../package.json":29,"./elliptic/curve":17,"./elliptic/curves":20,"./elliptic/ec":21,"./elliptic/eddsa":24,"./elliptic/utils":28,brorand:5}],15:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils,o=i.getNAF,s=i.getJSF,a=i.assert;function f(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}t.exports=f,f.prototype.point=function(){throw new Error("Not implemented")},f.prototype.validate=function(){throw new Error("Not implemented")},f.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=o(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],f=0;f<n.length;f+=r.step){var u=0;for(t=f+r.step-1;t>=f;t--)u=(u<<1)+n[t];s.push(u)}for(var c=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=i;d>0;d--){for(f=0;f<s.length;f++){(u=s[f])===d?h=h.mixedAdd(r.points[f]):u===-d&&(h=h.mixedAdd(r.points[f].neg()))}c=c.add(h)}return c.toP()},f.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(t,r),f=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(t=0;u>=0&&0===s[u];u--)t++;if(u>=0&&t++,f=f.dblp(t),u<0)break;var c=s[u];a(0!==c),f="affine"===e.type?c>0?f.mixedAdd(i[c-1>>1]):f.mixedAdd(i[-c-1>>1].neg()):c>0?f.add(i[c-1>>1]):f.add(i[-c-1>>1].neg())}return"affine"===e.type?f.toP():f},f.prototype._wnafMulAdd=function(e,t,r,n,i){for(var a=this._wnafT1,f=this._wnafT2,u=this._wnafT3,c=0,h=0;h<n;h++){var d=(k=t[h])._getNAFPoints(e);a[h]=d.wnd,f[h]=d.points}for(h=n-1;h>=1;h-=2){var l=h-1,p=h;if(1===a[l]&&1===a[p]){var b=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(b[1]=t[l].add(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].add(t[p].neg())):(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=s(r[l],r[p]);c=Math.max(y[0].length,c),u[l]=new Array(c),u[p]=new Array(c);for(var g=0;g<c;g++){var v=0|y[0][g],w=0|y[1][g];u[l][g]=m[3*(v+1)+(w+1)],u[p][g]=0,f[l]=b}}else u[l]=o(r[l],a[l]),u[p]=o(r[p],a[p]),c=Math.max(u[l].length,c),c=Math.max(u[p].length,c)}var _=this.jpoint(null,null,null),S=this._wnafT4;for(h=c;h>=0;h--){for(var A=0;h>=0;){var E=!0;for(g=0;g<n;g++)S[g]=0|u[g][h],0!==S[g]&&(E=!1);if(!E)break;A++,h--}if(h>=0&&A++,_=_.dblp(A),h<0)break;for(g=0;g<n;g++){var k,M=S[g];0!==M&&(M>0?k=f[g][M-1>>1]:M<0&&(k=f[g][-M-1>>1].neg()),_="affine"===k.type?_.mixedAdd(k):_.add(k))}}for(h=0;h<n;h++)f[h]=null;return i?_:_.toP()},f.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},f.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},{"../../elliptic":14,"bn.js":4}],16:[function(e,t,r){"use strict";var n=e("../curve"),i=e("../../elliptic"),o=e("bn.js"),s=e("inherits"),a=n.base,f=i.utils.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new o(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),f(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,r,n,i){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(t,16),this.y=new o(r,16),this.z=n?new o(n,16):this.curve.one,this.t=i&&new o(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(u,a),t.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},u.prototype.pointFromX=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var f=a.fromRed().isOdd();return(t&&!f||!t&&f)&&(a=a.redNeg()),this.point(e,a)},u.prototype.pointFromY=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.one),i=r.redMul(this.d).redAdd(this.one),s=n.redMul(i.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},s(c,a.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,r,n){return new c(this,e,t,r,n)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),f=i.redMul(s),u=o.redMul(a),c=i.redMul(a),h=s.redMul(o);return this.curve.point(f,u,h,c)},c.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var s=(u=this.curve._mulA(i)).redAdd(o);if(this.zOne)e=n.redSub(i).redSub(o).redMul(s.redSub(this.curve.two)),t=s.redMul(u.redSub(o)),r=s.redSqr().redSub(s).redSub(s);else{var a=this.z.redSqr(),f=s.redSub(a).redISub(a);e=n.redSub(i).redISub(o).redMul(f),t=s.redMul(u.redSub(o)),r=s.redMul(f)}}else{var u=i.redAdd(o);a=this.curve._mulC(this.c.redMul(this.z)).redSqr(),f=u.redSub(a).redSub(a);e=this.curve._mulC(n.redISub(u)).redMul(f),t=this.curve._mulC(u).redMul(i.redISub(o)),r=u.redMul(f)}return this.curve.point(e,t,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),f=r.redAdd(t),u=o.redMul(s),c=a.redMul(f),h=o.redMul(f),d=s.redMul(a);return this.curve.point(u,c,d,h)},c.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),f=i.redSub(a),u=i.redAdd(a),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),h=n.redMul(f).redMul(c);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(o))),r=f.redMul(u)):(t=n.redMul(u).redMul(s.redSub(o)),r=this.curve._mulC(f).redMul(u)),this.curve.point(h,t,r)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},c.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}return!1},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../../elliptic":14,"../curve":17,"bn.js":4,inherits:51}],17:[function(e,t,r){"use strict";var n=r;n.base=e("./base"),n.short=e("./short"),n.mont=e("./mont"),n.edwards=e("./edwards")},{"./base":15,"./edwards":16,"./mont":18,"./short":19}],18:[function(e,t,r){"use strict";var n=e("../curve"),i=e("bn.js"),o=e("inherits"),s=n.base,a=e("../../elliptic").utils;function f(e){s.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(f,s),t.exports=f,f.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},o(u,s.BasePoint),f.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},f.prototype.point=function(e,t){return new u(this,e,t)},f.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),f=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,f)},u.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../../elliptic":14,"../curve":17,"bn.js":4,inherits:51}],19:[function(e,t,r){"use strict";var n=e("../curve"),i=e("../../elliptic"),o=e("bn.js"),s=e("inherits"),a=n.base,f=i.utils.assert;function u(e){a.call(this,"short",e),this.a=new o(e.a,16).toRed(this.red),this.b=new o(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(t,16),this.y=new o(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(t,16),this.y=new o(r,16),this.z=new o(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(u,a),t.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new o(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new o(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],f(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map(function(e){return{a:new o(e.a,16),b:new o(e.b,16)}}):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:o.mont(e),r=new o(2).toRed(t).redInvm(),n=r.redNeg(),i=new o(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,a,f,u,c,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,l=this.n.clone(),p=new o(1),b=new o(0),m=new o(0),y=new o(1),g=0;0!==d.cmpn(0);){var v=l.div(d);u=l.sub(v.mul(d)),c=m.sub(v.mul(p));var w=y.sub(v.mul(b));if(!n&&u.cmp(h)<0)t=f.neg(),r=p,n=u.neg(),i=c;else if(n&&2==++g)break;f=u,l=d,d=u,m=p,p=c,y=b,b=w}s=u.neg(),a=c;var _=n.sqr().add(i.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:i},{a:s,b:a}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),f=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:f.add(u).neg()}},u.prototype.pointFromX=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],f=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),f=f.neg(!0)),n[2*o]=a,n[2*o+1]=f,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return u},s(c,a.BasePoint),u.prototype.point=function(e,t,r){return new c(this,e,t,r)},u.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new o(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},c.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(h,a.BasePoint),u.prototype.jpoint=function(e,t,r){return new h(this,e,t,r)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),f=o.redSub(s);if(0===a.cmpn(0))return 0!==f.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),d=f.redSqr().redIAdd(c).redISub(h).redISub(h),l=f.redMul(h.redISub(d)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,l,p)},h.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),u=f.redMul(s),c=r.redMul(f),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),d=a.redMul(c.redISub(h)).redISub(i.redMul(u)),l=this.z.redMul(s);return this.curve.jpoint(h,d,l)},h.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,f=a.redSqr().redSqr(),u=s.redAdd(s);for(r=0;r<e;r++){var c=o.redSqr(),h=u.redSqr(),d=h.redSqr(),l=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(f)),p=o.redMul(h),b=l.redSqr().redISub(p.redAdd(p)),m=p.redISub(b),y=l.redMul(m);y=y.redIAdd(y).redISub(d);var g=u.redMul(a);r+1<e&&(f=f.redMul(d)),o=b,a=g,u=y}return this.curve.jpoint(o,u.redMul(i),a)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),f=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=f,t=a.redMul(s.redISub(f)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),l=this.x.redAdd(h).redSqr().redISub(c).redISub(d);l=l.redIAdd(l);var p=c.redAdd(c).redIAdd(c),b=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},h.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),f=a.redSqr().redISub(s).redISub(s);e=f;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(f)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),l=this.x.redSub(c).redMul(this.x.redAdd(c));l=l.redAdd(l).redIAdd(l);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=l.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},h.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),f=t.redAdd(t),u=(f=f.redIAdd(f)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,l,p)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),f=n.redIAdd(n);f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(f),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(u.redMul(f.redISub(u)).redISub(s.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,l)},h.prototype.mul=function(e,t){return e=new o(e,t),this.curve._wnafMul(this,e)},h.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},h.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}return!1},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":14,"../curve":17,"bn.js":4,inherits:51}],20:[function(e,t,r){"use strict";var n,i=r,o=e("hash.js"),s=e("../elliptic"),a=s.utils.assert;function f(e){"short"===e.type?this.curve=new s.curve.short(e):"edwards"===e.type?this.curve=new s.curve.edwards(e):this.curve=new s.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new f(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=f,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=e("./precomputed/secp256k1")}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"../elliptic":14,"./precomputed/secp256k1":27,"hash.js":37}],21:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("hmac-drbg"),o=e("../../elliptic"),s=o.utils.assert,a=e("./key"),f=e("./signature");function u(e){if(!(this instanceof u))return new u(e);"string"==typeof e&&(s(o.curves.hasOwnProperty(e),"Unknown curve "+e),e=o.curves[e]),e instanceof o.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}t.exports=u,u.prototype.keyPair=function(e){return new a(this,e)},u.prototype.keyFromPrivate=function(e,t){return a.fromPrivate(this,e,t)},u.prototype.keyFromPublic=function(e,t){return a.fromPublic(this,e,t)},u.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(s)>0))return a.iaddn(1),this.keyFromPrivate(a)}},u.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},u.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),u=e.toArray("be",s),c=new i({hash:this.hash,entropy:a,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),h=this.n.sub(new n(1)),d=0;;d++){var l=o.k?o.k(d):new n(c.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(h)>=0)){var p=this.g.mul(l);if(!p.isInfinity()){var b=p.getX(),m=b.umod(this.n);if(0!==m.cmpn(0)){var y=l.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(y=y.umod(this.n)).cmpn(0)){var g=(p.getY().isOdd()?1:0)|(0!==b.cmp(m)?2:0);return o.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),g^=1),new f({r:m,s:y,recoveryParam:g})}}}}}},u.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,u=s.invm(this.n),c=u.mul(e).umod(this.n),h=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),h)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(c,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},u.prototype.recoverPubKey=function(e,t,r,i){s((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,a=new n(e),u=t.r,c=t.s,h=1&r,d=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");u=d?this.curve.pointFromX(u.add(this.curve.n),h):this.curve.pointFromX(u,h);var l=t.r.invm(o),p=o.sub(a).mul(l).umod(o),b=c.mul(l).umod(o);return this.g.mulAdd(p,u,b)},u.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},{"../../elliptic":14,"./key":22,"./signature":23,"bn.js":4,"hmac-drbg":49}],22:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils.assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}t.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../../elliptic":14,"bn.js":4}],23:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils,o=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s];return t.place=s,i}function f(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}t.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new function(){this.place=0};if(48!==e[r.place++])return!1;if(a(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=a(e,r),s=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var f=a(e,r);if(e.length!==f+r.place)return!1;var u=e.slice(r.place,f+r.place);return 0===s[0]&&128&s[1]&&(s=s.slice(1)),0===u[0]&&128&u[1]&&(u=u.slice(1)),this.r=new n(s),this.s=new n(u),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=f(t),r=f(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];u(n,t.length),(n=n.concat(t)).push(2),u(n,r.length);var o=n.concat(r),s=[48];return u(s,o.length),s=s.concat(o),i.encode(s,e)}},{"../../elliptic":14,"bn.js":4}],24:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("../../elliptic"),o=i.utils,s=o.assert,a=o.parseBytes,f=e("./key"),u=e("./signature");function c(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof c))return new c(e);e=i.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}t.exports=c,c.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),f=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:f,Rencoded:o})},c.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},c.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(e){return f.fromPublic(this,e)},c.prototype.keyFromSecret=function(e){return f.fromSecret(this,e)},c.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},c.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},c.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},c.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(e){return o.intFromLE(e)},c.prototype.isPoint=function(e){return e instanceof this.pointClass}},{"../../elliptic":14,"./key":25,"./signature":26,"hash.js":37}],25:[function(e,t,r){"use strict";var n=e("../../elliptic").utils,i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(a,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),s(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},t.exports=a},{"../../elliptic":14}],26:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils,o=i.assert,s=i.cachedProperty,a=i.parseBytes;function f(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(f,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(f,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(f,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(f,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),f.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},f.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=f},{"../../elliptic":14,"bn.js":4}],27:[function(e,t,r){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],28:[function(e,t,r){"use strict";var n=r,i=e("bn.js"),o=e("minimalistic-assert"),s=e("minimalistic-crypto-utils");n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t){for(var r=[],n=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var s=i.andln(n-1);o=s>(n>>1)-1?(n>>1)-s:s,i.isubn(o)}else o=0;r.push(o);for(var a=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,f=1;f<a;f++)r.push(0);i.iushrn(a)}return r},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o,s,a,f=e.andln(3)+n&3,u=t.andln(3)+i&3;3===f&&(f=-1),3===u&&(u=-1),o=0==(1&f)?0:3!=(a=e.andln(7)+n&7)&&5!==a||2!==u?f:-f,r[0].push(o),s=0==(1&u)?0:3!=(a=t.andln(7)+i&7)&&5!==a||2!==f?u:-u,r[1].push(s),2*n===o+1&&(n=1-n),2*i===s+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},{"bn.js":4,"minimalistic-assert":63,"minimalistic-crypto-utils":64}],29:[function(e,t,r){t.exports={_args:[["elliptic@6.4.0","/Users/hdrewes/Documents/DEV/EthereumJS/browser-builds"]],_from:"elliptic@6.4.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.4.0",name:"elliptic",escapedName:"elliptic",rawSpec:"6.4.0",saveSpec:null,fetchSpec:"6.4.0"},_requiredBy:["/browserify-sign","/create-ecdh","/secp256k1"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_spec:"6.4.0",_where:"/Users/hdrewes/Documents/DEV/EthereumJS/browser-builds",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},{}],30:[function(e,t,r){t.exports={genesisGasLimit:{v:5e3,d:"Gas limit of the Genesis block."},genesisDifficulty:{v:17179869184,d:"Difficulty of the Genesis block."},genesisNonce:{v:"0x0000000000000042",d:"the geneis nonce"},genesisExtraData:{v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},genesisHash:{v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},genesisStateRoot:{v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be."},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations."},minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be."},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},maximumExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis."},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs."},stackLimit:{v:1024,d:"Maximum size of VM stack allowed."},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack."},tierStepGas:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},expGas:{v:10,d:"Once per EXP instuction."},expByteGas:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},sha3Gas:{v:30,d:"Once per SHA3 operation."},sha3WordGas:{v:6,d:"Once per word of the SHA3 operation's data."},sloadGas:{v:50,d:"Once per SLOAD operation."},sstoreSetGas:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},sstoreResetGas:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},sstoreRefundGas:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},jumpdestGas:{v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},logGas:{v:375,d:"Per LOG* operation."},logDataGas:{v:8,d:"Per byte in a LOG* operation's data."},logTopicGas:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},createGas:{v:32e3,d:"Once per CREATE operation & contract-creation transaction."},callGas:{v:40,d:"Once per CALL operation & message call transaction."},callStipend:{v:2300,d:"Free gas given at beginning of call."},callValueTransferGas:{v:9e3,d:"Paid for CALL when the value transfor is non-zero."},callNewAccountGas:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},suicideRefundGas:{v:24e3,d:"Refunded following a suicide operation."},memoryGas:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation."},createDataGas:{v:200,d:""},txGas:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},txCreation:{v:32e3,d:"the cost of creating a contract via tx"},txDataZeroGas:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},txDataNonZeroGas:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},copyGas:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},ecrecoverGas:{v:3e3,d:""},sha256Gas:{v:60,d:""},sha256WordGas:{v:12,d:""},ripemd160Gas:{v:600,d:""},ripemd160WordGas:{v:120,d:""},identityGas:{v:15,d:""},identityWordGas:{v:3,d:""},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},ommerReward:{v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},niblingReward:{v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},homeSteadForkNumber:{v:115e4,d:"the block that the Homestead fork started at"},homesteadRepriceForkNumber:{v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},freeBlockPeriod:{v:2}}},{}],31:[function(e,t,r){(function(r){"use strict";var n=e("ethereumjs-util"),i=e("ethereum-common/params.json"),o=n.BN,s=new o("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{};var i=[{name:"nonce",length:32,allowLess:!0,default:new r([])},{name:"gasPrice",length:32,allowLess:!0,default:new r([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new r([])},{name:"to",allowZero:!0,length:20,default:new r([])},{name:"value",length:32,allowLess:!0,default:new r([])},{name:"data",alias:"input",allowZero:!0,default:new r([])},{name:"v",allowZero:!0,default:new r([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new r([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new r([])}];n.defineProperties(this,i,t),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var o=n.bufferToInt(this.v),s=Math.floor((o-35)/2);s<0&&(s=0),this._chainId=s||t.chainId||0,this._homestead=!0}return e.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},e.prototype.hash=function(e){void 0===e&&(e=!0);var t=void 0;if(e)t=this.raw;else if(this._chainId>0){var r=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,t=this.raw,this.raw=r}else t=this.raw.slice(0,6);return n.rlphash(t)},e.prototype.getChainId=function(){return this._chainId},e.prototype.getSenderAddress=function(){if(this._from)return this._from;var e=this.getSenderPublicKey();return this._from=n.publicToAddress(e),this._from},e.prototype.getSenderPublicKey=function(){if(!(this._senderPubKey&&this._senderPubKey.length||this.verifySignature()))throw new Error("Invalid Signature");return this._senderPubKey},e.prototype.verifySignature=function(){var e=this.hash(!1);if(this._homestead&&1===new o(this.s).cmp(s))return!1;try{var t=n.bufferToInt(this.v);this._chainId>0&&(t-=2*this._chainId+8),this._senderPubKey=n.ecrecover(e,t,this.r,this.s)}catch(e){return!1}return!!this._senderPubKey},e.prototype.sign=function(e){var t=this.hash(!1),r=n.ecsign(t,e);this._chainId>0&&(r.v+=2*this._chainId+8),Object.assign(this,r)},e.prototype.getDataFee=function(){for(var e=this.raw[5],t=new o(0),r=0;r<e.length;r++)0===e[r]?t.iaddn(i.txDataZeroGas.v):t.iaddn(i.txDataNonZeroGas.v);return t},e.prototype.getBaseFee=function(){var e=this.getDataFee().iaddn(i.txGas.v);return this._homestead&&this.toCreationAddress()&&e.iaddn(i.txCreation.v),e},e.prototype.getUpfrontCost=function(){return new o(this.gasLimit).imul(new o(this.gasPrice)).iadd(new o(this.value))},e.prototype.validate=function(e){var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().cmp(new o(this.gasLimit))>0&&t.push(["gas limit is too low. Need at least "+this.getBaseFee()]),void 0===e||!1===e?0===t.length:t.join(" ")},e}();t.exports=a}).call(this,e("buffer").Buffer)},{buffer:8,"ethereum-common/params.json":30,"ethereumjs-util":32}],32:[function(e,t,r){(function(t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("keccak"),o=e("secp256k1"),s=e("assert"),a=e("rlp"),f=e("bn.js"),u=e("create-hash");Object.assign(r,e("ethjs-util")),r.MAX_INTEGER=new f("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new f("10000000000000000000000000000000000000000000000000000000000000000",16),r.SHA3_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.SHA3_NULL=t.from(r.SHA3_NULL_S,"hex"),r.SHA3_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.SHA3_RLP_ARRAY=t.from(r.SHA3_RLP_ARRAY_S,"hex"),r.SHA3_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.SHA3_RLP=t.from(r.SHA3_RLP_S,"hex"),r.BN=f,r.rlp=a,r.secp256k1=o,r.zeros=function(e){return t.allocUnsafe(e).fill(0)},r.setLengthLeft=r.setLength=function(e,t,n){var i=r.zeros(t);return e=r.toBuffer(e),n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)},r.setLengthRight=function(e,t){return r.setLength(e,t,!0)},r.unpad=r.stripZeros=function(e){for(var t=(e=r.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},r.toBuffer=function(e){if(!t.isBuffer(e))if(Array.isArray(e))e=t.from(e);else if("string"==typeof e)e=r.isHexString(e)?t.from(r.padToEven(r.stripHexPrefix(e)),"hex"):t.from(e);else if("number"==typeof e)e=r.intToBuffer(e);else if(null===e||void 0===e)e=t.allocUnsafe(0);else{if(!e.toArray)throw new Error("invalid type");e=t.from(e.toArray())}return e},r.bufferToInt=function(e){return new f(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new f(e).fromTwos(256)},r.toUnsigned=function(e){return t.from(e.toTwos(256).toArray())},r.sha3=function(e,t){return e=r.toBuffer(e),t||(t=256),i("keccak"+t).update(e).digest()},r.sha256=function(e){return e=r.toBuffer(e),u("sha256").update(e).digest()},r.ripemd160=function(e,t){e=r.toBuffer(e);var n=u("rmd160").update(e).digest();return!0===t?r.setLength(n,32):n},r.rlphash=function(e){return r.sha3(a.encode(e))},r.isValidPrivate=function(e){return o.privateKeyVerify(e)},r.isValidPublic=function(e,r){return 64===e.length?o.publicKeyVerify(t.concat([t.from([4]),e])):!!r&&o.publicKeyVerify(e)},r.pubToAddress=r.publicToAddress=function(e,t){return e=r.toBuffer(e),t&&64!==e.length&&(e=o.publicKeyConvert(e,!1).slice(1)),s(64===e.length),r.sha3(e).slice(-20)};var c=r.privateToPublic=function(e){return e=r.toBuffer(e),o.publicKeyCreate(e,!1).slice(1)};r.importPublic=function(e){return 64!==(e=r.toBuffer(e)).length&&(e=o.publicKeyConvert(e,!1).slice(1)),e},r.ecsign=function(e,t){var r=o.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},r.hashPersonalMessage=function(e){var n=r.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return r.sha3(t.concat([n,e]))},r.ecrecover=function(e,n,i,s){var a=t.concat([r.setLength(i,32),r.setLength(s,32)],64),f=n-27;if(0!==f&&1!==f)throw new Error("Invalid signature v value");var u=o.recover(e,a,f);return o.publicKeyConvert(u,!1).slice(1)},r.toRpcSig=function(e,n,i){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return r.bufferToHex(t.concat([r.setLengthLeft(n,32),r.setLengthLeft(i,32),r.toBuffer(e-27)]))},r.fromRpcSig=function(e){if(65!==(e=r.toBuffer(e)).length)throw new Error("Invalid signature length");var t=e[64];return t<27&&(t+=27),{v:t,r:e.slice(0,32),s:e.slice(32,64)}},r.privateToAddress=function(e){return r.publicToAddress(c(e))},r.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/i.test(e)},r.toChecksumAddress=function(e){e=r.stripHexPrefix(e).toLowerCase();for(var t=r.sha3(e).toString("hex"),n="0x",i=0;i<e.length;i++)parseInt(t[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},r.isValidChecksumAddress=function(e){return r.isValidAddress(e)&&r.toChecksumAddress(e)===e},r.generateAddress=function(e,n){return e=r.toBuffer(e),n=(n=new f(n)).isZero()?null:t.from(n.toArray()),r.rlphash([e,n]).slice(-20)},r.isPrecompiled=function(e){var t=r.unpad(e);return 1===t.length&&t[0]>0&&t[0]<5},r.addHexPrefix=function(e){return"string"!=typeof e?e:r.isHexPrefixed(e)?e:"0x"+e},r.isValidSignature=function(e,t,r,n){var i=new f("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new f("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new f(t),r=new f(r),!(t.isZero()||t.gt(o)||r.isZero()||r.gt(o))&&(!1!==n||1!==new f(r).cmp(i))))},r.baToJSON=function(e){if(t.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var n=[],i=0;i<e.length;i++)n.push(r.baToJSON(e[i]));return n}},r.defineProperties=function(e,i,o){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(t){var n={};return e._fields.forEach(function(t){n[t]="0x"+e[t].toString("hex")}),n}return r.baToJSON(this.raw)},e.serialize=function(){return a.encode(e.raw)},i.forEach(function(n,i){function o(){return e.raw[i]}function a(o){"00"!==(o=r.toBuffer(o)).toString("hex")||n.allowZero||(o=t.allocUnsafe(0)),n.allowLess&&n.length?(o=r.stripZeros(o),s(n.length>=o.length,"The field "+n.name+" must not have more "+n.length+" bytes")):n.allowZero&&0===o.length||!n.length||s(n.length===o.length,"The field "+n.name+" must have byte length of "+n.length),e.raw[i]=o}e._fields.push(n.name),Object.defineProperty(e,n.name,{enumerable:!0,configurable:!0,get:o,set:a}),n.default&&(e[n.name]=n.default),n.alias&&Object.defineProperty(e,n.alias,{enumerable:!1,configurable:!0,set:a,get:o})}),o)if("string"==typeof o&&(o=t.from(r.stripHexPrefix(o),"hex")),t.isBuffer(o)&&(o=a.decode(o)),Array.isArray(o)){if(o.length>e._fields.length)throw new Error("wrong number of fields in data");o.forEach(function(t,n){e[e._fields[n]]=r.toBuffer(t)})}else{if("object"!==(void 0===o?"undefined":n(o)))throw new Error("invalid data");var f=Object.keys(o);i.forEach(function(t){-1!==f.indexOf(t.name)&&(e[t.name]=o[t.name]),-1!==f.indexOf(t.alias)&&(e[t.alias]=o[t.alias])})}}}).call(this,e("buffer").Buffer)},{assert:1,"bn.js":4,buffer:8,"create-hash":11,"ethjs-util":34,keccak:56,rlp:81,secp256k1:83}],33:[function(e,t,r){(function(t){const n=e("keccakjs"),i=e("secp256k1"),o=e("assert"),s=e("rlp"),a=e("bn.js"),f=e("create-hash");r.MAX_INTEGER=new a("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new a("10000000000000000000000000000000000000000000000000000000000000000",16),r.SHA3_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.SHA3_NULL=new t(r.SHA3_NULL_S,"hex"),r.SHA3_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.SHA3_RLP_ARRAY=new t(r.SHA3_RLP_ARRAY_S,"hex"),r.SHA3_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.SHA3_RLP=new t(r.SHA3_RLP_S,"hex"),r.BN=a,r.rlp=s,r.secp256k1=i,r.zeros=function(e){var r=new t(e);return r.fill(0),r},r.setLengthLeft=r.setLength=function(e,t,n){var i=r.zeros(t);return e=r.toBuffer(e),n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)},r.setLengthRight=function(e,t){return r.setLength(e,t,!0)},r.unpad=r.stripZeros=function(e){for(var t=(e=r.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},r.toBuffer=function(e){if(!t.isBuffer(e))if(Array.isArray(e))e=new t(e);else if("string"==typeof e)e=r.isHexPrefixed(e)?new t(r.padToEven(r.stripHexPrefix(e)),"hex"):new t(e);else if("number"==typeof e)e=r.intToBuffer(e);else if(null===e||void 0===e)e=new t([]);else{if(!e.toArray)throw new Error("invalid type");e=new t(e.toArray())}return e},r.intToHex=function(e){o(e%1==0,"number is not a integer"),o(e>=0,"number must be positive");var t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t},r.intToBuffer=function(e){var n=r.intToHex(e);return new t(n.slice(2),"hex")},r.bufferToInt=function(e){return parseInt(r.bufferToHex(e),16)},r.bufferToHex=function(e){return 0===(e=r.toBuffer(e)).length?0:"0x"+e.toString("hex")},r.fromSigned=function(e){return new a(e).fromTwos(256)},r.toUnsigned=function(e){return new t(e.toTwos(256).toArray())},r.sha3=function(e,i){e=r.toBuffer(e),i||(i=256);var o=new n(i);return e&&o.update(e),new t(o.digest("hex"),"hex")},r.sha256=function(e){return e=r.toBuffer(e),f("sha256").update(e).digest()},r.ripemd160=function(e,t){e=r.toBuffer(e);var n=f("rmd160").update(e).digest();return!0===t?r.setLength(n,32):n},r.rlphash=function(e){return r.sha3(s.encode(e))},r.isValidPrivate=function(e){return i.privateKeyVerify(e)},r.isValidPublic=function(e,r){return 64===e.length?i.publicKeyVerify(t.concat([new t([4]),e])):!!r&&i.publicKeyVerify(e)},r.pubToAddress=r.publicToAddress=function(e,t){return e=r.toBuffer(e),t&&64!==e.length&&(e=i.publicKeyConvert(e,!1).slice(1)),o(64===e.length),r.sha3(e).slice(-20)};var u=r.privateToPublic=function(e){return e=r.toBuffer(e),i.publicKeyCreate(e,!1).slice(1)};r.importPublic=function(e){return 64!==(e=r.toBuffer(e)).length&&(e=i.publicKeyConvert(e,!1).slice(1)),e},r.ecsign=function(e,t){var r=i.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},r.ecrecover=function(e,n,o,s){var a=t.concat([r.setLength(o,32),r.setLength(s,32)],64),f=r.bufferToInt(n)-27;if(0!==f&&1!==f)throw new Error("Invalid signature v value");var u=i.recover(e,a,f);return i.publicKeyConvert(u,!1).slice(1)},r.toRpcSig=function(e,n,i){return r.bufferToHex(t.concat([n,i,r.toBuffer(e-27)]))},r.fromRpcSig=function(e){var t=(e=r.toBuffer(e))[64];return t<27&&(t+=27),{v:t,r:e.slice(0,32),s:e.slice(32,64)}},r.privateToAddress=function(e){return r.publicToAddress(u(e))},r.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/i.test(e)},r.toChecksumAddress=function(e){e=r.stripHexPrefix(e).toLowerCase();for(var t=r.sha3(e).toString("hex"),n="0x",i=0;i<e.length;i++)parseInt(t[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},r.isValidChecksumAddress=function(e){return r.isValidAddress(e)&&r.toChecksumAddress(e)===e},r.generateAddress=function(e,n){return e=r.toBuffer(e),n=(n=new a(n)).isZero()?null:new t(n.toArray()),r.rlphash([e,n]).slice(-20)},r.isPrecompiled=function(e){var t=r.unpad(e);return 1===t.length&&t[0]>0&&t[0]<5},r.isHexPrefixed=function(e){return"0x"===e.slice(0,2)},r.stripHexPrefix=function(e){return"string"!=typeof e?e:r.isHexPrefixed(e)?e.slice(2):e},r.addHexPrefix=function(e){return"string"!=typeof e?e:r.isHexPrefixed(e)?e:"0x"+e},r.padToEven=function(e){return e.length%2&&(e="0"+e),e},r.baToJSON=function(e){if(t.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var n=[],i=0;i<e.length;i++)n.push(r.baToJSON(e[i]));return n}},r.defineProperties=function(e,n,i){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(t){var n={};return e._fields.forEach(function(t){n[t]="0x"+e[t].toString("hex")}),n}return r.baToJSON(this.raw)},e.serialize=function(){return s.encode(e.raw)},n.forEach(function(n,i){function s(){return e.raw[i]}function a(s){"00"!==(s=r.toBuffer(s)).toString("hex")||n.allowZero||(s=new t([])),n.allowLess&&n.length?(s=r.stripZeros(s),o(n.length>=s.length,"The field "+n.name+" must not have more "+n.length+" bytes")):n.allowZero&&0===s.length||!n.length||o(n.length===s.length,"The field "+n.name+" must have byte length of "+n.length),e.raw[i]=s}e._fields.push(n.name),Object.defineProperty(e,n.name,{enumerable:!0,configurable:!0,get:s,set:a}),n.default&&(e[n.name]=n.default),n.alias&&Object.defineProperty(e,n.alias,{enumerable:!1,configurable:!0,set:a,get:s})}),i)if("string"==typeof i&&(i=new t(r.stripHexPrefix(i),"hex")),t.isBuffer(i)&&(i=s.decode(i)),Array.isArray(i)){if(i.length>e._fields.length)throw new Error("wrong number of fields in data");i.forEach(function(t,n){e[e._fields[n]]=r.toBuffer(t)})}else{if("object"!=typeof i)throw new Error("invalid data");for(var a in i)-1!==e._fields.indexOf(a)&&(e[a]=i[a])}}}).call(this,e("buffer").Buffer)},{assert:1,"bn.js":4,buffer:8,"create-hash":11,keccakjs:62,rlp:81,secp256k1:83}],34:[function(e,t,r){(function(r){"use strict";var n=e("is-hex-prefixed"),i=e("strip-hex-prefix");function o(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function s(e){return"0x"+o(e.toString(16))}t.exports={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"](function(t){return e.indexOf(t)>=0})},intToBuffer:function(e){var t=s(e);return new r(t.slice(2),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return r.byteLength(e,"utf8")},isHexPrefixed:n,stripHexPrefix:i,padToEven:o,intToHex:s,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+o(new r(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},toUtf8:function(e){return new r(o(i(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<e.length;i++){var o=e[i][t];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("invalid abi");n.push(o)}return n},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}}}).call(this,e("buffer").Buffer)},{buffer:8,"is-hex-prefixed":53,"strip-hex-prefix":99}],35:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,a,f,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(s(r=this._events[e]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(o(r))for(a=Array.prototype.slice.call(arguments,1),n=(u=r.slice()).length,f=0;f<n;f++)u[f].apply(this,a);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var r,n,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(r=this._events[e]).length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(a=s;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],36:[function(e,t,r){(function(r){"use strict";var n=e("stream").Transform;function i(e){n.call(this),this._block=new r(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(i,n),i.prototype._transform=function(e,t,n){var i=null;try{"buffer"!==t&&(e=new r(e,t)),this.update(e)}catch(e){i=e}n(i)},i.prototype._flush=function(e){var t=null;try{this.push(this._digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=new r(e,t||"binary"));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},i.prototype._update=function(e){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();return void 0!==e&&(t=t.toString(e)),t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=i}).call(this,e("buffer").Buffer)},{buffer:8,inherits:51,stream:97}],37:[function(e,t,r){var n=r;n.utils=e("./hash/utils"),n.common=e("./hash/common"),n.sha=e("./hash/sha"),n.ripemd=e("./hash/ripemd"),n.hmac=e("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":38,"./hash/hmac":39,"./hash/ripemd":40,"./hash/sha":41,"./hash/utils":48}],38:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},{"./utils":48,"minimalistic-assert":63}],39:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}t.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":48,"minimalistic-assert":63}],40:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./common"),o=n.rotl32,s=n.sum32,a=n.sum32_3,f=n.sum32_4,u=i.BlockHash;function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function l(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(c,u),r.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],c=this.h[4],g=r,v=n,w=i,_=u,S=c,A=0;A<80;A++){var E=s(o(f(r,h(A,n,i,u),e[p[A]+t],d(A)),m[A]),c);r=c,c=u,u=o(i,10),i=n,n=E,E=s(o(f(g,h(79-A,v,w,_),e[b[A]+t],l(A)),y[A]),S),g=S,S=_,_=o(w,10),w=v,v=E}E=a(this.h[1],i,_),this.h[1]=a(this.h[2],u,S),this.h[2]=a(this.h[3],c,g),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,w),this.h[0]=E},c.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":38,"./utils":48}],41:[function(e,t,r){"use strict";r.sha1=e("./sha/1"),r.sha224=e("./sha/224"),r.sha256=e("./sha/256"),r.sha384=e("./sha/384"),r.sha512=e("./sha/512")},{"./sha/1":42,"./sha/224":43,"./sha/256":44,"./sha/384":45,"./sha/512":46}],42:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),o=e("./common"),s=n.rotl32,a=n.sum32,f=n.sum32_5,u=o.ft_1,c=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,c),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],c=this.h[2],d=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),b=f(s(i,5),u(p,o,c,d),l,r[n],h[p]);l=d,d=c,c=s(o,30),o=i,i=b}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],c),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],l)},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":38,"../utils":48,"./common":47}],43:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./256");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":48,"./256":44}],44:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),o=e("./common"),s=e("minimalistic-assert"),a=n.sum32,f=n.sum32_4,u=n.sum32_5,c=o.ch32,h=o.maj32,d=o.s0_256,l=o.s1_256,p=o.g0_256,b=o.g1_256,m=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(g,m),t.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=f(b(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],y=this.h[3],g=this.h[4],v=this.h[5],w=this.h[6],_=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var S=u(_,l(g),c(g,v,w),this.k[n],r[n]),A=a(d(i),h(i,o,m));_=w,w=v,v=g,g=a(y,S),y=m,m=o,o=i,i=a(S,A)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],g),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},g.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":38,"../utils":48,"./common":47,"minimalistic-assert":63}],45:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./512");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":48,"./512":46}],46:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),o=e("minimalistic-assert"),s=n.rotr64_hi,a=n.rotr64_lo,f=n.shr64_hi,u=n.shr64_lo,c=n.sum64,h=n.sum64_hi,d=n.sum64_lo,l=n.sum64_4_hi,p=n.sum64_4_lo,b=n.sum64_5_hi,m=n.sum64_5_lo,y=i.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function w(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function S(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function A(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function E(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function M(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function x(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function I(e,t){var r=s(e,t,1)^s(e,t,8)^f(e,t,7);return r<0&&(r+=4294967296),r}function B(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=s(e,t,19)^s(t,e,29)^f(e,t,6);return r<0&&(r+=4294967296),r}function C(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(v,y),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=P(r[n-4],r[n-3]),o=C(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],f=I(r[n-30],r[n-29]),u=B(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=l(i,o,s,a,f,u,c,h),r[n+1]=p(i,o,s,a,f,u,c,h)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],f=this.h[4],u=this.h[5],l=this.h[6],p=this.h[7],y=this.h[8],g=this.h[9],v=this.h[10],I=this.h[11],B=this.h[12],P=this.h[13],C=this.h[14],T=this.h[15];o(this.k.length===r.length);for(var R=0;R<r.length;R+=2){var L=C,N=T,j=M(y,g),O=x(y,g),D=w(y,g,v,I,B),z=_(y,g,v,I,B,P),F=this.k[R],U=this.k[R+1],q=r[R],H=r[R+1],K=b(L,N,j,O,D,z,F,U,q,H),V=m(L,N,j,O,D,z,F,U,q,H);L=E(n,i),N=k(n,i),j=S(n,i,s,a,f),O=A(n,i,s,a,f,u);var Y=h(L,N,j,O),G=d(L,N,j,O);C=B,T=P,B=v,P=I,v=y,I=g,y=h(l,p,K,V),g=d(p,p,K,V),l=f,p=u,f=s,u=a,s=n,a=i,n=h(K,V,Y,G),i=d(K,V,Y,G)}c(this.h,0,n,i),c(this.h,2,s,a),c(this.h,4,f,u),c(this.h,6,l,p),c(this.h,8,y,g),c(this.h,10,v,I),c(this.h,12,B,P),c(this.h,14,C,T)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":38,"../utils":48,"minimalistic-assert":63}],47:[function(e,t,r){"use strict";var n=e("../utils").rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}r.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},r.ch32=i,r.maj32=o,r.p32=s,r.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},r.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},r.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},r.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},{"../utils":48}],48:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits");function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function a(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}r.inherits=i,r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r].toString(16));return t},r.htonl=o,r.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=o(i)),r+=a(i.toString(16))}return r},r.zero2=s,r.zero8=a,r.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var s=new Array(o/4),a=0,f=t;a<s.length;a++,f+=4){var u;u="big"===i?e[f]<<24|e[f+1]<<16|e[f+2]<<8|e[f+3]:e[f+3]<<24|e[f+2]<<16|e[f+1]<<8|e[f],s[a]=u>>>0}return s},r.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},r.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},r.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},r.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},r.sum64_lo=function(e,t,r,n){return t+n>>>0},r.sum64_4_hi=function(e,t,r,n,i,o,s,a){var f=0,u=t;return f+=(u=u+n>>>0)<t?1:0,f+=(u=u+o>>>0)<o?1:0,e+r+i+s+(f+=(u=u+a>>>0)<a?1:0)>>>0},r.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},r.sum64_5_hi=function(e,t,r,n,i,o,s,a,f,u){var c=0,h=t;return c+=(h=h+n>>>0)<t?1:0,c+=(h=h+o>>>0)<o?1:0,c+=(h=h+a>>>0)<a?1:0,e+r+i+s+f+(c+=(h=h+u>>>0)<u?1:0)>>>0},r.sum64_5_lo=function(e,t,r,n,i,o,s,a,f,u){return t+n+o+a+u>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},{inherits:51,"minimalistic-assert":63}],49:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("minimalistic-crypto-utils"),o=e("minimalistic-assert");function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}t.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,i.encode(s,t)}},{"hash.js":37,"minimalistic-assert":63,"minimalistic-crypto-utils":64}],50:[function(e,t,r){r.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,f=(1<<a)-1,u=f>>1,c=-7,h=r?i-1:0,d=r?-1:1,l=e[t+h];for(h+=d,o=l&(1<<-c)-1,l>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===f)return s?NaN:1/0*(l?-1:1);s+=Math.pow(2,n),o-=u}return(l?-1:1)*s*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var s,a,f,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:o-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-s))<1&&(s--,f*=2),(t+=s+h>=1?d/f:d*Math.pow(2,1-h))*f>=2&&(s++,f/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*f-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+l]=255&a,l+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+l]=255&s,l+=p,s/=256,u-=8);e[r+l-p]|=128*b}},{}],51:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],52:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],53:[function(e,t,r){t.exports=function(e){if("string"!=typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)}},{}],54:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],55:[function(e,t,r){(function(e){!function(r,n){"use strict";var i=void 0!==t;i&&(r=e).JS_SHA3_TEST&&(r.navigator={userAgent:"Chrome"});var o=(r.JS_SHA3_TEST||!i)&&-1!=navigator.userAgent.indexOf("Chrome"),s="0123456789abcdef".split(""),a=[1,256,65536,16777216],f=[6,1536,393216,100663296],u=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[],d=[],l=function(e){return w(e,224,a)},p=function(e){return w(e,256,a)},b=function(e){return w(e,384,a)},m=function(e){return w(e,224,f)},y=function(e){return w(e,256,f)},g=function(e){return w(e,384,f)},v=function(e){return w(e,512,f)},w=function(e,t,n){var i="string"!=typeof e;i&&e.constructor==r.ArrayBuffer&&(e=new Uint8Array(e)),void 0===t&&(t=512,n=a);var f,l,p,b,m,y,g,v,w,_,S,A,E,k,M,x,I,B,P,C,T,R,L,N,j,O,D,z,F,U,q,H,K,V,Y,G,W,J,Z,X,$,Q,ee,te,re,ne,ie,oe,se,ae,fe,ue,ce,he,de,le,pe,be,me,ye,ge,ve,we,_e,Se,Ae,Ee=!1,ke=0,Me=0,xe=e.length,Ie=(1600-2*t)/32,Be=4*Ie;for(b=0;b<50;++b)d[b]=0;f=0;do{for(h[0]=f,b=1;b<Ie+1;++b)h[b]=0;if(i)for(b=Me;ke<xe&&b<Be;++ke)h[b>>2]|=e[ke]<<u[3&b++];else for(b=Me;ke<xe&&b<Be;++ke)(l=e.charCodeAt(ke))<128?h[b>>2]|=l<<u[3&b++]:l<2048?(h[b>>2]|=(192|l>>6)<<u[3&b++],h[b>>2]|=(128|63&l)<<u[3&b++]):l<55296||l>=57344?(h[b>>2]|=(224|l>>12)<<u[3&b++],h[b>>2]|=(128|l>>6&63)<<u[3&b++],h[b>>2]|=(128|63&l)<<u[3&b++]):(l=65536+((1023&l)<<10|1023&e.charCodeAt(++ke)),h[b>>2]|=(240|l>>18)<<u[3&b++],h[b>>2]|=(128|l>>12&63)<<u[3&b++],h[b>>2]|=(128|l>>6&63)<<u[3&b++],h[b>>2]|=(128|63&l)<<u[3&b++]);for(Me=b-Be,ke==xe&&(h[b>>2]|=n[3&b],++ke),f=h[Ie],ke>xe&&b<Be&&(h[Ie-1]|=2147483648,Ee=!0),b=0;b<Ie;++b)d[b]^=h[b];for(p=0;p<48;p+=2)g=d[0]^d[10]^d[20]^d[30]^d[40],v=d[1]^d[11]^d[21]^d[31]^d[41],w=d[2]^d[12]^d[22]^d[32]^d[42],_=d[3]^d[13]^d[23]^d[33]^d[43],S=d[4]^d[14]^d[24]^d[34]^d[44],A=d[5]^d[15]^d[25]^d[35]^d[45],E=d[6]^d[16]^d[26]^d[36]^d[46],k=d[7]^d[17]^d[27]^d[37]^d[47],m=(M=d[8]^d[18]^d[28]^d[38]^d[48])^(w<<1|_>>>31),y=(x=d[9]^d[19]^d[29]^d[39]^d[49])^(_<<1|w>>>31),d[0]^=m,d[1]^=y,d[10]^=m,d[11]^=y,d[20]^=m,d[21]^=y,d[30]^=m,d[31]^=y,d[40]^=m,d[41]^=y,m=g^(S<<1|A>>>31),y=v^(A<<1|S>>>31),d[2]^=m,d[3]^=y,d[12]^=m,d[13]^=y,d[22]^=m,d[23]^=y,d[32]^=m,d[33]^=y,d[42]^=m,d[43]^=y,m=w^(E<<1|k>>>31),y=_^(k<<1|E>>>31),d[4]^=m,d[5]^=y,d[14]^=m,d[15]^=y,d[24]^=m,d[25]^=y,d[34]^=m,d[35]^=y,d[44]^=m,d[45]^=y,m=S^(M<<1|x>>>31),y=A^(x<<1|M>>>31),d[6]^=m,d[7]^=y,d[16]^=m,d[17]^=y,d[26]^=m,d[27]^=y,d[36]^=m,d[37]^=y,d[46]^=m,d[47]^=y,m=E^(g<<1|v>>>31),y=k^(v<<1|g>>>31),d[8]^=m,d[9]^=y,d[18]^=m,d[19]^=y,d[28]^=m,d[29]^=y,d[38]^=m,d[39]^=y,d[48]^=m,d[49]^=y,I=d[0],B=d[1],se=d[11]<<4|d[10]>>>28,ae=d[10]<<4|d[11]>>>28,q=d[20]<<3|d[21]>>>29,H=d[21]<<3|d[20]>>>29,we=d[31]<<9|d[30]>>>23,_e=d[30]<<9|d[31]>>>23,re=d[40]<<18|d[41]>>>14,ne=d[41]<<18|d[40]>>>14,W=d[2]<<1|d[3]>>>31,J=d[3]<<1|d[2]>>>31,P=d[13]<<12|d[12]>>>20,C=d[12]<<12|d[13]>>>20,fe=d[22]<<10|d[23]>>>22,ue=d[23]<<10|d[22]>>>22,K=d[33]<<13|d[32]>>>19,V=d[32]<<13|d[33]>>>19,Se=d[42]<<2|d[43]>>>30,Ae=d[43]<<2|d[42]>>>30,pe=d[5]<<30|d[4]>>>2,be=d[4]<<30|d[5]>>>2,Z=d[14]<<6|d[15]>>>26,X=d[15]<<6|d[14]>>>26,T=d[25]<<11|d[24]>>>21,R=d[24]<<11|d[25]>>>21,ce=d[34]<<15|d[35]>>>17,he=d[35]<<15|d[34]>>>17,Y=d[45]<<29|d[44]>>>3,G=d[44]<<29|d[45]>>>3,D=d[6]<<28|d[7]>>>4,z=d[7]<<28|d[6]>>>4,me=d[17]<<23|d[16]>>>9,ye=d[16]<<23|d[17]>>>9,$=d[26]<<25|d[27]>>>7,Q=d[27]<<25|d[26]>>>7,L=d[36]<<21|d[37]>>>11,N=d[37]<<21|d[36]>>>11,de=d[47]<<24|d[46]>>>8,le=d[46]<<24|d[47]>>>8,ie=d[8]<<27|d[9]>>>5,oe=d[9]<<27|d[8]>>>5,F=d[18]<<20|d[19]>>>12,U=d[19]<<20|d[18]>>>12,ge=d[29]<<7|d[28]>>>25,ve=d[28]<<7|d[29]>>>25,ee=d[38]<<8|d[39]>>>24,te=d[39]<<8|d[38]>>>24,j=d[48]<<14|d[49]>>>18,O=d[49]<<14|d[48]>>>18,d[0]=I^~P&T,d[1]=B^~C&R,d[10]=D^~F&q,d[11]=z^~U&H,d[20]=W^~Z&$,d[21]=J^~X&Q,d[30]=ie^~se&fe,d[31]=oe^~ae&ue,d[40]=pe^~me&ge,d[41]=be^~ye&ve,d[2]=P^~T&L,d[3]=C^~R&N,d[12]=F^~q&K,d[13]=U^~H&V,d[22]=Z^~$&ee,d[23]=X^~Q&te,d[32]=se^~fe&ce,d[33]=ae^~ue&he,d[42]=me^~ge&we,d[43]=ye^~ve&_e,d[4]=T^~L&j,d[5]=R^~N&O,d[14]=q^~K&Y,d[15]=H^~V&G,d[24]=$^~ee&re,d[25]=Q^~te&ne,d[34]=fe^~ce&de,d[35]=ue^~he&le,d[44]=ge^~we&Se,d[45]=ve^~_e&Ae,d[6]=L^~j&I,d[7]=N^~O&B,d[16]=K^~Y&D,d[17]=V^~G&z,d[26]=ee^~re&W,d[27]=te^~ne&J,d[36]=ce^~de&ie,d[37]=he^~le&oe,d[46]=we^~Se&pe,d[47]=_e^~Ae&be,d[8]=j^~I&P,d[9]=O^~B&C,d[18]=Y^~D&F,d[19]=G^~z&U,d[28]=re^~W&Z,d[29]=ne^~J&X,d[38]=de^~ie&se,d[39]=le^~oe&ae,d[48]=Se^~pe&me,d[49]=Ae^~be&ye,d[0]^=c[p],d[1]^=c[p+1]}while(!Ee);var Pe="";if(o)I=d[0],B=d[1],P=d[2],C=d[3],T=d[4],R=d[5],L=d[6],N=d[7],j=d[8],O=d[9],D=d[10],z=d[11],F=d[12],U=d[13],q=d[14],H=d[15],Pe+=s[I>>4&15]+s[15&I]+s[I>>12&15]+s[I>>8&15]+s[I>>20&15]+s[I>>16&15]+s[I>>28&15]+s[I>>24&15]+s[B>>4&15]+s[15&B]+s[B>>12&15]+s[B>>8&15]+s[B>>20&15]+s[B>>16&15]+s[B>>28&15]+s[B>>24&15]+s[P>>4&15]+s[15&P]+s[P>>12&15]+s[P>>8&15]+s[P>>20&15]+s[P>>16&15]+s[P>>28&15]+s[P>>24&15]+s[C>>4&15]+s[15&C]+s[C>>12&15]+s[C>>8&15]+s[C>>20&15]+s[C>>16&15]+s[C>>28&15]+s[C>>24&15]+s[T>>4&15]+s[15&T]+s[T>>12&15]+s[T>>8&15]+s[T>>20&15]+s[T>>16&15]+s[T>>28&15]+s[T>>24&15]+s[R>>4&15]+s[15&R]+s[R>>12&15]+s[R>>8&15]+s[R>>20&15]+s[R>>16&15]+s[R>>28&15]+s[R>>24&15]+s[L>>4&15]+s[15&L]+s[L>>12&15]+s[L>>8&15]+s[L>>20&15]+s[L>>16&15]+s[L>>28&15]+s[L>>24&15],t>=256&&(Pe+=s[N>>4&15]+s[15&N]+s[N>>12&15]+s[N>>8&15]+s[N>>20&15]+s[N>>16&15]+s[N>>28&15]+s[N>>24&15]),t>=384&&(Pe+=s[j>>4&15]+s[15&j]+s[j>>12&15]+s[j>>8&15]+s[j>>20&15]+s[j>>16&15]+s[j>>28&15]+s[j>>24&15]+s[O>>4&15]+s[15&O]+s[O>>12&15]+s[O>>8&15]+s[O>>20&15]+s[O>>16&15]+s[O>>28&15]+s[O>>24&15]+s[D>>4&15]+s[15&D]+s[D>>12&15]+s[D>>8&15]+s[D>>20&15]+s[D>>16&15]+s[D>>28&15]+s[D>>24&15]+s[z>>4&15]+s[15&z]+s[z>>12&15]+s[z>>8&15]+s[z>>20&15]+s[z>>16&15]+s[z>>28&15]+s[z>>24&15]),512==t&&(Pe+=s[F>>4&15]+s[15&F]+s[F>>12&15]+s[F>>8&15]+s[F>>20&15]+s[F>>16&15]+s[F>>28&15]+s[F>>24&15]+s[U>>4&15]+s[15&U]+s[U>>12&15]+s[U>>8&15]+s[U>>20&15]+s[U>>16&15]+s[U>>28&15]+s[U>>24&15]+s[q>>4&15]+s[15&q]+s[q>>12&15]+s[q>>8&15]+s[q>>20&15]+s[q>>16&15]+s[q>>28&15]+s[q>>24&15]+s[H>>4&15]+s[15&H]+s[H>>12&15]+s[H>>8&15]+s[H>>20&15]+s[H>>16&15]+s[H>>28&15]+s[H>>24&15]);else for(b=0,p=t/32;b<p;++b)m=d[b],Pe+=s[m>>4&15]+s[15&m]+s[m>>12&15]+s[m>>8&15]+s[m>>20&15]+s[m>>16&15]+s[m>>28&15]+s[m>>24&15];return Pe};!r.JS_SHA3_TEST&&i?t.exports={sha3_512:v,sha3_384:g,sha3_256:y,sha3_224:m,keccak_512:w,keccak_384:b,keccak_256:p,keccak_224:l}:r&&(r.sha3_512=v,r.sha3_384=g,r.sha3_256=y,r.sha3_224=m,r.keccak_512=w,r.keccak_384=b,r.keccak_256=p,r.keccak_224=l)}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(e,t,r){"use strict";t.exports=e("./lib/api")(e("./lib/keccak"))},{"./lib/api":57,"./lib/keccak":61}],57:[function(e,t,r){"use strict";var n=e("./keccak"),i=e("./shake");t.exports=function(e){var t=n(e),r=i(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},{"./keccak":58,"./shake":59}],58:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("stream").Transform,o=e("inherits");t.exports=function(e){function t(t,r,n,o,s){i.call(this,s),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=o,this._options=s,this._state=new e,this._state.initialize(t,r),this._finalized=!1}return o(t,i),t.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},t.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},t.prototype.update=function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this},t.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){var e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}},{inherits:51,"safe-buffer":82,stream:97}],59:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("stream").Transform,o=e("inherits");t.exports=function(e){function t(t,r,n,o){i.call(this,o),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=o,this._state=new e,this._state.initialize(t,r),this._finalized=!1}return o(t,i),t.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},t.prototype._flush=function(){},t.prototype._read=function(e){this.push(this.squeeze(e))},t.prototype.update=function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this},t.prototype.squeeze=function(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){var e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}},{inherits:51,"safe-buffer":82,stream:97}],60:[function(e,t,r){"use strict";var n=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];r.p1600=function(e){for(var t=0;t<24;++t){var r=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],f=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],c=e[7]^e[17]^e[27]^e[37]^e[47],h=e[8]^e[18]^e[28]^e[38]^e[48],d=e[9]^e[19]^e[29]^e[39]^e[49],l=h^(o<<1|s>>>31),p=d^(s<<1|o>>>31),b=e[0]^l,m=e[1]^p,y=e[10]^l,g=e[11]^p,v=e[20]^l,w=e[21]^p,_=e[30]^l,S=e[31]^p,A=e[40]^l,E=e[41]^p;l=r^(a<<1|f>>>31),p=i^(f<<1|a>>>31);var k=e[2]^l,M=e[3]^p,x=e[12]^l,I=e[13]^p,B=e[22]^l,P=e[23]^p,C=e[32]^l,T=e[33]^p,R=e[42]^l,L=e[43]^p;l=o^(u<<1|c>>>31),p=s^(c<<1|u>>>31);var N=e[4]^l,j=e[5]^p,O=e[14]^l,D=e[15]^p,z=e[24]^l,F=e[25]^p,U=e[34]^l,q=e[35]^p,H=e[44]^l,K=e[45]^p;l=a^(h<<1|d>>>31),p=f^(d<<1|h>>>31);var V=e[6]^l,Y=e[7]^p,G=e[16]^l,W=e[17]^p,J=e[26]^l,Z=e[27]^p,X=e[36]^l,$=e[37]^p,Q=e[46]^l,ee=e[47]^p;l=u^(r<<1|i>>>31),p=c^(i<<1|r>>>31);var te=e[8]^l,re=e[9]^p,ne=e[18]^l,ie=e[19]^p,oe=e[28]^l,se=e[29]^p,ae=e[38]^l,fe=e[39]^p,ue=e[48]^l,ce=e[49]^p,he=b,de=m,le=g<<4|y>>>28,pe=y<<4|g>>>28,be=v<<3|w>>>29,me=w<<3|v>>>29,ye=S<<9|_>>>23,ge=_<<9|S>>>23,ve=A<<18|E>>>14,we=E<<18|A>>>14,_e=k<<1|M>>>31,Se=M<<1|k>>>31,Ae=I<<12|x>>>20,Ee=x<<12|I>>>20,ke=B<<10|P>>>22,Me=P<<10|B>>>22,xe=T<<13|C>>>19,Ie=C<<13|T>>>19,Be=R<<2|L>>>30,Pe=L<<2|R>>>30,Ce=j<<30|N>>>2,Te=N<<30|j>>>2,Re=O<<6|D>>>26,Le=D<<6|O>>>26,Ne=F<<11|z>>>21,je=z<<11|F>>>21,Oe=U<<15|q>>>17,De=q<<15|U>>>17,ze=K<<29|H>>>3,Fe=H<<29|K>>>3,Ue=V<<28|Y>>>4,qe=Y<<28|V>>>4,He=W<<23|G>>>9,Ke=G<<23|W>>>9,Ve=J<<25|Z>>>7,Ye=Z<<25|J>>>7,Ge=X<<21|$>>>11,We=$<<21|X>>>11,Je=ee<<24|Q>>>8,Ze=Q<<24|ee>>>8,Xe=te<<27|re>>>5,$e=re<<27|te>>>5,Qe=ne<<20|ie>>>12,et=ie<<20|ne>>>12,tt=se<<7|oe>>>25,rt=oe<<7|se>>>25,nt=ae<<8|fe>>>24,it=fe<<8|ae>>>24,ot=ue<<14|ce>>>18,st=ce<<14|ue>>>18;e[0]=he^~Ae&Ne,e[1]=de^~Ee&je,e[10]=Ue^~Qe&be,e[11]=qe^~et&me,e[20]=_e^~Re&Ve,e[21]=Se^~Le&Ye,e[30]=Xe^~le&ke,e[31]=$e^~pe&Me,e[40]=Ce^~He&tt,e[41]=Te^~Ke&rt,e[2]=Ae^~Ne&Ge,e[3]=Ee^~je&We,e[12]=Qe^~be&xe,e[13]=et^~me&Ie,e[22]=Re^~Ve&nt,e[23]=Le^~Ye&it,e[32]=le^~ke&Oe,e[33]=pe^~Me&De,e[42]=He^~tt&ye,e[43]=Ke^~rt&ge,e[4]=Ne^~Ge&ot,e[5]=je^~We&st,e[14]=be^~xe&ze,e[15]=me^~Ie&Fe,e[24]=Ve^~nt&ve,e[25]=Ye^~it&we,e[34]=ke^~Oe&Je,e[35]=Me^~De&Ze,e[44]=tt^~ye&Be,e[45]=rt^~ge&Pe,e[6]=Ge^~ot&he,e[7]=We^~st&de,e[16]=xe^~ze&Ue,e[17]=Ie^~Fe&qe,e[26]=nt^~ve&_e,e[27]=it^~we&Se,e[36]=Oe^~Je&Xe,e[37]=De^~Ze&$e,e[46]=ye^~Be&Ce,e[47]=ge^~Pe&Te,e[8]=ot^~he&Ae,e[9]=st^~de&Ee,e[18]=ze^~Ue&Qe,e[19]=Fe^~qe&et,e[28]=ve^~_e&Re,e[29]=we^~Se&Le,e[38]=Je^~Xe&le,e[39]=Ze^~$e&pe,e[48]=Be^~Ce&He,e[49]=Pe^~Te&Ke,e[0]^=n[2*t],e[1]^=n[2*t+1]}}},{}],61:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("./keccak-state-unroll");function o(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}o.prototype.initialize=function(e,t){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},o.prototype.absorb=function(e){for(var t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0)},o.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&i.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,i.p1600(this.state),this.count=0,this.squeezing=!0},o.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);for(var t=n.alloc(e),r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0);return t},o.prototype.copy=function(e){for(var t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},t.exports=o},{"./keccak-state-unroll":60,"safe-buffer":82}],62:[function(e,t,r){t.exports=e("browserify-sha3").SHA3Hash},{"browserify-sha3":7}],63:[function(e,t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}t.exports=n,n.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},{}],64:[function(e,t,r){"use strict";var n=r;function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},n.zero2=i,n.toHex=o,n.encode=function(e,t){return"hex"===t?o(e):e}},{}],65:[function(e,t,r){(function(e){"use strict";!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}:t.exports=e.nextTick}).call(this,e("_process"))},{_process:66}],66:[function(e,t,r){var n,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function f(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,c=[],h=!1,d=-1;function l(){h&&u&&(h=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!h){var e=f(l);h=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new b(e,t)),1!==c.length||h||f(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],67:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":68}],68:[function(e,t,r){"use strict";var n=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=h;var o=e("core-util-is");o.inherits=e("inherits");var s=e("./_stream_readable"),a=e("./_stream_writable");o.inherits(h,s);for(var f=i(a.prototype),u=0;u<f.length;u++){var c=f[u];h.prototype[c]||(h.prototype[c]=a.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n(l,this)}function l(e){e.end()}Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},{"./_stream_readable":70,"./_stream_writable":72,"core-util-is":10,inherits:51,"process-nextick-args":65}],69:[function(e,t,r){"use strict";t.exports=o;var n=e("./_stream_transform"),i=e("core-util-is");function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=e("inherits"),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":71,"core-util-is":10,inherits:51}],70:[function(e,t,r){(function(r,n){"use strict";var i=e("process-nextick-args");t.exports=v;var o,s=e("isarray");v.ReadableState=g;e("events").EventEmitter;var a=function(e,t){return e.listeners(t).length},f=e("./internal/streams/stream"),u=e("safe-buffer").Buffer,c=n.Uint8Array||function(){};var h=e("core-util-is");h.inherits=e("inherits");var d=e("util"),l=void 0;l=d&&d.debuglog?d.debuglog("stream"):function(){};var p,b=e("./internal/streams/BufferList"),m=e("./internal/streams/destroy");h.inherits(v,f);var y=["error","close","destroy","pause","resume"];function g(t,r){o=o||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,r instanceof o&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=e("string_decoder/").StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function v(t){if(o=o||e("./_stream_duplex"),!(this instanceof v))return new v(t);this._readableState=new g(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),f.call(this)}function w(e,t,r,n,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,E(e)}(e,s)):(i||(o=function(e,t){var r;n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?_(e,s,t,!1):M(e,s)):_(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&E(e)),M(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},v.prototype.unshift=function(e){return w(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return p||(p=e("string_decoder/").StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var S=8388608;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(k,e):k(e))}function k(e){l("emit readable"),e.emit("readable"),P(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i(x,e,t))}function x(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(l("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function I(e){l("readable nexttick read 0"),e.read(0)}function B(e,t){t.reading||(l("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}v.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):E(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&T(this),null;var n,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&T(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,l("pipe count=%d opts=%j",o.pipesCount,t);var f=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:v;function u(t,r){l("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),e.removeListener("close",y),e.removeListener("finish",g),e.removeListener("drain",h),e.removeListener("error",m),e.removeListener("unpipe",u),n.removeListener("end",c),n.removeListener("end",v),n.removeListener("data",b),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function c(){l("onend"),e.end()}o.endEmitted?i(f):n.once("end",f),e.on("unpipe",u);var h=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",h);var d=!1;var p=!1;function b(t){l("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!d&&(l("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){l("onerror",t),v(),e.removeListener("error",m),0===a(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",g),v()}function g(){l("onfinish"),e.removeListener("close",y),v()}function v(){l("unpipe"),n.unpipe(e)}return n.on("data",b),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",m),e.once("close",y),e.once("finish",g),e.emit("pipe",n),o.flowing||(l("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=L(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},v.prototype.on=function(e,t){var r=f.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&E(this):i(I,this))}return r},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(B,e,t))}(this,e)),this},v.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(l("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){(l("wrapped data"),t.decoder&&(i=t.decoder.write(i)),!t.objectMode||null!==i&&void 0!==i)&&((t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<y.length;o++)e.on(y[o],n.emit.bind(n,y[o]));return n._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},n},v._fromList=C}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":68,"./internal/streams/BufferList":73,"./internal/streams/destroy":74,"./internal/streams/stream":75,_process:66,"core-util-is":10,events:35,inherits:51,isarray:54,"process-nextick-args":65,"safe-buffer":82,"string_decoder/":98,util:6}],71:[function(e,t,r){"use strict";t.exports=s;var n=e("./_stream_duplex"),i=e("core-util-is");function o(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&e.push(r);i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,r){a(t,e,r)}):a(t)})}function a(e,t,r){if(t)return e.emit("error",t);null!==r&&void 0!==r&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},{"./_stream_duplex":68,"core-util-is":10,inherits:51}],72:[function(e,t,r){(function(r,n){"use strict";var i=e("process-nextick-args");function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=y;var s,a=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?setImmediate:i;y.WritableState=m;var f=e("core-util-is");f.inherits=e("inherits");var u={deprecate:e("util-deprecate")},c=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,d=n.Uint8Array||function(){};var l,p=e("./internal/streams/destroy");function b(){}function m(t,r){s=s||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,r instanceof s&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,f=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===t.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i(o,n),i(A,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),A(e,t))}(e,r,n,t,o);else{var s=_(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?a(v,e,r,s,o):v(e,r,s,o)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(t){if(s=s||e("./_stream_duplex"),!(l.call(y,this)||this instanceof s))return new y(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),c.call(this)}function g(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,f=!0;r;)i[a]=r,r.isBuf||(f=!1),r=r.next,a+=1;i.allBuffers=f,g(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t)}else{for(;r;){var u=r.chunk,c=r.encoding,h=r.callback;if(g(e,t,!1,t.objectMode?1:u.length,u,c,h),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),A(e,t)})}function A(e,t){var r=_(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}f.inherits(y,c),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||e&&e._writableState instanceof m}})):l=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,r){var n,o=this._writableState,s=!1,a=(n=e,(h.isBuffer(n)||n instanceof d)&&!o.objectMode);return a&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=b),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i(t,r)}(this,r):(a||function(e,t,r,n){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),i(n,s),o=!1),o}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,a,n,i,o);return f}(this,o,a,e,t,r)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},y.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,A(e,t),r&&(t.finished?i(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":68,"./internal/streams/destroy":74,"./internal/streams/stream":75,_process:66,"core-util-is":10,inherits:51,"process-nextick-args":65,"safe-buffer":82,"util-deprecate":100}],73:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer;t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,o=n.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=o,i=a,t.copy(r,i),a+=s.data.length,s=s.next;return o},e}()},{"safe-buffer":82}],74:[function(e,t,r){"use strict";var n=e("process-nextick-args");function i(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;o||s?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n(i,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":65}],75:[function(e,t,r){t.exports=e("events").EventEmitter},{events:35}],76:[function(e,t,r){t.exports=e("./readable").PassThrough},{"./readable":77}],77:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":68,"./lib/_stream_passthrough.js":69,"./lib/_stream_readable.js":70,"./lib/_stream_transform.js":71,"./lib/_stream_writable.js":72}],78:[function(e,t,r){t.exports=e("./readable").Transform},{"./readable":77}],79:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":72}],80:[function(e,t,r){(function(r){"use strict";var n=e("inherits"),i=e("hash-base");function o(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function s(e,t){return e<<t|e>>>32-t}function a(e,t,r,n,i,o,a,f){return s(e+(t^r^n)+o+a|0,f)+i|0}function f(e,t,r,n,i,o,a,f){return s(e+(t&r|~t&n)+o+a|0,f)+i|0}function u(e,t,r,n,i,o,a,f){return s(e+((t|~r)^n)+o+a|0,f)+i|0}function c(e,t,r,n,i,o,a,f){return s(e+(t&n|r&~n)+o+a|0,f)+i|0}function h(e,t,r,n,i,o,a,f){return s(e+(t^(r|~n))+o+a|0,f)+i|0}n(o,i),o.prototype._update=function(){for(var e=new Array(16),t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d,d=this._e;d=a(d,r=a(r,n,i,o,d,e[0],0,11),n,i=s(i,10),o,e[1],0,14),n=a(n=s(n,10),i=a(i,o=a(o,d,r,n,i,e[2],0,15),d,r=s(r,10),n,e[3],0,12),o,d=s(d,10),r,e[4],0,5),o=a(o=s(o,10),d=a(d,r=a(r,n,i,o,d,e[5],0,8),n,i=s(i,10),o,e[6],0,7),r,n=s(n,10),i,e[7],0,9),r=a(r=s(r,10),n=a(n,i=a(i,o,d,r,n,e[8],0,11),o,d=s(d,10),r,e[9],0,13),i,o=s(o,10),d,e[10],0,14),i=a(i=s(i,10),o=a(o,d=a(d,r,n,i,o,e[11],0,15),r,n=s(n,10),i,e[12],0,6),d,r=s(r,10),n,e[13],0,7),d=f(d=s(d,10),r=a(r,n=a(n,i,o,d,r,e[14],0,9),i,o=s(o,10),d,e[15],0,8),n,i=s(i,10),o,e[7],1518500249,7),n=f(n=s(n,10),i=f(i,o=f(o,d,r,n,i,e[4],1518500249,6),d,r=s(r,10),n,e[13],1518500249,8),o,d=s(d,10),r,e[1],1518500249,13),o=f(o=s(o,10),d=f(d,r=f(r,n,i,o,d,e[10],1518500249,11),n,i=s(i,10),o,e[6],1518500249,9),r,n=s(n,10),i,e[15],1518500249,7),r=f(r=s(r,10),n=f(n,i=f(i,o,d,r,n,e[3],1518500249,15),o,d=s(d,10),r,e[12],1518500249,7),i,o=s(o,10),d,e[0],1518500249,12),i=f(i=s(i,10),o=f(o,d=f(d,r,n,i,o,e[9],1518500249,15),r,n=s(n,10),i,e[5],1518500249,9),d,r=s(r,10),n,e[2],1518500249,11),d=f(d=s(d,10),r=f(r,n=f(n,i,o,d,r,e[14],1518500249,7),i,o=s(o,10),d,e[11],1518500249,13),n,i=s(i,10),o,e[8],1518500249,12),n=u(n=s(n,10),i=u(i,o=u(o,d,r,n,i,e[3],1859775393,11),d,r=s(r,10),n,e[10],1859775393,13),o,d=s(d,10),r,e[14],1859775393,6),o=u(o=s(o,10),d=u(d,r=u(r,n,i,o,d,e[4],1859775393,7),n,i=s(i,10),o,e[9],1859775393,14),r,n=s(n,10),i,e[15],1859775393,9),r=u(r=s(r,10),n=u(n,i=u(i,o,d,r,n,e[8],1859775393,13),o,d=s(d,10),r,e[1],1859775393,15),i,o=s(o,10),d,e[2],1859775393,14),i=u(i=s(i,10),o=u(o,d=u(d,r,n,i,o,e[7],1859775393,8),r,n=s(n,10),i,e[0],1859775393,13),d,r=s(r,10),n,e[6],1859775393,6),d=u(d=s(d,10),r=u(r,n=u(n,i,o,d,r,e[13],1859775393,5),i,o=s(o,10),d,e[11],1859775393,12),n,i=s(i,10),o,e[5],1859775393,7),n=c(n=s(n,10),i=c(i,o=u(o,d,r,n,i,e[12],1859775393,5),d,r=s(r,10),n,e[1],2400959708,11),o,d=s(d,10),r,e[9],2400959708,12),o=c(o=s(o,10),d=c(d,r=c(r,n,i,o,d,e[11],2400959708,14),n,i=s(i,10),o,e[10],2400959708,15),r,n=s(n,10),i,e[0],2400959708,14),r=c(r=s(r,10),n=c(n,i=c(i,o,d,r,n,e[8],2400959708,15),o,d=s(d,10),r,e[12],2400959708,9),i,o=s(o,10),d,e[4],2400959708,8),i=c(i=s(i,10),o=c(o,d=c(d,r,n,i,o,e[13],2400959708,9),r,n=s(n,10),i,e[3],2400959708,14),d,r=s(r,10),n,e[7],2400959708,5),d=c(d=s(d,10),r=c(r,n=c(n,i,o,d,r,e[15],2400959708,6),i,o=s(o,10),d,e[14],2400959708,8),n,i=s(i,10),o,e[5],2400959708,6),n=h(n=s(n,10),i=c(i,o=c(o,d,r,n,i,e[6],2400959708,5),d,r=s(r,10),n,e[2],2400959708,12),o,d=s(d,10),r,e[4],2840853838,9),o=h(o=s(o,10),d=h(d,r=h(r,n,i,o,d,e[0],2840853838,15),n,i=s(i,10),o,e[5],2840853838,5),r,n=s(n,10),i,e[9],2840853838,11),r=h(r=s(r,10),n=h(n,i=h(i,o,d,r,n,e[7],2840853838,6),o,d=s(d,10),r,e[12],2840853838,8),i,o=s(o,10),d,e[2],2840853838,13),i=h(i=s(i,10),o=h(o,d=h(d,r,n,i,o,e[10],2840853838,12),r,n=s(n,10),i,e[14],2840853838,5),d,r=s(r,10),n,e[1],2840853838,12),d=h(d=s(d,10),r=h(r,n=h(n,i,o,d,r,e[3],2840853838,13),i,o=s(o,10),d,e[8],2840853838,14),n,i=s(i,10),o,e[11],2840853838,11),n=h(n=s(n,10),i=h(i,o=h(o,d,r,n,i,e[6],2840853838,8),d,r=s(r,10),n,e[15],2840853838,5),o,d=s(d,10),r,e[13],2840853838,6),o=s(o,10);var l=this._a,p=this._b,b=this._c,m=this._d,y=this._e;y=h(y,l=h(l,p,b,m,y,e[5],1352829926,8),p,b=s(b,10),m,e[14],1352829926,9),p=h(p=s(p,10),b=h(b,m=h(m,y,l,p,b,e[7],1352829926,9),y,l=s(l,10),p,e[0],1352829926,11),m,y=s(y,10),l,e[9],1352829926,13),m=h(m=s(m,10),y=h(y,l=h(l,p,b,m,y,e[2],1352829926,15),p,b=s(b,10),m,e[11],1352829926,15),l,p=s(p,10),b,e[4],1352829926,5),l=h(l=s(l,10),p=h(p,b=h(b,m,y,l,p,e[13],1352829926,7),m,y=s(y,10),l,e[6],1352829926,7),b,m=s(m,10),y,e[15],1352829926,8),b=h(b=s(b,10),m=h(m,y=h(y,l,p,b,m,e[8],1352829926,11),l,p=s(p,10),b,e[1],1352829926,14),y,l=s(l,10),p,e[10],1352829926,14),y=c(y=s(y,10),l=h(l,p=h(p,b,m,y,l,e[3],1352829926,12),b,m=s(m,10),y,e[12],1352829926,6),p,b=s(b,10),m,e[6],1548603684,9),p=c(p=s(p,10),b=c(b,m=c(m,y,l,p,b,e[11],1548603684,13),y,l=s(l,10),p,e[3],1548603684,15),m,y=s(y,10),l,e[7],1548603684,7),m=c(m=s(m,10),y=c(y,l=c(l,p,b,m,y,e[0],1548603684,12),p,b=s(b,10),m,e[13],1548603684,8),l,p=s(p,10),b,e[5],1548603684,9),l=c(l=s(l,10),p=c(p,b=c(b,m,y,l,p,e[10],1548603684,11),m,y=s(y,10),l,e[14],1548603684,7),b,m=s(m,10),y,e[15],1548603684,7),b=c(b=s(b,10),m=c(m,y=c(y,l,p,b,m,e[8],1548603684,12),l,p=s(p,10),b,e[12],1548603684,7),y,l=s(l,10),p,e[4],1548603684,6),y=c(y=s(y,10),l=c(l,p=c(p,b,m,y,l,e[9],1548603684,15),b,m=s(m,10),y,e[1],1548603684,13),p,b=s(b,10),m,e[2],1548603684,11),p=u(p=s(p,10),b=u(b,m=u(m,y,l,p,b,e[15],1836072691,9),y,l=s(l,10),p,e[5],1836072691,7),m,y=s(y,10),l,e[1],1836072691,15),m=u(m=s(m,10),y=u(y,l=u(l,p,b,m,y,e[3],1836072691,11),p,b=s(b,10),m,e[7],1836072691,8),l,p=s(p,10),b,e[14],1836072691,6),l=u(l=s(l,10),p=u(p,b=u(b,m,y,l,p,e[6],1836072691,6),m,y=s(y,10),l,e[9],1836072691,14),b,m=s(m,10),y,e[11],1836072691,12),b=u(b=s(b,10),m=u(m,y=u(y,l,p,b,m,e[8],1836072691,13),l,p=s(p,10),b,e[12],1836072691,5),y,l=s(l,10),p,e[2],1836072691,14),y=u(y=s(y,10),l=u(l,p=u(p,b,m,y,l,e[10],1836072691,13),b,m=s(m,10),y,e[0],1836072691,13),p,b=s(b,10),m,e[4],1836072691,7),p=f(p=s(p,10),b=f(b,m=u(m,y,l,p,b,e[13],1836072691,5),y,l=s(l,10),p,e[8],2053994217,15),m,y=s(y,10),l,e[6],2053994217,5),m=f(m=s(m,10),y=f(y,l=f(l,p,b,m,y,e[4],2053994217,8),p,b=s(b,10),m,e[1],2053994217,11),l,p=s(p,10),b,e[3],2053994217,14),l=f(l=s(l,10),p=f(p,b=f(b,m,y,l,p,e[11],2053994217,14),m,y=s(y,10),l,e[15],2053994217,6),b,m=s(m,10),y,e[0],2053994217,14),b=f(b=s(b,10),m=f(m,y=f(y,l,p,b,m,e[5],2053994217,6),l,p=s(p,10),b,e[12],2053994217,9),y,l=s(l,10),p,e[2],2053994217,12),y=f(y=s(y,10),l=f(l,p=f(p,b,m,y,l,e[13],2053994217,9),b,m=s(m,10),y,e[9],2053994217,12),p,b=s(b,10),m,e[7],2053994217,5),p=a(p=s(p,10),b=f(b,m=f(m,y,l,p,b,e[10],2053994217,15),y,l=s(l,10),p,e[14],2053994217,8),m,y=s(y,10),l,e[12],0,8),m=a(m=s(m,10),y=a(y,l=a(l,p,b,m,y,e[15],0,5),p,b=s(b,10),m,e[10],0,12),l,p=s(p,10),b,e[4],0,9),l=a(l=s(l,10),p=a(p,b=a(b,m,y,l,p,e[1],0,12),m,y=s(y,10),l,e[5],0,5),b,m=s(m,10),y,e[8],0,14),b=a(b=s(b,10),m=a(m,y=a(y,l,p,b,m,e[7],0,6),l,p=s(p,10),b,e[6],0,8),y,l=s(l,10),p,e[2],0,13),y=a(y=s(y,10),l=a(l,p=a(p,b,m,y,l,e[13],0,6),b,m=s(m,10),y,e[14],0,5),p,b=s(b,10),m,e[0],0,15),p=a(p=s(p,10),b=a(b,m=a(m,y,l,p,b,e[3],0,13),y,l=s(l,10),p,e[9],0,11),m,y=s(y,10),l,e[11],0,11),m=s(m,10);var g=this._b+i+m|0;this._b=this._c+o+y|0,this._c=this._d+d+l|0,this._d=this._e+r+p|0,this._e=this._a+n+b|0,this._a=g},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},t.exports=o}).call(this,e("buffer").Buffer)},{buffer:8,"hash-base":36,inherits:51}],81:[function(e,t,r){(function(t){const n=e("assert");function i(e,t){if("00"===e.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function o(e,r){if(e<56)return new t([e+r]);var n=a(e),i=a(r+55+n.length/2);return new t(i+n,"hex")}function s(e){return"0x"===e.slice(0,2)}function a(e){var t=e.toString(16);return t.length%2&&(t="0"+t),t}function f(e){if(!t.isBuffer(e))if("string"==typeof e)e=s(e)?new t(((n="string"!=typeof(i=e)?i:s(i)?i.slice(2):i).length%2&&(n="0"+n),n),"hex"):new t(e);else if("number"==typeof e)e?(r=a(e),e=new t(r,"hex")):e=new t([]);else if(null===e||void 0===e)e=new t([]);else{if(!e.toArray)throw new Error("invalid type");e=new t(e.toArray())}var r,n,i;return e}r.encode=function(e){if(e instanceof Array){for(var n=[],i=0;i<e.length;i++)n.push(r.encode(e[i]));var s=t.concat(n);return t.concat([o(s.length,192),s])}return 1===(e=f(e)).length&&e[0]<128?e:t.concat([o(e.length,128),e])},r.decode=function(e,r){if(!e||0===e.length)return new t([]);var o=function e(r){var n,o,s,a,f;var u=[];var c=r[0];if(c<=127)return{data:r.slice(0,1),remainder:r.slice(1)};if(c<=183){if(n=c-127,s=128===c?new t([]):r.slice(1,n),2===n&&s[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:s,remainder:r.slice(n)}}if(c<=191){if(o=c-182,n=i(r.slice(1,o).toString("hex"),16),(s=r.slice(o,n+o)).length<n)throw new Error("invalid RLP");return{data:s,remainder:r.slice(n+o)}}if(c<=247){for(n=c-191,a=r.slice(1,n);a.length;)f=e(a),u.push(f.data),a=f.remainder;return{data:u,remainder:r.slice(n)}}o=c-246,n=i(r.slice(1,o).toString("hex"),16);var h=o+n;if(h>r.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(a=r.slice(o,h)).length)throw new Error("invalid rlp, List has a invalid length");for(;a.length;)f=e(a),u.push(f.data),a=f.remainder;return{data:u,remainder:r.slice(h)}}(e=f(e));return r?o:(n.equal(o.remainder.length,0,"invalid remainder"),o.data)},r.getLength=function(e){if(!e||0===e.length)return new t([]);var r=(e=f(e))[0];if(r<=127)return e.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246;return n+i(e.slice(1,n).toString("hex"),16)}}).call(this,e("buffer").Buffer)},{assert:1,buffer:8}],82:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:8}],83:[function(e,t,r){"use strict";t.exports=e("./lib")(e("./lib/elliptic"))},{"./lib":87,"./lib/elliptic":86}],84:[function(e,t,r){(function(e){"use strict";var t=Object.prototype.toString;r.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},r.isBoolean=function(e,r){if("[object Boolean]"!==t.call(e))throw TypeError(r)},r.isBuffer=function(t,r){if(!e.isBuffer(t))throw TypeError(r)},r.isFunction=function(e,r){if("[object Function]"!==t.call(e))throw TypeError(r)},r.isNumber=function(e,r){if("[object Number]"!==t.call(e))throw TypeError(r)},r.isObject=function(e,r){if("[object Object]"!==t.call(e))throw TypeError(r)},r.isBufferLength=function(e,t,r){if(e.length!==t)throw RangeError(r)},r.isBufferLength2=function(e,t,r,n){if(e.length!==t&&e.length!==r)throw RangeError(n)},r.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},r.isNumberInInterval=function(e,t,r,n){if(e<=t||e>=r)throw RangeError(n)}}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":52}],85:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("bip66"),o=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),a=n.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(e,t,r){var i=n.from(r?o:s);return e.copy(i,r?8:9),t.copy(i,r?181:214),i},r.privateKeyImport=function(e){var t=e.length,r=0;if(!(t<r+1||48!==e[r])&&!(t<(r+=1)+1)&&128&e[r]){var n=127&e[r];if(r+=1,!(n<1||n>2||t<r+n)){var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);if(!(t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]))return e.slice(r+2,r+2+e[r+1])}}},r.signatureExport=function(e){for(var t=n.concat([n.from([0]),e.r]),r=33,o=0;r>1&&0===t[o]&&!(128&t[o+1]);--r,++o);for(var s=n.concat([n.from([0]),e.s]),a=33,f=0;a>1&&0===s[f]&&!(128&s[f+1]);--a,++f);return i.encode(t.slice(o),s.slice(f))},r.signatureImport=function(e){var t=n.from(a),r=n.from(a);try{var o=i.decode(e);if(33===o.r.length&&0===o.r[0]&&(o.r=o.r.slice(1)),o.r.length>32)throw new Error("R length is too long");if(33===o.s.length&&0===o.s[0]&&(o.s=o.s.slice(1)),o.s.length>32)throw new Error("S length is too long")}catch(e){return}return o.r.copy(t,32-o.r.length),o.s.copy(r,32-o.s.length),{r:t,s:r}},r.signatureImportLax=function(e){var t=n.from(a),r=n.from(a),i=e.length,o=0;if(48===e[o++]){var s=e[o++];if(!(128&s&&(o+=s-128)>i)&&2===e[o++]){var f=e[o++];if(128&f){if(o+(s=f-128)>i)return;for(;s>0&&0===e[o];o+=1,s-=1);for(f=0;s>0;o+=1,s-=1)f=(f<<8)+e[o]}if(!(f>i-o)){var u=o;if(o+=f,2===e[o++]){var c=e[o++];if(128&c){if(o+(s=c-128)>i)return;for(;s>0&&0===e[o];o+=1,s-=1);for(c=0;s>0;o+=1,s-=1)c=(c<<8)+e[o]}if(!(c>i-o)){var h=o;for(o+=c;f>0&&0===e[u];f-=1,u+=1);if(!(f>32)){var d=e.slice(u,u+f);for(d.copy(t,32-d.length);c>0&&0===e[h];c-=1,h+=1);if(!(c>32)){var l=e.slice(h,h+c);return l.copy(r,32-l.length),{r:t,s:r}}}}}}}}}},{bip66:3,"safe-buffer":82}],86:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("create-hash"),o=e("bn.js"),s=e("elliptic").ec,a=e("../messages.json"),f=new s("secp256k1"),u=f.curve;function c(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new o(t);if(r.cmp(u.p)>=0)return null;var n=(r=r.toRed(u.red)).redSqr().redIMul(r).redIAdd(u.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),f.keyPair({pub:{x:r,y:n}})}(t,e.slice(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var n=new o(t),i=new o(r);if(n.cmp(u.p)>=0||i.cmp(u.p)>=0)return null;if(n=n.toRed(u.red),i=i.toRed(u.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;var s=n.redSqr().redIMul(n);return i.redSqr().redISub(s.redIAdd(u.b)).isZero()?f.keyPair({pub:{x:n,y:i}}):null}(t,e.slice(1,33),e.slice(33,65));default:return null}}r.privateKeyVerify=function(e){var t=new o(e);return t.cmp(u.n)<0&&!t.isZero()},r.privateKeyExport=function(e,t){var r=new o(e);if(r.cmp(u.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return n.from(f.keyFromPrivate(e).getPublic(t,!0))},r.privateKeyTweakAdd=function(e,t){var r=new o(t);if(r.cmp(u.n)>=0)throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(new o(e)),r.cmp(u.n)>=0&&r.isub(u.n),r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toArrayLike(n,"be",32)},r.privateKeyTweakMul=function(e,t){var r=new o(t);if(r.cmp(u.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return r.imul(new o(e)),r.cmp(u.n)&&(r=r.umod(u.n)),r.toArrayLike(n,"be",32)},r.publicKeyCreate=function(e,t){var r=new o(e);if(r.cmp(u.n)>=0||r.isZero())throw new Error(a.EC_PUBLIC_KEY_CREATE_FAIL);return n.from(f.keyFromPrivate(e).getPublic(t,!0))},r.publicKeyConvert=function(e,t){var r=c(e);if(null===r)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return n.from(r.getPublic(t,!0))},r.publicKeyVerify=function(e){return null!==c(e)},r.publicKeyTweakAdd=function(e,t,r){var i=c(e);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new o(t)).cmp(u.n)>=0)throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return n.from(u.g.mul(t).add(i.pub).encode(!0,r))},r.publicKeyTweakMul=function(e,t,r){var i=c(e);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new o(t)).cmp(u.n)>=0||t.isZero())throw new Error(a.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.from(i.pub.mul(t).encode(!0,r))},r.publicKeyCombine=function(e,t){for(var r=new Array(e.length),i=0;i<e.length;++i)if(r[i]=c(e[i]),null===r[i])throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);for(var o=r[0].pub,s=1;s<r.length;++s)o=o.add(r[s].pub);if(o.isInfinity())throw new Error(a.EC_PUBLIC_KEY_COMBINE_FAIL);return n.from(o.encode(!0,t))},r.signatureNormalize=function(e){var t=new o(e.slice(0,32)),r=new o(e.slice(32,64));if(t.cmp(u.n)>=0||r.cmp(u.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(e);return 1===r.cmp(f.nh)&&u.n.sub(r).toArrayLike(n,"be",32).copy(i,32),i},r.signatureExport=function(e){var t=e.slice(0,32),r=e.slice(32,64);if(new o(t).cmp(u.n)>=0||new o(r).cmp(u.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:r}},r.signatureImport=function(e){var t=new o(e.r);t.cmp(u.n)>=0&&(t=new o(0));var r=new o(e.s);return r.cmp(u.n)>=0&&(r=new o(0)),n.concat([t.toArrayLike(n,"be",32),r.toArrayLike(n,"be",32)])},r.sign=function(e,t,r,i){if("function"==typeof r){var s=r;r=function(r){var f=s(e,t,null,i,r);if(!n.isBuffer(f)||32!==f.length)throw new Error(a.ECDSA_SIGN_FAIL);return new o(f)}}var c=new o(t);if(c.cmp(u.n)>=0||c.isZero())throw new Error(a.ECDSA_SIGN_FAIL);var h=f.sign(e,t,{canonical:!0,k:r,pers:i});return{signature:n.concat([h.r.toArrayLike(n,"be",32),h.s.toArrayLike(n,"be",32)]),recovery:h.recoveryParam}},r.verify=function(e,t,r){var n={r:t.slice(0,32),s:t.slice(32,64)},i=new o(n.r),s=new o(n.s);if(i.cmp(u.n)>=0||s.cmp(u.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);if(1===s.cmp(f.nh)||i.isZero()||s.isZero())return!1;var h=c(r);if(null===h)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return f.verify(e,n,{x:h.pub.x,y:h.pub.y})},r.recover=function(e,t,r,i){var s={r:t.slice(0,32),s:t.slice(32,64)},c=new o(s.r),h=new o(s.s);if(c.cmp(u.n)>=0||h.cmp(u.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);try{if(c.isZero()||h.isZero())throw new Error;var d=f.recoverPubKey(e,s,r);return n.from(d.encode(!0,i))}catch(e){throw new Error(a.ECDSA_RECOVER_FAIL)}},r.ecdh=function(e,t){var n=r.ecdhUnsafe(e,t,!0);return i("sha256").update(n).digest()},r.ecdhUnsafe=function(e,t,r){var i=c(e);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);var s=new o(t);if(s.cmp(u.n)>=0||s.isZero())throw new Error(a.ECDH_FAIL);return n.from(i.pub.mul(s).encode(!0,r))}},{"../messages.json":88,"bn.js":4,"create-hash":11,elliptic:14,"safe-buffer":82}],87:[function(e,t,r){"use strict";var n=e("./assert"),i=e("./der"),o=e("./messages.json");function s(e,t){return void 0===e?t:(n.isBoolean(e,o.COMPRESSED_TYPE_INVALID),e)}t.exports=function(e){return{privateKeyVerify:function(t){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,r){n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=s(r,!0);var a=e.privateKeyExport(t,r);return i.privateKeyExport(t,a,r)},privateKeyImport:function(t){if(n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),(t=i.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(o.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyTweakAdd:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,r)},privateKeyTweakMul:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,r)},publicKeyCreate:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=s(r,!0),e.publicKeyCreate(t,r)},publicKeyConvert:function(t,r){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),r=s(r,!0),e.publicKeyConvert(t,r)},publicKeyVerify:function(t){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=s(i,!0),e.publicKeyTweakAdd(t,r,i)},publicKeyTweakMul:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=s(i,!0),e.publicKeyTweakMul(t,r,i)},publicKeyCombine:function(t,r){n.isArray(t,o.EC_PUBLIC_KEYS_TYPE_INVALID),n.isLengthGTZero(t,o.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<t.length;++i)n.isBuffer(t[i],o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t[i],33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID);return r=s(r,!0),e.publicKeyCombine(t,r)},signatureNormalize:function(t){return n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=e.signatureExport(t);return i.signatureExport(r)},signatureImport:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImport(t);if(r)return e.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImportLax(t);if(r)return e.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,r,i){n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID);var s=null,a=null;return void 0!==i&&(n.isObject(i,o.OPTIONS_TYPE_INVALID),void 0!==i.data&&(n.isBuffer(i.data,o.OPTIONS_DATA_TYPE_INVALID),n.isBufferLength(i.data,32,o.OPTIONS_DATA_LENGTH_INVALID),s=i.data),void 0!==i.noncefn&&(n.isFunction(i.noncefn,o.OPTIONS_NONCEFN_TYPE_INVALID),a=i.noncefn)),e.sign(t,r,a,s)},verify:function(t,r,i){return n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isBuffer(i,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(i,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,r,i)},recover:function(t,r,i,a){return n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isNumber(i,o.RECOVERY_ID_TYPE_INVALID),n.isNumberInInterval(i,-1,4,o.RECOVERY_ID_VALUE_INVALID),a=s(a,!0),e.recover(t,r,i,a)},ecdh:function(t,r){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,r)},ecdhUnsafe:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),i=s(i,!0),e.ecdhUnsafe(t,r,i)}}}},{"./assert":84,"./der":85,"./messages.json":88}],88:[function(e,t,r){t.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}},{}],89:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var f=s%i,u=Math.min(o-a,i-f),c=0;c<u;c++)r[f+c]=e[a+c];a+=u,(s+=u)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=4294967295&r,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},{"safe-buffer":82}],90:[function(e,t,r){(r=t.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t}).sha=e("./sha"),r.sha1=e("./sha1"),r.sha224=e("./sha224"),r.sha256=e("./sha256"),r.sha384=e("./sha384"),r.sha512=e("./sha512")},{"./sha":91,"./sha1":92,"./sha224":93,"./sha256":94,"./sha384":95,"./sha512":96}],91:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function f(){this.init(),this._w=a,i.call(this,64,56)}function u(e){return e<<30|e>>>2}function c(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(f,i),f.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},f.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,f=0|this._e,h=0;h<16;++h)r[h]=e.readInt32BE(4*h);for(;h<80;++h)r[h]=r[h-3]^r[h-8]^r[h-14]^r[h-16];for(var d=0;d<80;++d){var l=~~(d/20),p=0|((t=n)<<5|t>>>27)+c(l,i,o,a)+f+r[d]+s[l];f=a,a=o,o=u(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=f+this._e|0},f.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=f},{"./hash":89,inherits:51,"safe-buffer":82}],92:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function f(){this.init(),this._w=a,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function c(e){return e<<30|e>>>2}function h(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(f,i),f.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},f.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,f=0|this._e,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<80;++d)r[d]=(t=r[d-3]^r[d-8]^r[d-14]^r[d-16])<<1|t>>>31;for(var l=0;l<80;++l){var p=~~(l/20),b=u(n)+h(p,i,o,a)+f+r[l]+s[p]|0;f=a,a=o,o=c(i),i=n,n=b}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=f+this._e|0},f.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=f},{"./hash":89,inherits:51,"safe-buffer":82}],93:[function(e,t,r){var n=e("inherits"),i=e("./sha256"),o=e("./hash"),s=e("safe-buffer").Buffer,a=new Array(64);function f(){this.init(),this._w=a,o.call(this,64,56)}n(f,i),f.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},f.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=f},{"./hash":89,"./sha256":94,inherits:51,"safe-buffer":82}],94:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function f(){this.init(),this._w=a,i.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function c(e,t,r){return e&t|r&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function l(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(f,i),f.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},f.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,f=0|this._e,p=0|this._f,b=0|this._g,m=0|this._h,y=0;y<16;++y)r[y]=e.readInt32BE(4*y);for(;y<64;++y)r[y]=0|(((t=r[y-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[y-7]+l(r[y-15])+r[y-16];for(var g=0;g<64;++g){var v=m+d(f)+u(f,p,b)+s[g]+r[g]|0,w=h(n)+c(n,i,o)|0;m=b,b=p,p=f,f=a+v|0,a=o,o=i,i=n,n=v+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=f+this._e|0,this._f=p+this._f|0,this._g=b+this._g|0,this._h=m+this._h|0},f.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=f},{"./hash":89,inherits:51,"safe-buffer":82}],95:[function(e,t,r){var n=e("inherits"),i=e("./sha512"),o=e("./hash"),s=e("safe-buffer").Buffer,a=new Array(160);function f(){this.init(),this._w=a,o.call(this,128,112)}n(f,i),f.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},f.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=f},{"./hash":89,"./sha512":96,inherits:51,"safe-buffer":82}],96:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function f(){this.init(),this._w=a,i.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function c(e,t,r){return e&t|r&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function b(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function y(e,t){return e>>>0<t>>>0?1:0}n(f,i),f.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},f.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,f=0|this._fh,g=0|this._gh,v=0|this._hh,w=0|this._al,_=0|this._bl,S=0|this._cl,A=0|this._dl,E=0|this._el,k=0|this._fl,M=0|this._gl,x=0|this._hl,I=0;I<32;I+=2)t[I]=e.readInt32BE(4*I),t[I+1]=e.readInt32BE(4*I+4);for(;I<160;I+=2){var B=t[I-30],P=t[I-30+1],C=l(B,P),T=p(P,B),R=b(B=t[I-4],P=t[I-4+1]),L=m(P,B),N=t[I-14],j=t[I-14+1],O=t[I-32],D=t[I-32+1],z=T+j|0,F=C+N+y(z,T)|0;F=(F=F+R+y(z=z+L|0,L)|0)+O+y(z=z+D|0,D)|0,t[I]=F,t[I+1]=z}for(var U=0;U<160;U+=2){F=t[U],z=t[U+1];var q=c(r,n,i),H=c(w,_,S),K=h(r,w),V=h(w,r),Y=d(a,E),G=d(E,a),W=s[U],J=s[U+1],Z=u(a,f,g),X=u(E,k,M),$=x+G|0,Q=v+Y+y($,x)|0;Q=(Q=(Q=Q+Z+y($=$+X|0,X)|0)+W+y($=$+J|0,J)|0)+F+y($=$+z|0,z)|0;var ee=V+H|0,te=K+q+y(ee,V)|0;v=g,x=M,g=f,M=k,f=a,k=E,a=o+Q+y(E=A+$|0,A)|0,o=i,A=S,i=n,S=_,n=r,_=w,r=Q+te+y(w=$+ee|0,$)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+S|0,this._dl=this._dl+A|0,this._el=this._el+E|0,this._fl=this._fl+k|0,this._gl=this._gl+M|0,this._hl=this._hl+x|0,this._ah=this._ah+r+y(this._al,w)|0,this._bh=this._bh+n+y(this._bl,_)|0,this._ch=this._ch+i+y(this._cl,S)|0,this._dh=this._dh+o+y(this._dl,A)|0,this._eh=this._eh+a+y(this._el,E)|0,this._fh=this._fh+f+y(this._fl,k)|0,this._gh=this._gh+g+y(this._gl,M)|0,this._hh=this._hh+v+y(this._hl,x)|0},f.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=f},{"./hash":89,inherits:51,"safe-buffer":82}],97:[function(e,t,r){t.exports=i;var n=e("events").EventEmitter;function i(){n.call(this)}e("inherits")(i,n),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",f));var s=!1;function a(){s||(s=!0,e.end())}function f(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",f),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},{events:35,inherits:51,"readable-stream/duplex.js":67,"readable-stream/passthrough.js":76,"readable-stream/readable.js":77,"readable-stream/transform.js":78,"readable-stream/writable.js":79}],98:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=f,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=d,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function f(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function l(e){return e&&e.length?this.write(e):""}r.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":82}],99:[function(e,t,r){var n=e("is-hex-prefixed");t.exports=function(e){return"string"!=typeof e?e:n(e)?e.slice(2):e}},{"is-hex-prefixed":53}],100:[function(e,t,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],101:[function(e,t,r){arguments[4][51][0].apply(r,arguments)},{dup:51}],102:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],103:[function(e,t,r){(function(t,n){var i=/%[sdj%]/g;r.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),f=n[r];r<o;f=n[++r])b(f)||!w(f)?s+=" "+f:s+=" "+a(f);return s},r.deprecate=function(e,i){if(g(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var o,s={};function a(e,t){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(t)?n.showHidden=t:t&&r._extend(n,t),g(n.showHidden)&&(n.showHidden=!1),g(n.depth)&&(n.depth=2),g(n.colors)&&(n.colors=!1),g(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),c(n,e,n.depth)}function f(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function u(e,t){return e}function c(e,t,n){if(e.customInspect&&t&&A(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return y(i)||(i=c(e,i,n)),i}var o=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}(e,t);if(o)return o;var s=Object.keys(t),a=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),S(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(t);if(0===s.length){if(A(t)){var f=t.name?": "+t.name:"";return e.stylize("[Function"+f+"]","special")}if(v(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(_(t))return e.stylize(Date.prototype.toString.call(t),"date");if(S(t))return h(t)}var u,w="",E=!1,k=["{","}"];(l(t)&&(E=!0,k=["[","]"]),A(t))&&(w=" [Function"+(t.name?": "+t.name:"")+"]");return v(t)&&(w=" "+RegExp.prototype.toString.call(t)),_(t)&&(w=" "+Date.prototype.toUTCString.call(t)),S(t)&&(w=" "+h(t)),0!==s.length||E&&0!=t.length?n<0?v(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=E?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)x(t,String(s))?o.push(d(e,t,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,r,n,i,!0))}),o}(e,t,n,a,s):s.map(function(r){return d(e,t,n,a,r,E)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,w,k)):k[0]+w+k[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,o){var s,a,f;if((f=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=f.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):f.set&&(a=e.stylize("[Setter]","special")),x(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(f.value)<0?(a=b(r)?c(e,f.value,null):c(e,f.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),g(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function l(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function b(e){return null===e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function g(e){return void 0===e}function v(e){return w(e)&&"[object RegExp]"===E(e)}function w(e){return"object"==typeof e&&null!==e}function _(e){return w(e)&&"[object Date]"===E(e)}function S(e){return w(e)&&("[object Error]"===E(e)||e instanceof Error)}function A(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(g(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=t.pid;s[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else s[e]=function(){};return s[e]},r.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=l,r.isBoolean=p,r.isNull=b,r.isNullOrUndefined=function(e){return null==e},r.isNumber=m,r.isString=y,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=g,r.isRegExp=v,r.isObject=w,r.isDate=_,r.isError=S,r.isFunction=A,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":"),[e.getDate(),M[e.getMonth()],t].join(" ")),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":102,_process:66,inherits:101}],104:[function(e,t,r){"use strict";t.exports={Buffer:e("buffer"),BN:e("ethereumjs-util").BN,RLP:e("ethereumjs-util").rlp,Tx:e("ethereumjs-tx"),Util:e("ethereumjs-util")}},{buffer:8,"ethereumjs-tx":31,"ethereumjs-util":33}]},{},[104])(104)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ethers=e()}}(function(){return function(){return function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var f="function"==typeof require&&require;if(!a&&f)return f(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r||e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}}()({1:[function(e,t,r){"use strict";var n=e("./interface.js"),i={defineProperty:e("../utils/properties.js").defineProperty,getAddress:e("../utils/address.js").getAddress,bigNumberify:e("../utils/bignumber.js").bigNumberify,hexlify:e("../utils/convert.js").hexlify},o={data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0};function s(e,t,r){if(!(this instanceof s))throw new Error("missing new");if(t instanceof n||(t=new n(t)),!r)throw new Error("missing signer or provider");var a=r,f=null;r.provider?f=r.provider:(f=r,a=null),i.defineProperty(this,"address",e),i.defineProperty(this,"interface",t),i.defineProperty(this,"signer",a),i.defineProperty(this,"provider",f);var u=f.resolveName(e);function c(r,n){return function(){var s={},u=Array.prototype.slice.call(arguments);if(u.length==r.inputs.types.length+1){if("object"!=typeof(s=u.pop()))throw new Error("invalid transaction overrides");for(var c in s=function(e){var t={};for(var r in e)t[r]=e[r];return t}(s))if(!o[c])throw new Error("unknown transaction override "+c)}["data","to"].forEach(function(e){if(null!=s[e])throw new Error("cannot override "+e)});var h=r.apply(t,u);switch(s.to=e,s.data=h.data,h.type){case"call":if(n)return Promise.resolve(new i.bigNumberify(0));["gasLimit","gasPrice","value"].forEach(function(e){if(null!=s[e])throw new Error("call cannot override "+e)});var d=null;return null==s.from&&a&&a.getAddress?(d=a.getAddress())instanceof Promise||(d=Promise.resolve(d)):d=Promise.resolve(null),d.then(function(e){return e&&(s.from=i.getAddress(e)),f.call(s)}).then(function(e){var t=h.parse(e);return 1===r.outputs.types.length&&(t=t[0]),t});case"transaction":if(!a)return Promise.reject(new Error("missing signer"));if(null!=s.from)throw new Error("transaction cannot override from");if(n)return a&&a.estimateGas?a.estimateGas(s):f.estimateGas(s);if(a.sendTransaction)return a.sendTransaction(s);if(!a.sign)return Promise.reject(new Error("custom signer does not support signing"));null==s.gasLimit&&(s.gasLimit=a.defaultGasLimit||2e6);var l=null;if(s.nonce)l=Promise.resolve(s.nonce);else if(a.getTransactionCount)(l=a.getTransactionCount())instanceof Promise||(l=Promise.resolve(l));else{var p=a.getAddress();p instanceof Promise||(p=Promise.resolve(p)),l=p.then(function(e){return f.getTransactionCount(e,"pending")})}var b=null;return b=s.gasPrice?Promise.resolve(s.gasPrice):f.getGasPrice(),Promise.all([l,b]).then(function(e){return s.nonce=e[0],s.gasPrice=e[1],a.sign(s)}).then(function(e){return f.sendTransaction(e)})}}}var h={};i.defineProperty(this,"estimate",h);var d={};i.defineProperty(this,"functions",d);var l={};i.defineProperty(this,"events",l),Object.keys(t.functions).forEach(function(e){var r=t.functions[e],n=c(r,!1);null==this[e]?i.defineProperty(this,e,n):console.log("WARNING: Multiple definitions for "+r),null==d[r]&&(i.defineProperty(d,e,n),i.defineProperty(h,e,c(r,!0)))},this),Object.keys(t.events).forEach(function(e){var r=t.events[e],n=null;function i(t){u.then(function(o){if(o==t.address)try{var s=r.parse(t.topics,t.data);t.args=s,t.event=e,t.parse=r.parse,t.removeListener=function(){f.removeListener(r.topics,i)},t.getBlock=function(){return f.getBlock(t.blockHash)},t.getTransaction=function(){return f.getTransaction(t.transactionHash)},t.getTransactionReceipt=function(){return f.getTransactionReceipt(t.transactionHash)},t.eventSignature=r.signature,n.apply(t,Array.prototype.slice.call(s))}catch(e){console.log(e)}})}var o={enumerable:!0,get:function(){return n},set:function(e){e||(e=null),!e&&n?f.removeListener(r.topics,i):e&&!n&&f.on(r.topics,i),n=e}},s="on"+e.toLowerCase();null==this[s]&&Object.defineProperty(this,s,o),Object.defineProperty(l,e,o)},this)}i.defineProperty(s.prototype,"connect",function(e){return new s(this.address,this.interface,e)}),i.defineProperty(s,"getDeployTransaction",function(e,t){t instanceof n||(t=new n(t));var r=Array.prototype.slice.call(arguments);return r.splice(1,1),{data:t.deployFunction.apply(t,r).bytecode}}),t.exports=s},{"../utils/address.js":56,"../utils/bignumber.js":57,"../utils/convert.js":60,"../utils/properties.js":67,"./interface.js":3}],2:[function(e,t,r){"use strict";var n=e("./contract.js"),i=e("./interface.js");t.exports={Contract:n,Interface:i}},{"./contract.js":1,"./interface.js":3}],3:[function(e,t,r){"use strict";var n,i,o,s=e("../utils/throw-error"),a=(n=e("../utils/convert"),i=e("../utils/properties"),o=e("../utils/utf8"),{defineFrozen:i.defineFrozen,defineProperty:i.defineProperty,coder:e("../utils/abi-coder").defaultCoder,arrayify:n.arrayify,concat:n.concat,isHexString:n.isHexString,toUtf8Bytes:o.toUtf8Bytes,keccak256:e("../utils/keccak256")});function f(e){var t=[],r=[];return e.forEach(function(e){if(null!=e.components){if("tuple"!==e.type.substring(0,5))throw new Error("internal error; report on GitHub");var n="",i=e.type.indexOf("[");i>=0&&(n=e.type.substring(i));var o=f(e.components);t.push({name:e.name||null,names:o.names}),r.push("tuple("+o.types.join(",")+")"+n)}else t.push(e.name||null),r.push(e.type)}),{names:t,types:r}}function u(e,t){for(var r in t)a.defineProperty(e,r,t[r]);return e}function c(e){a.defineProperty(this,"indexed",!0),a.defineProperty(this,"hash",e)}t.exports=function e(t){if(!(this instanceof e))throw new Error("missing new");if("string"==typeof t)try{t=JSON.parse(t)}catch(e){s("invalid abi",{input:t})}a.defineFrozen(this,"abi",t);var r={},n={},i=null;function o(e){switch(e.type){case"constructor":var t=function(){var t=f(e.inputs),r=function(e){a.isHexString(e)||s("invalid bytecode",{input:e});var r=Array.prototype.slice.call(arguments,1);r.length<t.types.length?s("missing parameter"):r.length>t.types.length&&s("too many parameters");var n={bytecode:e+a.coder.encode(t.names,t.types,r).substring(2),type:"deploy"};return u(new function(){},n)};return a.defineFrozen(r,"inputs",t),a.defineProperty(r,"payable",null==e.payable||!!e.payable),r}();i||(i=t);break;case"function":t=function(){var t=f(e.inputs),r=f(e.outputs),n="("+t.types.join(",")+")";n=n.replace(/tuple/g,""),n=e.name+n;var i=a.keccak256(a.toUtf8Bytes(n)).substring(0,10),o=function(){var o={name:e.name,signature:n,sighash:i,type:e.constant?"call":"transaction"},f=Array.prototype.slice.call(arguments,0);return f.length<t.types.length?s("missing parameter"):f.length>t.types.length&&s("too many parameters"),o.data=i+a.coder.encode(t.names,t.types,f).substring(2),o.parse=function(e){return a.coder.decode(r.names,r.types,a.arrayify(e))},u(new function(){},o)};return a.defineFrozen(o,"inputs",t),a.defineFrozen(o,"outputs",r),a.defineProperty(o,"payable",null==e.payable||!!e.payable),a.defineProperty(o,"signature",n),a.defineProperty(o,"sighash",i),o}(),e.name&&null==r[e.name]&&a.defineProperty(r,e.name,t),null==r[t.signature]&&a.defineProperty(r,t.signature,t);break;case"event":t=function(){var t=f(e.inputs),r="("+t.types.join(",")+")";r=r.replace(/tuple/g,""),r=e.name+r;var n={anonymous:!!e.anonymous,name:e.name,signature:r,type:"event",parse:function(r,n){null==n&&(n=r,r=null),null==r||e.anonymous||(r=r.slice(1));var i=[],o=[],s=[],f=[],u=[];if(e.inputs.forEach(function(e,r){var n=t.types[r],a=t.names[r];e.indexed?("string"===n||"bytes"===n||n.indexOf("[")>=0||"tuple"===n.substring(0,5)?(s.push("bytes32"),u.push(!0)):(s.push(n),u.push(!1)),i.push(a)):(o.push(a),f.push(n),u.push(!1))}),null!=r)var h=a.coder.decode(i,s,a.concat(r));var d=a.coder.decode(o,f,a.arrayify(n)),l=new function(){},p=0,b=0;return e.inputs.forEach(function(e,t){e.indexed?null==r?l[t]=new c(null):u[t]?l[t]=new c(h[b++]):l[t]=h[b++]:l[t]=d[p++],e.name&&(l[e.name]=l[t])}),l.length=e.inputs.length,l}},i=u(new function(){},n);return a.defineFrozen(i,"topics",[a.keccak256(a.toUtf8Bytes(r))]),a.defineFrozen(i,"inputs",t),i}(),e.name&&null==n[e.name]&&a.defineProperty(n,e.name,t),null==r[t.signature]&&a.defineProperty(r,t.signature,t);break;case"fallback":break;default:console.log("WARNING: unsupported ABI type - "+e.type)}}a.defineProperty(this,"functions",r),a.defineProperty(this,"events",n),this.abi.forEach(o,this),i||o({type:"constructor",inputs:[]}),a.defineProperty(this,"deployFunction",i)}},{"../utils/abi-coder":55,"../utils/convert":60,"../utils/keccak256":64,"../utils/properties":67,"../utils/throw-error":71,"../utils/utf8":73}],4:[function(e,t,r){"use strict";var n=e("./package.json").version,i=e("./contracts"),o=e("./providers"),s=e("./utils"),a=e("./wallet");t.exports={Wallet:a.Wallet,HDNode:a.HDNode,SigningKey:a.SigningKey,Contract:i.Contract,Interface:i.Interface,networks:o.networks,providers:o,utils:s,version:n}},{"./contracts":2,"./package.json":45,"./providers":49,"./utils":63,"./wallet":75}],5:[function(e,t,r){"use strict";!function(e){function n(e){return parseInt(e)===e}function i(e){if(!n(e.length))return!1;for(var t=0;t<e.length;t++)if(!n(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!i(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(n(e.length)&&i(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function s(e){return new Uint8Array(e)}function a(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var f=function(){return{toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return o(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}}}(),u=function(){var e="0123456789abcdef";return{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(t){for(var r=[],n=0;n<t.length;n++){var i=t[n];r.push(e[(240&i)>>4]+e[15&i])}return r.join("")}}}(),c={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],l=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],b=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],g=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],v=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],S=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],A=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],E=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],k=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function M(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var x=function(e){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(e,!0)}),this._prepare()};x.prototype._prepare=function(){var e=c[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,o=M(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=o[t],this._Kd[e-r][t%4]=o[t];for(var s,a=0,f=i;f<n;){if(s=o[i-1],o[0]^=d[s>>16&255]<<24^d[s>>8&255]<<16^d[255&s]<<8^d[s>>24&255]^h[a]<<24,a+=1,8!=i)for(t=1;t<i;t++)o[t]^=o[t-1];else{for(t=1;t<i/2;t++)o[t]^=o[t-1];s=o[i/2-1],o[i/2]^=d[255&s]^d[s>>8&255]<<8^d[s>>16&255]<<16^d[s>>24&255]<<24;for(t=i/2+1;t<i;t++)o[t]^=o[t-1]}for(t=0;t<i&&f<n;)u=f>>2,l=f%4,this._Ke[u][l]=o[t],this._Kd[e-u][l]=o[t++],f++}for(var u=1;u<e;u++)for(var l=0;l<4;l++)s=this._Kd[u][l],this._Kd[u][l]=S[s>>24&255]^A[s>>16&255]^E[s>>8&255]^k[255&s]},x.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=M(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=p[n[i]>>24&255]^b[n[(i+1)%4]>>16&255]^m[n[(i+2)%4]>>8&255]^y[255&n[(i+3)%4]]^this._Ke[o][i];n=r.slice()}var a,f=s(16);for(i=0;i<4;i++)a=this._Ke[t][i],f[4*i]=255&(d[n[i]>>24&255]^a>>24),f[4*i+1]=255&(d[n[(i+1)%4]>>16&255]^a>>16),f[4*i+2]=255&(d[n[(i+2)%4]>>8&255]^a>>8),f[4*i+3]=255&(d[255&n[(i+3)%4]]^a);return f},x.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=M(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=g[n[i]>>24&255]^v[n[(i+3)%4]>>16&255]^w[n[(i+2)%4]>>8&255]^_[255&n[(i+1)%4]]^this._Kd[o][i];n=r.slice()}var a,f=s(16);for(i=0;i<4;i++)a=this._Kd[t][i],f[4*i]=255&(l[n[i]>>24&255]^a>>24),f[4*i+1]=255&(l[n[(i+3)%4]>>16&255]^a>>16),f[4*i+2]=255&(l[n[(i+2)%4]>>8&255]^a>>8),f[4*i+3]=255&(l[255&n[(i+1)%4]]^a);return f};var I=function(e){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new x(e)};I.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16)a(e,r,0,n,n+16),a(r=this._aes.encrypt(r),t,n);return t},I.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16)a(e,r,0,n,n+16),a(r=this._aes.decrypt(r),t,n);return t};var B=function(e,t){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=s(16);this._lastCipherblock=o(t,!0),this._aes=new x(e)};B.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16){a(e,r,0,n,n+16);for(var i=0;i<16;i++)r[i]^=this._lastCipherblock[i];this._lastCipherblock=this._aes.encrypt(r),a(this._lastCipherblock,t,n)}return t},B.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16){a(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var i=0;i<16;i++)t[n+i]=r[i]^this._lastCipherblock[i];a(e,this._lastCipherblock,0,n,n+16)}return t};var P=function(e,t,r){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=s(16);r||(r=1),this.segmentSize=r,this._shiftRegister=o(t,!0),this._aes=new x(e)};P.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=o(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},P.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=o(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var C=function(e,t){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=s(16);this._lastPrecipher=o(t,!0),this._lastPrecipherIndex=16,this._aes=new x(e)};C.prototype.encrypt=function(e){for(var t=o(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},C.prototype.decrypt=C.prototype.encrypt;var T=function(e){if(!(this instanceof T))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=s(16),this.setValue(e)):this.setBytes(e)};T.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},T.prototype.setBytes=function(e){if(16!=(e=o(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},T.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var R=function(e,t){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof T||(t=new T(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new x(e)};R.prototype.encrypt=function(e){for(var t=o(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},R.prototype.decrypt=R.prototype.encrypt;var L={AES:x,Counter:T,ModeOfOperation:{ecb:I,cbc:B,cfb:P,ofb:C,ctr:R},utils:{hex:u,utf8:f},padding:{pkcs7:{pad:function(e){var t=16-(e=o(e,!0)).length%16,r=s(e.length+t);a(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=o(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var i=s(r);return a(e,i,0,0,r),i}}},_arrayTest:{coerceArray:o,createArray:s,copyArray:a}};void 0!==r?t.exports=L:(e.aesjs&&(L._aesjs=e.aesjs),e.aesjs=L)}(this)},{}],6:[function(e,t,r){!function(t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof t?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;try{s=e("buffer").Buffer}catch(e){}function a(e,t,r){for(var n=0,i=Math.min(e.length,r),o=t;o<i;o++){var s=e.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function f(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=e.length-6,n=0;r>=t;r-=6)i=a(e,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==t&&(i=a(e,t,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=f(e,c,c+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=f(e,c,e.length,t),c=0;c<s;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,f=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=f>>>26,h=67108863&f,d=Math.min(u,t.length-1),l=Math.max(0,u-e.length+1);l<=d;l++){var p=u-l|0;c+=(s=(i=0|e.words[p])*(o=0|t.words[l])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,f=0|c}return 0!==f?r.words[u]=0|f:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(e=e||10,t=0|t||1,16===e||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],f=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?u[6-f.length]+f+r:f+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var d=c[e],l=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(e);r=(p=p.idivn(l)).isZero()?b+r:u[d-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,f="le"===t,u=new e(o),c=this.clone();if(f){for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,r){var n,i,o,s=e.words,a=t.words,f=r.words,u=0,c=0|s[0],h=8191&c,d=c>>>13,l=0|s[1],p=8191&l,b=l>>>13,m=0|s[2],y=8191&m,g=m>>>13,v=0|s[3],w=8191&v,_=v>>>13,S=0|s[4],A=8191&S,E=S>>>13,k=0|s[5],M=8191&k,x=k>>>13,I=0|s[6],B=8191&I,P=I>>>13,C=0|s[7],T=8191&C,R=C>>>13,L=0|s[8],N=8191&L,j=L>>>13,O=0|s[9],D=8191&O,z=O>>>13,F=0|a[0],U=8191&F,q=F>>>13,H=0|a[1],K=8191&H,V=H>>>13,Y=0|a[2],G=8191&Y,W=Y>>>13,J=0|a[3],Z=8191&J,X=J>>>13,$=0|a[4],Q=8191&$,ee=$>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],fe=8191&ae,ue=ae>>>13,ce=0|a[8],he=8191&ce,de=ce>>>13,le=0|a[9],pe=8191&le,be=le>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(u+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(d,U)|0))<<13)|0;u=((o=Math.imul(d,q))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,q))+Math.imul(b,U)|0,o=Math.imul(b,q);var ye=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,K)|0))<<13)|0;u=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,U),i=(i=Math.imul(y,q))+Math.imul(g,U)|0,o=Math.imul(g,q),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,V)|0;var ge=(u+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(d,G)|0))<<13)|0;u=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,q))+Math.imul(_,U)|0,o=Math.imul(_,q),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,V)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,W)|0;var ve=(u+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,X)|0)+Math.imul(d,Z)|0))<<13)|0;u=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(A,U),i=(i=Math.imul(A,q))+Math.imul(E,U)|0,o=Math.imul(E,q),n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,X)|0;var we=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,U),i=(i=Math.imul(M,q))+Math.imul(x,U)|0,o=Math.imul(x,q),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var _e=(u+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(d,re)|0))<<13)|0;u=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,q))+Math.imul(P,U)|0,o=Math.imul(P,q),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(x,K)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,se)|0)+Math.imul(d,oe)|0))<<13)|0;u=((o=o+Math.imul(d,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(T,U),i=(i=Math.imul(T,q))+Math.imul(R,U)|0,o=Math.imul(R,q),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0;var Ae=(u+(n=n+Math.imul(h,fe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ue)|0)+Math.imul(d,fe)|0))<<13)|0;u=((o=o+Math.imul(d,ue)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,U),i=(i=Math.imul(N,q))+Math.imul(j,U)|0,o=Math.imul(j,q),n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,V)|0,n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,ue)|0;var Ee=(u+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;u=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,U),i=(i=Math.imul(D,q))+Math.imul(z,U)|0,o=Math.imul(z,q),n=n+Math.imul(N,K)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(j,K)|0,o=o+Math.imul(j,V)|0,n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,W)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,ue)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,ue)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,de)|0;var ke=(u+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,be)|0)+Math.imul(d,pe)|0))<<13)|0;u=((o=o+Math.imul(d,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,V))+Math.imul(z,K)|0,o=Math.imul(z,V),n=n+Math.imul(N,G)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,W)|0,n=n+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,X)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,se)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,se)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(y,he)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(g,he)|0,o=o+Math.imul(g,de)|0;var Me=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,G),i=(i=Math.imul(D,W))+Math.imul(z,G)|0,o=Math.imul(z,W),n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,X)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(E,fe)|0,o=o+Math.imul(E,ue)|0,n=n+Math.imul(w,he)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(_,he)|0,o=o+Math.imul(_,de)|0;var xe=(u+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,be)|0)+Math.imul(g,pe)|0))<<13)|0;u=((o=o+Math.imul(g,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,X))+Math.imul(z,Z)|0,o=Math.imul(z,X),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(R,re)|0,o=o+Math.imul(R,ne)|0,n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(x,fe)|0,o=o+Math.imul(x,ue)|0,n=n+Math.imul(A,he)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(E,he)|0,o=o+Math.imul(E,de)|0;var Ie=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,be)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(z,Q)|0,o=Math.imul(z,ee),n=n+Math.imul(N,re)|0,i=(i=i+Math.imul(N,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,ue)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,de)|0;var Be=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,be)|0)+Math.imul(E,pe)|0))<<13)|0;u=((o=o+Math.imul(E,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(z,re)|0,o=Math.imul(z,ne),n=n+Math.imul(N,oe)|0,i=(i=i+Math.imul(N,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(R,fe)|0,o=o+Math.imul(R,ue)|0,n=n+Math.imul(B,he)|0,i=(i=i+Math.imul(B,de)|0)+Math.imul(P,he)|0,o=o+Math.imul(P,de)|0;var Pe=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(z,oe)|0,o=Math.imul(z,se),n=n+Math.imul(N,fe)|0,i=(i=i+Math.imul(N,ue)|0)+Math.imul(j,fe)|0,o=o+Math.imul(j,ue)|0,n=n+Math.imul(T,he)|0,i=(i=i+Math.imul(T,de)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,de)|0;var Ce=(u+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,be)|0)+Math.imul(P,pe)|0))<<13)|0;u=((o=o+Math.imul(P,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,fe),i=(i=Math.imul(D,ue))+Math.imul(z,fe)|0,o=Math.imul(z,ue),n=n+Math.imul(N,he)|0,i=(i=i+Math.imul(N,de)|0)+Math.imul(j,he)|0,o=o+Math.imul(j,de)|0;var Te=(u+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,be)|0)+Math.imul(R,pe)|0))<<13)|0;u=((o=o+Math.imul(R,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,he),i=(i=Math.imul(D,de))+Math.imul(z,he)|0,o=Math.imul(z,de);var Re=(u+(n=n+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,be)|0)+Math.imul(j,pe)|0))<<13)|0;u=((o=o+Math.imul(j,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Le=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,be))+Math.imul(z,pe)|0))<<13)|0;return u=((o=Math.imul(z,be))+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863,f[0]=me,f[1]=ye,f[2]=ge,f[3]=ve,f[4]=we,f[5]=_e,f[6]=Se,f[7]=Ae,f[8]=Ee,f[9]=ke,f[10]=Me,f[11]=xe,f[12]=Ie,f[13]=Be,f[14]=Pe,f[15]=Ce,f[16]=Te,f[17]=Re,f[18]=Le,0!==u&&(f[19]=u,r.length++),r};function p(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(l=d),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?l(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,f=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=f;u++){var c=o-u,h=(0|e.words[c])*(0|t.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,f=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=f,d=u,l=0;l<s;l++){var p=r[c+l],b=n[c+l],m=r[c+l+s],y=n[c+l+s],g=h*m-d*y;y=h*y+d*m,m=g,r[c+l]=p+m,n[c+l]=b+y,r[c+l+s]=p-m,n[c+l+s]=b-y,l!==a&&(g=f*h-u*d,d=f*d+u*h,h=g)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),f=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,f,n,i),this.transform(u,o,c,h,n,i);for(var l=0;l<n;l++){var p=a[l]*c[l]-f[l]*h[l];f[l]=a[l]*h[l]+f[l]*c[l],a[l]=p}return this.conjugate(a,f,n),this.transform(a,f,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,f=(0|this.words[t])-a<<r;this.words[t]=f|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,f=r;if(i-=s,i=Math.max(0,i),f){for(var u=0;u<s;u++)f.words[u]=this.words[u];f.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var h=0|this.words[u];this.words[u]=c<<26-o|h>>>o,c=h&a}return f&&0!==c&&(f.words[f.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var f=(0|e.words[i])*t;a=((o-=67108863&f)>>26)-(f/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,f=n.length-i.length;if("mod"!==t){(a=new o(null)).length=f+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=n.clone()._ishlnsubmul(i,1,f);0===c.negative&&(n=c,a&&(a.words[f]=1));for(var h=f-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),f=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),h=t.clone();!t.isZero();){for(var d=0,l=1;0==(t.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||f.isOdd())&&(a.iadd(c),f.isub(h)),a.iushrn(1),f.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(f)):(r.isub(t),a.isub(i),f.isub(s))}return{a:a,b:f,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),f=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(f),s.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(f),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(g,y),g.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,y),i(w,y),i(_,y),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new v;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),f=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,u).cmp(f);)c.redIAdd(f);for(var h=this.pow(c,i),d=this.pow(e,i.addn(1).iushrn(1)),l=this.pow(e,i),p=s;0!==l.cmp(a);){for(var b=l,m=0;0!==b.cmp(a);m++)b=b.redSqr();n(m<p);var y=this.pow(h,new o(1).iushln(p-m-1));d=d.redMul(y),h=y.redSqr(),l=l.redMul(h),p=m}return d},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,f=t.bitLength()%26;for(0===f&&(f=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],c=f-1;c>=0;c--){var h=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===c)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}f=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,S),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)},{buffer:8}],7:[function(e,t,r){var n=e("../../utils").randomBytes;t.exports=function(e){return n(e)}},{"../../utils":63}],8:[function(e,t,r){},{}],9:[function(e,t,r){"use strict";var n=r;n.version=e("../package.json").version,n.utils=e("./elliptic/utils"),n.rand=e("brorand"),n.hmacDRBG=e("./elliptic/hmac-drbg"),n.curve=e("./elliptic/curve"),n.curves=e("./elliptic/curves"),n.ec=e("./elliptic/ec"),n.eddsa=e("./elliptic/eddsa")},{"../package.json":23,"./elliptic/curve":12,"./elliptic/curves":15,"./elliptic/ec":16,"./elliptic/eddsa":19,"./elliptic/hmac-drbg":20,"./elliptic/utils":22,brorand:7}],10:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils,o=i.getNAF,s=i.getJSF,a=i.assert;function f(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}t.exports=f,f.prototype.point=function(){throw new Error("Not implemented")},f.prototype.validate=function(){throw new Error("Not implemented")},f.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=o(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],f=0;f<n.length;f+=r.step){var u=0;for(t=f+r.step-1;t>=f;t--)u=(u<<1)+n[t];s.push(u)}for(var c=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=i;d>0;d--){for(f=0;f<s.length;f++){(u=s[f])===d?h=h.mixedAdd(r.points[f]):u===-d&&(h=h.mixedAdd(r.points[f].neg()))}c=c.add(h)}return c.toP()},f.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(t,r),f=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(t=0;u>=0&&0===s[u];u--)t++;if(u>=0&&t++,f=f.dblp(t),u<0)break;var c=s[u];a(0!==c),f="affine"===e.type?c>0?f.mixedAdd(i[c-1>>1]):f.mixedAdd(i[-c-1>>1].neg()):c>0?f.add(i[c-1>>1]):f.add(i[-c-1>>1].neg())}return"affine"===e.type?f.toP():f},f.prototype._wnafMulAdd=function(e,t,r,n,i){for(var a=this._wnafT1,f=this._wnafT2,u=this._wnafT3,c=0,h=0;h<n;h++){var d=(k=t[h])._getNAFPoints(e);a[h]=d.wnd,f[h]=d.points}for(h=n-1;h>=1;h-=2){var l=h-1,p=h;if(1===a[l]&&1===a[p]){var b=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(b[1]=t[l].add(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].add(t[p].neg())):(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=s(r[l],r[p]);c=Math.max(y[0].length,c),u[l]=new Array(c),u[p]=new Array(c);for(var g=0;g<c;g++){var v=0|y[0][g],w=0|y[1][g];u[l][g]=m[3*(v+1)+(w+1)],u[p][g]=0,f[l]=b}}else u[l]=o(r[l],a[l]),u[p]=o(r[p],a[p]),c=Math.max(u[l].length,c),c=Math.max(u[p].length,c)}var _=this.jpoint(null,null,null),S=this._wnafT4;for(h=c;h>=0;h--){for(var A=0;h>=0;){var E=!0;for(g=0;g<n;g++)S[g]=0|u[g][h],0!==S[g]&&(E=!1);if(!E)break;A++,h--}if(h>=0&&A++,_=_.dblp(A),h<0)break;for(g=0;g<n;g++){var k,M=S[g];0!==M&&(M>0?k=f[g][M-1>>1]:M<0&&(k=f[g][-M-1>>1].neg()),_="affine"===k.type?_.mixedAdd(k):_.add(k))}}for(h=0;h<n;h++)f[h]=null;return i?_:_.toP()},f.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},f.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},{"../../elliptic":9,"bn.js":6}],11:[function(e,t,r){t.exports={}},{}],12:[function(e,t,r){"use strict";var n=r;n.base=e("./base"),n.short=e("./short"),n.mont=e("./mont"),n.edwards=e("./edwards")},{"./base":10,"./edwards":11,"./mont":13,"./short":14}],13:[function(e,t,r){arguments[4][11][0].apply(r,arguments)},{dup:11}],14:[function(e,t,r){"use strict";var n=e("../curve"),i=e("../../elliptic"),o=e("bn.js"),s=e("inherits"),a=n.base,f=i.utils.assert;function u(e){a.call(this,"short",e),this.a=new o(e.a,16).toRed(this.red),this.b=new o(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(t,16),this.y=new o(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(t,16),this.y=new o(r,16),this.z=new o(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(u,a),t.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new o(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new o(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],f(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map(function(e){return{a:new o(e.a,16),b:new o(e.b,16)}}):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:o.mont(e),r=new o(2).toRed(t).redInvm(),n=r.redNeg(),i=new o(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,a,f,u,c,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,l=this.n.clone(),p=new o(1),b=new o(0),m=new o(0),y=new o(1),g=0;0!==d.cmpn(0);){var v=l.div(d);u=l.sub(v.mul(d)),c=m.sub(v.mul(p));var w=y.sub(v.mul(b));if(!n&&u.cmp(h)<0)t=f.neg(),r=p,n=u.neg(),i=c;else if(n&&2==++g)break;f=u,l=d,d=u,m=p,p=c,y=b,b=w}s=u.neg(),a=c;var _=n.sqr().add(i.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:i},{a:s,b:a}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),f=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:f.add(u).neg()}},u.prototype.pointFromX=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],f=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),f=f.neg(!0)),n[2*o]=a,n[2*o+1]=f,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return u},s(c,a.BasePoint),u.prototype.point=function(e,t,r){return new c(this,e,t,r)},u.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new o(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},c.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(h,a.BasePoint),u.prototype.jpoint=function(e,t,r){return new h(this,e,t,r)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),f=o.redSub(s);if(0===a.cmpn(0))return 0!==f.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),d=f.redSqr().redIAdd(c).redISub(h).redISub(h),l=f.redMul(h.redISub(d)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,l,p)},h.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),u=f.redMul(s),c=r.redMul(f),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),d=a.redMul(c.redISub(h)).redISub(i.redMul(u)),l=this.z.redMul(s);return this.curve.jpoint(h,d,l)},h.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,f=a.redSqr().redSqr(),u=s.redAdd(s);for(r=0;r<e;r++){var c=o.redSqr(),h=u.redSqr(),d=h.redSqr(),l=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(f)),p=o.redMul(h),b=l.redSqr().redISub(p.redAdd(p)),m=p.redISub(b),y=l.redMul(m);y=y.redIAdd(y).redISub(d);var g=u.redMul(a);r+1<e&&(f=f.redMul(d)),o=b,a=g,u=y}return this.curve.jpoint(o,u.redMul(i),a)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),f=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=f,t=a.redMul(s.redISub(f)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),l=this.x.redAdd(h).redSqr().redISub(c).redISub(d);l=l.redIAdd(l);var p=c.redAdd(c).redIAdd(c),b=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},h.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),f=a.redSqr().redISub(s).redISub(s);e=f;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(f)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),l=this.x.redSub(c).redMul(this.x.redAdd(c));l=l.redAdd(l).redIAdd(l);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=l.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},h.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),f=t.redAdd(t),u=(f=f.redIAdd(f)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,l,p)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),f=n.redIAdd(n);f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(f),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(u.redMul(f.redISub(u)).redISub(s.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,l)},h.prototype.mul=function(e,t){return e=new o(e,t),this.curve._wnafMul(this,e)},h.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},h.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}return!1},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":9,"../curve":12,"bn.js":6,inherits:37}],15:[function(e,t,r){"use strict";var n,i=r,o=e("hash.js"),s=e("../elliptic"),a=s.utils.assert;function f(e){"short"===e.type?this.curve=new s.curve.short(e):"edwards"===e.type?this.curve=new s.curve.edwards(e):this.curve=new s.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new f(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=f,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=e("./precomputed/secp256k1")}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"../elliptic":9,"./precomputed/secp256k1":21,"hash.js":24}],16:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic"),o=i.utils.assert,s=e("./key"),a=e("./signature");function f(e){if(!(this instanceof f))return new f(e);"string"==typeof e&&(o(i.curves.hasOwnProperty(e),"Unknown curve "+e),e=i.curves[e]),e instanceof i.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}t.exports=f,f.prototype.keyPair=function(e){return new s(this,e)},f.prototype.keyFromPrivate=function(e,t){return s.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return s.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new i.hmacDRBG({hash:this.hash,pers:e.pers,entropy:e.entropy||i.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},f.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),f=t.getPrivate().toArray("be",s),u=e.toArray("be",s),c=new i.hmacDRBG({hash:this.hash,entropy:f,nonce:u,pers:o.pers,persEnc:o.persEnc}),h=this.n.sub(new n(1)),d=0;;d++){var l=o.k?o.k(d):new n(c.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(h)>=0)){var p=this.g.mul(l);if(!p.isInfinity()){var b=p.getX(),m=b.umod(this.n);if(0!==m.cmpn(0)){var y=l.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(y=y.umod(this.n)).cmpn(0)){var g=(p.getY().isOdd()?1:0)|(0!==b.cmp(m)?2:0);return o.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),g^=1),new a({r:m,s:y,recoveryParam:g})}}}}}},f.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new a(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var f,u=s.invm(this.n),c=u.mul(e).umod(this.n),h=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(f=this.g.jmulAdd(c,r.getPublic(),h)).isInfinity()&&f.eqXToP(o):!(f=this.g.mulAdd(c,r.getPublic(),h)).isInfinity()&&0===f.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(e,t,r,i){o((3&r)===r,"The recovery param is more than two bits"),t=new a(t,i);var s=this.n,f=new n(e),u=t.r,c=t.s,h=1&r,d=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");u=d?this.curve.pointFromX(u.add(this.curve.n),h):this.curve.pointFromX(u,h);var l=t.r.invm(s),p=s.sub(f).mul(l).umod(s),b=c.mul(l).umod(s);return this.g.mulAdd(p,u,b)},f.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new a(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},{"../../elliptic":9,"./key":17,"./signature":18,"bn.js":6}],17:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils.assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}t.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../../elliptic":9,"bn.js":6}],18:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils,o=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s];return t.place=s,i}function f(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}t.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new function(){this.place=0};if(48!==e[r.place++])return!1;if(a(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=a(e,r),s=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var f=a(e,r);if(e.length!==f+r.place)return!1;var u=e.slice(r.place,f+r.place);return 0===s[0]&&128&s[1]&&(s=s.slice(1)),0===u[0]&&128&u[1]&&(u=u.slice(1)),this.r=new n(s),this.s=new n(u),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=f(t),r=f(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];u(n,t.length),(n=n.concat(t)).push(2),u(n,r.length);var o=n.concat(r),s=[48];return u(s,o.length),s=s.concat(o),i.encode(s,e)}},{"../../elliptic":9,"bn.js":6}],19:[function(e,t,r){arguments[4][11][0].apply(r,arguments)},{dup:11}],20:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("../elliptic").utils,o=i.assert;function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this.reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc),r=i.toArray(e.nonce,e.nonceEnc),n=i.toArray(e.pers,e.persEnc);o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}t.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this.reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toBuffer(e,t),r=i.toBuffer(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this.reseed=1},s.prototype.generate=function(e,t,r,n){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this.reseed++,i.encode(s,t)}},{"../elliptic":9,"hash.js":24}],21:[function(e,t,r){t.exports=void 0},{}],22:[function(e,t,r){"use strict";var n=r,i=e("bn.js");function o(e){return 1===e.length?"0"+e:e}function s(e){for(var t="",r=0;r<e.length;r++)t+=o(e[r].toString(16));return t}n.assert=function(e,t){if(!e)throw new Error(t||"Assertion failed")},n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},n.zero2=o,n.toHex=s,n.encode=function(e,t){return"hex"===t?s(e):e},n.getNAF=function(e,t){for(var r=[],n=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var s=i.andln(n-1);o=s>(n>>1)-1?(n>>1)-s:s,i.isubn(o)}else o=0;r.push(o);for(var a=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,f=1;f<a;f++)r.push(0);i.iushrn(a)}return r},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o,s,a,f=e.andln(3)+n&3,u=t.andln(3)+i&3;3===f&&(f=-1),3===u&&(u=-1),o=0==(1&f)?0:3!=(a=e.andln(7)+n&7)&&5!==a||2!==u?f:-f,r[0].push(o),s=0==(1&u)?0:3!=(a=t.andln(7)+i&7)&&5!==a||2!==f?u:-u,r[1].push(s),2*n===o+1&&(n=1-n),2*i===s+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},{"bn.js":6}],23:[function(e,t,r){t.exports={version:"6.3.3"}},{}],24:[function(e,t,r){var n=r;n.utils=e("./hash/utils"),n.common=e("./hash/common"),n.sha=e("./hash/sha"),n.ripemd=e("./hash/ripemd"),n.hmac=e("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":25,"./hash/hmac":26,"./hash/ripemd":27,"./hash/sha":28,"./hash/utils":35}],25:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},{"./utils":35,"minimalistic-assert":39}],26:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}t.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":35,"minimalistic-assert":39}],27:[function(e,t,r){t.exports={ripemd160:null}},{}],28:[function(e,t,r){"use strict";r.sha1=e("./sha/1"),r.sha224=e("./sha/224"),r.sha256=e("./sha/256"),r.sha384=e("./sha/384"),r.sha512=e("./sha/512")},{"./sha/1":29,"./sha/224":30,"./sha/256":31,"./sha/384":32,"./sha/512":33}],29:[function(e,t,r){arguments[4][11][0].apply(r,arguments)},{dup:11}],30:[function(e,t,r){arguments[4][11][0].apply(r,arguments)},{dup:11}],31:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),o=e("./common"),s=e("minimalistic-assert"),a=n.sum32,f=n.sum32_4,u=n.sum32_5,c=o.ch32,h=o.maj32,d=o.s0_256,l=o.s1_256,p=o.g0_256,b=o.g1_256,m=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(g,m),t.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=f(b(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],y=this.h[3],g=this.h[4],v=this.h[5],w=this.h[6],_=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var S=u(_,l(g),c(g,v,w),this.k[n],r[n]),A=a(d(i),h(i,o,m));_=w,w=v,v=g,g=a(y,S),y=m,m=o,o=i,i=a(S,A)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],g),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},g.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":25,"../utils":35,"./common":34,"minimalistic-assert":39}],32:[function(e,t,r){arguments[4][11][0].apply(r,arguments)},{dup:11}],33:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),o=e("minimalistic-assert"),s=n.rotr64_hi,a=n.rotr64_lo,f=n.shr64_hi,u=n.shr64_lo,c=n.sum64,h=n.sum64_hi,d=n.sum64_lo,l=n.sum64_4_hi,p=n.sum64_4_lo,b=n.sum64_5_hi,m=n.sum64_5_lo,y=i.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function w(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function S(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function A(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function E(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function M(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function x(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function I(e,t){var r=s(e,t,1)^s(e,t,8)^f(e,t,7);return r<0&&(r+=4294967296),r}function B(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=s(e,t,19)^s(t,e,29)^f(e,t,6);return r<0&&(r+=4294967296),r}function C(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(v,y),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=P(r[n-4],r[n-3]),o=C(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],f=I(r[n-30],r[n-29]),u=B(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=l(i,o,s,a,f,u,c,h),r[n+1]=p(i,o,s,a,f,u,c,h)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],f=this.h[4],u=this.h[5],l=this.h[6],p=this.h[7],y=this.h[8],g=this.h[9],v=this.h[10],I=this.h[11],B=this.h[12],P=this.h[13],C=this.h[14],T=this.h[15];o(this.k.length===r.length);for(var R=0;R<r.length;R+=2){var L=C,N=T,j=M(y,g),O=x(y,g),D=w(y,g,v,I,B),z=_(y,g,v,I,B,P),F=this.k[R],U=this.k[R+1],q=r[R],H=r[R+1],K=b(L,N,j,O,D,z,F,U,q,H),V=m(L,N,j,O,D,z,F,U,q,H);L=E(n,i),N=k(n,i),j=S(n,i,s,a,f),O=A(n,i,s,a,f,u);var Y=h(L,N,j,O),G=d(L,N,j,O);C=B,T=P,B=v,P=I,v=y,I=g,y=h(l,p,K,V),g=d(p,p,K,V),l=f,p=u,f=s,u=a,s=n,a=i,n=h(K,V,Y,G),i=d(K,V,Y,G)}c(this.h,0,n,i),c(this.h,2,s,a),c(this.h,4,f,u),c(this.h,6,l,p),c(this.h,8,y,g),c(this.h,10,v,I),c(this.h,12,B,P),c(this.h,14,C,T)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":25,"../utils":35,"minimalistic-assert":39}],34:[function(e,t,r){"use strict";var n=e("../utils").rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}r.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},r.ch32=i,r.maj32=o,r.p32=s,r.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},r.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},r.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},r.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},{"../utils":35}],35:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits");function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function a(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}r.inherits=i,r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r].toString(16));return t},r.htonl=o,r.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=o(i)),r+=a(i.toString(16))}return r},r.zero2=s,r.zero8=a,r.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var s=new Array(o/4),a=0,f=t;a<s.length;a++,f+=4){var u;u="big"===i?e[f]<<24|e[f+1]<<16|e[f+2]<<8|e[f+3]:e[f+3]<<24|e[f+2]<<16|e[f+1]<<8|e[f],s[a]=u>>>0}return s},r.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},r.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},r.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},r.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},r.sum64_lo=function(e,t,r,n){return t+n>>>0},r.sum64_4_hi=function(e,t,r,n,i,o,s,a){var f=0,u=t;return f+=(u=u+n>>>0)<t?1:0,f+=(u=u+o>>>0)<o?1:0,e+r+i+s+(f+=(u=u+a>>>0)<a?1:0)>>>0},r.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},r.sum64_5_hi=function(e,t,r,n,i,o,s,a,f,u){var c=0,h=t;return c+=(h=h+n>>>0)<t?1:0,c+=(h=h+o>>>0)<o?1:0,c+=(h=h+a>>>0)<a?1:0,e+r+i+s+f+(c+=(h=h+u>>>0)<u?1:0)>>>0},r.sum64_5_lo=function(e,t,r,n,i,o,s,a,f,u){return t+n+o+a+u>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},{inherits:36,"minimalistic-assert":39}],36:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],37:[function(e,t,r){arguments[4][36][0].apply(r,arguments)},{dup:36}],38:[function(e,t,r){(function(e,r){!function(){"use strict";var n="object"==typeof window?window:{};!n.JS_SHA3_NO_NODE_JS&&"object"==typeof e&&e.versions&&e.versions.node&&(n=r);for(var i=!n.JS_SHA3_NO_COMMON_JS&&"object"==typeof t&&t.exports,o="0123456789abcdef".split(""),s=[0,8,16,24],a=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],u=["hex","buffer","arrayBuffer","array"],c=function(e,t,r){return function(n){return new _(e,t,e).update(n)[r]()}},h=function(e,t,r){return function(n,i){return new _(e,t,i).update(n)[r]()}},d=function(e,t){var r=c(e,t,"hex");r.create=function(){return new _(e,t,e)},r.update=function(e){return r.create().update(e)};for(var n=0;n<u.length;++n){var i=u[n];r[i]=c(e,t,i)}return r},l=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:d},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:d},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(e,t){var r=h(e,t,"hex");r.create=function(r){return new _(e,t,r)},r.update=function(e,t){return r.create(t).update(e)};for(var n=0;n<u.length;++n){var i=u[n];r[i]=h(e,t,i)}return r}}],p={},b=[],m=0;m<l.length;++m)for(var y=l[m],g=y.bits,v=0;v<g.length;++v){var w=y.name+"_"+g[v];b.push(w),p[w]=y.createMethod(g[v],y.padding)}function _(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}_.prototype.update=function(e){var t="string"!=typeof e;t&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e));for(var r,n,i=e.length,o=this.blocks,a=this.byteCount,f=this.blockCount,u=0,c=this.s;u<i;){if(this.reset)for(this.reset=!1,o[0]=this.block,r=1;r<f+1;++r)o[r]=0;if(t)for(r=this.start;u<i&&r<a;++u)o[r>>2]|=e[u]<<s[3&r++];else for(r=this.start;u<i&&r<a;++u)(n=e.charCodeAt(u))<128?o[r>>2]|=n<<s[3&r++]:n<2048?(o[r>>2]|=(192|n>>6)<<s[3&r++],o[r>>2]|=(128|63&n)<<s[3&r++]):n<55296||n>=57344?(o[r>>2]|=(224|n>>12)<<s[3&r++],o[r>>2]|=(128|n>>6&63)<<s[3&r++],o[r>>2]|=(128|63&n)<<s[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++u)),o[r>>2]|=(240|n>>18)<<s[3&r++],o[r>>2]|=(128|n>>12&63)<<s[3&r++],o[r>>2]|=(128|n>>6&63)<<s[3&r++],o[r>>2]|=(128|63&n)<<s[3&r++]);if(this.lastByteIndex=r,r>=a){for(this.start=r-a,this.block=o[f],r=0;r<f;++r)c[r]^=o[r];S(c),this.reset=!0}else this.start=r}return this},_.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];S(n)},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,a=0,f="";a<n;){for(s=0;s<t&&a<n;++s,++a)e=r[s],f+=o[e>>4&15]+o[15&e]+o[e>>12&15]+o[e>>8&15]+o[e>>20&15]+o[e>>16&15]+o[e>>28&15]+o[e>>24&15];a%t==0&&(S(r),s=0)}return i&&(e=r[s],i>0&&(f+=o[e>>4&15]+o[15&e]),i>1&&(f+=o[e>>12&15]+o[e>>8&15]),i>2&&(f+=o[e>>20&15]+o[e>>16&15])),f},_.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var f=new Uint32Array(e);s<n;){for(o=0;o<t&&s<n;++o,++s)f[s]=r[o];s%t==0&&S(r)}return i&&(f[o]=r[o],e=e.slice(0,a)),e},_.prototype.buffer=_.prototype.arrayBuffer,_.prototype.digest=_.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,f=[];a<i;){for(s=0;s<r&&a<i;++s,++a)e=a<<2,t=n[s],f[e]=255&t,f[e+1]=t>>8&255,f[e+2]=t>>16&255,f[e+3]=t>>24&255;a%r==0&&S(n)}return o&&(e=a<<2,t=n[s],o>0&&(f[e]=255&t),o>1&&(f[e+1]=t>>8&255),o>2&&(f[e+2]=t>>16&255)),f};var S=function(e){var t,r,n,i,o,s,f,u,c,h,d,l,p,b,m,y,g,v,w,_,S,A,E,k,M,x,I,B,P,C,T,R,L,N,j,O,D,z,F,U,q,H,K,V,Y,G,W,J,Z,X,$,Q,ee,te,re,ne,ie,oe,se,ae,fe,ue,ce;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],f=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],t=(l=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|f>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(f<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|c>>>31),r=o^(c<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(h<<1|d>>>31),r=f^(d<<1|h>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(l<<1|p>>>31),r=c^(p<<1|l>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=h^(i<<1|o>>>31),r=d^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,b=e[0],m=e[1],G=e[11]<<4|e[10]>>>28,W=e[10]<<4|e[11]>>>28,B=e[20]<<3|e[21]>>>29,P=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,fe=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,K=e[41]<<18|e[40]>>>14,N=e[2]<<1|e[3]>>>31,j=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,C=e[33]<<13|e[32]>>>19,T=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,ce=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,O=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,$=e[35]<<15|e[34]>>>17,R=e[45]<<29|e[44]>>>3,L=e[44]<<29|e[45]>>>3,k=e[6]<<28|e[7]>>>4,M=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,z=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,S=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,V=e[8]<<27|e[9]>>>5,Y=e[9]<<27|e[8]>>>5,x=e[18]<<20|e[19]>>>12,I=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,A=e[48]<<14|e[49]>>>18,E=e[49]<<14|e[48]>>>18,e[0]=b^~y&v,e[1]=m^~g&w,e[10]=k^~x&B,e[11]=M^~I&P,e[20]=N^~O&z,e[21]=j^~D&F,e[30]=V^~G&J,e[31]=Y^~W&Z,e[40]=te^~ne&oe,e[41]=re^~ie&se,e[2]=y^~v&_,e[3]=g^~w&S,e[12]=x^~B&C,e[13]=I^~P&T,e[22]=O^~z&U,e[23]=D^~F&q,e[32]=G^~J&X,e[33]=W^~Z&$,e[42]=ne^~oe&ae,e[43]=ie^~se&fe,e[4]=v^~_&A,e[5]=w^~S&E,e[14]=B^~C&R,e[15]=P^~T&L,e[24]=z^~U&H,e[25]=F^~q&K,e[34]=J^~X&Q,e[35]=Z^~$&ee,e[44]=oe^~ae&ue,e[45]=se^~fe&ce,e[6]=_^~A&b,e[7]=S^~E&m,e[16]=C^~R&k,e[17]=T^~L&M,e[26]=U^~H&N,e[27]=q^~K&j,e[36]=X^~Q&V,e[37]=$^~ee&Y,e[46]=ae^~ue&te,e[47]=fe^~ce&re,e[8]=A^~b&y,e[9]=E^~m&g,e[18]=R^~k&x,e[19]=L^~M&I,e[28]=H^~N&O,e[29]=K^~j&D,e[38]=Q^~V&G,e[39]=ee^~Y&W,e[48]=ue^~te&ne,e[49]=ce^~re&ie,e[0]^=a[n],e[1]^=a[n+1]};if(i)t.exports=p;else for(m=0;m<b.length;++m)n[b[m]]=p[b[m]]}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:40}],39:[function(e,t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}t.exports=n,n.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},{}],40:[function(e,t,r){arguments[4][21][0].apply(r,arguments)},{dup:21}],41:[function(e,t,r){"use strict";!function(e){var n=2147483647;function i(e){var t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=1779033703,n=3144134277,i=1013904242,o=2773480762,s=1359893119,a=2600822924,f=528734635,u=1541459225,c=new Array(64);function h(e){for(var h=0,d=e.length;d>=64;){var l,p,b,m,y,g=r,v=n,w=i,_=o,S=s,A=a,E=f,k=u;for(p=0;p<16;p++)b=h+4*p,c[p]=(255&e[b])<<24|(255&e[b+1])<<16|(255&e[b+2])<<8|255&e[b+3];for(p=16;p<64;p++)m=((l=c[p-2])>>>17|l<<15)^(l>>>19|l<<13)^l>>>10,y=((l=c[p-15])>>>7|l<<25)^(l>>>18|l<<14)^l>>>3,c[p]=(m+c[p-7]|0)+(y+c[p-16]|0)|0;for(p=0;p<64;p++)m=(((S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7))+(S&A^~S&E)|0)+(k+(t[p]+c[p]|0)|0)|0,y=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&v^g&w^v&w)|0,k=E,E=A,A=S,S=_+m|0,_=w,w=v,v=g,g=m+y|0;r=r+g|0,n=n+v|0,i=i+w|0,o=o+_|0,s=s+S|0,a=a+A|0,f=f+E|0,u=u+k|0,h+=64,d-=64}}h(e);var d,l=e.length%64,p=e.length/536870912|0,b=e.length<<3,m=l<56?56:120,y=e.slice(e.length-l,e.length);for(y.push(128),d=l+1;d<m;d++)y.push(0);return y.push(p>>>24&255),y.push(p>>>16&255),y.push(p>>>8&255),y.push(p>>>0&255),y.push(b>>>24&255),y.push(b>>>16&255),y.push(b>>>8&255),y.push(b>>>0&255),h(y),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,f>>>24&255,f>>>16&255,f>>>8&255,f>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255]}function o(e,t,r){var n;e=e.length<=64?e:i(e);var o=64+t.length+4,s=new Array(o),a=new Array(64),f=[];for(n=0;n<64;n++)s[n]=54;for(n=0;n<e.length;n++)s[n]^=e[n];for(n=0;n<t.length;n++)s[64+n]=t[n];for(n=o-4;n<o;n++)s[n]=0;for(n=0;n<64;n++)a[n]=92;for(n=0;n<e.length;n++)a[n]^=e[n];function u(){for(var e=o-1;e>=o-4;e--){if(s[e]++,s[e]<=255)return;s[e]=0}}for(;r>=32;)u(),f=f.concat(i(a.concat(i(s)))),r-=32;return r>0&&(u(),f=f.concat(i(a.concat(i(s))).slice(0,r))),f}function s(e,t,r,n,i){var o;for(c(e,16*(2*r-1),i,0,16),o=0;o<2*r;o++)u(e,16*o,i,16),f(i,n),c(i,0,e,t+16*o,16);for(o=0;o<r;o++)c(e,t+2*o*16,e,16*o,16);for(o=0;o<r;o++)c(e,t+16*(2*o+1),e,16*(o+r),16)}function a(e,t){return e<<t|e>>>32-t}function f(e,t){c(e,0,t,0,16);for(var r=8;r>0;r-=2)t[4]^=a(t[0]+t[12],7),t[8]^=a(t[4]+t[0],9),t[12]^=a(t[8]+t[4],13),t[0]^=a(t[12]+t[8],18),t[9]^=a(t[5]+t[1],7),t[13]^=a(t[9]+t[5],9),t[1]^=a(t[13]+t[9],13),t[5]^=a(t[1]+t[13],18),t[14]^=a(t[10]+t[6],7),t[2]^=a(t[14]+t[10],9),t[6]^=a(t[2]+t[14],13),t[10]^=a(t[6]+t[2],18),t[3]^=a(t[15]+t[11],7),t[7]^=a(t[3]+t[15],9),t[11]^=a(t[7]+t[3],13),t[15]^=a(t[11]+t[7],18),t[1]^=a(t[0]+t[3],7),t[2]^=a(t[1]+t[0],9),t[3]^=a(t[2]+t[1],13),t[0]^=a(t[3]+t[2],18),t[6]^=a(t[5]+t[4],7),t[7]^=a(t[6]+t[5],9),t[4]^=a(t[7]+t[6],13),t[5]^=a(t[4]+t[7],18),t[11]^=a(t[10]+t[9],7),t[8]^=a(t[11]+t[10],9),t[9]^=a(t[8]+t[11],13),t[10]^=a(t[9]+t[8],18),t[12]^=a(t[15]+t[14],7),t[13]^=a(t[12]+t[15],9),t[14]^=a(t[13]+t[12],13),t[15]^=a(t[14]+t[13],18);for(r=0;r<16;++r)e[r]+=t[r]}function u(e,t,r,n){for(var i=0;i<n;i++)r[i]^=e[t+i]}function c(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function h(e){if(!e||"number"!=typeof e.length)return!1;for(var t=0;t<e.length;t++){if("number"!=typeof e[t])return!1;var r=parseInt(e[t]);if(r!=e[t]||r<0||r>=256)return!1}return!0}function d(e,t){var r=parseInt(e);if(e!=r)throw new Error("invalid "+t);return r}function l(e,t,r,i,a,f,l){if(!l)throw new Error("missing callback");if(r=d(r,"N"),i=d(i,"r"),a=d(a,"p"),f=d(f,"dkLen"),0===r||0!=(r&r-1))throw new Error("N must be power of 2");if(r>n/128/i)throw new Error("N too large");if(i>n/128/a)throw new Error("r too large");if(!h(e))throw new Error("password must be an array or buffer");if(!h(t))throw new Error("salt must be an array or buffer");for(var p=o(e,t,128*a*i),b=new Uint32Array(32*a*i),m=0;m<b.length;m++){var y=4*m;b[m]=(255&p[y+3])<<24|(255&p[y+2])<<16|(255&p[y+1])<<8|(255&p[y+0])<<0}var g,v,w=new Uint32Array(64*i),_=new Uint32Array(32*i*r),S=32*i,A=new Uint32Array(16),E=new Uint32Array(16),k=a*r*2,M=0,x=null,I=!1,B=0,P=0,C=parseInt(1e3/i),T="undefined"!=typeof setImmediate?setImmediate:setTimeout,R=function(){if(I)return l(new Error("cancelled"),M/k);switch(B){case 0:c(b,v=32*P*i,w,0,S),B=1,g=0;case 1:(n=r-g)>C&&(n=C);for(var t=0;t<n;t++)c(w,0,_,(g+t)*S,S),s(w,S,i,A,E);if(g+=n,M+=n,(h=parseInt(1e3*M/k))!==x){if(I=l(null,M/k))break;x=h}if(g<r)break;g=0,B=2;case 2:var n,h;(n=r-g)>C&&(n=C);for(t=0;t<n;t++){var d=w[16*(2*i-1)]&r-1;u(_,d*S,w,S),s(w,S,i,A,E)}if(g+=n,M+=n,(h=parseInt(1e3*M/k))!==x){if(I=l(null,M/k))break;x=h}if(g<r)break;if(c(w,0,b,v,S),++P<a){B=0;break}p=[];for(t=0;t<b.length;t++)p.push(b[t]>>0&255),p.push(b[t]>>8&255),p.push(b[t]>>16&255),p.push(b[t]>>24&255);var m=o(e,p,f);return l(null,1,m)}T(R)};R()}void 0!==r?t.exports=l:e&&(e.scrypt&&(e._scrypt=e.scrypt),e.scrypt=l)}(this)},{}],42:[function(e,t,r){(function(e,t){!function(t,r){"use strict";if(!t.setImmediate){var n,i,o,s,a,f=1,u={},c=!1,h=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?n=function(){var t=l(arguments);return e.nextTick(p(b,t)),t}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){b(e.data)},n=function(){var e=l(arguments);return o.port2.postMessage(e),e}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,n=function(){var e=l(arguments),t=h.createElement("script");return t.onreadystatechange=function(){b(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t),e}):n=function(){var e=l(arguments);return setTimeout(p(b,e),0),e}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&b(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),n=function(){var e=l(arguments);return t.postMessage(s+e,"*"),e}),d.setImmediate=n,d.clearImmediate=m}function l(e){return u[f]=p.apply(r,e),f++}function p(e){var t=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(r,t):new Function(""+e)()}}function b(e){if(c)setTimeout(p(b,e),0);else{var t=u[e];if(t){c=!0;try{t()}finally{m(e),c=!1}}}}function m(e){delete u[e]}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:40}],43:[function(e,t,r){(function(e){var r;if(e.crypto&&crypto.getRandomValues){var n=new Uint8Array(16);r=function(){return crypto.getRandomValues(n),n}}if(!r){var i=new Array(16);r=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t,r){for(var n=e("./rng"),i=[],o={},s=0;s<256;s++)i[s]=(s+256).toString(16).substr(1),o[i[s]]=s;function a(e,t){var r=t||0,n=i;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}var f=n(),u=[1|f[0],f[1],f[2],f[3],f[4],f[5]],c=16383&(f[6]<<8|f[7]),h=0,d=0;function l(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;s++)t[i+s]=o[s];return t||a(o)}var p=l;p.v1=function(e,t,r){var n=t&&r||0,i=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:c,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:d+1,l=s-h+(f-d)/1e4;if(l<0&&void 0===e.clockseq&&(o=o+1&16383),(l<0||s>h)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=s,d=f,c=o;var p=(1e4*(268435455&(s+=122192928e5))+f)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=255&p;var b=s/4294967296*1e4&268435455;i[n++]=b>>>8&255,i[n++]=255&b,i[n++]=b>>>24&15|16,i[n++]=b>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o;for(var m=e.node||u,y=0;y<6;y++)i[n+y]=m[y];return t||a(i)},p.v4=l,p.parse=function(e,t,r){var n=t&&r||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[n+i++]=o[e])});i<16;)t[n+i++]=0;return t},p.unparse=a,t.exports=p},{"./rng":43}],45:[function(e,t,r){t.exports={version:"3.0.6"}},{}],46:[function(e,t,r){"use strict";try{t.exports.XMLHttpRequest=XMLHttpRequest}catch(e){console.log("Warning: XMLHttpRequest is not defined"),t.exports.XMLHttpRequest=null}},{}],47:[function(e,t,r){"use strict";var n,i=e("./provider.js"),o=(n=e("../utils/convert.js"),{defineProperty:e("../utils/properties.js").defineProperty,hexlify:n.hexlify,hexStripZeros:n.hexStripZeros});function s(e){var t=[];for(var r in e)if(null!=e[r]){var n=o.hexlify(e[r]);({gasLimit:!0,gasPrice:!0,nonce:!0,value:!0})[r]&&(n=o.hexStripZeros(n)),t.push(r+"="+n)}return t.join("&")}function a(e,t){i.call(this,e);var r=null;switch(this.name){case"homestead":r="https://api.etherscan.io";break;case"ropsten":r="https://ropsten.etherscan.io";break;case"rinkeby":r="https://rinkeby.etherscan.io";break;case"kovan":r="https://kovan.etherscan.io";break;default:throw new Error("unsupported network")}o.defineProperty(this,"baseUrl",r),o.defineProperty(this,"apiKey",t||null)}function f(e){if(0==e.status&&"No records found"===e.message)return e.result;if(1!=e.status||"OK"!=e.message){var t=new Error("invalid response");throw t.result=JSON.stringify(e),t}return e.result}function u(e){if("2.0"!=e.jsonrpc)throw(t=new Error("invalid response")).result=JSON.stringify(e),t;if(e.error){var t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function c(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}i.inherits(a),o.defineProperty(a.prototype,"_call",function(){}),o.defineProperty(a.prototype,"_callProxy",function(){}),o.defineProperty(a.prototype,"perform",function(e,t){t||(t={});var r=this.baseUrl,n="";switch(this.apiKey&&(n+="&apikey="+this.apiKey),e){case"getBlockNumber":return r+="/api?module=proxy&action=eth_blockNumber"+n,i.fetchJSON(r,null,u);case"getGasPrice":return r+="/api?module=proxy&action=eth_gasPrice"+n,i.fetchJSON(r,null,u);case"getBalance":return r+="/api?module=account&action=balance&address="+t.address,r+="&tag="+t.blockTag+n,i.fetchJSON(r,null,f);case"getTransactionCount":return r+="/api?module=proxy&action=eth_getTransactionCount&address="+t.address,r+="&tag="+t.blockTag+n,i.fetchJSON(r,null,u);case"getCode":return r+="/api?module=proxy&action=eth_getCode&address="+t.address,r+="&tag="+t.blockTag+n,i.fetchJSON(r,null,u);case"getStorageAt":return r+="/api?module=proxy&action=eth_getStorageAt&address="+t.address,r+="&position="+t.position,r+="&tag="+t.blockTag+n,i.fetchJSON(r,null,u);case"sendTransaction":return r+="/api?module=proxy&action=eth_sendRawTransaction&hex="+t.signedTransaction,r+=n,i.fetchJSON(r,null,u);case"getBlock":if(t.blockTag)return r+="/api?module=proxy&action=eth_getBlockByNumber&tag="+t.blockTag,r+="&boolean=false",r+=n,i.fetchJSON(r,null,u);throw new Error("getBlock by blockHash not implmeneted");case"getTransaction":return r+="/api?module=proxy&action=eth_getTransactionByHash&txhash="+t.transactionHash,r+=n,i.fetchJSON(r,null,u);case"getTransactionReceipt":return r+="/api?module=proxy&action=eth_getTransactionReceipt&txhash="+t.transactionHash,r+=n,i.fetchJSON(r,null,u);case"call":return(o=s(t.transaction))&&(o="&"+o),r+="/api?module=proxy&action=eth_call"+o,r+=n,i.fetchJSON(r,null,u);case"estimateGas":var o;return(o=s(t.transaction))&&(o="&"+o),r+="/api?module=proxy&action=eth_estimateGas&"+o,r+=n,i.fetchJSON(r,null,u);case"getLogs":r+="/api?module=logs&action=getLogs";try{if(t.filter.fromBlock&&(r+="&fromBlock="+c(t.filter.fromBlock)),t.filter.toBlock&&(r+="&toBlock="+c(t.filter.toBlock)),t.filter.address&&(r+="&address="+t.filter.address),t.filter.topics&&t.filter.topics.length>0){if(t.filter.topics.length>1)throw new Error("unsupported topic format");var a=t.filter.topics[0];if("string"!=typeof a||66!==a.length)throw new Error("unsupported topic0 format");r+="&topic0="+a}}catch(e){return Promise.reject(e)}return r+=n,i.fetchJSON(r,null,f);case"getEtherPrice":return"homestead"!==this.name?Promise.resolve(0):(r+="/api?module=stats&action=ethprice",r+=n,i.fetchJSON(r,null,f).then(function(e){return parseFloat(e.ethusd)}))}return Promise.reject(new Error("not implemented - "+e))}),o.defineProperty(a.prototype,"getHistory",function(e,t,r){var n=this.baseUrl;return this.apiKey&&"&apikey="+this.apiKey,null==t&&(t=0),null==r&&(r=99999999),this.resolveName(e).then(function(e){return n+="/api?module=account&action=txlist&address="+e,n+="&startblock="+t,n+="&endblock="+r,n+="&sort=asc",i.fetchJSON(n,null,f).then(function(e){var t=[];return e.forEach(function(e){["contractAddress","to"].forEach(function(t){""==e[t]&&delete e[t]}),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress),t.push(i._formatters.checkTransactionResponse(e))}),t})})}),t.exports=a},{"../utils/convert.js":60,"../utils/properties.js":67,"./provider.js":53}],48:[function(e,t,r){"use strict";var n=e("inherits"),i=e("./provider.js"),o={defineProperty:e("../utils/properties.js").defineProperty};function s(e){if(0===e.length)throw new Error("no providers");var t={};if(["chainId","ensAddress","name","testnet"].forEach(function(r){for(var n=1;n<e.length;n++)if(e[0][r]!==e[n][r])throw new Error("incompatible providers - "+r+" mismatch");t[r]=e[0][r]}),!(this instanceof s))throw new Error("missing new");i.call(this,t),e=e.slice(0),Object.defineProperty(this,"providers",{get:function(){return e.slice(0)}})}n(s,i),o.defineProperty(s.prototype,"perform",function(e,t){var r=this.providers;return new Promise(function(n,i){var o=null;!function s(){r.length?r.shift().perform(e,t).then(function(e){n(e)},function(e){o||(o=e),s()}):i(o)}()})}),t.exports=s},{"../utils/properties.js":67,"./provider.js":53,inherits:37}],49:[function(e,t,r){"use strict";var n=e("./provider.js"),i=e("./etherscan-provider.js"),o=e("./fallback-provider.js"),s=e("./infura-provider.js"),a=e("./json-rpc-provider.js"),f=e("./web3-provider.js");t.exports={EtherscanProvider:i,FallbackProvider:o,InfuraProvider:s,JsonRpcProvider:a,Web3Provider:f,isProvider:n.isProvider,networks:n.networks,getDefaultProvider:function(e){return new o([new s(e),new i(e)])},Provider:n}},{"./etherscan-provider.js":47,"./fallback-provider.js":48,"./infura-provider.js":50,"./json-rpc-provider.js":51,"./provider.js":53,"./web3-provider.js":54}],50:[function(e,t,r){"use strict";var n=e("./provider"),i=e("./json-rpc-provider"),o={defineProperty:e("../utils/properties.js").defineProperty};function s(e,t){if(!(this instanceof s))throw new Error("missing new");var r=null;switch((e=n.getNetwork(e)).name){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;default:throw new Error("unsupported network")}var a="https://"+r+"/"+(t||"");i.call(this,a,e),o.defineProperty(this,"apiAccessToken",t||null)}i.inherits(s),o.defineProperty(s.prototype,"_startPending",function(){console.log("WARNING: INFURA does not support pending filters")}),o.defineProperty(s.prototype,"_stopPending",function(){}),t.exports=s},{"../utils/properties.js":67,"./json-rpc-provider":51,"./provider":53}],51:[function(e,t,r){"use strict";var n,i=e("./provider.js"),o=(n=e("../utils/convert"),{defineProperty:e("../utils/properties").defineProperty,hexlify:n.hexlify,isHexString:n.isHexString,hexStripZeros:n.hexStripZeros});function s(e){if(e.error){var t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function a(e){var t={};for(var r in e)t[r]=o.hexlify(e[r]);return["gasLimit","gasPrice","nonce","value"].forEach(function(e){t[e]&&(t[e]=o.hexStripZeros(t[e]))}),null!=t.gasLimit&&null==t.gas&&(t.gas=t.gasLimit,delete t.gasLimit),t}function f(e,t){if(!(this instanceof f))throw new Error("missing new");if(1==arguments.length)if("string"==typeof e)try{t=i.getNetwork(e),e=null}catch(e){}else t=e,e=null;i.call(this,t),e||(e="http://localhost:8545"),o.defineProperty(this,"url",e)}i.inherits(f),o.defineProperty(f.prototype,"send",function(e,t){var r={method:e,params:t,id:42,jsonrpc:"2.0"};return i.fetchJSON(this.url,JSON.stringify(r),s)}),o.defineProperty(f.prototype,"perform",function(e,t){switch(e){case"getBlockNumber":return this.send("eth_blockNumber",[]);case"getGasPrice":return this.send("eth_gasPrice",[]);case"getBalance":return this.send("eth_getBalance",[t.address,t.blockTag]);case"getTransactionCount":return this.send("eth_getTransactionCount",[t.address,t.blockTag]);case"getCode":return this.send("eth_getCode",[t.address,t.blockTag]);case"getStorageAt":return this.send("eth_getStorageAt",[t.address,t.position,t.blockTag]);case"sendTransaction":return this.send("eth_sendRawTransaction",[t.signedTransaction]);case"getBlock":return t.blockTag?this.send("eth_getBlockByNumber",[t.blockTag,!1]):t.blockHash?this.send("eth_getBlockByHash",[t.blockHash,!1]):Promise.reject(new Error("invalid block tag or block hash"));case"getTransaction":return this.send("eth_getTransactionByHash",[t.transactionHash]);case"getTransactionReceipt":return this.send("eth_getTransactionReceipt",[t.transactionHash]);case"call":return this.send("eth_call",[a(t.transaction),"latest"]);case"estimateGas":return this.send("eth_estimateGas",[a(t.transaction)]);case"getLogs":return this.send("eth_getLogs",[t.filter])}return Promise.reject(new Error("not implemented - "+e))}),o.defineProperty(f.prototype,"_startPending",function(){if(null==this._pendingFilter){var e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){return function n(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter==t){var n=Promise.resolve();return r.forEach(function(t){n=n.then(function(){return e.getTransaction(t).then(function(t){e.emit("pending",t)})})}),n.then(function(){return e=1e3,new Promise(function(t){setTimeout(function(){t()},e)});var e})}}).then(function(){e._pendingFilter==t?setTimeout(function(){n()},0):e.send("eth_uninstallFilter",[filterIf])})}(),r})}}),o.defineProperty(f.prototype,"_stopPending",function(){this._pendingFilter=null}),o.defineProperty(f,"_hexlifyTransaction",function(e){return a(e)}),t.exports=f},{"../utils/convert":60,"../utils/properties":67,"./provider.js":53}],52:[function(e,t,r){t.exports={unspecified:{chainId:0,name:"unspecified"},homestead:{chainId:1,ensAddress:"0x314159265dd8dbb310642f98f50c066173c1259b",name:"homestead"},mainnet:{chainId:1,ensAddress:"0x314159265dd8dbb310642f98f50c066173c1259b",name:"homestead"},morden:{chainId:2,name:"morden"},ropsten:{chainId:3,ensAddress:"0x112234455c3a32fd11230c42e7bccd4a84e02010",name:"ropsten"},testnet:{chainId:3,ensAddress:"0x112234455c3a32fd11230c42e7bccd4a84e02010",name:"ropsten"},rinkeby:{chainId:4,name:"rinkeby"},kovan:{chainId:42,name:"kovan"},classic:{chainId:61,name:"classic"}}},{}],53:[function(e,t,r){"use strict";var n,i=e("inherits"),o=e("xmlhttprequest").XMLHttpRequest,s=e("./networks.json"),a=(n=e("../utils/convert"),{defineProperty:e("../utils/properties").defineProperty,getAddress:e("../utils/address").getAddress,getContractAddress:e("../utils/contract-address").getContractAddress,bigNumberify:e("../utils/bignumber").bigNumberify,arrayify:n.arrayify,hexlify:n.hexlify,isHexString:n.isHexString,concat:n.concat,hexStripZeros:n.hexStripZeros,stripZeros:n.stripZeros,namehash:e("../utils/namehash"),toUtf8String:e("../utils/utf8").toUtf8String,RLP:e("../utils/rlp")});function f(e,t){var r={};for(var n in e)try{var i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r}function u(e,t){return function(r){return null==r?t:e(r)}}function c(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");var r=[];return t.forEach(function(t){r.push(e(t))}),r}}function h(e){if(!a.isHexString(e)||66!==e.length)throw new Error("invalid hash - "+e);return e}function d(e){return a.bigNumberify(e).toNumber()}function l(e){if(!a.isHexString(e))throw new Error("invalid uint256");for(;e.length<66;)e="0x0"+e.substring(2);return e}function p(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"==typeof e)return a.hexStripZeros(a.hexlify(e));if(a.isHexString(e))return a.hexStripZeros(e);throw new Error("invalid blockTag")}var b={hash:h,parentHash:h,number:d,timestamp:d,nonce:u(a.hexlify),difficulty:u(d),gasLimit:a.bigNumberify,gasUsed:a.bigNumberify,miner:a.getAddress,extraData:a.hexlify,transactions:u(c(h))};function m(e){return null!=e.author&&null==e.miner&&(e.miner=e.author),f(b,e)}var y={hash:h,blockHash:u(h,null),blockNumber:u(d,null),transactionIndex:u(d,null),from:a.getAddress,gasPrice:a.bigNumberify,gasLimit:a.bigNumberify,to:u(a.getAddress,null),value:a.bigNumberify,nonce:d,data:a.hexlify,r:u(l),s:u(l),v:u(d),creates:u(a.getAddress,null),raw:u(a.hexlify)};function g(e){if(null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&a.bigNumberify(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=a.getContractAddress(e)),!e.raw&&e.v&&e.r&&e.s){var t=[a.stripZeros(a.hexlify(e.nonce)),a.stripZeros(a.hexlify(e.gasPrice)),a.stripZeros(a.hexlify(e.gasLimit)),e.to||"0x",a.stripZeros(a.hexlify(e.value||"0x")),a.hexlify(e.data||"0x"),a.stripZeros(a.hexlify(e.v||"0x")),a.stripZeros(a.hexlify(e.r)),a.stripZeros(a.hexlify(e.s))];e.raw=a.RLP.encode(t)}var r=f(y,e),n=e.networkId;return a.isHexString(n)&&(n=a.bigNumberify(n).toNumber()),"number"!=typeof n&&null!=r.v&&((n=(r.v-35)/2)<0&&(n=0),n=parseInt(n)),"number"!=typeof n&&(n=0),r.networkId=n,r.blockHash&&"x"===r.blockHash.replace(/0/g,"")&&(r.blockHash=null),r}var v={from:u(a.getAddress),nonce:u(d),gasLimit:u(a.bigNumberify),gasPrice:u(a.bigNumberify),to:u(a.getAddress),value:u(a.bigNumberify),data:u(a.hexlify)};function w(e){return f(v,e)}var _={transactionLogIndex:u(d),transactionIndex:d,blockNumber:d,transactionHash:h,address:a.getAddress,topics:c(h),data:a.hexlify,logIndex:d,blockHash:h};var S={contractAddress:u(a.getAddress,null),transactionIndex:d,root:u(h),gasUsed:a.bigNumberify,logsBloom:a.hexlify,blockHash:h,transactionHash:h,logs:c(function(e){return f(_,e)}),blockNumber:d,cumulativeGasUsed:a.bigNumberify,status:u(d)};var A={fromBlock:u(p,void 0),toBlock:u(p,void 0),address:u(a.getAddress,void 0),topics:u(function e(t){return Array.isArray(t)?t.forEach(function(t){e(t)}):null!=t&&h(t),t},void 0)};var E={blockNumber:u(d),blockHash:u(h),transactionIndex:d,removed:u(function(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===e)return!0;if("false"===e)return!1}throw new Error("invaid boolean - "+e)}),address:a.getAddress,data:function(e,t){return function(r){return r?e(r):t}}(a.hexlify,"0x"),topics:c(h),transactionHash:h,logIndex:d};function k(e){return f(E,e)}function M(e){if(!(this instanceof M))throw new Error("missing new");var t=null;(e=M.getNetwork(e)).ensAddress&&(t=a.getAddress(e.ensAddress)),a.defineProperty(this,"chainId",e.chainId),a.defineProperty(this,"ensAddress",t),a.defineProperty(this,"name",e.name);var r={};a.defineProperty(this,"_events",r),a.defineProperty(this,"_emitted",{block:-1});var n=this,i=null,o={};function s(){n.getBlockNumber().then(function(e){if(e!==i){null===i&&(i=e-1);for(var t=i+1;t<=e;t++)n._emitted.block<t&&(n._emitted.block=t,Object.keys(n._emitted).forEach(function(e){"block"!==e&&n._emitted[e]>t+12&&delete n._emitted[e]})),n.emit("block",t);var s={};Object.keys(r).forEach(function(t){var r=function(e){if("tx:"===e.substring(0,3))return{type:"transaction",hash:e.substring(3)};if("block"===e)return{type:"block"};if("pending"===e)return{type:"pending"};if("address:"===e.substring(0,8))return{type:"address",address:e.substring(8)};if("topic:"===e.substring(0,6))try{var t=a.RLP.decode(e.substring(6));return{type:"topic",topic:t=I(t,function(e){return"0x"===e&&(e=null),e})}}catch(e){console.log(e)}throw new Error("invalid event string")}(t);"transaction"===r.type?n.getTransaction(r.hash).then(function(e){e&&null!=e.blockNumber&&(n._emitted["t:"+e.hash.toLowerCase()]=e.blockNumber,n.emit(r.hash,e))}):"address"===r.type?(o[r.address]&&(s[r.address]=o[r.address]),n.getBalance(r.address,"latest").then(function(e){var t=o[r.address];t&&e.eq(t)||(o[r.address]=e,n.emit(r.address,e))})):"topic"===r.type&&n.getLogs({fromBlock:i+1,toBlock:e,topics:r.topic}).then(function(e){0!==e.length&&e.forEach(function(e){n._emitted["b:"+e.blockHash.toLowerCase()]=e.blockNumber,n._emitted["t:"+e.transactionHash.toLowerCase()]=e.blockNumber,n.emit(r.topic,e)})})}),i=e,o=s}}),n.doPoll()}a.defineProperty(this,"resetEventsBlock",function(e){i=e,n.doPoll()});var f=4e3,u=null;Object.defineProperty(this,"polling",{get:function(){return null!=u},set:function(e){setTimeout(function(){e&&!u?u=setInterval(s,f):!e&&u&&(clearInterval(u),u=null)},0)}}),Object.defineProperty(this,"pollingInterval",{get:function(){return f},set:function(e){if("number"!=typeof e||e<=0||parseInt(e)!=e)throw new Error("invalid polling interval");f=e,u&&(clearInterval(u),u=setInterval(s,f))}})}function x(e,t){return new Promise(function(r,n){var i=0;!function o(){t().then(function(t){if(t||e())r(t);else{i++;var n=500+250*parseInt(Math.random()*(1<<i));n>1e4&&(n=1e4),setTimeout(o,n)}},function(e){n(e)})}()})}function I(e,t){if(Array.isArray(e)){var r=[];return e.forEach(function(e){r.push(I(e,t))}),r}return t(e)}function B(e){try{return"address:"+a.getAddress(e)}catch(e){}if("block"===e)return"block";if("pending"===e)return"pending";if(a.isHexString(e)){if(66===e.length)return"tx:"+e}else if(Array.isArray(e)){e=I(e,function(e){return null==e&&(e="0x"),e});try{return"topic:"+a.RLP.encode(e)}catch(e){console.log(e)}}throw new Error("invalid event - "+e)}a.defineProperty(M,"inherits",function e(t){return function(r){i(r,t),a.defineProperty(r,"inherits",e(r))}}(M)),a.defineProperty(M,"getNetwork",function(e){if("string"==typeof e){if(!(e=s[e]))throw new Error("unknown network")}else null==e&&(e=s.homestead);if("number"!=typeof e.chainId)throw new Error("invalid chainId");return e}),a.defineProperty(M,"networks",s),a.defineProperty(M,"fetchJSON",function(e,t,r){return new Promise(function(n,i){var s=new o;t?(s.open("POST",e,!0),s.setRequestHeader("Content-Type","application/json")):s.open("GET",e,!0),s.onreadystatechange=function(){if(4===s.readyState){try{var o=JSON.parse(s.responseText)}catch(f){var a=new Error("invalid json response");return a.orginialError=f,a.responseText=s.responseText,void i(a)}if(r)try{o=r(o)}catch(f){return f.url=e,f.body=t,f.responseText=s.responseText,void i(f)}if(200!=s.status){var f=new Error("invalid response - "+s.status);return f.statusCode=s.statusCode,void i(f)}n(o)}},s.onerror=function(e){i(e)};try{t?s.send(t):s.send()}catch(e){var a=new Error("connection error");a.error=e,i(a)}})}),a.defineProperty(M.prototype,"waitForTransaction",function(e,t){var r=this;return new Promise(function(n,i){var o=null;function s(e){o&&clearTimeout(o),n(e)}r.once(e,s),"number"==typeof t&&t>0&&(o=setTimeout(function(){r.removeListener(e,s),i(new Error("timeout"))},t))})}),a.defineProperty(M.prototype,"getBlockNumber",function(){try{return this.perform("getBlockNumber").then(function(e){var t=parseInt(e);if(t!=e)throw new Error("invalid response - getBlockNumber");return t})}catch(e){return Promise.reject(e)}}),a.defineProperty(M.prototype,"getGasPrice",function(){try{return this.perform("getGasPrice").then(function(e){return a.bigNumberify(e)})}catch(e){return Promise.reject(e)}}),a.defineProperty(M.prototype,"getBalance",function(e,t){var r=this;return this.resolveName(e).then(function(e){var n={address:e,blockTag:p(t)};return r.perform("getBalance",n).then(function(e){return a.bigNumberify(e)})})}),a.defineProperty(M.prototype,"getTransactionCount",function(e,t){var r=this;return this.resolveName(e).then(function(e){var n={address:e,blockTag:p(t)};return r.perform("getTransactionCount",n).then(function(e){var t=parseInt(e);if(t!=e)throw new Error("invalid response - getTransactionCount");return t})})}),a.defineProperty(M.prototype,"getCode",function(e,t){var r=this;return this.resolveName(e).then(function(e){var n={address:e,blockTag:p(t)};return r.perform("getCode",n).then(function(e){return a.hexlify(e)})})}),a.defineProperty(M.prototype,"getStorageAt",function(e,t,r){var n=this;return this.resolveName(e).then(function(e){var i={address:e,blockTag:p(r),position:a.hexStripZeros(a.hexlify(t))};return n.perform("getStorageAt",i).then(function(e){return a.hexlify(e)})})}),a.defineProperty(M.prototype,"sendTransaction",function(e){try{var t={signedTransaction:a.hexlify(e)};return this.perform("sendTransaction",t).then(function(e){if(66!==(e=a.hexlify(e)).length)throw new Error("invalid response - sendTransaction");return e})}catch(e){return Promise.reject(e)}}),a.defineProperty(M.prototype,"call",function(e){var t=this;return this._resolveNames(e,["to","from"]).then(function(e){var r={transaction:w(e)};return t.perform("call",r).then(function(e){return a.hexlify(e)})})}),a.defineProperty(M.prototype,"estimateGas",function(e){var t=this;return this._resolveNames(e,["to","from"]).then(function(e){var r={transaction:w(e)};return t.perform("estimateGas",r).then(function(e){return a.bigNumberify(e)})})}),a.defineProperty(M.prototype,"getBlock",function(e){var t=this;try{var r=a.hexlify(e);if(66===r.length)return x(function(){return null==t._emitted["b:"+r.toLowerCase()]},function(){return t.perform("getBlock",{blockHash:r}).then(function(e){return null==e?null:m(e)})})}catch(e){}try{var n=p(e);return x(function(){return!a.isHexString(n)||parseInt(n.substring(2),16)>t._emitted.block},function(){return t.perform("getBlock",{blockTag:n}).then(function(e){return null==e?null:m(e)})})}catch(e){}return Promise.reject(new Error("invalid block hash or block tag"))}),a.defineProperty(M.prototype,"getTransaction",function(e){var t=this;try{var r={transactionHash:h(e)};return x(function(){return null==t._emitted["t:"+e.toLowerCase()]},function(){return t.perform("getTransaction",r).then(function(e){return null!=e&&(e=g(e)),e})})}catch(e){return Promise.reject(e)}}),a.defineProperty(M.prototype,"getTransactionReceipt",function(e){var t=this;try{var r={transactionHash:h(e)};return x(function(){return null==t._emitted["t:"+e.toLowerCase()]},function(){return t.perform("getTransactionReceipt",r).then(function(e){return null!=e&&(e=function(e){e.status,e.root;var t=f(S,e);return t.logs.forEach(function(e,t){null==e.transactionLogIndex&&(e.transactionLogIndex=t)}),null!=e.status&&(t.byzantium=!0),t}(e)),e})})}catch(e){return Promise.reject(e)}}),a.defineProperty(M.prototype,"getLogs",function(e){var t=this;return this._resolveNames(e,["address"]).then(function(e){var r={filter:function(e){return f(A,e)}(e)};return t.perform("getLogs",r).then(function(e){return c(k)(e)})})}),a.defineProperty(M.prototype,"getEtherPrice",function(){try{return this.perform("getEtherPrice",{}).then(function(e){return e})}catch(e){return Promise.reject(e)}}),a.defineProperty(M.prototype,"_resolveNames",function(e,t){var r=[],n=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e);return t.forEach(function(e){void 0!==n[e]&&r.push(this.resolveName(n[e]).then(function(t){n[e]=t}))},this),Promise.all(r).then(function(){return n})}),a.defineProperty(M.prototype,"_getResolver",function(e){var t="0x0178b8bf"+a.namehash(e).substring(2),r={to:this.ensAddress,data:t};return this.call(r).then(function(e){return 66!=e.length?null:a.getAddress("0x"+e.substring(26))})}),a.defineProperty(M.prototype,"resolveName",function(e){try{return Promise.resolve(a.getAddress(e))}catch(e){}if(!this.ensAddress)throw new Error("network does not have ENS deployed");var t=this,r=a.namehash(e);return this._getResolver(e).then(function(e){var n={to:e,data:"0x3b3b57de"+r.substring(2)};return t.call(n)}).then(function(e){if(66!=e.length)return null;var t=a.getAddress("0x"+e.substring(26));return"0x0000000000000000000000000000000000000000"===t?null:t})}),a.defineProperty(M.prototype,"lookupAddress",function(e){if(!this.ensAddress)throw new Error("network does not have ENS deployed");var t=(e=a.getAddress(e)).substring(2)+".addr.reverse",r=a.namehash(t),n=this;return this._getResolver(t).then(function(e){if(!e)return null;var t={to:e,data:"0x691f3431"+r.substring(2)};return n.call(t)}).then(function(t){if((t=t.substring(2)).length<64)return null;if((t=t.substring(64)).length<64)return null;var r=a.bigNumberify("0x"+t.substring(0,64)).toNumber();if(2*r>(t=t.substring(64)).length)return null;var i=a.toUtf8String("0x"+t.substring(0,2*r));return n.resolveName(i).then(function(t){return t!=e?null:i})})}),a.defineProperty(M.prototype,"doPoll",function(){}),a.defineProperty(M.prototype,"perform",function(e,t){return Promise.reject(new Error("not implemented - "+e))}),a.defineProperty(M.prototype,"_startPending",function(){console.log("WARNING: this provider does not support pending events")}),a.defineProperty(M.prototype,"_stopPending",function(){}),a.defineProperty(M.prototype,"on",function(e,t){var r=B(e);this._events[r]||(this._events[r]=[]),this._events[r].push({eventName:e,listener:t,type:"on"}),"pending"===r&&this._startPending(),this.polling=!0}),a.defineProperty(M.prototype,"once",function(e,t){var r=B(e);this._events[r]||(this._events[r]=[]),this._events[r].push({eventName:e,listener:t,type:"once"}),"pending"===r&&this._startPending(),this.polling=!0}),a.defineProperty(M.prototype,"emit",function(e){var t=B(e),r=Array.prototype.slice.call(arguments,1),n=this._events[t];if(n){for(var i=0;i<n.length;i++){var o=n[i];"once"===o.type&&(n.splice(i,1),i--);try{o.listener.apply(this,r)}catch(e){console.log("Event Listener Error: "+e.message)}}0===n.length&&(delete this._events[t],"pending"===t&&this._stopPending()),0===this.listenerCount()&&(this.polling=!1)}}),a.defineProperty(M.prototype,"listenerCount",function(e){if(!e){var t=0;for(var r in this._events)t+=this._events[r].length;return t}var n=this._events[B(e)];return n?n.length:0}),a.defineProperty(M.prototype,"listeners",function(e){var t=this._events[B(e)];if(!t)return 0;for(var r=[],n=0;n<t.length;n++)r.push(t[n].listener);return r}),a.defineProperty(M.prototype,"removeAllListeners",function(e){delete this._events[B(e)],0===this.listenerCount()&&(this.polling=!1)}),a.defineProperty(M.prototype,"removeListener",function(e,t){var r=B(e),n=this._events[r];if(!n)return 0;for(var i=0;i<n.length;i++)if(n[i].listener===t){n.splice(i,1);break}0===n.length&&this.removeAllListeners(e)}),a.defineProperty(M,"_formatters",{checkTransactionResponse:g}),t.exports=M},{"../utils/address":56,"../utils/bignumber":57,"../utils/contract-address":59,"../utils/convert":60,"../utils/namehash":65,"../utils/properties":67,"../utils/rlp":68,"../utils/utf8":73,"./networks.json":52,inherits:37,xmlhttprequest:46}],54:[function(e,t,r){"use strict";e("./provider");var n=e("./json-rpc-provider"),i={defineProperty:e("../utils/properties").defineProperty,getAddress:e("../utils/address").getAddress,toUtf8Bytes:e("../utils/utf8").toUtf8Bytes,hexlify:e("../utils/convert").hexlify};function o(e,t){if(!(this instanceof o))throw new Error("missing new");i.defineProperty(this,"provider",e),t?(i.defineProperty(this,"address",t),i.defineProperty(this,"_syncAddress",!0)):(Object.defineProperty(this,"address",{enumerable:!0,get:function(){throw new Error("unsupported sync operation; use getAddress")}}),i.defineProperty(this,"_syncAddress",!1))}function s(e,t){if(!(this instanceof s))throw new Error("missing new");var r=e.host||e.path||"unknown";n.call(this,r,t),i.defineProperty(this,"_web3Provider",e)}i.defineProperty(o.prototype,"getAddress",function(){return this._syncAddress?Promise.resolve(this.address):this.provider.send("eth_accounts",[]).then(function(e){if(0===e.length)throw new Error("no account");return i.getAddress(e[0])})}),i.defineProperty(o.prototype,"getBalance",function(e){var t=this.provider;return this.getAddress().then(function(r){return t.getBalance(r,e)})}),i.defineProperty(o.prototype,"getTransactionCount",function(e){var t=this.provider;return this.getAddress().then(function(r){return t.getTransactionCount(r,e)})}),i.defineProperty(o.prototype,"sendTransaction",function(e){var t=this.provider;return e=n._hexlifyTransaction(e),this.getAddress().then(function(r){return e.from=r.toLowerCase(),t.send("eth_sendTransaction",[e]).then(function(e){return new Promise(function(r,n){!function n(){t.getTransaction(e).then(function(e){e?r(e):setTimeout(n,1e3)})}()})})})}),i.defineProperty(o.prototype,"signMessage",function(e){var t=this.provider,r="string"==typeof e?i.toUtf8Bytes(e):e;return this.getAddress().then(function(e){var n="eth_sign",o=[e.toLowerCase(),i.hexlify(r)];return t._web3Provider.isMetaMask&&(n="personal_sign",o=[i.hexlify(r),e.toLowerCase()]),t.send(n,o)})}),i.defineProperty(o.prototype,"unlock",function(e){var t=this.provider;return this.getAddress().then(function(r){return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}),n.inherits(s),i.defineProperty(s.prototype,"getSigner",function(e){return new o(this,e)}),i.defineProperty(s.prototype,"listAccounts",function(){return this.send("eth_accounts",[]).then(function(e){return e.forEach(function(t,r){e[r]=i.getAddress(t)}),e})}),i.defineProperty(s.prototype,"send",function(e,t){var r=this._web3Provider;return new Promise(function(n,i){var o={method:e,params:t,id:42,jsonrpc:"2.0"};r.sendAsync(o,function(e,t){if(e)i(e);else{if(t.error)return(e=new Error(t.error.message)).code=t.error.code,e.data=t.error.data,void i(e);n(t.result)}})})}),t.exports=s},{"../utils/address":56,"../utils/convert":60,"../utils/properties":67,"../utils/utf8":73,"./json-rpc-provider":51,"./provider":53}],55:[function(e,t,r){"use strict";var n,i,o=e("../utils/throw-error"),s=(n=e("../utils/convert.js"),i=e("../utils/utf8.js"),{defineProperty:e("../utils/properties.js").defineProperty,arrayify:n.arrayify,padZeros:n.padZeros,bigNumberify:e("../utils/bignumber.js").bigNumberify,getAddress:e("../utils/address").getAddress,concat:n.concat,toUtf8Bytes:i.toUtf8Bytes,toUtf8String:i.toUtf8String,hexlify:n.hexlify}),a=new RegExp(/^bytes([0-9]*)$/),f=new RegExp(/^(u?int)([0-9]*)$/),u=new RegExp(/^(.*)\[([0-9]*)\]$/),c=function(e,t){var r=e.match(f);return r&&parseInt(r[2])<=48?t.toNumber():t},h=function(e){return{name:"null",type:"",encode:function(e){return s.arrayify([])},decode:function(t,r){if(r>t.length)throw new Error("invalid null");return{consumed:0,value:e("null",void 0)}},dynamic:!1}},d=function(e,t,r,n){var i=(r?"int":"uint")+8*t;return{localName:n,name:i,type:i,encode:function(e){return e=s.bigNumberify(e).toTwos(8*t).maskn(8*t),r&&(e=e.fromTwos(8*t).toTwos(256)),s.padZeros(s.arrayify(e),32)},decode:function(n,o){var a=32-t,f=s.bigNumberify(n.slice(o+a,o+32));return f=r?f.fromTwos(8*t):f.maskn(8*t),{consumed:32,value:e(i,f)}}}},l=d(function(e,t){return t},32,!1),p=function(e,t,r){var n="bytes"+t;return{localName:r,name:n,type:n,encode:function(e){if(e=s.arrayify(e),32===t)return e;var r=new Uint8Array(32);return r.set(e),r},decode:function(r,i){return r.length<i+32&&o("invalid bytes"+t),{consumed:32,value:e(n,s.hexlify(r.slice(i,i+t)))}}}};function b(e){var t=parseInt(32*Math.ceil(e.length/32)),r=new Uint8Array(t-e.length);return s.concat([l.encode(e.length),e,r])}function m(e,t){e.length<t+32&&o("invalid bytes");var r=l.decode(e,t).value;return r=r.toNumber(),e.length<t+32+r&&o("invalid bytes"),{consumed:parseInt(32+32*Math.ceil(r/32)),value:e.slice(t+32,t+32+r)}}function y(e){return parseInt(32*Math.ceil(e/32))}function g(e,t){if(Array.isArray(t))e.length!==t.length&&o("types/values mismatch",{type:type,values:t});else if(t&&"object"==typeof t){var r=[];e.forEach(function(e){r.push(t[e.localName])}),t=r}else o("invalid value",{type:"tuple",values:t});var n=[];e.forEach(function(e,r){n.push({dynamic:e.dynamic,value:e.encode(t[r])})});var i=0,s=0;n.forEach(function(e,t){e.dynamic?(i+=32,s+=y(e.value.length)):i+=y(e.value.length)});var a=0,f=i,u=new Uint8Array(i+s);return n.forEach(function(e,t){e.dynamic?(u.set(l.encode(f),a),a+=32,u.set(e.value,f),f+=y(e.value.length)):(u.set(e.value,a),a+=y(e.value.length))}),u}function v(e,t,r){var n=r,i=0,o=[];return e.forEach(function(e){if(e.dynamic){var s=l.decode(t,r);(a=e.decode(t,n+s.value.toNumber())).consumed=s.consumed}else var a=e.decode(t,r);void 0!=a.value&&o.push(a.value),r+=a.consumed,i+=a.consumed}),e.forEach(function(e,t){var r=e.localName;r&&("object"==typeof r&&(r=r.name),r&&("length"===r&&(r="_length"),null==o[r]&&(o[r]=o[t])))}),{value:o,consumed:i}}function w(e,t,r){var n=!1,i=[];t.forEach(function(e){e.dynamic&&(n=!0),i.push(e.type)});var o="tuple("+i.join(",")+")";return{coders:t,localName:r,name:"tuple",type:o,encode:function(e){return g(t,e)},decode:function(r,n){var i=v(t,r,n);return i.value=e(o,i.value),i},dynamic:n}}var _={address:function(e,t){return{localName:t,name:"address",type:"address",encode:function(e){e=s.arrayify(s.getAddress(e));var t=new Uint8Array(32);return t.set(e,12),t},decode:function(t,r){return t.length<r+32&&o("invalid address"),{consumed:32,value:e("address",s.getAddress(s.hexlify(t.slice(r+12,r+32))))}}}},bool:function(e,t){return{localName:t,name:"boolean",type:"boolean",encode:function(e){return l.encode(e?1:0)},decode:function(t,r){var n=l.decode(t,r);return{consumed:n.consumed,value:e("boolean",!n.value.isZero())}}}},string:function(e,t){return{localName:t,name:"string",type:"string",encode:function(e){return b(s.toUtf8Bytes(e))},decode:function(t,r){var n=m(t,r);return n.value=e("string",s.toUtf8String(n.value)),n},dynamic:!0}},bytes:function(e,t){return{localName:t,name:"bytes",type:"bytes",encode:function(e){return b(s.arrayify(e))},decode:function(t,r){var n=m(t,r);return n.value=e("bytes",s.hexlify(n.value)),n},dynamic:!0}}};function S(e,t,r){var n,i=_[t];if(i)return i(e,r);if(n=t.match(f))return(0===(c=parseInt(n[2]||256))||c>256||c%8!=0)&&o("invalid type",{type:t}),d(e,c/8,"int"===n[1],r);if(n=t.match(a))return(0===(c=parseInt(n[1]))||c>32)&&o("invalid type "+t),p(e,c,r);if(n=t.match(u)){var c=parseInt(n[2]||-1);return function(e,t,r,n){var i=t.type+"["+(r>=0?r:"")+"]";return{coder:t,localName:n,length:r,name:"array",type:i,encode:function(e){Array.isArray(e)||o("invalid array");var n=r,i=new Uint8Array(0);-1===n&&(n=e.length,i=l.encode(n)),n!==e.length&&o("size mismatch");var a=[];return e.forEach(function(e){a.push(t)}),s.concat([i,g(a,e)])},decode:function(n,o){var s=0,a=r;if(-1===a){var f=l.decode(n,o);a=f.value.toNumber(),s+=f.consumed,o+=f.consumed}for(var u=[],c=0;c<a;c++)u.push(t);var h=v(u,n,o);return h.consumed+=s,h.value=e(i,h.value),h},dynamic:-1===r||t.dynamic}}(e,S(e,n[1],r),c,r)}if("tuple("===t.substring(0,6)&&")"===t.substring(t.length-1)){var b=[],m=[];return r&&"object"==typeof r&&(Array.isArray(r.names)&&(m=r.names),"string"==typeof r.name&&(r=r.name)),function(e){for(var t=[],r="",n=0,i=0;i<e.length;i++){var o=e[i];if(","===o&&0===n)t.push(r),r="";else if(r+=o,"("===o)n++;else if(")"===o&&-1==--n)throw new Error("unbalanced parenthsis")}return t.push(r),t}(t.substring(6,t.length-1)).forEach(function(t,r){b.push(S(e,t,m[r]))}),w(e,b,r)}if(""===t)return h(e);o("invalid type",{type:t})}function A(e){if(!(this instanceof A))throw new Error("missing new");e||(e=c),s.defineProperty(this,"coerceFunc",e)}s.defineProperty(A.prototype,"encode",function(e,t,r){arguments.length<3&&(r=t,t=e,e=null),t.length!==r.length&&o("types/values mismatch",{types:t,values:r});var n=[];return t.forEach(function(t,r){n.push(S(this.coerceFunc,t,e?e[r]:void 0))},this),s.hexlify(w(this.coerceFunc,n).encode(r))}),s.defineProperty(A.prototype,"decode",function(e,t,r){arguments.length<3&&(r=t,t=e,e=null),r=s.arrayify(r);var n=[];return t.forEach(function(t,r){n.push(S(this.coerceFunc,t,e?e[r]:void 0))},this),w(this.coerceFunc,n).decode(r,0).value}),s.defineProperty(A,"defaultCoder",new A),t.exports=A},{"../utils/address":56,"../utils/bignumber.js":57,"../utils/convert.js":60,"../utils/properties.js":67,"../utils/throw-error":71,"../utils/utf8.js":73}],56:[function(e,t,r){var n=e("bn.js"),i=e("./convert"),o=e("./throw-error"),s=e("./keccak256");function a(e){"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]{40}$/)||o("invalid address",{input:e});for(var t=(e=e.toLowerCase()).substring(2).split(""),r=0;r<t.length;r++)t[r]=t[r].charCodeAt(0);t=i.arrayify(s(t)),e=e.substring(2).split("");for(r=0;r<40;r+=2)t[r>>1]>>4>=8&&(e[r]=e[r].toUpperCase()),(15&t[r>>1])>=8&&(e[r+1]=e[r+1].toUpperCase());return"0x"+e.join("")}var f=function(){for(var e={},t=0;t<10;t++)e[String(t)]=String(t);for(t=0;t<26;t++)e[String.fromCharCode(65+t)]=String(10+t);var r,n=Math.floor((r=9007199254740991,Math.log10?Math.log10(r):Math.log(r)/Math.LN10));return function(t){for(var r=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split(""),i=0;i<r.length;i++)r[i]=e[r[i]];for(r=r.join("");r.length>=n;){var o=r.substring(0,n);r=parseInt(o,10)%97+r.substring(o.length)}for(var s=String(98-parseInt(r,10)%97);s.length<2;)s="0"+s;return s}}();t.exports={getAddress:function(e,t){var r=null;if("string"!=typeof e&&o("invalid address",{input:e}),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),r=a(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&r!==e&&o("invalid address checksum",{input:e,expected:r});else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==f(e)&&o("invalid address icap checksum",{input:e}),r=new n(e.substring(4),36).toString(16);r.length<40;)r="0"+r;r=a("0x"+r)}else o("invalid address",{input:e});if(t){for(var i=new n(r.substring(2),16).toString(36).toUpperCase();i.length<30;)i="0"+i;return"XE"+f("XE00"+i)+i}return r}}},{"./convert":60,"./keccak256":64,"./throw-error":71,"bn.js":6}],57:[function(e,t,r){var n=e("bn.js"),i=e("./properties").defineProperty,o=e("./convert"),s=e("./throw-error");function a(e){if(!(this instanceof a))throw new Error("missing new");o.isHexString(e)?("0x"==e&&(e="0x0"),e=new n(e.substring(2),16)):"string"==typeof e&&"-"===e[0]&&o.isHexString(e.substring(1))?e=new n(e.substring(3),16).mul(a.constantNegativeOne._bn):"string"==typeof e&&e.match(/^-?[0-9]*$/)?(""==e&&(e="0"),e=new n(e)):"number"==typeof e&&parseInt(e)==e?e=new n(e):n.isBN(e)||(f(e)?e=e._bn:o.isArrayish(e)?e=new n(o.hexlify(e).substring(2),16):s("invalid BigNumber value",{input:e})),i(this,"_bn",e)}function f(e){return e._bn&&e._bn.mod}function u(e){return f(e)?e:new a(e)}i(a,"constantNegativeOne",u(-1)),i(a,"constantZero",u(0)),i(a,"constantOne",u(1)),i(a,"constantTwo",u(2)),i(a,"constantWeiPerEther",u(new n("1000000000000000000"))),i(a.prototype,"fromTwos",function(e){return new a(this._bn.fromTwos(e))}),i(a.prototype,"toTwos",function(e){return new a(this._bn.toTwos(e))}),i(a.prototype,"add",function(e){return new a(this._bn.add(u(e)._bn))}),i(a.prototype,"sub",function(e){return new a(this._bn.sub(u(e)._bn))}),i(a.prototype,"div",function(e){return new a(this._bn.div(u(e)._bn))}),i(a.prototype,"mul",function(e){return new a(this._bn.mul(u(e)._bn))}),i(a.prototype,"mod",function(e){return new a(this._bn.mod(u(e)._bn))}),i(a.prototype,"pow",function(e){return new a(this._bn.pow(u(e)._bn))}),i(a.prototype,"maskn",function(e){return new a(this._bn.maskn(e))}),i(a.prototype,"eq",function(e){return this._bn.eq(u(e)._bn)}),i(a.prototype,"lt",function(e){return this._bn.lt(u(e)._bn)}),i(a.prototype,"lte",function(e){return this._bn.lte(u(e)._bn)}),i(a.prototype,"gt",function(e){return this._bn.gt(u(e)._bn)}),i(a.prototype,"gte",function(e){return this._bn.gte(u(e)._bn)}),i(a.prototype,"isZero",function(){return this._bn.isZero()}),i(a.prototype,"toNumber",function(e){return this._bn.toNumber()}),i(a.prototype,"toString",function(){return this._bn.toString(10)}),i(a.prototype,"toHexString",function(){var e=this._bn.toString(16);return e.length%2&&(e="0"+e),"0x"+e}),t.exports={isBigNumber:f,bigNumberify:u,BigNumber:a}},{"./convert":60,"./properties":67,"./throw-error":71,"bn.js":6}],58:[function(e,t,r){(function(r){"use strict";var n=e("./convert"),i=e("./properties").defineProperty,o=r.crypto||r.msCrypto;function s(e){if(e<=0||e>1024||parseInt(e)!=e)throw new Error("invalid length");var t=new Uint8Array(e);return o.getRandomValues(t),n.arrayify(t)}o&&o.getRandomValues||(console.log("WARNING: Missing strong random number source; using weak randomBytes"),o={getRandomValues:function(e){for(var t=0;t<20;t++)for(var r=0;r<e.length;r++)t?e[r]^=parseInt(256*Math.random()):e[r]=parseInt(256*Math.random());return e},_weakCrypto:!0}),!0===o._weakCrypto&&i(s,"_weakCrypto",!0),t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./convert":60,"./properties":67}],59:[function(e,t,r){var n=e("./address").getAddress,i=e("./convert"),o=e("./keccak256"),s=e("./rlp");t.exports={getContractAddress:function(e){if(!e.from)throw new Error("missing from address");var t=e.nonce;return n("0x"+o(s.encode([n(e.from),i.stripZeros(i.hexlify(t,"nonce"))])).substring(26))}}},{"./address":56,"./convert":60,"./keccak256":64,"./rlp":68}],60:[function(e,t,r){e("./properties.js").defineProperty;var n=e("./throw-error");function i(e){return e.slice?e:(e.slice=function(){var t=Array.prototype.slice.call(arguments);return new Uint8Array(Array.prototype.slice.apply(e,t))},e)}function o(e){if(!e||parseInt(e.length)!=e.length||"string"==typeof e)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(r<0||r>=256||parseInt(r)!=r)return!1}return!0}function s(e,t){if(e&&e.toHexString&&(e=e.toHexString()),a(e)){(e=e.substring(2)).length%2&&(e="0"+e);for(var r=[],s=0;s<e.length;s+=2)r.push(parseInt(e.substr(s,2),16));return i(new Uint8Array(r))}if(o(e))return i(new Uint8Array(e));n("invalid arrayify value",{name:t,input:e})}function a(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}var f="0123456789abcdef";t.exports={arrayify:s,isArrayish:o,concat:function(e){for(var t=[],r=0,n=0;n<e.length;n++){var o=s(e[n]);t.push(o),r+=o.length}var a=new Uint8Array(r),f=0;for(n=0;n<t.length;n++)a.set(t[n],f),f+=t[n].length;return i(a)},padZeros:function(e,t){if(t<(e=s(e)).length)throw new Error("cannot pad");var r=new Uint8Array(t);return r.set(e,t-e.length),i(r)},stripZeros:function(e){if(0===(e=s(e)).length)return e;for(var t=0;0===e[t];)t++;return t&&(e=e.slice(t)),e},hexlify:function(e,t){if(e&&e.toHexString)return e.toHexString();if("number"==typeof e){e<0&&n("cannot hexlify negative value",{name:t,input:e});for(var r="";e;)r=f[15&e]+r,e=parseInt(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(a(e))return e.length%2&&(e="0x0"+e.substring(2)),e;if(o(e)){for(var i=[],s=0;s<e.length;s++){var u=e[s];i.push(f[(240&u)>>4]+f[15&u])}return"0x"+i.join("")}n("invalid hexlify value",{name:t,input:e})},isHexString:a,hexStripZeros:function(e){for(;e.length>3&&"0x0"===e.substring(0,3);)e="0x"+e.substring(3);return e},hexZeroPad:function(e,t){for(;e.length<2*t+2;)e="0x0"+e.substring(2);return e}}},{"./properties.js":67,"./throw-error":71}],61:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("./sha2.js"),o=e("./convert.js");t.exports={createSha256Hmac:function(e){return e.buffer||(e=o.arrayify(e)),new n.hmac(i.createSha256,e)},createSha512Hmac:function(e){return e.buffer||(e=o.arrayify(e)),new n.hmac(i.createSha512,e)}}},{"./convert.js":60,"./sha2.js":69,"hash.js":24}],62:[function(e,t,r){"use strict";var n=e("./keccak256"),i=e("./utf8");t.exports=function(e){return n(i.toUtf8Bytes(e))}},{"./keccak256":64,"./utf8":73}],63:[function(e,t,r){"use strict";var n=e("./address"),i=e("./abi-coder"),o=e("./bignumber"),s=e("./contract-address"),a=e("./convert"),f=e("./id"),u=e("./keccak256"),c=e("./namehash"),h=e("./sha2").sha256,d=e("./solidity"),l=e("./random-bytes"),p=e("./properties"),b=e("./rlp"),m=e("./utf8"),y=e("./units");t.exports={AbiCoder:i,RLP:b,defineProperty:p.defineProperty,etherSymbol:"Ξ",arrayify:a.arrayify,concat:a.concat,padZeros:a.padZeros,stripZeros:a.stripZeros,bigNumberify:o.bigNumberify,BigNumber:o.BigNumber,hexlify:a.hexlify,toUtf8Bytes:m.toUtf8Bytes,toUtf8String:m.toUtf8String,namehash:c,id:f,getAddress:n.getAddress,getContractAddress:s.getContractAddress,formatEther:y.formatEther,parseEther:y.parseEther,formatUnits:y.formatUnits,parseUnits:y.parseUnits,keccak256:u,sha256:h,randomBytes:l,solidityPack:d.pack,solidityKeccak256:d.keccak256,soliditySha256:d.sha256}},{"./abi-coder":55,"./address":56,"./bignumber":57,"./contract-address":59,"./convert":60,"./id":62,"./keccak256":64,"./namehash":65,"./properties":67,"./random-bytes":58,"./rlp":68,"./sha2":69,"./solidity":70,"./units":72,"./utf8":73}],64:[function(e,t,r){"use strict";var n=e("js-sha3"),i=e("./convert.js");t.exports=function(e){return e=i.arrayify(e),"0x"+n.keccak_256(e)}},{"./convert.js":60,"js-sha3":38}],65:[function(e,t,r){"use strict";var n=e("./convert"),i=e("./utf8"),o=e("./keccak256"),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=new RegExp("^((.*)\\.)?([^.]+)$"),f=new RegExp("^[a-z0-9.-]*$");t.exports=function(e,t){if(!(e=e.toLowerCase()).match(f))throw new Error("contains invalid UseSTD3ASCIIRules characters");for(var r=s,u=0;e.length&&(!t||u<t);){var c=e.match(a),h=i.toUtf8Bytes(c[3]);r=o(n.concat([r,o(h)])),e=c[2]||"",u++}return n.hexlify(r)}},{"./convert":60,"./keccak256":64,"./utf8":73}],66:[function(e,t,r){"use strict";var n=e("./convert");t.exports=function(e,t,r,i,o){var s,a,f,u=1,c=new Uint8Array(i),h=new Uint8Array(t.length+4);h.set(t);for(var d=1;d<=u;d++){h[t.length]=d>>24&255,h[t.length+1]=d>>16&255,h[t.length+2]=d>>8&255,h[t.length+3]=255&d;var l=o(e).update(h).digest();s||(s=l.length,f=new Uint8Array(s),a=i-((u=Math.ceil(i/s))-1)*s),f.set(l);for(var p=1;p<r;p++){l=o(e).update(l).digest();for(var b=0;b<s;b++)f[b]^=l[b]}var m=(d-1)*s,y=d===u?a:s;c.set(n.arrayify(f).slice(0,y),m)}return n.arrayify(c)}},{"./convert":60}],67:[function(e,t,r){"use strict";t.exports={defineFrozen:function(e,t,r){var n=JSON.stringify(r);Object.defineProperty(e,t,{enumerable:!0,get:function(){return JSON.parse(n)}})},defineProperty:function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}}},{}],68:[function(e,t,r){var n=e("./convert.js");function i(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function o(e,t,r){for(var n=0,i=0;i<r;i++)n=256*n+e[t+i];return n}function s(e,t,r,n){for(var i=[];r<t+1+n;){var o=a(e,r);if(i.push(o.result),(r+=o.consumed)>t+1+n)throw new Error("invalid rlp")}return{consumed:1+n,result:i}}function a(e,t){if(0===e.length)throw new Error("invalid rlp data");if(e[t]>=248){if(t+1+(r=e[t]-247)>e.length)throw new Error("too short");if(t+1+r+(i=o(e,t+1,r))>e.length)throw new Error("to short");return s(e,t,t+1+r,r+i)}if(e[t]>=192){if(t+1+(i=e[t]-192)>e.length)throw new Error("invalid rlp data");return s(e,t,t+1,i)}if(e[t]>=184){var r;if(t+1+(r=e[t]-183)>e.length)throw new Error("invalid rlp data");if(t+1+r+(i=o(e,t+1,r))>e.length)throw new Error("invalid rlp data");return{consumed:1+r+i,result:n.hexlify(e.slice(t+1+r,t+1+r+i))}}if(e[t]>=128){var i;if(t+1+(i=e[t]-128)>e.offset)throw new Error("invlaid rlp data");return{consumed:1+i,result:n.hexlify(e.slice(t+1,t+1+i))}}return{consumed:1,result:n.hexlify(e[t])}}t.exports={encode:function(e){return n.hexlify(function e(t){if(Array.isArray(t)){var r=[];return t.forEach(function(t){r=r.concat(e(t))}),r.length<=55?(r.unshift(192+r.length),r):((o=i(r.length)).unshift(247+o.length),o.concat(r))}return 1===(t=[].slice.call(n.arrayify(t))).length&&t[0]<=127?t:t.length<=55?(t.unshift(128+t.length),t):((o=i(t.length)).unshift(183+o.length),o.concat(t));var o}(e))},decode:function(e){var t=a(e=n.arrayify(e),0);if(t.consumed!==e.length)throw new Error("invalid rlp data");return t.result}}},{"./convert.js":60}],69:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("./convert.js");t.exports={sha256:function(e){return e=i.arrayify(e),"0x"+n.sha256().update(e).digest("hex")},sha512:function(e){return e=i.arrayify(e),"0x"+n.sha512().update(e).digest("hex")},createSha256:n.sha256,createSha512:n.sha512}},{"./convert.js":60,"hash.js":24}],70:[function(e,t,r){"use strict";var n=e("./bignumber").bigNumberify,i=e("./convert"),o=(e("./address").getAddress,e("./utf8")),s=e("./keccak256"),a=e("./sha2").sha256,f=new RegExp("^bytes([0-9]+)$"),u=new RegExp("^(u?int)([0-9]*)$"),c=new RegExp("^(.*)\\[([0-9]*)\\]$"),h="0000000000000000000000000000000000000000000000000000000000000000";function d(e,t){if(e.length!=t.length)throw new Error("type/value count mismatch");var r=[];return e.forEach(function(e,s){r.push(function e(t,r,s){switch(t){case"address":return s?i.padZeros(r,32):i.arrayify(r);case"string":return o.toUtf8Bytes(r);case"bytes":return i.arrayify(r);case"bool":return r=r?"0x01":"0x00",s?i.padZeros(r,32):i.arrayify(r)}var a=t.match(u);if(a){if(a[1],(d=parseInt(a[2]||"256"))%8!=0||0===d||d>256)throw new Error("invalid number type - "+t);return s&&(d=256),r=n(r).toTwos(d),i.padZeros(r,d/8)}if(a=t.match(f)){var d;if((d=a[1])!=parseInt(d)||0===d||d>32)throw new Error("invalid number type - "+t);if(d=parseInt(d),i.arrayify(r).byteLength!==d)throw new Error("invalid value for "+t);return s?(r+h).substring(0,66):r}if(a=t.match(c)){var l=a[1];if(parseInt(a[2]||r.length)!=r.length)throw new Error("invalid value for "+t);var p=[];return r.forEach(function(t){t=e(l,t,!0),p.push(t)}),i.concat(p)}throw new Error("unknown type - "+t)}(e,t[s]))}),i.hexlify(i.concat(r))}t.exports={pack:d,keccak256:function(e,t){return s(d(e,t))},sha256:function(e,t){return a(d(e,t))}}},{"./address":56,"./bignumber":57,"./convert":60,"./keccak256":64,"./sha2":69,"./utf8":73}],71:[function(e,t,r){"use strict";t.exports=function(e,t){var r=new Error(e);for(var n in t)r[n]=t[n];throw r}},{}],72:[function(e,t,r){var n,i,o=e("./bignumber.js").bigNumberify,s=e("./throw-error"),a=new o(0),f=new o(-1),u=(n={},i="1",["wei","kwei","Mwei","Gwei","szabo","finny","ether"].forEach(function(e){var t={decimals:i.length-1,tenPower:o(i),name:e};n[e.toLowerCase()]=t,n[String(t.decimals)]=t,i+="000"}),function(e){return n[String(e).toLowerCase()]});function c(e,t,r){"object"!=typeof t||r||(r=t,t=void 0),null==t&&(t=18);var n=u(t);e=o(e),r||(r={});var i=e.lt(a);i&&(e=e.mul(f));for(var s=e.mod(n.tenPower).toString(10);s.length<n.decimals;)s="0"+s;r.pad||(s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var c=e.div(n.tenPower).toString(10);r.commify&&(c=c.replace(/\B(?=(\d{3})+(?!\d))/g,","));e=c+"."+s;return i&&(e="-"+e),e}function h(e,t){var r=u(t||18);r||s("invalid unitType",{unitType:t}),"string"==typeof e&&e.match(/^-?[0-9.,]+$/)||s("invalid value",{input:e});var n="-"===(e=e.replace(/,/g,"")).substring(0,1);n&&(e=e.substring(1)),"."===e&&s("invalid value",{input:e});var i=e.split(".");i.length>2&&s("too many decimal points",{input:e});var a=i[0],c=i[1];for(a||(a="0"),c||(c="0"),c.length>r.decimals&&s("too many decimal places",{input:e,decimals:c.length});c.length<r.decimals;)c+="0";a=o(a),c=o(c);var h=a.mul(r.tenPower).add(c);return n&&(h=h.mul(f)),h}t.exports={formatEther:function(e,t){return c(e,18,t)},parseEther:function(e){return h(e,18)},formatUnits:c,parseUnits:h}},{"./bignumber.js":57,"./throw-error":71}],73:[function(e,t,r){var n=e("./convert.js");t.exports={toUtf8Bytes:function(e){for(var t=[],r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=63&o|128):55296==(64512&o)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return n.arrayify(t)},toUtf8String:function(e){e=n.arrayify(e);for(var t="",r=0;r<e.length;){var i=e[r++];if(i>>7!=0){if(i>>6!=2){var o=null;if(i>>5==6)o=1;else if(i>>4==14)o=2;else if(i>>3==30)o=3;else if(i>>2==62)o=4;else{if(i>>1!=126)continue;o=5}if(r+o>e.length){for(;r<e.length&&e[r]>>6==2;r++);if(r!=e.length)continue;return t}var s,a=i&(1<<8-o-1)-1;for(s=0;s<o;s++){var f=e[r++];if(f>>6!=2)break;a=a<<6|63&f}s==o?a<=65535?t+=String.fromCharCode(a):(a-=65536,t+=String.fromCharCode(55296+(a>>10&1023),56320+(1023&a))):r--}}else t+=String.fromCharCode(i)}return t}}},{"./convert.js":60}],74:[function(e,t,r){var n,i,o,s=new(e("elliptic").ec)("secp256k1"),a=e("./words.json").replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),f=(n=e("../utils/convert.js"),i=e("../utils/sha2"),o=e("../utils/hmac"),{defineProperty:e("../utils/properties.js").defineProperty,arrayify:n.arrayify,bigNumberify:e("../utils/bignumber.js").bigNumberify,hexlify:n.hexlify,toUtf8Bytes:e("../utils/utf8.js").toUtf8Bytes,sha256:i.sha256,createSha512Hmac:o.createSha512Hmac,pbkdf2:e("../utils/pbkdf2.js")}),u=f.toUtf8Bytes("Bitcoin seed");function c(e){return(1<<e)-1<<8-e}function h(e,t,r,n){if(!(this instanceof h))throw new Error("missing new");f.defineProperty(this,"_keyPair",e),f.defineProperty(this,"privateKey",f.hexlify(e.priv.toArray("be",32))),f.defineProperty(this,"publicKey","0x"+e.getPublic(!0,"hex")),f.defineProperty(this,"chainCode",f.hexlify(t)),f.defineProperty(this,"index",r),f.defineProperty(this,"depth",n)}function d(e,t){if(t)if(t.normalize)t=t.normalize("NFKD");else for(var r=0;r<t.length;r++){var n=t.charCodeAt(r);if(n<32||n>127)throw new Error("passwords with non-ASCII characters not supported in this environment")}else t="";e=f.toUtf8Bytes(e,"NFKD");var i=f.toUtf8Bytes("mnemonic"+t,"NFKD");return f.hexlify(f.pbkdf2(e,i,2048,64,f.createSha512Hmac))}function l(e){var t=e.toLowerCase().split(" ");if(t.length%3!=0)throw new Error("invalid mnemonic");for(var r=f.arrayify(new Uint8Array(Math.ceil(11*t.length/8))),n=0,i=0;i<t.length;i++){var o=a.indexOf(t[i]);if(-1===o)throw new Error("invalid mnemonic");for(var s=0;s<11;s++)o&1<<10-s&&(r[n>>3]|=1<<7-n%8),n++}var u=32*t.length/3,h=c(t.length/3),d=f.arrayify(f.sha256(r.slice(0,u/8)))[0];if((d&=h)!==(r[r.length-1]&h))throw new Error("invalid checksum");return f.hexlify(r.slice(0,u/8))}f.defineProperty(h.prototype,"_derive",function(e){if(!this.privateKey){if(e>=2147483648)throw new Error("cannot derive child of neutered node");throw new Error("not implemented")}var t=new Uint8Array(37);2147483648&e?t.set(f.arrayify(this.privateKey),1):t.set(this._keyPair.getPublic().encode(null,!0));for(var r=24;r>=0;r-=8)t[33+(r>>3)]=e>>24-r&255;var n=f.arrayify(f.createSha512Hmac(this.chainCode).update(t).digest()),i=f.bigNumberify(n.slice(0,32)),o=(n.slice(32),i.add("0x"+this._keyPair.getPrivate("hex")).mod("0x"+s.curve.n.toString(16)));return new h(s.keyFromPrivate(f.arrayify(o)),n.slice(32),e,this.depth+1)}),f.defineProperty(h.prototype,"derivePath",function(e){var t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path");"m"===t[0]&&t.shift();for(var r=this,n=0;n<t.length;n++){var i=t[n];if(i.match(/^[0-9]+'$/)){if((o=parseInt(i.substring(0,i.length-1)))>=2147483648)throw new Error("invalid path index - "+i);r=r._derive(2147483648+o)}else{if(!i.match(/^[0-9]+$/))throw new Error("invlaid path component - "+i);var o;if((o=parseInt(i))>=2147483648)throw new Error("invalid path index - "+i);r=r._derive(o)}}return r}),f.defineProperty(h,"fromMnemonic",function(e){return l(e),h.fromSeed(d(e))}),f.defineProperty(h,"fromSeed",function(e){if((e=f.arrayify(e)).length<16||e.length>64)throw new Error("invalid seed");var t=f.arrayify(f.createSha512Hmac(u).update(e).digest());return new h(s.keyFromPrivate(t.slice(0,32)),t.slice(32),0,0,0)}),t.exports={fromMnemonic:h.fromMnemonic,fromSeed:h.fromSeed,mnemonicToEntropy:l,entropyToMnemonic:function(e){if((e=f.arrayify(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");for(var t=[0],r=11,n=0;n<e.length;n++)r>8?(t[t.length-1]<<=8,t[t.length-1]|=e[n],r-=8):(t[t.length-1]<<=r,t[t.length-1]|=e[n]>>8-r,t.push(e[n]&(1<<8-r)-1),r+=3);var i=f.arrayify(f.sha256(e))[0],o=e.length/4;for(i&=c(o),t[t.length-1]<<=o,t[t.length-1]|=i>>8-o,n=0;n<t.length;n++)t[n]=a[t[n]];return t.join(" ")},mnemonicToSeed:d,isValidMnemonic:function(e){try{return l(e),!0}catch(e){}return!1}}},{"../utils/bignumber.js":57,"../utils/convert.js":60,"../utils/hmac":61,"../utils/pbkdf2.js":66,"../utils/properties.js":67,"../utils/sha2":69,"../utils/utf8.js":73,"./words.json":79,elliptic:9}],75:[function(e,t,r){"use strict";var n=e("./wallet"),i=e("./hdnode"),o=e("./signing-key");t.exports={HDNode:i,Wallet:n,SigningKey:o}},{"./hdnode":74,"./signing-key":77,"./wallet":78}],76:[function(e,t,r){"use strict";var n=e("aes-js"),i=e("scrypt-js"),o=e("uuid"),s=e("../utils/hmac"),a=e("../utils/pbkdf2"),f=e("../utils"),u=e("./signing-key"),c=e("./hdnode");function h(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),f.arrayify(e)}function d(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function l(e){return"string"==typeof e?f.toUtf8Bytes(e,"NFKC"):f.arrayify(e,"password")}function p(e,t){for(var r=e,n=t.toLowerCase().split("/"),i=0;i<n.length;i++){var o=null;for(var s in r)if(s.toLowerCase()===n[i]){o=r[s];break}if(null===o)return null;r=o}return r}var b={};f.defineProperty(b,"isCrowdsaleWallet",function(e){try{var t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}),f.defineProperty(b,"isValidWallet",function(e){try{var t=JSON.parse(e)}catch(e){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}),f.defineProperty(b,"decryptCrowdsale",function(e,t){var r=JSON.parse(e);t=l(t);var i=f.getAddress(p(r,"ethaddr")),o=h(p(r,"encseed"));if(!o||o.length%16!=0)throw new Error("invalid encseed");var c=a(t,t,2e3,32,s.createSha256Hmac).slice(0,16),d=o.slice(0,16),b=o.slice(16),m=new n.ModeOfOperation.cbc(c,d),y=f.arrayify(m.decrypt(b));y=n.padding.pkcs7.strip(y);for(var g="",v=0;v<y.length;v++)g+=String.fromCharCode(y[v]);var w=f.toUtf8Bytes(g),_=new u(f.keccak256(w));if(_.address!==i)throw new Error("corrupt crowdsale wallet");return _}),f.defineProperty(b,"decrypt",function(e,t,r){var o=JSON.parse(e);t=l(t);var d=function(e,t){var r=h(p(o,"crypto/ciphertext"));if(f.hexlify(function(e,t){return f.keccak256(f.concat([e,t]))}(e.slice(16,32),r)).substring(2)!==p(o,"crypto/mac").toLowerCase())return t(new Error("invalid password")),null;var i=function(e,t){if("aes-128-ctr"===p(o,"crypto/cipher")){var r=h(p(o,"crypto/cipherparams/iv")),i=new n.Counter(r);return h(new n.ModeOfOperation.ctr(e,i).decrypt(t))}return null}(e.slice(0,16),r),s=e.slice(32,64);if(!i)return t(new Error("unsupported cipher")),null;var a=new u(i);if(a.address!==f.getAddress(o.address))return t(new Error("address mismatch")),null;if("0.1"===p(o,"x-ethers/version")){var d=h(p(o,"x-ethers/mnemonicCiphertext")),l=h(p(o,"x-ethers/mnemonicCounter")),b=new n.Counter(l),m=new n.ModeOfOperation.ctr(s,b),y=p(o,"x-ethers/path")||"m/44'/60'/0'/0/0",g=h(m.decrypt(d)),v=c.entropyToMnemonic(g);if(c.fromMnemonic(v).derivePath(y).privateKey!=f.hexlify(i))return t(new Error("mnemonic mismatch")),null;a.mnemonic=v,a.path=y}return a};return new Promise(function(e,n){var f=p(o,"crypto/kdf");if(f&&"string"==typeof f)if("scrypt"===f.toLowerCase()){var u=h(p(o,"crypto/kdfparams/salt")),c=parseInt(p(o,"crypto/kdfparams/n")),l=parseInt(p(o,"crypto/kdfparams/r")),b=parseInt(p(o,"crypto/kdfparams/p"));if(!c||!l||!b)return void n(new Error("unsupported key-derivation function parameters"));if(0!=(c&c-1))return void n(new Error("unsupported key-derivation function parameter value for N"));if(32!==(g=parseInt(p(o,"crypto/kdfparams/dklen"))))return void n(new Error("unsupported key-derivation derived-key length"));i(t,u,c,l,b,64,function(t,i,o){if(t)t.progress=i,n(t);else if(o){o=h(o);var s=d(o,n);if(!s)return;r&&r(1),e(s)}else if(r)return r(i)})}else if("pbkdf2"===f.toLowerCase()){u=h(p(o,"crypto/kdfparams/salt"));var m=null,y=p(o,"crypto/kdfparams/prf");if("hmac-sha256"===y)m=s.createSha256Hmac;else{if("hmac-sha512"!==y)return void n(new Error("unsupported prf"));m=s.createSha512Hmac}var g,v=parseInt(p(o,"crypto/kdfparams/c"));if(32!==(g=parseInt(p(o,"crypto/kdfparams/dklen"))))return void n(new Error("unsupported key-derivation derived-key length"));var w=a(t,u,v,g,m),_=d(w,n);if(!_)return;e(_)}else n(new Error("unsupported key-derivation function"));else n(new Error("unsupported key-derivation function"))})}),f.defineProperty(b,"encrypt",function(e,t,r,s){if("function"!=typeof r||s||(s=r,r={}),r||(r={}),e instanceof u&&(e=e.privateKey),32!==(e=h(e)).length)throw new Error("invalid private key");t=l(t);var a=r.entropy;if(r.mnemonic)if(a){if(c.entropyToMnemonic(a)!==r.mnemonic)throw new Error("entropy and mnemonic mismatch")}else a=c.mnemonicToEntropy(r.mnemonic);a&&(a=h(a));var p=r.path;a&&!p&&(p="m/44'/60'/0'/0/0");var b=r.client;b||(b="ethers.js");var m=r.salt;m=m?h(m):f.randomBytes(32);var y=null;if(r.iv){if(16!==(y=h(r.iv)).length)throw new Error("invalid iv")}else y=f.randomBytes(16);var g=r.uuid;if(g){if(16!==(g=h(g)).length)throw new Error("invalid uuid")}else g=f.randomBytes(16);var v=1<<17,w=8,_=1;return r.scrypt&&(r.scrypt.N&&(v=r.scrypt.N),r.scrypt.r&&(w=r.scrypt.r),r.scrypt.p&&(_=r.scrypt.p)),new Promise(function(r,c){i(t,m,v,w,_,64,function(t,i,l){if(t)t.progress=i,c(t);else if(l){var p=(l=h(l)).slice(0,16),S=l.slice(16,32),A=l.slice(32,64),E=new u(e).address,k=new n.Counter(y),M=new n.ModeOfOperation.ctr(p,k),x=f.arrayify(M.encrypt(e)),I=f.keccak256(f.concat([S,x])),B={address:E.substring(2).toLowerCase(),id:o.v4({random:g}),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:f.hexlify(y).substring(2)},ciphertext:f.hexlify(x).substring(2),kdf:"scrypt",kdfparams:{salt:f.hexlify(m).substring(2),n:v,dklen:32,p:_,r:w},mac:I.substring(2)}};if(a){var P=f.randomBytes(16),C=new n.Counter(P),T=new n.ModeOfOperation.ctr(A,C),R=f.arrayify(T.encrypt(a)),L=new Date,N=L.getUTCFullYear()+"-"+d(L.getUTCMonth()+1,2)+"-"+d(L.getUTCDate(),2)+"T"+d(L.getUTCHours(),2)+"-"+d(L.getUTCMinutes(),2)+"-"+d(L.getUTCSeconds(),2)+".0Z";B["x-ethers"]={client:b,gethFilename:"UTC--"+N+"--"+B.address,mnemonicCounter:f.hexlify(P).substring(2),mnemonicCiphertext:f.hexlify(R).substring(2),version:"0.1"}}s&&s(1),r(JSON.stringify(B))}else if(s)return s(i)})})}),t.exports=b},{"../utils":63,"../utils/hmac":61,"../utils/pbkdf2":66,"./hdnode":74,"./signing-key":77,"aes-js":5,"scrypt-js":41,uuid:44}],77:[function(e,t,r){"use strict";var n,i=new(e("elliptic").ec)("secp256k1"),o=(n=e("../utils/convert"),{defineProperty:e("../utils/properties").defineProperty,arrayify:n.arrayify,hexlify:n.hexlify,getAddress:e("../utils/address").getAddress,keccak256:e("../utils/keccak256")});function s(e){if(!(this instanceof s))throw new Error("missing new");if(32!==(e=o.arrayify(e)).length)throw new Error("invalid private key");o.defineProperty(this,"privateKey",o.hexlify(e));var t=i.keyFromPrivate(e);o.defineProperty(this,"publicKey","0x"+t.getPublic(!0,"hex"));var r=s.publicKeyToAddress("0x"+t.getPublic(!1,"hex"));o.defineProperty(this,"address",r),o.defineProperty(this,"signDigest",function(e){var r=t.sign(o.arrayify(e),{canonical:!0});return{recoveryParam:r.recoveryParam,r:"0x"+r.r.toString(16),s:"0x"+r.s.toString(16)}})}o.defineProperty(s,"recover",function(e,t,r,n){var a={r:o.arrayify(t),s:o.arrayify(r)},f=i.recoverPubKey(o.arrayify(e),a,n);return s.publicKeyToAddress("0x"+f.encode("hex",!1))}),o.defineProperty(s,"getPublicKey",function(e,t){if(t=!!t,32===(e=o.arrayify(e)).length)return"0x"+i.keyFromPrivate(e).getPublic(t,"hex");if(33===e.length)return"0x"+i.keyFromPublic(e).getPublic(t,"hex");if(65===e.length)return"0x"+i.keyFromPublic(e).getPublic(t,"hex");throw new Error("invalid value")}),o.defineProperty(s,"publicKeyToAddress",function(e){return e="0x"+s.getPublicKey(e,!1).slice(4),o.getAddress("0x"+o.keccak256(e).substring(26))}),t.exports=s},{"../utils/address":56,"../utils/convert":60,"../utils/keccak256":64,"../utils/properties":67,elliptic:9}],78:[function(e,t,r){"use strict";var n,i=e("scrypt-js"),o=(n=e("../utils/convert"),{defineProperty:e("../utils/properties").defineProperty,arrayify:n.arrayify,concat:n.concat,hexlify:n.hexlify,stripZeros:n.stripZeros,hexZeroPad:n.hexZeroPad,bigNumberify:e("../utils/bignumber").bigNumberify,toUtf8Bytes:e("../utils/utf8").toUtf8Bytes,getAddress:e("../utils/address").getAddress,keccak256:e("../utils/keccak256"),randomBytes:e("../utils").randomBytes,RLP:e("../utils/rlp")}),s=e("./hdnode"),a=e("./secret-storage"),f=e("./signing-key");e("setimmediate");var u=[{name:"nonce",maxLength:32},{name:"gasPrice",maxLength:32},{name:"gasLimit",maxLength:32},{name:"to",length:20},{name:"value",maxLength:32},{name:"data"}];function c(e,t){if(!(this instanceof c))throw new Error("missing new");var r=e;e instanceof f||(r=new f(e)),o.defineProperty(this,"privateKey",r.privateKey),Object.defineProperty(this,"provider",{enumerable:!0,get:function(){return t},set:function(e){t=e}}),t&&(this.provider=t);var n=15e5;Object.defineProperty(this,"defaultGasLimit",{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new Error("invalid defaultGasLimit");n=e}}),o.defineProperty(this,"address",r.address),o.defineProperty(this,"sign",function(e){var t=e.chainId;!t&&this.provider&&(t=this.provider.chainId),t||(t=0);var n=[];u.forEach(function(t){var r,i=e[t.name]||[];if(i=o.arrayify(o.hexlify(i),t.name),t.length&&i.length!==t.length&&i.length>0)throw(r=new Error("invalid "+t.name)).reason="wrong length",r.value=i,r;if(t.maxLength&&(i=o.stripZeros(i)).length>t.maxLength)throw(r=new Error("invalid "+t.name)).reason="too long",r.value=i,r;n.push(o.hexlify(i))}),t&&(n.push(o.hexlify(t)),n.push("0x"),n.push("0x"));var i=o.keccak256(o.RLP.encode(n)),s=r.signDigest(i),a=27+s.recoveryParam;return t&&(n.pop(),n.pop(),n.pop(),a+=2*t+8),n.push(o.hexlify(a)),n.push(s.r),n.push(s.s),o.RLP.encode(n)})}function h(e){var t=o.concat([o.toUtf8Bytes("Ethereum Signed Message:\n"),o.toUtf8Bytes(String(e.length)),"string"==typeof e?o.toUtf8Bytes(e):e]);return o.keccak256(t)}o.defineProperty(c,"parseTransaction",function(e){e=o.hexlify(e,"rawTransaction");var t=o.RLP.decode(e);if(9!==t.length)throw new Error("invalid transaction");var r=[],n={};u.forEach(function(e,i){n[e.name]=t[i],r.push(t[i])}),n.to&&("0x"==n.to?delete n.to:n.to=o.getAddress(n.to)),["gasPrice","gasLimit","nonce","value"].forEach(function(e){n[e]&&(0===n[e].length?n[e]=o.bigNumberify(0):n[e]=o.bigNumberify(n[e]))}),n.nonce?n.nonce=n.nonce.toNumber():n.nonce=0;var i=o.arrayify(t[6]),s=o.arrayify(t[7]),a=o.arrayify(t[8]);if(1===i.length&&s.length>=1&&s.length<=32&&a.length>=1&&a.length<=32){n.v=i[0],n.r=t[7],n.s=t[8];var c=(n.v-35)/2;c<0&&(c=0),c=parseInt(c),n.chainId=c;var h=n.v-27;c&&(r.push(o.hexlify(c)),r.push("0x"),r.push("0x"),h-=2*c+8);var d=o.keccak256(o.RLP.encode(r));try{n.from=f.recover(d,s,a,h)}catch(e){console.log(e)}}return n}),o.defineProperty(c.prototype,"getAddress",function(){return this.address}),o.defineProperty(c.prototype,"getBalance",function(e){if(!this.provider)throw new Error("missing provider");return this.provider.getBalance(this.address,e)}),o.defineProperty(c.prototype,"getTransactionCount",function(e){if(!this.provider)throw new Error("missing provider");return this.provider.getTransactionCount(this.address,e)}),o.defineProperty(c.prototype,"estimateGas",function(e){if(!this.provider)throw new Error("missing provider");var t={};return["from","to","data","value"].forEach(function(r){null!=e[r]&&(t[r]=e[r])}),null==e.from&&(t.from=this.address),this.provider.estimateGas(t)}),o.defineProperty(c.prototype,"sendTransaction",function(e){if(!this.provider)throw new Error("missing provider");var t=e.gasLimit;null==t&&(t=this.defaultGasLimit);var r=this,n=null;n=e.gasPrice?Promise.resolve(e.gasPrice):this.provider.getGasPrice();var i=null;i=e.nonce?Promise.resolve(e.nonce):this.provider.getTransactionCount(r.address,"pending");var s=this.provider.chainId,a=null;a=e.to?this.provider.resolveName(e.to):Promise.resolve(void 0);var f=o.hexlify(e.data||"0x"),u=o.hexlify(e.value||0);return Promise.all([n,i,a]).then(function(e){var n=r.sign({to:e[2],data:f,gasLimit:t,gasPrice:e[0],nonce:e[1],value:u,chainId:s});return r.provider.sendTransaction(n).then(function(e){var t=c.parseTransaction(n);return t.hash=e,t.wait=function(){return r.provider.waitForTransaction(e)},t})})}),o.defineProperty(c.prototype,"send",function(e,t,r){return r||(r={}),this.sendTransaction({to:e,gasLimit:r.gasLimit,gasPrice:r.gasPrice,nonce:r.nonce,value:t})}),o.defineProperty(c.prototype,"signMessage",function(e){var t=new f(this.privateKey).signDigest(h(e));return o.hexZeroPad(t.r,32)+o.hexZeroPad(t.s,32).substring(2)+(t.recoveryParam?"1c":"1b")}),o.defineProperty(c,"verifyMessage",function(e,t){if(132!=(t=o.hexlify(t)).length)throw new Error("invalid signature");var r=h(e),n=parseInt(t.substring(130),16);if(n>=27&&(n-=27),n<0)throw new Error("invalid signature");return f.recover(r,t.substring(0,66),"0x"+t.substring(66,130),n)}),o.defineProperty(c.prototype,"encrypt",function(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw new Error("invalid callback");if(t||(t={}),this.mnemonic){var n={};for(var i in t)n[i]=t[i];(t=n).mnemonic=this.mnemonic,t.path=this.path}return a.encrypt(this.privateKey,e,t,r)}),o.defineProperty(c,"isEncryptedWallet",function(e){return a.isValidWallet(e)||a.isCrowdsaleWallet(e)}),o.defineProperty(c,"createRandom",function(e){var t=o.randomBytes(16);e||(e={}),e.extraEntropy&&(t=o.keccak256(o.concat([t,e.extraEntropy])).substring(0,34));var r=s.entropyToMnemonic(t);return c.fromMnemonic(r,e.path)}),o.defineProperty(c,"fromEncryptedWallet",function(e,t,r){if(r&&"function"!=typeof r)throw new Error("invalid callback");return new Promise(function(n,i){if(a.isCrowdsaleWallet(e))try{var s=a.decryptCrowdsale(e,t);n(new c(s))}catch(e){i(e)}else a.isValidWallet(e)?a.decrypt(e,t,r).then(function(e){var t=new c(e);e.mnemonic&&e.path&&(o.defineProperty(t,"mnemonic",e.mnemonic),o.defineProperty(t,"path",e.path)),n(t)},function(e){i(e)}):i("invalid wallet JSON")})}),o.defineProperty(c,"fromMnemonic",function(e,t){t||(t="m/44'/60'/0'/0/0");var r=new c(s.fromMnemonic(e).derivePath(t).privateKey);return o.defineProperty(r,"mnemonic",e),o.defineProperty(r,"path",t),r}),o.defineProperty(c,"fromBrainWallet",function(e,t,r){if(r&&"function"!=typeof r)throw new Error("invalid callback");return e="string"==typeof e?o.toUtf8Bytes(e,"NFKC"):o.arrayify(e,"password"),t="string"==typeof t?o.toUtf8Bytes(t,"NFKC"):o.arrayify(t,"password"),new Promise(function(n,s){i(t,e,1<<18,8,1,32,function(e,t,i){if(e)s(e);else if(i)n(new c(o.hexlify(i)));else if(r)return r(t)})})}),t.exports=c},{"../utils":63,"../utils/address":56,"../utils/bignumber":57,"../utils/convert":60,"../utils/keccak256":64,"../utils/properties":67,"../utils/rlp":68,"../utils/utf8":73,"./hdnode":74,"./secret-storage":76,"./signing-key":77,"scrypt-js":41,setimmediate:42}],79:[function(e,t,r){t.exports="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo"},{}]},{},[4])(4)});var saveAs=saveAs||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},r=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in r,i=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},a=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},f=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(u,c,h){h||(u=f(u));var d,l=this,p="application/octet-stream"===u.type,b=function(){!function(e,t,r){for(var n=(t=[].concat(t)).length;n--;){var i=e["on"+t[n]];if("function"==typeof i)try{i.call(e,r||e)}catch(e){s(e)}}}(l,"writestart progress write writeend".split(" "))};if(l.readyState=l.INIT,n)return d=t().createObjectURL(u),void setTimeout(function(){var e,t;r.href=d,r.download=c,e=r,t=new MouseEvent("click"),e.dispatchEvent(t),b(),a(d),l.readyState=l.DONE});!function(){if((o||p&&i)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=o?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,l.readyState=l.DONE,b()},r.readAsDataURL(u),void(l.readyState=l.INIT)}d||(d=t().createObjectURL(u)),p?e.location.href=d:e.open(d,"_blank")||(e.location.href=d);l.readyState=l.DONE,b(),a(d)}()},c=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return t=t||e.name||"download",r||(e=f(e)),navigator.msSaveOrOpenBlob(e,t)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=c.onwritestart=c.onprogress=c.onwrite=c.onabort=c.onerror=c.onwriteend=null,function(e,t,r){return new u(e,t||e.name||"download",r)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content),QRCode;"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs}),function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var f="function"==typeof require&&require;if(!a&&f)return f(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r||e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){(function(t){var r=t.keythereum||e("./");t.keythereum=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":2}],2:[function(e,t,r){(function(r,n){"use strict";var i=e("path"),o=e("fs"),s=e("crypto"),a=e("sjcl"),f=e("uuid"),u=e("secp256k1/elliptic"),c=e("keccak/js"),h=e("./lib/scrypt");function d(e){return"function"==typeof e}function l(e){return c("keccak256").update(e).digest()}t.exports={version:"1.0.2",browser:void 0===r||!r.nextTick||Boolean(r.browser),crypto:s,constants:{quiet:!1,cipher:"aes-128-ctr",ivBytes:16,keyBytes:32,pbkdf2:{c:262144,dklen:32,hash:"sha256",prf:"hmac-sha256"},scrypt:{memory:28e7,dklen:32,n:262144,r:1,p:8}},isHex:function(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/i))},isBase64:function(e){var t;return!(e.length%4>0||e.match(/[^0-9a-z+\/=]/i))&&!(-1!==(t=e.indexOf("="))&&!e.slice(t).match(/={1,2}/))},str2buf:function(e,t){return e&&e.constructor===String?(!t&&this.isHex(e)&&(t="hex"),!t&&this.isBase64(e)&&(t="base64"),n.from(e,t)):e},isCipherAvailable:function(e){return s.getCiphers().some(function(t){return t===e})},encrypt:function(e,t,r,i){var o,a;if(i=i||this.constants.cipher,!this.isCipherAvailable(i))throw new Error(i+" is not available");return a=(o=s.createCipheriv(i,this.str2buf(t),this.str2buf(r))).update(this.str2buf(e)),n.concat([a,o.final()])},decrypt:function(e,t,r,i){var o,a;if(i=i||this.constants.cipher,!this.isCipherAvailable(i))throw new Error(i+" is not available");return a=(o=s.createDecipheriv(i,this.str2buf(t),this.str2buf(r))).update(this.str2buf(e)),n.concat([a,o.final()])},privateKeyToAddress:function(e){var t;return(t=this.str2buf(e)).length<32&&(t=n.concat([n.alloc(32-t.length,0),t])),"0x"+l(u.publicKeyCreate(t,!1).slice(1)).slice(-20).toString("hex")},getMAC:function(e,t){if(void 0!==e&&null!==e&&void 0!==t&&null!==t)return l(n.concat([this.str2buf(e).slice(16,32),this.str2buf(t)])).toString("hex")},deriveKey:function(e,t,r,i){var o,f=this;if(void 0===e||null===e||!t)throw new Error("Must provide password and salt to derive a key");if((r=r||{}).kdfparams=r.kdfparams||{},e=this.str2buf(e,"utf8"),t=this.str2buf(t),"scrypt"===r.kdf){if(d(h)&&(h=h(r.kdfparams.memory||f.constants.scrypt.memory)),!d(i))return n.from(h.to_hex(h.crypto_scrypt(e,t,r.kdfparams.n||this.constants.scrypt.n,r.kdfparams.r||this.constants.scrypt.r,r.kdfparams.p||this.constants.scrypt.p,r.kdfparams.dklen||this.constants.scrypt.dklen)),"hex");setTimeout(function(){i(n.from(h.to_hex(h.crypto_scrypt(e,t,r.kdfparams.n||f.constants.scrypt.n,r.kdfparams.r||f.constants.scrypt.r,r.kdfparams.p||f.constants.scrypt.p,r.kdfparams.dklen||f.constants.scrypt.dklen)),"hex"))},0)}else{if("hmac-sha256"===(o=r.kdfparams.prf||this.constants.pbkdf2.prf)&&(o="sha256"),!d(i))return this.crypto.pbkdf2Sync?s.pbkdf2Sync(e,t,r.kdfparams.c||this.constants.pbkdf2.c,r.kdfparams.dklen||this.constants.pbkdf2.dklen,o):n.from(a.codec.hex.fromBits(a.misc.pbkdf2(e.toString("utf8"),a.codec.hex.toBits(t.toString("hex")),r.kdfparams.c||f.constants.pbkdf2.c,8*(r.kdfparams.dklen||f.constants.pbkdf2.dklen))),"hex");this.crypto.pbkdf2?s.pbkdf2(e,t,r.kdfparams.c||this.constants.pbkdf2.c,r.kdfparams.dklen||this.constants.pbkdf2.dklen,o,function(e,t){if(e)return i(e);i(t)}):setTimeout(function(){i(n.from(a.codec.hex.fromBits(a.misc.pbkdf2(e.toString("utf8"),a.codec.hex.toBits(t.toString("hex")),r.kdfparams.c||f.constants.pbkdf2.c,8*(r.kdfparams.dklen||f.constants.pbkdf2.dklen))),"hex"))},0)}},create:function(e,t){var r,n,i=this;function o(o){var s=o.slice(0,r);return u.privateKeyVerify(s)?{privateKey:s,iv:o.slice(r,r+n),salt:o.slice(r+n)}:i.create(e,t)}if(r=(e=e||{}).keyBytes||this.constants.keyBytes,n=e.ivBytes||this.constants.ivBytes,!d(t))return o(s.randomBytes(r+n+r));s.randomBytes(r+n+r,function(e,r){if(e)return t(e);t(o(r))})},marshal:function(e,t,r,n,i){var o,s,a;return(i=i||{}).kdfparams=i.kdfparams||{},a=i.cipher||this.constants.cipher,o=this.encrypt(t,e.slice(0,16),n,a).toString("hex"),s={address:this.privateKeyToAddress(t).slice(2),crypto:{cipher:i.cipher||this.constants.cipher,ciphertext:o,cipherparams:{iv:n.toString("hex")},mac:this.getMAC(e,o)},id:f.v4(),version:3},"scrypt"===i.kdf?(s.crypto.kdf="scrypt",s.crypto.kdfparams={dklen:i.kdfparams.dklen||this.constants.scrypt.dklen,n:i.kdfparams.n||this.constants.scrypt.n,r:i.kdfparams.r||this.constants.scrypt.r,p:i.kdfparams.p||this.constants.scrypt.p,salt:r.toString("hex")}):(s.crypto.kdf="pbkdf2",s.crypto.kdfparams={c:i.kdfparams.c||this.constants.pbkdf2.c,dklen:i.kdfparams.dklen||this.constants.pbkdf2.dklen,prf:i.kdfparams.prf||this.constants.pbkdf2.prf,salt:r.toString("hex")}),s},dump:function(e,t,r,n,i,o){if(i=i||{},n=this.str2buf(n),t=this.str2buf(t),!d(o))return this.marshal(this.deriveKey(e,r,i),t,r,n,i);this.deriveKey(e,r,i,function(e){o(this.marshal(e,t,r,n,i))}.bind(this))},recover:function(e,t,r){var n,i,o,s,a,f=this;function u(e,r,i,o,s){var a;if(f.getMAC(e,o)!==n.mac)throw new Error("message authentication code mismatch");return a="1"===t.version?l(e.slice(0,16)).slice(0,16):e.slice(0,16),f.decrypt(o,a,i,s)}if(n=t.Crypto||t.crypto,i=this.str2buf(n.cipherparams.iv),o=this.str2buf(n.kdfparams.salt),s=this.str2buf(n.ciphertext),a=n.cipher,"pbkdf2"===n.kdf&&"hmac-sha256"!==n.kdfparams.prf)throw new Error("PBKDF2 only supported with HMAC-SHA256");if(!d(r))return u(this.deriveKey(e,o,n),0,i,s,a);this.deriveKey(e,o,n,function(e){var t;try{t=u(e,0,i,s,a)}catch(e){return void r(e,null)}r(null,t)})},generateKeystoreFilename:function(e){var t="UTC--"+(new Date).toISOString()+"--"+e;return"win32"===r.platform&&(t=t.split(":").join("-")),t},exportToFile:function(e,t,r){var n,s,a,f=this;function u(e){f.constants.quiet||console.log("Saved to file:\n"+e+"\nTo use with geth, copy this file to your Ethereum keystore folder (usually ~/.ethereum/keystore).")}return t=t||"keystore",n=this.generateKeystoreFilename(e.address),s=i.join(t,n),a=JSON.stringify(e),this.browser?d(r)?r(a):a:d(r)?void o.writeFile(s,a,function(e){if(e)throw e;u(s),r(s)}):(o.writeFileSync(s,a),u(s),s)},importFromFile:function(e,t,n){var s,a;function f(e,t,r){var n,s,a=null;for(n=0,s=r.length;n<s;++n)if(r[n].indexOf(t)>-1){a=i.join(e,r[n]),o.lstatSync(a).isDirectory()&&(a=i.join(a,r[n]));break}return a}if(e=e.replace("0x",""),this.browser)throw new Error("method only available in Node.js");if(t=t||i.join(r.env.HOME,".ethereum"),s=i.join(t,"keystore"),!d(n)){if(!(a=f(s,e,o.readdirSync(s))))throw new Error("could not find key file for address "+e);return JSON.parse(o.readFileSync(a))}o.readdir(s,function(t,r){var i;return t?n(t):(i=f(s,e,r))?n(JSON.parse(o.readFileSync(i))):new Error("could not find key file for address "+e)})}}}).call(this,e("_process"),e("buffer").Buffer)},{"./lib/scrypt":3,_process:133,buffer:53,crypto:62,fs:50,"keccak/js":110,path:126,"secp256k1/elliptic":157,sjcl:171,uuid:176}],3:[function(require,module,exports){(function(process,__dirname){module.exports=function(requested_total_memory){var Module={TOTAL_MEMORY:requested_total_memory||33554432},scrypt_raw=Module;function g(e){throw e}var k=void 0,l=!0,m=null,p=!1,q,s;function aa(){return function(){}}s||(s=eval("(function() { try { return Module || {} } catch(e) { return {} } })()"));var ba={},t;for(t in s)s.hasOwnProperty(t)&&(ba[t]=s[t]);var ca="object"==typeof process&&"function"==typeof require,da="object"==typeof window,ea="function"==typeof importScripts,fa=!da&&!ca&&!ea,oa;if(ca){s.print=function(e){process.stdout.write(e+"\n")},s.printErr=function(e){process.stderr.write(e+"\n")};var ga=require("fs"),ha=require("path");s.read=function(e,t){e=ha.normalize(e);var r=ga.readFileSync(e);return!r&&e!=ha.resolve(e)&&(e=path.join(__dirname,"..","src",e),r=ga.readFileSync(e)),r&&!t&&(r=r.toString()),r},s.readBinary=function(e){return s.read(e,l)},s.load=function(e){ia(read(e))},s.arguments=process.argv.slice(2),module.ee=s}else fa?(s.print=print,"undefined"!=typeof printErr&&(s.printErr=printErr),s.read=read,s.readBinary=function(e){return read(e,"binary")},"undefined"!=typeof scriptArgs?s.arguments=scriptArgs:void 0!==arguments&&(s.arguments=arguments),this.Module=s):da||ea?(s.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,p),t.send(m),t.responseText},void 0!==arguments&&(s.arguments=arguments),da?(s.print=function(e){console.log(e)},s.printErr=function(e){console.log(e)},this.Module=s):ea&&(s.print=aa(),s.load=importScripts)):g("Unknown runtime environment. Where are we?");function ia(e){eval.call(m,e)}for(t in"undefined"==!s.load&&s.read&&(s.load=function(e){ia(s.read(e))}),s.print||(s.print=aa()),s.printErr||(s.printErr=s.print),s.arguments||(s.arguments=[]),s.print=s.print,s.P=s.printErr,s.preRun=[],s.postRun=[],ba)ba.hasOwnProperty(t)&&(s[t]=ba[t]);function ja(){return u}function ka(e){u=e}function la(e){if(1==ma)return 1;var t={"%i1":1,"%i8":1,"%i16":2,"%i32":4,"%i64":8,"%float":4,"%double":8}["%"+e];return t||("*"==e.charAt(e.length-1)?t=ma:"i"==e[0]&&(w(0==(e=parseInt(e.substr(1)))%8),t=e/8)),t}function na(e,t,r){r&&r.length?(r.splice||(r=Array.prototype.slice.call(r)),r.splice(0,0,t),s["dynCall_"+e].apply(m,r)):s["dynCall_"+e].call(m,t)}function pa(){var e=[],t=0;this.oa=function(r){if(r&=255,t&&(e.push(r),t--),0==e.length)return 128>r?String.fromCharCode(r):(e.push(r),t=191<r&&224>r?1:2,"");if(0<t)return"";r=e[0];var n=e[1],i=e[2];r=191<r&&224>r?String.fromCharCode((31&r)<<6|63&n):String.fromCharCode((15&r)<<12|(63&n)<<6|63&i);return e.length=0,r},this.yb=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r));return t}}function qa(e){var t=u;return u=(u=u+e|0)+7>>3<<3,t}function ra(e){var t=sa;return sa=(sa=sa+e|0)+7>>3<<3,t}function ua(e){var t=z;return(z=(z=z+e|0)+7>>3<<3)>=va&&wa("Cannot enlarge memory arrays in asm.js. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value, or (2) set Module.TOTAL_MEMORY before the program runs."),t}function xa(e,t){return Math.ceil(e/(t||8))*(t||8)}var ma=4,ya={},za=p,Aa;function w(e,t){e||wa("Assertion failed: "+t)}function Ca(a){try{var b=s["_"+a];b||(b=eval("_"+a))}catch(e){}return w(b,"Cannot call unknown function "+a+" (perhaps LLVM optimizations or closure removed it?)"),b}function Ba(e,t,r,n){var i=0,o=0;n=n?n.map(function(e){return function(e,t){if("string"==t){if(e===m||e===k||0===e)return 0;i||(i=ja());var r=qa(e.length+1);return Da(e,r),r}return"array"==t?(i||(i=ja()),Ea(e,r=qa(e.length)),r):e}(e,r[o++])}):[];return e=e.apply(m,n),"string"==t?t=Fa(e):(w("array"!=t),t=e),i&&ka(i),t}function Ga(e,t,r){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":A[e]=t;break;case"i16":Ha[e>>1]=t;break;case"i32":B[e>>2]=t;break;case"i64":Aa=[t>>>0,(0|Math.min(+Math.floor(t/4294967296),4294967295))>>>0],B[e>>2]=Aa[0],B[e+4>>2]=Aa[1];break;case"float":Ia[e>>2]=t;break;case"double":Ja[e>>3]=t;break;default:wa("invalid type for setValue: "+r)}}s.ccall=function(e,t,r,n){return Ba(Ca(e),t,r,n)},s.cwrap=function(e,t,r){var n=Ca(e);return function(){return Ba(n,t,r,Array.prototype.slice.call(arguments))}},s.setValue=Ga,s.getValue=function(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return A[e];case"i16":return Ha[e>>1];case"i32":case"i64":return B[e>>2];case"float":return Ia[e>>2];case"double":return Ja[e>>3];default:wa("invalid type for setValue: "+t)}return m};var Ka=0,La=1,E=2,Na=4;function F(e,t,r,n){var i,o;"number"==typeof e?(i=l,o=e):(i=p,o=e.length);var s="string"==typeof t?t:m;r=r==Na?n:[Oa,qa,ra,ua][r===k?E:r](Math.max(o,s?1:t.length));if(i){for(n=r,w(0==(3&r)),e=r+(-4&o);n<e;n+=4)B[n>>2]=0;for(e=r+o;n<e;)A[0|n++]=0;return r}if("i8"===s)return e.subarray||e.slice?G.set(e,r):G.set(new Uint8Array(e),r),r;var a,f;for(n=0;n<o;){var u=e[n];"function"==typeof u&&(u=ya.fe(u)),0===(i=s||t[n])?n++:("i64"==i&&(i="i32"),Ga(r+n,u,i),f!==i&&(a=la(i),f=i),n+=a)}return r}function Fa(e,t){for(var r,n=p,i=0;;){if(128<=(r=G[e+i|0]))n=l;else if(0==r&&!t)break;if(i++,t&&i==t)break}t||(t=i);var o="";if(!n){for(;0<t;)r=String.fromCharCode.apply(String,G.subarray(e,e+Math.min(t,1024))),o=o?o+r:r,e+=1024,t-=1024;return o}for(n=new pa,i=0;i<t;i++)r=G[e+i|0],o+=n.oa(r);return o}s.ALLOC_NORMAL=Ka,s.ALLOC_STACK=La,s.ALLOC_STATIC=E,s.ALLOC_DYNAMIC=3,s.ALLOC_NONE=Na,s.allocate=F,s.Pointer_stringify=Fa;var A,G,Ha,Pa,B,Qa,Ia,Ja,Ra=0,sa=0,Sa=0,u=0,Ta=0,Ua=0,z=0,va=s.TOTAL_MEMORY||33554432;w(!!(Int32Array&&Float64Array&&new Int32Array(1).subarray&&new Int32Array(1).set),"Cannot fallback to non-typed array case: Code is too specialized");var I=new ArrayBuffer(va);function Va(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var r=t.V;"number"==typeof r?t.ha===k?na("v",r):na("vi",r,[t.ha]):r(t.ha===k?m:t.ha)}}}A=new Int8Array(I),Ha=new Int16Array(I),B=new Int32Array(I),G=new Uint8Array(I),Pa=new Uint16Array(I),Qa=new Uint32Array(I),Ia=new Float32Array(I),Ja=new Float64Array(I),B[0]=255,w(255===G[0]&&0===G[3],"Typed arrays 2 must be run on a little-endian system"),s.HEAP=k,s.HEAP8=A,s.HEAP16=Ha,s.HEAP32=B,s.HEAPU8=G,s.HEAPU16=Pa,s.HEAPU32=Qa,s.HEAPF32=Ia,s.HEAPF64=Ja;var Wa=[],Xa=[],Ya=[],Za=[],$a=[],ab=p;function bb(e){Wa.unshift(e)}function cb(e){$a.unshift(e)}function J(e,t,r){return e=(new pa).yb(e),r&&(e.length=r),t||e.push(0),e}function Da(e,t,r){for(e=J(e,r),r=0;r<e.length;)A[t+r|0]=e[r],r+=1}function Ea(e,t){for(var r=0;r<e.length;r++)A[t+r|0]=e[r]}function db(e,t){return 0<=e?e:32>=t?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function eb(e,t){if(0>=e)return e;var r=32>=t?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=r&&(32>=t||e>r)&&(e=-2*r+e),e}s.addOnPreRun=s.Vd=bb,s.addOnInit=s.Sd=function(e){Xa.unshift(e)},s.addOnPreMain=s.Ud=function(e){Ya.unshift(e)},s.addOnExit=s.Rd=function(e){Za.unshift(e)},s.addOnPostRun=s.Td=cb,s.intArrayFromString=J,s.intArrayToString=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];255<n&&(n&=255),t.push(String.fromCharCode(n))}return t.join("")},s.writeStringToMemory=Da,s.writeArrayToMemory=Ea,Math.imul||(Math.imul=function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16)*n+r*(t>>>16)<<16)|0}),Math.ie=Math.imul;var L=0,fb={},gb=p,hb=m,nb,ob,pb;function ib(e){L++,s.monitorRunDependencies&&s.monitorRunDependencies(L),e?(w(!fb[e]),fb[e]=1):s.P("warning: run dependency added without ID")}function jb(e){L--,s.monitorRunDependencies&&s.monitorRunDependencies(L),e?(w(fb[e]),delete fb[e]):s.P("warning: run dependency removed without ID"),0==L&&(hb!==m&&(clearInterval(hb),hb=m),!gb&&kb&&lb())}s.addRunDependency=ib,s.removeRunDependency=jb,s.preloadedImages={},s.preloadedAudios={},Ra=8,sa=Ra+1312,Xa.push({V:function(){mb()}}),nb=nb=F([0,0,0,0,0,0,0,0],"i8",E),ob=ob=F([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",E),pb=pb=F([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",E),F([111,112,116,105,111,110,32,114,101,113,117,105,114,101,115,32,97,110,32,97,114,103,117,109,101,110,116,32,45,45,32,37,115,0,0,0,0,0,0,0,111,112,116,105,111,110,32,114,101,113,117,105,114,101,115,32,97,110,32,97,114,103,117,109,101,110,116,32,45,45,32,37,99,0,0,0,0,0,0,0,0,0,0,0,0,0,36,64,0,0,0,0,0,0,89,64,0,0,0,0,0,136,195,64,0,0,0,0,132,215,151,65,0,128,224,55,121,195,65,67,23,110,5,181,181,184,147,70,245,249,63,233,3,79,56,77,50,29,48,249,72,119,130,90,60,191,115,127,221,79,21,117,56,3,0,0,0,0,0,0,63,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,255,255,255,255,0,0,0,0,111,112,116,105,111,110,32,100,111,101,115,110,39,116,32,116,97,107,101,32,97,110,32,97,114,103,117,109,101,110,116,32,45,45,32,37,46,42,115,0,117,110,107,110,111,119,110,32,111,112,116,105,111,110,32,45,45,32,37,115,0,0,0,0,117,110,107,110,111,119,110,32,111,112,116,105,111,110,32,45,45,32,37,99,0,0,0,0,255,255,255,255,0,0,0,0,97,109,98,105,103,117,111,117,115,32,111,112,116,105,111,110,32,45,45,32,37,46,42,115,0,0,0,0,0,0,0,0,37,115,58,32,0,0,0,0,80,79,83,73,88,76,89,95,67,79,82,82,69,67,84,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,0,37,115,58,32,0,0,0,0,37,115,10,0,0,0,0,0,37,115,10,0,0,0,0,0,105,110,32,117,115,101,32,98,121,116,101,115,32,32,32,32,32,61,32,37,49,48,108,117,10,0,0,0,0,0,0,0,37,115,58,32,0,0,0,0,37,115,58,32,0,0,0,0,98,97,100,95,97,114,114,97,121,95,110,101,119,95,108,101,110,103,116,104,0,0,0,0,58,32,0,0,0,0,0,0,58,32,0,0,0,0,0,0,115,121,115,116,101,109,32,98,121,116,101,115,32,32,32,32,32,61,32,37,49,48,108,117,10,0,0,0,0,0,0,0,109,97,120,32,115,121,115,116,101,109,32,98,121,116,101,115,32,61,32,37,49,48,108,117,10,0,0,0,0,0,0,0,0,0,0,0,176,2,0,0,6,0,0,0,10,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,2,0,0,6,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,83,116,57,101,120,99,101,112,116,105,111,110,0,0,0,0,83,116,57,98,97,100,95,97,108,108,111,99,0,0,0,0,83,116,50,48,98,97,100,95,97,114,114,97,121,95,110,101,119,95,108,101,110,103,116,104,0,0,0,0,0,0,0,0,0,0,0,0,104,2,0,0,0,0,0,0,120,2,0,0,168,2,0,0,0,0,0,0,0,0,0,0,136,2,0,0,176,2,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",Na,8);var qb=xa(F(12,"i8",E),8);w(0==qb%8);var rb=0;function M(e){return B[rb>>2]=e}s._memcpy=sb,s._memset=tb;var N={L:1,ca:2,Bd:3,sc:4,I:5,za:6,Jb:7,Sc:8,$:9,Zb:10,ua:11,Ld:11,$a:12,Ya:13,kc:14,ed:15,Wb:16,va:17,Md:18,wa:19,gd:20,aa:21,A:22,Mc:23,Za:24,ld:25,Id:26,lc:27,ad:28,da:29,yd:30,Fc:31,rd:32,hc:33,ab:34,Wc:35,pc:36,$b:37,vc:38,wc:39,xc:40,Ec:41,Jd:42,Qc:43,uc:44,ec:45,Tc:46,Pb:50,Sb:51,Nd:52,Oc:53,Tb:54,Ub:55,fc:56,Vb:57,cd:60,Rc:61,Fd:62,bd:63,Xc:64,Yc:65,xd:66,Uc:67,Mb:68,Cd:69,ac:70,td:71,Hc:74,yc:75,ic:76,Rb:77,mc:79,md:80,Qb:81,wd:82,zc:83,Ac:84,Dc:85,Cc:86,Bc:87,dd:88,Nc:89,ya:90,Ic:91,ba:92,nd:95,qd:96,dc:104,Pc:105,Nb:106,vd:107,jd:108,Zc:109,zd:110,cc:111,Kb:112,bc:113,Lc:114,Jc:115,Gd:116,nc:117,oc:118,rc:119,Ob:120,gc:121,Gc:122,ud:123,Ad:124,Lb:125,Kc:126,tc:127,fd:128,Hd:129,sd:130,Kd:131,jc:132,Dd:133,kd:134,Vc:135,$c:136,Yb:137,qc:138,od:139,Xb:140,hd:141,pd:142,Ed:143},ub={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"No message of desired type",36:"Identifier removed",37:"Channel number out of range",38:"Level 2 not synchronized",39:"Level 3 halted",40:"Level 3 reset",41:"Link number out of range",42:"Protocol driver not attached",43:"No CSI structure available",44:"Level 2 halted",45:"Deadlock condition",46:"No record locks available",50:"Invalid exchange",51:"Invalid request descriptor",52:"Exchange full",53:"No anode",54:"Invalid request code",55:"Invalid slot",56:"File locking deadlock error",57:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",74:"Multihop attempted",75:"Inode is remote (not really error)",76:"Cross mount point (not really error)",77:"Trying to read unreadable message",79:"Inappropriate file type or format",80:"Given log. name not unique",81:"f.d. invalid for this operation",82:"Remote address changed",83:"Can\t access a needed shared lib",84:"Accessing a corrupted shared lib",85:".lib section in a.out corrupted",86:"Attempting to link in too many libs",87:"Attempting to exec a shared library",88:"Function not implemented",89:"No more files",90:"Directory not empty",91:"File or path name too long",92:"Too many symbolic links",95:"Operation not supported on transport endpoint",96:"Protocol family not supported",104:"Connection reset by peer",105:"No buffer space available",106:"Address family not supported by protocol family",107:"Protocol wrong type for socket",108:"Socket operation on non-socket",109:"Protocol not available",110:"Can't send after socket shutdown",111:"Connection refused",112:"Address already in use",113:"Connection aborted",114:"Network is unreachable",115:"Network interface is not configured",116:"Connection timed out",117:"Host is down",118:"Host is unreachable",119:"Connection already in progress",120:"Socket already connected",121:"Destination address required",122:"Message too long",123:"Unknown protocol",124:"Socket type not supported",125:"Address not available",126:"ENETRESET",127:"Socket is already connected",128:"Socket is not connected",129:"TOOMANYREFS",130:"EPROCLIM",131:"EUSERS",132:"EDQUOT",133:"ESTALE",134:"Not supported",135:"No medium (in tape drive)",136:"No such host or network path",137:"Filename exists with different case",138:"EILSEQ",139:"Value too large for defined data type",140:"Operation canceled",141:"State not recoverable",142:"Previous owner died",143:"Streams pipe error"};function vb(e,t,r){var n=O(e,{parent:l}).d,i=xb(n,e="/"===e?"/":wb(e)[2]);return i&&g(new Q(i)),n.l.Ta||g(new Q(N.L)),n.l.Ta(n,e,t,r)}function yb(e,t){return vb(e,t=4095&t|32768,0)}function zb(e,t){return vb(e,t=1023&t|16384,0)}function Ab(e,t,r){return vb(e,8192|t,r)}function Bb(e,t){var r=O(t,{parent:l}).d,n="/"===t?"/":wb(t)[2],i=xb(r,n);return i&&g(new Q(i)),r.l.Wa||g(new Q(N.L)),r.l.Wa(r,n,e)}function Cb(e,t){var r;(r="string"==typeof e?O(e,{N:l}).d:e).l.Y||g(new Q(N.L)),r.l.Y(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})}function Db(e,t){var r,n,i;e=Eb(e);"string"==typeof t?void 0===(n=Fb[t])&&g(Error("Unknown file open mode: "+t)):n=t,r=512&(t=n)?4095&r|32768:0;try{var o=O(e,{N:!(65536&t)});i=o.d,e=o.path}catch(e){}512&t&&(i?2048&t&&g(new Q(N.va)):i=vb(e,r,0)),i||g(new Q(N.ca)),8192==(61440&i.mode)&&(t&=-1025),i?40960==(61440&i.mode)?r=N.ba:16384==(61440&i.mode)&&(0!=(3&t)||1024&t)?r=N.aa:(r=["r","w","rw"][3&t],1024&t&&(r+="w"),r=Gb(i,r)):r=N.ca,r&&g(new Q(r)),1024&t&&((r="string"==typeof(r=i)?O(r,{N:l}).d:r).l.Y||g(new Q(N.L)),16384==(61440&r.mode)&&g(new Q(N.aa)),32768!=(61440&r.mode)&&g(new Q(N.A)),(o=Gb(r,"w"))&&g(new Q(o)),r.l.Y(r,{size:0,timestamp:Date.now()}));var s,a={path:e,d:i,M:t,seekable:l,position:0,e:i.e,Gb:[],error:p};e:{for(i=k||4096,r=k||1;r<=i;r++)if(!R[r]){s=r;break e}g(new Q(N.Za))}return a.s=s,Object.defineProperty(a,"object",{get:function(){return a.d},set:function(e){a.d=e}}),Object.defineProperty(a,"isRead",{get:function(){return 1!=(3&a.M)}}),Object.defineProperty(a,"isWrite",{get:function(){return 0!=(3&a.M)}}),Object.defineProperty(a,"isAppend",{get:function(){return 8&a.M}}),R[s]=a,a.e.open&&a.e.open(a),a}function Hb(e){try{e.e.close&&e.e.close(e)}catch(e){g(e)}finally{R[e.s]=m}}function Ib(e,t,r,n,i){(0>n||0>i)&&g(new Q(N.A)),0==(3&e.M)&&g(new Q(N.$)),16384==(61440&e.d.mode)&&g(new Q(N.aa)),e.e.write||g(new Q(N.A));var o=l;return void 0===i?(i=e.position,o=p):e.seekable||g(new Q(N.da)),8&e.M&&((!e.seekable||!e.e.na)&&g(new Q(N.da)),e.e.na(e,0,2)),t=e.e.write(e,t,r,n,i),o||(e.position+=t),t}function wb(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)}function Jb(e,t){for(var r=0,n=e.length-1;0<=n;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function Eb(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return!(e=Jb(e.split("/").filter(function(e){return!!e}),!t).join("/"))&&!t&&(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function S(){return Eb(Array.prototype.slice.call(arguments,0).filter(function(e){return"string"!=typeof e&&g(new TypeError("Arguments to path.join must be strings")),e}).join("/"))}function Kb(){for(var e="",t=p,r=arguments.length-1;-1<=r&&!t;r--){var n=0<=r?arguments[r]:"/";"string"!=typeof n&&g(new TypeError("Arguments to path.resolve must be strings")),n&&(e=n+"/"+e,t="/"===n.charAt(0))}return e=Jb(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."}var Lb=[];function Mb(e,t){Lb[e]={input:[],H:[],O:t},Nb[e]={e:Ob}}var Ob={open:function(e){Pb||(Pb=new pa);var t=Lb[e.d.X];t||g(new Q(N.wa)),e.q=t,e.seekable=p},close:function(e){e.q.H.length&&e.q.O.W(e.q,10)},Q:function(e,t,r,n){(!e.q||!e.q.O.Na)&&g(new Q(N.za));for(var i=0,o=0;o<n;o++){var s;try{s=e.q.O.Na(e.q)}catch(e){g(new Q(N.I))}if(s===k&&0===i&&g(new Q(N.ua)),s===m||s===k)break;i++,t[r+o]=s}return i&&(e.d.timestamp=Date.now()),i},write:function(e,t,r,n){(!e.q||!e.q.O.W)&&g(new Q(N.za));for(var i=0;i<n;i++)try{e.q.O.W(e.q,t[r+i])}catch(e){g(new Q(N.I))}return n&&(e.d.timestamp=Date.now()),i}},Pb,T={z:function(){return T.ka(m,"/",16895,0)},ka:function(e,t,r,n){return(24576==(61440&r)||4096==(61440&r))&&g(new Q(N.L)),(r=Qb(e,t,r,n)).l=T.l,16384==(61440&r.mode)?(r.e=T.e,r.g={}):32768==(61440&r.mode)?(r.e=T.e,r.g=[]):40960==(61440&r.mode)?r.e=T.e:8192==(61440&r.mode)&&(r.e=Rb),r.timestamp=Date.now(),e&&(e.g[t]=r),r},l:{ge:function(e){var t={};return t.ce=8192==(61440&e.mode)?e.id:1,t.je=e.id,t.mode=e.mode,t.pe=1,t.uid=0,t.he=0,t.X=e.X,t.size=16384==(61440&e.mode)?4096:32768==(61440&e.mode)?e.g.length:40960==(61440&e.mode)?e.link.length:0,t.Yd=new Date(e.timestamp),t.oe=new Date(e.timestamp),t.ae=new Date(e.timestamp),t.ib=4096,t.Zd=Math.ceil(t.size/t.ib),t},Y:function(e,t){if(t.mode!==k&&(e.mode=t.mode),t.timestamp!==k&&(e.timestamp=t.timestamp),t.size!==k){var r=e.g;if(t.size<r.length)r.length=t.size;else for(;t.size>r.length;)r.push(0)}},tb:function(){g(new Q(N.ca))},Ta:function(e,t,r,n){return T.ka(e,t,r,n)},rename:function(e,t,r){if(16384==(61440&e.mode)){var n;try{n=Sb(t,r)}catch(e){}if(n)for(var i in n.g)g(new Q(N.ya))}delete e.parent.g[e.name],e.name=r,t.g[r]=e},ze:function(e,t){delete e.g[t]},ve:function(e,t){var r,n=Sb(e,t);for(r in n.g)g(new Q(N.ya));delete e.g[t]},Wa:function(e,t,r){return(e=T.ka(e,t,41471,0)).link=r,e},Va:function(e){return 40960!=(61440&e.mode)&&g(new Q(N.A)),e.link}},e:{open:function(e){if(16384==(61440&e.d.mode)){var t,r=[".",".."];for(t in e.d.g)e.d.g.hasOwnProperty(t)&&r.push(t);e.lb=r}},Q:function(e,t,r,n,i){if(e=e.d.g,n=Math.min(e.length-i,n),e.subarray)t.set(e.subarray(i,i+n),r);else for(var o=0;o<n;o++)t[r+o]=e[i+o];return n},write:function(e,t,r,n,i){for(var o=e.d.g;o.length<i;)o.push(0);for(var s=0;s<n;s++)o[i+s]=t[r+s];return e.d.timestamp=Date.now(),n},na:function(e,t,r){return 1===r?t+=e.position:2===r&&32768==(61440&e.d.mode)&&(t+=e.d.g.length),0>t&&g(new Q(N.A)),e.Gb=[],e.position=t},ue:function(e){return e.lb},Wd:function(e,t,r){for(e=e.d.g,t+=r;t>e.length;)e.push(0)},ne:function(e,t,r,n,i,o,s){return 32768!=(61440&e.d.mode)&&g(new Q(N.wa)),e=e.d.g,2&s?((0<i||i+n<e.length)&&(e=e.subarray?e.subarray(i,i+n):Array.prototype.slice.call(e,i,i+n)),i=l,(n=Oa(n))||g(new Q(N.$a)),t.set(e,n)):(w(e.buffer===t||e.buffer===t.buffer),i=p,n=e.byteOffset),{te:n,Xd:i}}}},Tb=F(1,"i32*",E),Ub=F(1,"i32*",E);nb=F(1,"i32*",E);var Vb=m,Nb=[m],R=[m],Wb=1,Xb=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],Yb=l;function Q(e){for(var t in this.mb=e,N)if(N[t]===e){this.code=t;break}this.message=ub[e]}function Zb(e){e instanceof Q||g(e+" : "+Error().stack),M(e.mb)}function $b(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r)%Xb.length}function Sb(e,t){var r=Gb(e,"x");for(r&&g(new Q(r)),r=Xb[$b(e.id,t)];r;r=r.wb)if(r.parent.id===e.id&&r.name===t)return r;return e.l.tb(e,t)}function Qb(e,t,r,n){var i={id:Wb++,name:t,mode:r,l:{},e:{},X:n,parent:m,z:m};return e||(e=i),i.parent=e,i.z=e.z,Object.defineProperty(i,"read",{get:function(){return 365==(365&i.mode)},set:function(e){e?i.mode|=365:i.mode&=-366}}),Object.defineProperty(i,"write",{get:function(){return 146==(146&i.mode)},set:function(e){e?i.mode|=146:i.mode&=-147}}),e=$b(i.parent.id,i.name),i.wb=Xb[e],Xb[e]=i}function O(e,t){e=Kb("/",e),8<(t=t||{pa:0}).pa&&g(new Q(N.ba));for(var r=Jb(e.split("/").filter(function(e){return!!e}),p),n=Vb,i="/",o=0;o<r.length;o++){var s=o===r.length-1;if(s&&t.parent)break;if(n=Sb(n,r[o]),i=S(i,r[o]),n.ub&&(n=n.z.root),!s||t.N)for(s=0;40960==(61440&n.mode);){(n=O(i,{N:p}).d).l.Va||g(new Q(N.A));n=n.l.Va(n);var a=Kb,f=(i=(f=wb(i))[0],f[1]);i||f?(f&&(f=f.substr(0,f.length-1)),i+=f):i=".",n=O(i=a(i,n),{pa:t.pa}).d,40<s++&&g(new Q(N.ba))}}return{path:i,d:n}}function ac(e){for(var t;;){if(e===e.parent)return t?S(e.z.Ua,t):e.z.Ua;t=t?S(e.name,t):e.name,e=e.parent}}var Fb={r:0,rs:8192,"r+":2,w:1537,wx:3585,xw:3585,"w+":1538,"wx+":3586,"xw+":3586,a:521,ax:2569,xa:2569,"a+":522,"ax+":2570,"xa+":2570};function Gb(e,t){return Yb?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:N.Ya}function xb(e,t){try{return Sb(e,t),N.va}catch(e){}return Gb(e,"wx")}var Rb={open:function(e){e.e=Nb[e.d.X].e,e.e.open&&e.e.open(e)},na:function(){g(new Q(N.da))}},bc;function cc(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r}function dc(e,t,r,n,i){if(i=yb(e=S("string"==typeof e?e:ac(e),t),n=cc(n,i)),r){if("string"==typeof r){t=Array(r.length);for(var o=0,s=r.length;o<s;++o)t[o]=r.charCodeAt(o);r=t}Cb(e,146|n),Ib(t=Db(e,"w"),r,0,r.length,0),Hb(t),Cb(e,n)}return i}function ec(e,t,r,n){return e=S("string"==typeof e?e:ac(e),t),ec.Sa||(ec.Sa=64),t=ec.Sa++<<8|0,Nb[t]={e:{open:function(e){e.seekable=p},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},Q:function(e,t,n,i){for(var o=0,s=0;s<i;s++){var a;try{a=r()}catch(e){g(new Q(N.I))}if(a===k&&0===o&&g(new Q(N.ua)),a===m||a===k)break;o++,t[n+s]=a}return o&&(e.d.timestamp=Date.now()),o},write:function(e,t,r,i){for(var o=0;o<i;o++)try{n(t[r+o])}catch(e){g(new Q(N.I))}return i&&(e.d.timestamp=Date.now()),o}}},Ab(e,r&&n?511:r?219:365,t)}function fc(e,t,r){return(e=R[e])?(e.sender(G.subarray(t,t+r)),r):-1}function gc(e,t,r){var n=R[e];if(!n)return M(N.$),-1;if(n&&"socket"in n)return fc(e,t,r);try{return Ib(n,A,t,r)}catch(e){return Zb(e),-1}}function hc(e,t,r,n){return 0==(r*=t)?0:-1==(e=gc(n,e,r))?((t=R[n])&&(t.error=l),0):Math.floor(e/t)}function jc(e){return 0>e||0===e&&-1/0==1/e}function kc(e,t){function r(e){var r;return"double"===e?r=Ja[t+s>>3]:"i64"==e?(r=[B[t+s>>2],B[t+(s+8)>>2]],s+=8):(e="i32",r=B[t+s>>2]),s+=Math.max(Math.max(la(e),ma),8),r}for(var n,i,o=e,s=0,a=[];;){var f=o;if(0===(n=A[o]))break;if(i=A[o+1|0],37==n){var u=p,c=p,h=p,d=p;e:for(;;){switch(i){case 43:u=l;break;case 45:c=l;break;case 35:h=l;break;case 48:if(d)break e;d=l;break;default:break e}i=A[++o+1|0]}var b=0;if(42==i)b=r("i32"),i=A[++o+1|0];else for(;48<=i&&57>=i;)b=10*b+(i-48),i=A[++o+1|0];var y,g=p;if(46==i){var v=0;g=l;if(42==(i=A[++o+1|0]))v=r("i32"),o++;else for(;!(48>(i=A[o+1|0])||57<i);)v=10*v+(i-48),o++;i=A[o+1|0]}else v=6;switch(String.fromCharCode(i)){case"h":104==(i=A[o+2|0])?(o++,y=1):y=2;break;case"l":108==(i=A[o+2|0])?(o++,y=8):y=4;break;case"L":case"q":case"j":y=8;break;case"z":case"t":case"I":y=4;break;default:y=m}switch(y&&o++,i=A[o+1|0],String.fromCharCode(i)){case"d":case"i":case"u":case"o":case"x":case"X":case"p":f=100==i||105==i;var w,_=n=r("i"+8*(y=y||4));8==y&&(n=117==i?+(n[0]>>>0)+4294967296*+(n[1]>>>0):+(n[0]>>>0)+4294967296*+(0|n[1])),4>=y&&(n=(f?eb:db)(n&Math.pow(256,y)-1,8*y));var S=Math.abs(n);f="";if(100==i||105==i)w=8==y&&lc?lc.stringify(_[0],_[1],m):eb(n,8*y).toString(10);else if(117==i)w=8==y&&lc?lc.stringify(_[0],_[1],l):db(n,8*y).toString(10),n=Math.abs(n);else if(111==i)w=(h?"0":"")+S.toString(8);else if(120==i||88==i){if(f=h&&0!=n?"0x":"",8==y&&lc)if(_[1]){for(w=(_[1]>>>0).toString(16),h=(_[0]>>>0).toString(16);8>h.length;)h="0"+h;w+=h}else w=(_[0]>>>0).toString(16);else if(0>n){for(n=-n,w=(S-1).toString(16),_=[],h=0;h<w.length;h++)_.push((15-parseInt(w[h],16)).toString(16));for(w=_.join("");w.length<2*y;)w="f"+w}else w=S.toString(16);88==i&&(f=f.toUpperCase(),w=w.toUpperCase())}else 112==i&&(0===S?w="(nil)":(f="0x",w=S.toString(16)));if(g)for(;w.length<v;)w="0"+w;for(u&&(f=0>n?"-"+f:"+"+f);f.length+w.length<b;)c?w+=" ":d?w="0"+w:f=" "+f;(w=f+w).split("").forEach(function(e){a.push(e.charCodeAt(0))});break;case"f":case"F":case"e":case"E":case"g":case"G":if(n=r("double"),isNaN(n))w="nan",d=p;else if(isFinite(n)){if(g=p,y=Math.min(v,20),103!=i&&71!=i||(g=l,(v=v||1)>(y=parseInt(n.toExponential(y).split("e")[1],10))&&-4<=y?(i=(103==i?"f":"F").charCodeAt(0),v-=y+1):(i=(103==i?"e":"E").charCodeAt(0),v--),y=Math.min(v,20)),101==i||69==i?(w=n.toExponential(y),/[eE][-+]\d$/.test(w)&&(w=w.slice(0,-1)+"0"+w.slice(-1))):102!=i&&70!=i||(w=n.toFixed(y),0===n&&jc(n)&&(w="-"+w)),f=w.split("e"),g&&!h)for(;1<f[0].length&&-1!=f[0].indexOf(".")&&("0"==f[0].slice(-1)||"."==f[0].slice(-1));)f[0]=f[0].slice(0,-1);else for(h&&-1==w.indexOf(".")&&(f[0]+=".");v>y++;)f[0]+="0";w=f[0]+(1<f.length?"e"+f[1]:""),69==i&&(w=w.toUpperCase()),u&&0<=n&&(w="+"+w)}else w=(0>n?"-":"")+"inf",d=p;for(;w.length<b;)w=c?w+" ":!d||"-"!=w[0]&&"+"!=w[0]?(d?"0":" ")+w:w[0]+"0"+w.slice(1);97>i&&(w=w.toUpperCase()),w.split("").forEach(function(e){a.push(e.charCodeAt(0))});break;case"s":if(d=(u=r("i8*"))?ic(u):6,g&&(d=Math.min(d,v)),!c)for(;d<b--;)a.push(32);if(u)for(h=0;h<d;h++)a.push(G[0|u++]);else a=a.concat(J("(null)".substr(0,d),l));if(c)for(;d<b--;)a.push(32);break;case"c":for(c&&a.push(r("i8"));0<--b;)a.push(32);c||a.push(r("i8"));break;case"n":c=r("i32*"),B[c>>2]=a.length;break;case"%":a.push(n);break;default:for(h=f;h<o+2;h++)a.push(A[h])}o+=2}else a.push(n),o+=1}return a}function mc(e,t,r){return r=kc(t,r),t=ja(),e=hc(F(r,"i8",La),1,r.length,e),ka(t),e}function nc(e){nc.ia||(z=z+4095>>12<<12,nc.ia=l,w(ua),nc.hb=ua,ua=function(){wa("cannot dynamically allocate, sbrk now has control")});var t=z;return 0!=e&&nc.hb(e),t}function U(){return B[U.m>>2]}function oc(){return!!oc.ta}function pc(e){var t=p;try{e==__ZTIi&&(t=l)}catch(e){}try{e==__ZTIj&&(t=l)}catch(e){}try{e==__ZTIl&&(t=l)}catch(e){}try{e==__ZTIm&&(t=l)}catch(e){}try{e==__ZTIx&&(t=l)}catch(e){}try{e==__ZTIy&&(t=l)}catch(e){}try{e==__ZTIf&&(t=l)}catch(e){}try{e==__ZTId&&(t=l)}catch(e){}try{e==__ZTIe&&(t=l)}catch(e){}try{e==__ZTIc&&(t=l)}catch(e){}try{e==__ZTIa&&(t=l)}catch(e){}try{e==__ZTIh&&(t=l)}catch(e){}try{e==__ZTIs&&(t=l)}catch(e){}try{e==__ZTIt&&(t=l)}catch(e){}return t}function qc(e,t,r){if(0==r)return p;if(0==t||t==e)return l;switch(pc(t)?t:B[B[t>>2]-8>>2]){case 0:return 0==B[B[e>>2]-8>>2]?qc(B[e+8>>2],B[t+8>>2],r):p;case 1:return p;case 2:return qc(e,B[t+8>>2],r);default:return p}}function rc(e,t,r){if(!rc.sb){try{B[__ZTVN10__cxxabiv119__pointer_type_infoE>>2]=0}catch(e){}try{B[pb>>2]=1}catch(e){}try{B[ob>>2]=2}catch(e){}rc.sb=l}B[U.m>>2]=e,B[U.m+4>>2]=t,B[U.m+8>>2]=r,"uncaught_exception"in oc?oc.ta++:oc.ta=1,g(e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch.")}function sc(e){try{return tc(e)}catch(e){}}function uc(){if(uc.Bb)uc.Bb=p;else{V.setThrew(0),B[U.m+4>>2]=0;var e=B[U.m>>2],t=B[U.m+8>>2];t&&(na("vi",t,[e]),B[U.m+8>>2]=0),e&&(sc(e),B[U.m>>2]=0)}}s._strlen=ic;var vc=F(1,"i32*",E);function wc(e){var t,r;wc.ia?(r=B[vc>>2],t=B[r>>2]):(wc.ia=l,W.USER="root",W.PATH="/",W.PWD="/",W.HOME="/home/emscripten",W.LANG="en_US.UTF-8",W._="./this.program",t=F(1024,"i8",E),r=F(256,"i8*",E),B[r>>2]=t,B[vc>>2]=r);var n,i=[],o=0;for(n in e)if("string"==typeof e[n]){var s=n+"="+e[n];i.push(s),o+=s.length}for(1024<o&&g(Error("Environment size exceeded TOTAL_ENV_SIZE!")),e=0;e<i.length;e++){for(s=i[e],o=0;o<s.length;o++)A[t+o|0]=s.charCodeAt(o);A[t+o|0]=0,B[r+4*e>>2]=t,t+=s.length+1}B[r+4*i.length>>2]=0}var W={};function xc(e){return 0===e?0:(e=Fa(e),W.hasOwnProperty(e)?(xc.J&&tc(xc.J),xc.J=F(J(W[e]),"i8",Ka),xc.J):0)}function yc(e,t,r){if(e in ub){if(ub[e].length>r-1)return M(N.ab);for(e=ub[e],r=0;r<e.length;r++)A[t+r|0]=e.charCodeAt(r);return A[t+r|0]=0}return M(N.A)}function zc(e){return zc.buffer||(zc.buffer=Oa(256)),yc(e,zc.buffer,256),zc.buffer}function Ac(e){s.exit(e)}function Bc(e,t){var r=db(255&e);return A[0|Bc.J]=r,-1==gc(t,Bc.J,1)?((r=R[t])&&(r.error=l),-1):r}var Cc=p,Dc=p,Ec=p,Fc=p,Gc=k,Hc=k;function Ic(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]}var Jc=[];function Kc(){var e=s.canvas;Jc.forEach(function(t){t(e.width,e.height)})}function Lc(){var e=s.canvas;this.Ib=e.width,this.Hb=e.height,e.width=screen.width,e.height=screen.height,"undefined"!=typeof SDL&&(e=Qa[SDL.screen+0*ma>>2],B[SDL.screen+0*ma>>2]=8388608|e),Kc()}function Mc(){var e=s.canvas;e.width=this.Ib,e.height=this.Hb,"undefined"!=typeof SDL&&(e=Qa[SDL.screen+0*ma>>2],B[SDL.screen+0*ma>>2]=-8388609&e),Kc()}var Nc,Oc,Pc,Qc,rb=ra(4);B[rb>>2]=0;var Vb=Qb(m,"/",16895,0),Rc=T,Sc={type:Rc,se:{},Ua:"/",root:m},Tc;Tc=O("/",{N:p});var Uc=Rc.z(Sc);Uc.z=Sc,Sc.root=Uc,Tc&&(Tc.d.z=Sc,Tc.d.ub=l,Vb=Sc.root),zb("/tmp",511),zb("/dev",511),Nb[259]={e:{Q:function(){return 0},write:function(){return 0}}},Ab("/dev/null",438,259),Mb(1280,{Na:function(e){if(!e.input.length){var t=m;if(ca){if(process.Eb.be)return;t=process.Eb.Q()}else"undefined"!=typeof window&&"function"==typeof window.prompt?(t=window.prompt("Input: "))!==m&&(t+="\n"):"function"==typeof readline&&((t=readline())!==m&&(t+="\n"));if(!t)return m;e.input=J(t,l)}return e.input.shift()},W:function(e,t){t===m||10===t?(s.print(e.H.join("")),e.H=[]):e.H.push(Pb.oa(t))}}),Mb(1536,{W:function(e,t){t===m||10===t?(s.printErr(e.H.join("")),e.H=[]):e.H.push(Pb.oa(t))}}),Ab("/dev/tty",438,1280),Ab("/dev/tty1",438,1536),zb("/dev/shm",511),zb("/dev/shm/tmp",511),Xa.unshift({V:function(){if(!s.noFSInit&&!bc){w(!bc,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),bc=l,s.stdin=s.stdin,s.stdout=s.stdout,s.stderr=s.stderr,s.stdin?ec("/dev","stdin",s.stdin):Bb("/dev/tty","/dev/stdin"),s.stdout?ec("/dev","stdout",m,s.stdout):Bb("/dev/tty","/dev/stdout"),s.stderr?ec("/dev","stderr",m,s.stderr):Bb("/dev/tty1","/dev/stderr");var e=Db("/dev/stdin","r");B[Tb>>2]=e.s,w(1===e.s,"invalid handle for stdin ("+e.s+")"),e=Db("/dev/stdout","w"),B[Ub>>2]=e.s,w(2===e.s,"invalid handle for stdout ("+e.s+")"),e=Db("/dev/stderr","w"),B[nb>>2]=e.s,w(3===e.s,"invalid handle for stderr ("+e.s+")")}}}),Ya.push({V:function(){Yb=p}}),Za.push({V:function(){bc=p;for(var e=0;e<R.length;e++){var t=R[e];t&&Hb(t)}}}),s.FS_createFolder=function(e,t,r,n){return zb(e=S("string"==typeof e?e:ac(e),t),cc(r,n))},s.FS_createPath=function(e,t){e="string"==typeof e?e:ac(e);for(var r=t.split("/").reverse();r.length;){var n=r.pop();if(n){var i=S(e,n);try{zb(i,511)}catch(e){}e=i}}return i},s.FS_createDataFile=dc,s.FS_createPreloadedFile=function(e,t,r,n,i,o,a,f){function u(){Ec=document.pointerLockElement===h||document.mozPointerLockElement===h||document.webkitPointerLockElement===h}function c(r){function u(r){f||dc(e,t,r,n,i),o&&o(),jb("cp "+d)}var c=p;s.preloadPlugins.forEach(function(e){!c&&e.canHandle(d)&&(e.handle(r,d,u,function(){a&&a(),jb("cp "+d)}),c=l)}),c||u(r)}if(s.preloadPlugins||(s.preloadPlugins=[]),!Nc&&!ea){Nc=l;try{new Blob,Oc=l}catch(e){Oc=p,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Pc="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Oc?m:console.log("warning: no BlobBuilder"),Qc="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:console.log("warning: cannot create object URLs"),s.preloadPlugins.push({canHandle:function(e){return!s.re&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,t,r,n){var i=m;if(Oc)try{(i=new Blob([e],{type:Ic(t)})).size!==e.length&&(i=new Blob([new Uint8Array(e).buffer],{type:Ic(t)}))}catch(e){var o="Blob constructor present but fails: "+e+"; falling back to blob builder";oa||(oa={}),oa[o]||(oa[o]=1,s.P(o))}i||((i=new Pc).append(new Uint8Array(e).buffer),i=i.getBlob());var a=Qc.createObjectURL(i),f=new Image;f.onload=function(){w(f.complete,"Image "+t+" could not be decoded");var n=document.createElement("canvas");n.width=f.width,n.height=f.height,n.getContext("2d").drawImage(f,0,0),s.preloadedImages[t]=n,Qc.revokeObjectURL(a),r&&r(e)},f.onerror=function(){console.log("Image "+a+" could not be decoded"),n&&n()},f.src=a}}),s.preloadPlugins.push({canHandle:function(e){return!s.qe&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,r,n){function i(n){a||(a=l,s.preloadedAudios[t]=n,r&&r(e))}function o(){a||(a=l,s.preloadedAudios[t]=new Audio,n&&n())}var a=p;if(!Oc)return o();try{var f=new Blob([e],{type:Ic(t)})}catch(e){return o()}f=Qc.createObjectURL(f);var u=new Audio;u.addEventListener("canplaythrough",function(){i(u)},p),u.onerror=function(){if(!a){console.log("warning: browser could not fully decode audio "+t+", trying slower base64 approach");for(var r="",n=0,o=0,s=0;s<e.length;s++)for(n=n<<8|e[s],o+=8;6<=o;){var f=n>>o-6&63;o=o-6,r=r+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f]}2==o?(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&n)<<4],r+="=="):4==o&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&n)<<2],r+="="),u.src="data:audio/x-"+t.substr(-3)+";base64,"+r,i(u)}},u.src=f,setTimeout(function(){za||i(u)},1e4)}});var h=s.canvas;h.qa=h.requestPointerLock||h.mozRequestPointerLock||h.webkitRequestPointerLock,h.La=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||aa(),h.La=h.La.bind(document),document.addEventListener("pointerlockchange",u,p),document.addEventListener("mozpointerlockchange",u,p),document.addEventListener("webkitpointerlockchange",u,p),s.elementPointerLock&&h.addEventListener("click",function(e){!Ec&&h.qa&&(h.qa(),e.preventDefault())},p)}var d,b=S.apply(m,[e,t]);if("/"==b[0]&&(b=b.substr(1)),ib("cp "+(d=b)),"string"==typeof r){var y=a,v=function(){y?y():g('Loading data file "'+r+'" failed.')},_=new XMLHttpRequest;_.open("GET",r,l),_.responseType="arraybuffer",_.onload=function(){if(200==_.status||0==_.status&&_.response){var e=_.response;w(e,'Loading data file "'+r+'" failed (no arrayBuffer).'),c(e=new Uint8Array(e)),jb("al "+r)}else v()},_.onerror=v,_.send(m),ib("al "+r)}else c(r)},s.FS_createLazyFile=function(e,t,r,n,i){var o,a;"undefined"!=typeof XMLHttpRequest?(ea||g("Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc"),(o=function(){this.ma=p,this.T=[]}).prototype.get=function(e){if(!(e>this.length-1||0>e)){var t=e%this.S;return this.pb(Math.floor(e/this.S))[t]}},o.prototype.Cb=function(e){this.pb=e},o.prototype.Fa=function(){var e=new XMLHttpRequest;e.open("HEAD",r,p),e.send(m),200<=e.status&&300>e.status||304===e.status||g(Error("Couldn't load "+r+". Status: "+e.status));var t,n=Number(e.getResponseHeader("Content-length")),i=1048576;(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t||(i=n);var o=this;o.Cb(function(e){var t=e*i,s=(e+1)*i-1;s=Math.min(s,n-1);if(void 0===o.T[e]){var a=o.T;t>s&&g(Error("invalid range ("+t+", "+s+") or no bytes requested!")),s>n-1&&g(Error("only "+n+" bytes available! programmer error!"));var f=new XMLHttpRequest;f.open("GET",r,p),n!==i&&f.setRequestHeader("Range","bytes="+t+"-"+s),"undefined"!=typeof Uint8Array&&(f.responseType="arraybuffer"),f.overrideMimeType&&f.overrideMimeType("text/plain; charset=x-user-defined"),f.send(m),200<=f.status&&300>f.status||304===f.status||g(Error("Couldn't load "+r+". Status: "+f.status)),t=f.response!==k?new Uint8Array(f.response||[]):J(f.responseText||"",l),a[e]=t}return void 0===o.T[e]&&g(Error("doXHR failed!")),o.T[e]}),this.gb=n,this.fb=i,this.ma=l},o=new o,Object.defineProperty(o,"length",{get:function(){return this.ma||this.Fa(),this.gb}}),Object.defineProperty(o,"chunkSize",{get:function(){return this.ma||this.Fa(),this.fb}}),a=k):(a=r,o=k);var f;e=S("string"==typeof e?e:ac(e),t);f=yb(e,cc(n,i)),o?f.g=o:a&&(f.g=m,f.url=a);var u={};return Object.keys(f.e).forEach(function(e){var t=f.e[e];u[e]=function(){var e;if(f.ke||f.le||f.link||f.g)e=l;else{if(e=l,"undefined"!=typeof XMLHttpRequest&&g(Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")),s.read)try{f.g=J(s.read(f.url),l)}catch(t){e=p}else g(Error("Cannot load without read() or XMLHttpRequest."));e||M(N.I)}return e||g(new Q(N.I)),t.apply(m,arguments)}}),u.Q=function(e,t,r,n,i){if(e=e.d.g,n=Math.min(e.length-i,n),e.slice)for(var o=0;o<n;o++)t[r+o]=e[i+o];else for(o=0;o<n;o++)t[r+o]=e.get(i+o);return n},f.e=u,f},s.FS_createLink=function(e,t,r){return Bb(r,e=S("string"==typeof e?e:ac(e),t))},s.FS_createDevice=ec,U.m=F(12,"void*",E),wc(W),Bc.J=F([0],"i8",E),s.requestFullScreen=function(e,t){function r(){Dc=p,(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement)===n?(n.Ga=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen,n.Ga=n.Ga.bind(document),Gc&&n.qa(),Dc=l,Hc&&Lc()):Hc&&Mc(),s.onFullScreen&&s.onFullScreen(Dc)}Hc=t,void 0===(Gc=e)&&(Gc=l),void 0===Hc&&(Hc=p);var n=s.canvas;Fc||(Fc=l,document.addEventListener("fullscreenchange",r,p),document.addEventListener("mozfullscreenchange",r,p),document.addEventListener("webkitfullscreenchange",r,p)),n.Ab=n.requestFullScreen||n.mozRequestFullScreen||(n.webkitRequestFullScreen?function(){n.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:m),n.Ab()},s.requestAnimationFrame=function(e){window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||window.setTimeout),window.requestAnimationFrame(e)},s.pauseMainLoop=aa(),s.resumeMainLoop=function(){Cc&&(Cc=p,m())},s.getUserMedia=function(){window.Ma||(window.Ma=navigator.getUserMedia||navigator.mozGetUserMedia),window.Ma(k)},Sa=u=xa(sa),Ta=Sa+5242880,Ua=z=xa(Ta),w(Ua<va);var Vc=F([8,7,6,6,5,5,5,5,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",3),Wc=F([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",3),Xc=Math.min,V=function(e,t,r){"use asm";var n=new e.Int8Array(r);var i=new e.Int16Array(r);var o=new e.Int32Array(r);var s=new e.Uint8Array(r);var a=new e.Uint16Array(r);var f=new e.Uint32Array(r);var u=new e.Float32Array(r);var c=new e.Float64Array(r);var h=t.STACKTOP|0;var d=t.STACK_MAX|0;var l=t.tempDoublePtr|0;var p=t.ABORT|0;var b=t.cttz_i8|0;var m=t.ctlz_i8|0;var y=t._stderr|0;var g=t.__ZTVN10__cxxabiv120__si_class_type_infoE|0;var v=t.__ZTVN10__cxxabiv117__class_type_infoE|0;var w=t.___progname|0;var _=+t.NaN;var S=+t.Infinity;var A=0;var E=0;var k=0;var M=0;var x=0,I=0,B=0,P=0,C=0.0,T=0,R=0,L=0,N=0.0;var j=0;var O=0;var D=0;var z=0;var F=0;var U=0;var q=0;var H=0;var K=0;var V=0;var Y=e.Math.floor;var G=e.Math.abs;var W=e.Math.sqrt;var J=e.Math.pow;var Z=e.Math.cos;var X=e.Math.sin;var $=e.Math.tan;var Q=e.Math.acos;var ee=e.Math.asin;var te=e.Math.atan;var re=e.Math.atan2;var ne=e.Math.exp;var ie=e.Math.log;var oe=e.Math.ceil;var se=e.Math.imul;var ae=t.abort;var fe=t.assert;var ue=t.asmPrintInt;var ce=t.asmPrintFloat;var he=t.min;var de=t.invoke_vi;var le=t.invoke_vii;var pe=t.invoke_ii;var be=t.invoke_viii;var me=t.invoke_v;var ye=t.invoke_iii;var ge=t._strncmp;var ve=t._llvm_va_end;var we=t._sysconf;var _e=t.___cxa_throw;var Se=t._strerror;var Ae=t._abort;var Ee=t._fprintf;var ke=t._llvm_eh_exception;var Me=t.___cxa_free_exception;var xe=t._fflush;var Ie=t.___buildEnvironment;var Be=t.__reallyNegative;var Pe=t._strchr;var Ce=t._fputc;var Te=t.___setErrNo;var Re=t._fwrite;var Le=t._send;var Ne=t._write;var je=t._exit;var Oe=t.___cxa_find_matching_catch;var De=t.___cxa_allocate_exception;var ze=t._isspace;var Fe=t.__formatString;var Ue=t.___resumeException;var qe=t._llvm_uadd_with_overflow_i32;var He=t.___cxa_does_inherit;var Ke=t._getenv;var Ve=t._vfprintf;var Ye=t.___cxa_begin_catch;var Ge=t.__ZSt18uncaught_exceptionv;var We=t._pwrite;var Je=t.___cxa_call_unexpected;var Ze=t._sbrk;var Xe=t._strerror_r;var $e=t.___errno_location;var Qe=t.___gxx_personality_v0;var et=t.___cxa_is_number_type;var tt=t._time;var rt=t.__exit;var nt=t.___cxa_end_catch;function it(e){e=e|0;var t=0;t=h;h=h+e|0;h=h+7>>3<<3;return t|0}function ot(){return h|0}function st(e){e=e|0;h=e}function at(e,t){e=e|0;t=t|0;if((A|0)==0){A=e;E=t}}function ft(e){e=e|0;n[l]=n[e];n[l+1|0]=n[e+1|0];n[l+2|0]=n[e+2|0];n[l+3|0]=n[e+3|0]}function ut(e){e=e|0;n[l]=n[e];n[l+1|0]=n[e+1|0];n[l+2|0]=n[e+2|0];n[l+3|0]=n[e+3|0];n[l+4|0]=n[e+4|0];n[l+5|0]=n[e+5|0];n[l+6|0]=n[e+6|0];n[l+7|0]=n[e+7|0]}function ct(e){e=e|0;j=e}function ht(e){e=e|0;O=e}function dt(e){e=e|0;D=e}function lt(e){e=e|0;z=e}function pt(e){e=e|0;F=e}function bt(e){e=e|0;U=e}function mt(e){e=e|0;q=e}function yt(e){e=e|0;H=e}function gt(e){e=e|0;K=e}function vt(e){e=e|0;V=e}function wt(){o[170]=v+8;o[172]=g+8;o[176]=g+8}function _t(e,t,r){e=e|0;t=t|0;r=r|0;var i=0;if((r|0)==0){return}else{i=0}do{n[e+i|0]=n[t+i|0]|0;i=i+1|0}while(i>>>0<r>>>0);return}function St(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,o=0;if((r|0)==0){return}else{i=0}do{o=e+i|0;n[o]=n[o]^n[t+i|0];i=i+1|0}while(i>>>0<r>>>0);return}function At(e){e=e|0;var t=0,r=0,n=0,i=0;t=s[e+1|0]|0;r=s[e+2|0]|0;n=s[e+3|0]|0;i=rn(t<<8|0>>>24|(s[e]|0)|(r<<16|0>>>16)|(n<<24|0>>>8)|(0<<8|0>>>24),0<<8|t>>>24|(0<<16|r>>>16)|(0<<24|n>>>8)|(s[e+4|0]|0)|((s[e+5|0]|0)<<8|0>>>24),0<<16|0>>>16,(s[e+6|0]|0)<<16|0>>>16)|0;n=rn(i,j,0<<24|0>>>8,(s[e+7|0]|0)<<24|0>>>8)|0;return(j=j,n)|0}function Et(e){e=e|0;return(s[e+1|0]|0)<<8|(s[e]|0)|(s[e+2|0]|0)<<16|(s[e+3|0]|0)<<24|0}function kt(e,t){e=e|0;t=t|0;n[e]=t&255;n[e+1|0]=t>>>8&255;n[e+2|0]=t>>>16&255;n[e+3|0]=t>>>24&255;return}function Mt(e){e=e|0;o[e+36>>2]=0;o[e+32>>2]=0;o[e>>2]=1779033703;o[e+4>>2]=-1150833019;o[e+8>>2]=1013904242;o[e+12>>2]=-1521486534;o[e+16>>2]=1359893119;o[e+20>>2]=-1694144372;o[e+24>>2]=528734635;o[e+28>>2]=1541459225;return}function xt(e,t,r,n,i,s,a,f,u,c){e=e|0;t=t|0;r=r|0;n=n|0;i=i|0;s=s|0;a=a|0;f=f|0;u=u|0;c=c|0;var h=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0;h=ln(f,0,a,0)|0;d=j;l=0;if(d>>>0>l>>>0|d>>>0==l>>>0&h>>>0>1073741823>>>0){o[($e()|0)>>2]=27;p=-1;return p|0}h=rn(i,s,-1,-1)|0;if((h&i|0)!=0|(j&s|0)!=0|(i|0)==0&(s|0)==0){o[($e()|0)>>2]=22;p=-1;return p|0}do{if(!((33554431/(f>>>0)|0)>>>0<a>>>0|a>>>0>16777215)){h=0;if(h>>>0<s>>>0|h>>>0==s>>>0&(33554431/(a>>>0)|0)>>>0<i>>>0){break}h=a<<7;l=Kt(se(h,f)|0)|0;if((l|0)==0){p=-1;return p|0}d=Kt(a<<8)|0;do{if((d|0)!=0){b=ln(h,0,i,s)|0;m=Kt(b)|0;if((m|0)==0){Vt(d);break}b=se(f<<7,a)|0;qt(e,t,r,n,1,0,l,b);if((f|0)!=0){y=a<<7;g=0;do{It(l+(se(y,g)|0)|0,a,i,s,m,d);g=g+1|0}while(g>>>0<f>>>0)}qt(e,t,l,b,1,0,u,c);Vt(m);Vt(d);Vt(l);p=0;return p|0}}while(0);Vt(l);p=-1;return p|0}}while(0);o[($e()|0)>>2]=12;p=-1;return p|0}function It(e,t,r,n,i,o){e=e|0;t=t|0;r=r|0;n=n|0;i=i|0;o=o|0;var s=0,a=0,f=0,u=0,c=0,h=0,d=0,l=0,p=0,b=0;s=t<<7;a=o+s|0;_t(o,e,s);if((r|0)==0&(n|0)==0){_t(e,o,s);return}f=s;u=0;c=0;h=0;do{d=ln(h,c,f,u)|0;_t(i+d|0,o,s);Bt(o,a,t);h=rn(h,c,1,0)|0;c=j}while(c>>>0<n>>>0|c>>>0==n>>>0&h>>>0<r>>>0);if((r|0)==0&(n|0)==0){_t(e,o,s);return}h=rn(r,n,-1,-1)|0;c=j;u=s;f=0;d=0;l=0;do{p=Pt(o,t)|0;b=ln(p&h,j&c,u,f)|0;St(o,i+b|0,s);Bt(o,a,t);l=rn(l,d,1,0)|0;d=j}while(d>>>0<n>>>0|d>>>0==n>>>0&l>>>0<r>>>0);_t(e,o,s);return}function Bt(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0,o=0,s=0,a=0,f=0,u=0;n=h;h=h+64|0;i=n|0;o=r<<1;_t(i,e+((r<<7)-64)|0,64);if((o|0)!=0){s=0;do{a=s<<6;St(i,e+a|0,64);Ct(i);_t(t+a|0,i,64);s=s+1|0}while(s>>>0<o>>>0)}if((r|0)==0){h=n;return}else{f=0}do{_t(e+(f<<6)|0,t+(f<<7)|0,64);f=f+1|0}while(f>>>0<r>>>0);if((r|0)==0){h=n;return}else{u=0}do{_t(e+(u+r<<6)|0,t+(u<<7|64)|0,64);u=u+1|0}while(u>>>0<r>>>0);h=n;return}function Pt(e,t){e=e|0;t=t|0;var r=0;r=At(e+((t<<7)-64)|0)|0;return(j=j,r)|0}function Ct(e){e=e|0;var t=0,r=0,n=0,i=0,s=0,a=0,f=0,u=0,c=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0,w=0,_=0,S=0,A=0,E=0,k=0,M=0,x=0,I=0,B=0,P=0,C=0,T=0,R=0,L=0,N=0,j=0,O=0,D=0,z=0,F=0,U=0,q=0,H=0,K=0,V=0,Y=0,G=0,W=0,J=0,Z=0,X=0,$=0,Q=0,ee=0,te=0;t=h;h=h+128|0;r=t|0;n=t+64|0;i=0;do{o[r+(i<<2)>>2]=Et(e+(i<<2)|0)|0;i=i+1|0}while(i>>>0<16);i=r;s=n;Qr(s|0,i|0,64)|0;i=n|0;s=n+48|0;a=n+16|0;f=n+32|0;u=n+20|0;c=n+4|0;d=n+36|0;l=n+52|0;p=n+40|0;b=n+24|0;m=n+56|0;y=n+8|0;g=n+60|0;v=n+44|0;w=n+12|0;_=n+28|0;S=0;A=o[i>>2]|0;E=o[s>>2]|0;k=o[a>>2]|0;M=o[f>>2]|0;x=o[u>>2]|0;I=o[c>>2]|0;B=o[d>>2]|0;P=o[l>>2]|0;C=o[p>>2]|0;T=o[b>>2]|0;R=o[m>>2]|0;L=o[y>>2]|0;N=o[g>>2]|0;j=o[v>>2]|0;O=o[w>>2]|0;D=o[_>>2]|0;do{z=E+A|0;F=(z<<7|z>>>25)^k;z=F+A|0;U=(z<<9|z>>>23)^M;z=U+F|0;q=(z<<13|z>>>19)^E;z=q+U|0;H=(z<<18|z>>>14)^A;z=I+x|0;K=(z<<7|z>>>25)^B;z=K+x|0;V=(z<<9|z>>>23)^P;z=V+K|0;Y=(z<<13|z>>>19)^I;z=Y+V|0;G=(z<<18|z>>>14)^x;z=T+C|0;W=(z<<7|z>>>25)^R;z=W+C|0;J=(z<<9|z>>>23)^L;z=J+W|0;Z=(z<<13|z>>>19)^T;z=Z+J|0;X=(z<<18|z>>>14)^C;z=j+N|0;$=(z<<7|z>>>25)^O;z=$+N|0;Q=(z<<9|z>>>23)^D;z=Q+$|0;ee=(z<<13|z>>>19)^j;z=ee+Q|0;te=(z<<18|z>>>14)^N;z=$+H|0;I=(z<<7|z>>>25)^Y;Y=I+H|0;L=(Y<<9|Y>>>23)^J;J=L+I|0;O=(J<<13|J>>>19)^$;$=O+L|0;A=($<<18|$>>>14)^H;H=F+G|0;T=(H<<7|H>>>25)^Z;Z=T+G|0;D=(Z<<9|Z>>>23)^Q;Q=D+T|0;k=(Q<<13|Q>>>19)^F;F=k+D|0;x=(F<<18|F>>>14)^G;G=K+X|0;j=(G<<7|G>>>25)^ee;ee=j+X|0;M=(ee<<9|ee>>>23)^U;U=M+j|0;B=(U<<13|U>>>19)^K;K=B+M|0;C=(K<<18|K>>>14)^X;X=W+te|0;E=(X<<7|X>>>25)^q;q=E+te|0;P=(q<<9|q>>>23)^V;V=P+E|0;R=(V<<13|V>>>19)^W;W=R+P|0;N=(W<<18|W>>>14)^te;S=S+2|0}while(S>>>0<8);o[i>>2]=A;o[s>>2]=E;o[a>>2]=k;o[f>>2]=M;o[u>>2]=x;o[c>>2]=I;o[d>>2]=B;o[l>>2]=P;o[p>>2]=C;o[b>>2]=T;o[m>>2]=R;o[y>>2]=L;o[g>>2]=N;o[v>>2]=j;o[w>>2]=O;o[_>>2]=D;D=r|0;o[D>>2]=(o[D>>2]|0)+(o[n>>2]|0);D=r+4|0;o[D>>2]=(o[D>>2]|0)+(o[n+4>>2]|0);D=r+8|0;o[D>>2]=(o[D>>2]|0)+(o[n+8>>2]|0);D=r+12|0;o[D>>2]=(o[D>>2]|0)+(o[n+12>>2]|0);D=r+16|0;o[D>>2]=(o[D>>2]|0)+(o[n+16>>2]|0);D=r+20|0;o[D>>2]=(o[D>>2]|0)+(o[n+20>>2]|0);D=r+24|0;o[D>>2]=(o[D>>2]|0)+(o[n+24>>2]|0);D=r+28|0;o[D>>2]=(o[D>>2]|0)+(o[n+28>>2]|0);D=r+32|0;o[D>>2]=(o[D>>2]|0)+(o[n+32>>2]|0);D=r+36|0;o[D>>2]=(o[D>>2]|0)+(o[n+36>>2]|0);D=r+40|0;o[D>>2]=(o[D>>2]|0)+(o[n+40>>2]|0);D=r+44|0;o[D>>2]=(o[D>>2]|0)+(o[n+44>>2]|0);D=r+48|0;o[D>>2]=(o[D>>2]|0)+(o[n+48>>2]|0);D=r+52|0;o[D>>2]=(o[D>>2]|0)+(o[n+52>>2]|0);D=r+56|0;o[D>>2]=(o[D>>2]|0)+(o[n+56>>2]|0);D=r+60|0;o[D>>2]=(o[D>>2]|0)+(o[n+60>>2]|0);n=0;do{kt(e+(n<<2)|0,o[r+(n<<2)>>2]|0);n=n+1|0}while(n>>>0<16);h=t;return}function Tt(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0,s=0,a=0,f=0,u=0,c=0;n=e+32|0;i=e+36|0;s=o[i>>2]|0;a=s>>>3&63;f=qe(s|0,r<<3|0)|0;o[i>>2]=f;if(j){f=n|0;o[f>>2]=(o[f>>2]|0)+1}f=n|0;o[f>>2]=(o[f>>2]|0)+(r>>>29);f=64-a|0;n=e+40+a|0;if(f>>>0>r>>>0){Qr(n|0,t|0,r)|0;return}Qr(n|0,t|0,f)|0;n=e|0;a=e+40|0;Rt(n,a);e=t+f|0;t=r-f|0;if(t>>>0>63){f=t;r=e;while(1){Rt(n,r);i=r+64|0;s=f-64|0;if(s>>>0>63){f=s;r=i}else{u=s;c=i;break}}}else{u=t;c=e}Qr(a|0,c|0,u)|0;return}function Rt(e,t){e=e|0;t=t|0;var r=0,n=0,i=0,s=0,a=0,f=0,u=0,c=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0;r=h;h=h+288|0;n=r|0;i=r+256|0;s=n|0;Ht(s,t);t=16;do{a=o[n+(t-2<<2)>>2]|0;f=o[n+(t-15<<2)>>2]|0;o[n+(t<<2)>>2]=(o[n+(t-16<<2)>>2]|0)+(o[n+(t-7<<2)>>2]|0)+((a>>>19|a<<13)^a>>>10^(a>>>17|a<<15))+((f>>>18|f<<14)^f>>>3^(f>>>7|f<<25));t=t+1|0}while((t|0)<64);t=i;f=e;Qr(t|0,f|0,32)|0;f=i+28|0;t=i+16|0;a=o[t>>2]|0;u=i+20|0;c=i+24|0;d=o[c>>2]|0;l=(o[f>>2]|0)+1116352408+(o[s>>2]|0)+((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+((d^o[u>>2])&a^d)|0;d=i|0;a=o[d>>2]|0;s=i+4|0;p=o[s>>2]|0;b=i+8|0;m=o[b>>2]|0;y=i+12|0;o[y>>2]=(o[y>>2]|0)+l;g=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+l+((m|p)&a|m&p)|0;o[f>>2]=g;p=o[y>>2]|0;m=o[u>>2]|0;a=(o[c>>2]|0)+1899447441+(o[n+4>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[t>>2])&p^m)|0;m=o[d>>2]|0;p=o[s>>2]|0;o[b>>2]=(o[b>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((p|m)&g|p&m)|0;o[c>>2]=l;m=o[b>>2]|0;p=o[t>>2]|0;g=(o[u>>2]|0)-1245643825+(o[n+8>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[y>>2])&m^p)|0;p=o[f>>2]|0;m=o[d>>2]|0;o[s>>2]=(o[s>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((m|p)&l|m&p)|0;o[u>>2]=a;p=o[s>>2]|0;m=o[y>>2]|0;l=(o[t>>2]|0)-373957723+(o[n+12>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[b>>2])&p^m)|0;m=o[c>>2]|0;p=o[f>>2]|0;o[d>>2]=(o[d>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((p|m)&a|p&m)|0;o[t>>2]=g;m=o[d>>2]|0;p=o[b>>2]|0;a=(o[y>>2]|0)+961987163+(o[n+16>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[s>>2])&m^p)|0;p=o[u>>2]|0;m=o[c>>2]|0;o[f>>2]=(o[f>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((m|p)&g|m&p)|0;o[y>>2]=l;p=o[f>>2]|0;m=o[s>>2]|0;g=(o[b>>2]|0)+1508970993+(o[n+20>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[d>>2])&p^m)|0;m=o[t>>2]|0;p=o[u>>2]|0;o[c>>2]=(o[c>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((p|m)&l|p&m)|0;o[b>>2]=a;m=o[c>>2]|0;p=o[d>>2]|0;l=(o[s>>2]|0)-1841331548+(o[n+24>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[f>>2])&m^p)|0;p=o[y>>2]|0;m=o[t>>2]|0;o[u>>2]=(o[u>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((m|p)&a|m&p)|0;o[s>>2]=g;p=o[u>>2]|0;m=o[f>>2]|0;a=(o[d>>2]|0)-1424204075+(o[n+28>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[c>>2])&p^m)|0;m=o[b>>2]|0;p=o[y>>2]|0;o[t>>2]=(o[t>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((p|m)&g|p&m)|0;o[d>>2]=l;m=o[t>>2]|0;p=o[c>>2]|0;g=(o[f>>2]|0)-670586216+(o[n+32>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[u>>2])&m^p)|0;p=o[s>>2]|0;m=o[b>>2]|0;o[y>>2]=(o[y>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((m|p)&l|m&p)|0;o[f>>2]=a;p=o[y>>2]|0;m=o[u>>2]|0;l=(o[c>>2]|0)+310598401+(o[n+36>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[t>>2])&p^m)|0;m=o[d>>2]|0;p=o[s>>2]|0;o[b>>2]=(o[b>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((p|m)&a|p&m)|0;o[c>>2]=g;m=o[b>>2]|0;p=o[t>>2]|0;a=(o[u>>2]|0)+607225278+(o[n+40>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[y>>2])&m^p)|0;p=o[f>>2]|0;m=o[d>>2]|0;o[s>>2]=(o[s>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((m|p)&g|m&p)|0;o[u>>2]=l;p=o[s>>2]|0;m=o[y>>2]|0;g=(o[t>>2]|0)+1426881987+(o[n+44>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[b>>2])&p^m)|0;m=o[c>>2]|0;p=o[f>>2]|0;o[d>>2]=(o[d>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((p|m)&l|p&m)|0;o[t>>2]=a;m=o[d>>2]|0;p=o[b>>2]|0;l=(o[y>>2]|0)+1925078388+(o[n+48>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[s>>2])&m^p)|0;p=o[u>>2]|0;m=o[c>>2]|0;o[f>>2]=(o[f>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((m|p)&a|m&p)|0;o[y>>2]=g;p=o[f>>2]|0;m=o[s>>2]|0;a=(o[b>>2]|0)-2132889090+(o[n+52>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[d>>2])&p^m)|0;m=o[t>>2]|0;p=o[u>>2]|0;o[c>>2]=(o[c>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((p|m)&g|p&m)|0;o[b>>2]=l;m=o[c>>2]|0;p=o[d>>2]|0;g=(o[s>>2]|0)-1680079193+(o[n+56>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[f>>2])&m^p)|0;p=o[y>>2]|0;m=o[t>>2]|0;o[u>>2]=(o[u>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((m|p)&l|m&p)|0;o[s>>2]=a;p=o[u>>2]|0;m=o[f>>2]|0;l=(o[d>>2]|0)-1046744716+(o[n+60>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[c>>2])&p^m)|0;m=o[b>>2]|0;p=o[y>>2]|0;o[t>>2]=(o[t>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((p|m)&a|p&m)|0;o[d>>2]=g;m=o[t>>2]|0;p=o[c>>2]|0;a=(o[f>>2]|0)-459576895+(o[n+64>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[u>>2])&m^p)|0;p=o[s>>2]|0;m=o[b>>2]|0;o[y>>2]=(o[y>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((m|p)&g|m&p)|0;o[f>>2]=l;p=o[y>>2]|0;m=o[u>>2]|0;g=(o[c>>2]|0)-272742522+(o[n+68>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[t>>2])&p^m)|0;m=o[d>>2]|0;p=o[s>>2]|0;o[b>>2]=(o[b>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((p|m)&l|p&m)|0;o[c>>2]=a;m=o[b>>2]|0;p=o[t>>2]|0;l=(o[u>>2]|0)+264347078+(o[n+72>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[y>>2])&m^p)|0;p=o[f>>2]|0;m=o[d>>2]|0;o[s>>2]=(o[s>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((m|p)&a|m&p)|0;o[u>>2]=g;p=o[s>>2]|0;m=o[y>>2]|0;a=(o[t>>2]|0)+604807628+(o[n+76>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[b>>2])&p^m)|0;m=o[c>>2]|0;p=o[f>>2]|0;o[d>>2]=(o[d>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((p|m)&g|p&m)|0;o[t>>2]=l;m=o[d>>2]|0;p=o[b>>2]|0;g=(o[y>>2]|0)+770255983+(o[n+80>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[s>>2])&m^p)|0;p=o[u>>2]|0;m=o[c>>2]|0;o[f>>2]=(o[f>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((m|p)&l|m&p)|0;o[y>>2]=a;p=o[f>>2]|0;m=o[s>>2]|0;l=(o[b>>2]|0)+1249150122+(o[n+84>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[d>>2])&p^m)|0;m=o[t>>2]|0;p=o[u>>2]|0;o[c>>2]=(o[c>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((p|m)&a|p&m)|0;o[b>>2]=g;m=o[c>>2]|0;p=o[d>>2]|0;a=(o[s>>2]|0)+1555081692+(o[n+88>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[f>>2])&m^p)|0;p=o[y>>2]|0;m=o[t>>2]|0;o[u>>2]=(o[u>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((m|p)&g|m&p)|0;o[s>>2]=l;p=o[u>>2]|0;m=o[f>>2]|0;g=(o[d>>2]|0)+1996064986+(o[n+92>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[c>>2])&p^m)|0;m=o[b>>2]|0;p=o[y>>2]|0;o[t>>2]=(o[t>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((p|m)&l|p&m)|0;o[d>>2]=a;m=o[t>>2]|0;p=o[c>>2]|0;l=(o[f>>2]|0)-1740746414+(o[n+96>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[u>>2])&m^p)|0;p=o[s>>2]|0;m=o[b>>2]|0;o[y>>2]=(o[y>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((m|p)&a|m&p)|0;o[f>>2]=g;p=o[y>>2]|0;m=o[u>>2]|0;a=(o[c>>2]|0)-1473132947+(o[n+100>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[t>>2])&p^m)|0;m=o[d>>2]|0;p=o[s>>2]|0;o[b>>2]=(o[b>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((p|m)&g|p&m)|0;o[c>>2]=l;m=o[b>>2]|0;p=o[t>>2]|0;g=(o[u>>2]|0)-1341970488+(o[n+104>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[y>>2])&m^p)|0;p=o[f>>2]|0;m=o[d>>2]|0;o[s>>2]=(o[s>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((m|p)&l|m&p)|0;o[u>>2]=a;p=o[s>>2]|0;m=o[y>>2]|0;l=(o[t>>2]|0)-1084653625+(o[n+108>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[b>>2])&p^m)|0;m=o[c>>2]|0;p=o[f>>2]|0;o[d>>2]=(o[d>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((p|m)&a|p&m)|0;o[t>>2]=g;m=o[d>>2]|0;p=o[b>>2]|0;a=(o[y>>2]|0)-958395405+(o[n+112>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[s>>2])&m^p)|0;p=o[u>>2]|0;m=o[c>>2]|0;o[f>>2]=(o[f>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((m|p)&g|m&p)|0;o[y>>2]=l;p=o[f>>2]|0;m=o[s>>2]|0;g=(o[b>>2]|0)-710438585+(o[n+116>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[d>>2])&p^m)|0;m=o[t>>2]|0;p=o[u>>2]|0;o[c>>2]=(o[c>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((p|m)&l|p&m)|0;o[b>>2]=a;m=o[c>>2]|0;p=o[d>>2]|0;l=(o[s>>2]|0)+113926993+(o[n+120>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[f>>2])&m^p)|0;p=o[y>>2]|0;m=o[t>>2]|0;o[u>>2]=(o[u>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((m|p)&a|m&p)|0;o[s>>2]=g;p=o[u>>2]|0;m=o[f>>2]|0;a=(o[d>>2]|0)+338241895+(o[n+124>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[c>>2])&p^m)|0;m=o[b>>2]|0;p=o[y>>2]|0;o[t>>2]=(o[t>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((p|m)&g|p&m)|0;o[d>>2]=l;m=o[t>>2]|0;p=o[c>>2]|0;g=(o[f>>2]|0)+666307205+(o[n+128>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[u>>2])&m^p)|0;p=o[s>>2]|0;m=o[b>>2]|0;o[y>>2]=(o[y>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((m|p)&l|m&p)|0;o[f>>2]=a;p=o[y>>2]|0;m=o[u>>2]|0;l=(o[c>>2]|0)+773529912+(o[n+132>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[t>>2])&p^m)|0;m=o[d>>2]|0;p=o[s>>2]|0;o[b>>2]=(o[b>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((p|m)&a|p&m)|0;o[c>>2]=g;m=o[b>>2]|0;p=o[t>>2]|0;a=(o[u>>2]|0)+1294757372+(o[n+136>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[y>>2])&m^p)|0;p=o[f>>2]|0;m=o[d>>2]|0;o[s>>2]=(o[s>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((m|p)&g|m&p)|0;o[u>>2]=l;p=o[s>>2]|0;m=o[y>>2]|0;g=(o[t>>2]|0)+1396182291+(o[n+140>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[b>>2])&p^m)|0;m=o[c>>2]|0;p=o[f>>2]|0;o[d>>2]=(o[d>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((p|m)&l|p&m)|0;o[t>>2]=a;m=o[d>>2]|0;p=o[b>>2]|0;l=(o[y>>2]|0)+1695183700+(o[n+144>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[s>>2])&m^p)|0;p=o[u>>2]|0;m=o[c>>2]|0;o[f>>2]=(o[f>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((m|p)&a|m&p)|0;o[y>>2]=g;p=o[f>>2]|0;m=o[s>>2]|0;a=(o[b>>2]|0)+1986661051+(o[n+148>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[d>>2])&p^m)|0;m=o[t>>2]|0;p=o[u>>2]|0;o[c>>2]=(o[c>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((p|m)&g|p&m)|0;o[b>>2]=l;m=o[c>>2]|0;p=o[d>>2]|0;g=(o[s>>2]|0)-2117940946+(o[n+152>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[f>>2])&m^p)|0;p=o[y>>2]|0;m=o[t>>2]|0;o[u>>2]=(o[u>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((m|p)&l|m&p)|0;o[s>>2]=a;p=o[u>>2]|0;m=o[f>>2]|0;l=(o[d>>2]|0)-1838011259+(o[n+156>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[c>>2])&p^m)|0;m=o[b>>2]|0;p=o[y>>2]|0;o[t>>2]=(o[t>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((p|m)&a|p&m)|0;o[d>>2]=g;m=o[t>>2]|0;p=o[c>>2]|0;a=(o[f>>2]|0)-1564481375+(o[n+160>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[u>>2])&m^p)|0;p=o[s>>2]|0;m=o[b>>2]|0;o[y>>2]=(o[y>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((m|p)&g|m&p)|0;o[f>>2]=l;p=o[y>>2]|0;m=o[u>>2]|0;g=(o[c>>2]|0)-1474664885+(o[n+164>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[t>>2])&p^m)|0;m=o[d>>2]|0;p=o[s>>2]|0;o[b>>2]=(o[b>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((p|m)&l|p&m)|0;o[c>>2]=a;m=o[b>>2]|0;p=o[t>>2]|0;l=(o[u>>2]|0)-1035236496+(o[n+168>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[y>>2])&m^p)|0;p=o[f>>2]|0;m=o[d>>2]|0;o[s>>2]=(o[s>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((m|p)&a|m&p)|0;o[u>>2]=g;p=o[s>>2]|0;m=o[y>>2]|0;a=(o[t>>2]|0)-949202525+(o[n+172>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[b>>2])&p^m)|0;m=o[c>>2]|0;p=o[f>>2]|0;o[d>>2]=(o[d>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((p|m)&g|p&m)|0;o[t>>2]=l;m=o[d>>2]|0;p=o[b>>2]|0;g=(o[y>>2]|0)-778901479+(o[n+176>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[s>>2])&m^p)|0;p=o[u>>2]|0;m=o[c>>2]|0;o[f>>2]=(o[f>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((m|p)&l|m&p)|0;o[y>>2]=a;p=o[f>>2]|0;m=o[s>>2]|0;l=(o[b>>2]|0)-694614492+(o[n+180>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[d>>2])&p^m)|0;m=o[t>>2]|0;p=o[u>>2]|0;o[c>>2]=(o[c>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((p|m)&a|p&m)|0;o[b>>2]=g;m=o[c>>2]|0;p=o[d>>2]|0;a=(o[s>>2]|0)-200395387+(o[n+184>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[f>>2])&m^p)|0;p=o[y>>2]|0;m=o[t>>2]|0;o[u>>2]=(o[u>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((m|p)&g|m&p)|0;o[s>>2]=l;p=o[u>>2]|0;m=o[f>>2]|0;g=(o[d>>2]|0)+275423344+(o[n+188>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[c>>2])&p^m)|0;m=o[b>>2]|0;p=o[y>>2]|0;o[t>>2]=(o[t>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((p|m)&l|p&m)|0;o[d>>2]=a;m=o[t>>2]|0;p=o[c>>2]|0;l=(o[f>>2]|0)+430227734+(o[n+192>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[u>>2])&m^p)|0;p=o[s>>2]|0;m=o[b>>2]|0;o[y>>2]=(o[y>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((m|p)&a|m&p)|0;o[f>>2]=g;p=o[y>>2]|0;m=o[u>>2]|0;a=(o[c>>2]|0)+506948616+(o[n+196>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[t>>2])&p^m)|0;m=o[d>>2]|0;p=o[s>>2]|0;o[b>>2]=(o[b>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((p|m)&g|p&m)|0;o[c>>2]=l;m=o[b>>2]|0;p=o[t>>2]|0;g=(o[u>>2]|0)+659060556+(o[n+200>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[y>>2])&m^p)|0;p=o[f>>2]|0;m=o[d>>2]|0;o[s>>2]=(o[s>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((m|p)&l|m&p)|0;o[u>>2]=a;p=o[s>>2]|0;m=o[y>>2]|0;l=(o[t>>2]|0)+883997877+(o[n+204>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[b>>2])&p^m)|0;m=o[c>>2]|0;p=o[f>>2]|0;o[d>>2]=(o[d>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((p|m)&a|p&m)|0;o[t>>2]=g;m=o[d>>2]|0;p=o[b>>2]|0;a=(o[y>>2]|0)+958139571+(o[n+208>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[s>>2])&m^p)|0;p=o[u>>2]|0;m=o[c>>2]|0;o[f>>2]=(o[f>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((m|p)&g|m&p)|0;o[y>>2]=l;p=o[f>>2]|0;m=o[s>>2]|0;g=(o[b>>2]|0)+1322822218+(o[n+212>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[d>>2])&p^m)|0;m=o[t>>2]|0;p=o[u>>2]|0;o[c>>2]=(o[c>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((p|m)&l|p&m)|0;o[b>>2]=a;m=o[c>>2]|0;p=o[d>>2]|0;l=(o[s>>2]|0)+1537002063+(o[n+216>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[f>>2])&m^p)|0;p=o[y>>2]|0;m=o[t>>2]|0;o[u>>2]=(o[u>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((m|p)&a|m&p)|0;o[s>>2]=g;p=o[u>>2]|0;m=o[f>>2]|0;a=(o[d>>2]|0)+1747873779+(o[n+220>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[c>>2])&p^m)|0;m=o[b>>2]|0;p=o[y>>2]|0;o[t>>2]=(o[t>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((p|m)&g|p&m)|0;o[d>>2]=l;m=o[t>>2]|0;p=o[c>>2]|0;g=(o[f>>2]|0)+1955562222+(o[n+224>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[u>>2])&m^p)|0;p=o[s>>2]|0;m=o[b>>2]|0;o[y>>2]=(o[y>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((m|p)&l|m&p)|0;o[f>>2]=a;p=o[y>>2]|0;m=o[u>>2]|0;l=(o[c>>2]|0)+2024104815+(o[n+228>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[t>>2])&p^m)|0;m=o[d>>2]|0;p=o[s>>2]|0;o[b>>2]=(o[b>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((p|m)&a|p&m)|0;o[c>>2]=g;m=o[b>>2]|0;p=o[t>>2]|0;a=(o[u>>2]|0)-2067236844+(o[n+232>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[y>>2])&m^p)|0;p=o[f>>2]|0;m=o[d>>2]|0;o[s>>2]=(o[s>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((m|p)&g|m&p)|0;o[u>>2]=l;p=o[s>>2]|0;m=o[y>>2]|0;g=(o[t>>2]|0)-1933114872+(o[n+236>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[b>>2])&p^m)|0;m=o[c>>2]|0;p=o[f>>2]|0;o[d>>2]=(o[d>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((p|m)&l|p&m)|0;o[t>>2]=a;m=o[d>>2]|0;p=o[b>>2]|0;l=(o[y>>2]|0)-1866530822+(o[n+240>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[s>>2])&m^p)|0;p=o[u>>2]|0;m=o[c>>2]|0;o[f>>2]=(o[f>>2]|0)+l;g=l+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((m|p)&a|m&p)|0;o[y>>2]=g;p=o[f>>2]|0;m=o[s>>2]|0;a=(o[b>>2]|0)-1538233109+(o[n+244>>2]|0)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+((m^o[d>>2])&p^m)|0;m=o[t>>2]|0;p=o[u>>2]|0;o[c>>2]=(o[c>>2]|0)+a;l=a+((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+((p|m)&g|p&m)|0;o[b>>2]=l;m=o[c>>2]|0;p=o[d>>2]|0;g=(o[s>>2]|0)-1090935817+(o[n+248>>2]|0)+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+((p^o[f>>2])&m^p)|0;p=o[y>>2]|0;m=o[t>>2]|0;o[u>>2]=(o[u>>2]|0)+g;a=g+((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((m|p)&l|m&p)|0;o[s>>2]=a;s=o[u>>2]|0;u=o[f>>2]|0;f=(o[d>>2]|0)-965641998+(o[n+252>>2]|0)+((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+((u^o[c>>2])&s^u)|0;u=o[b>>2]|0;b=o[y>>2]|0;o[t>>2]=(o[t>>2]|0)+f;t=f+((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((b|u)&a|b&u)|0;o[d>>2]=t;o[e>>2]=(o[e>>2]|0)+t;t=e+4|0;o[t>>2]=(o[t>>2]|0)+(o[i+4>>2]|0);t=e+8|0;o[t>>2]=(o[t>>2]|0)+(o[i+8>>2]|0);t=e+12|0;o[t>>2]=(o[t>>2]|0)+(o[i+12>>2]|0);t=e+16|0;o[t>>2]=(o[t>>2]|0)+(o[i+16>>2]|0);t=e+20|0;o[t>>2]=(o[t>>2]|0)+(o[i+20>>2]|0);t=e+24|0;o[t>>2]=(o[t>>2]|0)+(o[i+24>>2]|0);t=e+28|0;o[t>>2]=(o[t>>2]|0)+(o[i+28>>2]|0);h=r;return}function Lt(e,t){e=e|0;t=t|0;n[e+3|0]=t&255;n[e+2|0]=t>>>8&255;n[e+1|0]=t>>>16&255;n[e]=t>>>24&255;return}function Nt(e){e=e|0;return(s[e+2|0]|0)<<8|(s[e+3|0]|0)|(s[e+1|0]|0)<<16|(s[e]|0)<<24|0}function jt(e,t){e=e|0;t=t|0;Ot(t);Dt(e,t|0,32);en(t|0,0,104);return}function Ot(e){e=e|0;var t=0,r=0,n=0;t=h;h=h+8|0;r=t|0;Dt(r,e+32|0,8);n=(o[e+36>>2]|0)>>>3&63;Tt(e,720,(n>>>0<56?56:120)-n|0);Tt(e,r,8);h=t;return}function Dt(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;n=r>>>2;if((n|0)==0){return}else{i=0}do{Lt(e+(i<<2)|0,o[t+(i<<2)>>2]|0);i=i+1|0}while(i>>>0<n>>>0);return}function zt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,o=0,s=0,a=0,f=0,u=0,c=0;i=h;h=h+96|0;o=i|0;if(r>>>0>64){s=e|0;Mt(s);Tt(s,t,r);a=i+64|0;jt(a,s);f=a;u=32}else{f=t;u=r}r=e|0;Mt(r);t=o|0;en(t|0,54,64);if((u|0)!=0){a=0;do{s=o+a|0;n[s]=n[s]^n[f+a|0];a=a+1|0}while(a>>>0<u>>>0)}Tt(r,t,64);r=e+104|0;Mt(r);en(t|0,92,64);if((u|0)==0){Tt(r,t,64);h=i;return}else{c=0}do{e=o+c|0;n[e]=n[e]^n[f+c|0];c=c+1|0}while(c>>>0<u>>>0);Tt(r,t,64);h=i;return}function Ft(e,t,r){e=e|0;t=t|0;r=r|0;Tt(e|0,t,r);return}function Ut(e,t){e=e|0;t=t|0;var r=0,n=0,i=0;r=h;h=h+32|0;n=r|0;jt(n,t|0);i=t+104|0;Tt(i,n,32);jt(e,i);h=r;return}function qt(e,t,r,i,o,s,a,f){e=e|0;t=t|0;r=r|0;i=i|0;o=o|0;s=s|0;a=a|0;f=f|0;var u=0,c=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0,w=0,_=0,S=0,A=0;u=h;h=h+488|0;c=u|0;d=u+208|0;l=u+424|0;p=u+456|0;zt(c,e,t);Ft(c,r,i);if((f|0)==0){h=u;return}i=u+416|0;r=d;b=c;c=l|0;m=p|0;y=0;g=s>>>0<y>>>0|s>>>0==y>>>0&o>>>0<2>>>0;y=0;v=0;do{y=y+1|0;Lt(i,y);Qr(r|0,b|0,208)|0;Ft(d,i,4);Ut(c,d);Qr(m|0,c|0,32)|0;if(!g){w=0;_=2;do{zt(d,e,t);Ft(d,c,32);Ut(c,d);S=0;do{A=p+S|0;n[A]=n[A]^n[l+S|0];S=S+1|0}while((S|0)<32);_=rn(_,w,1,0)|0;w=j}while(!(w>>>0>s>>>0|w>>>0==s>>>0&_>>>0>o>>>0))}_=f-v|0;w=_>>>0>32?32:_;_=a+v|0;Qr(_|0,m|0,w)|0;v=y<<5}while(v>>>0<f>>>0);h=u;return}function Ht(e,t){e=e|0;t=t|0;var r=0;r=0;do{o[e+(r<<2)>>2]=Nt(t+(r<<2)|0)|0;r=r+1|0}while(r>>>0<16);return}function Kt(e){e=e|0;var t=0,r=0,n=0,i=0,s=0,a=0,f=0,u=0,c=0,h=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0,w=0,_=0,S=0,A=0,E=0,k=0,M=0,x=0,I=0,B=0,P=0,C=0,T=0,R=0,L=0,N=0,j=0,O=0,D=0,z=0,F=0,U=0,q=0,H=0,K=0,V=0,Y=0,G=0,W=0,J=0,Z=0,X=0,$=0,Q=0,ee=0,te=0,re=0,ne=0,ie=0,oe=0,se=0,ae=0,fe=0,ue=0,ce=0,he=0,de=0,le=0,pe=0,be=0,me=0,ye=0,ge=0,ve=0,_e=0,Se=0,Ee=0,ke=0,Me=0,xe=0,Ie=0,Be=0,Pe=0,Ce=0,Te=0,Re=0,Le=0;do{if(e>>>0<245){if(e>>>0<11){t=16}else{t=e+11&-8}r=t>>>3;n=o[208]|0;i=n>>>(r>>>0);if((i&3|0)!=0){s=(i&1^1)+r|0;a=s<<1;f=872+(a<<2)|0;u=872+(a+2<<2)|0;a=o[u>>2]|0;c=a+8|0;h=o[c>>2]|0;do{if((f|0)==(h|0)){o[208]=n&~(1<<s)}else{if(h>>>0<(o[212]|0)>>>0){Ae();return 0}d=h+12|0;if((o[d>>2]|0)==(a|0)){o[d>>2]=f;o[u>>2]=h;break}else{Ae();return 0}}}while(0);h=s<<3;o[a+4>>2]=h|3;u=a+(h|4)|0;o[u>>2]=o[u>>2]|1;l=c;return l|0}if(t>>>0<=(o[210]|0)>>>0){p=t;break}if((i|0)!=0){u=2<<r;h=i<<r&(u|-u);u=(h&-h)-1|0;h=u>>>12&16;f=u>>>(h>>>0);u=f>>>5&8;d=f>>>(u>>>0);f=d>>>2&4;b=d>>>(f>>>0);d=b>>>1&2;m=b>>>(d>>>0);b=m>>>1&1;y=(u|h|f|d|b)+(m>>>(b>>>0))|0;b=y<<1;m=872+(b<<2)|0;d=872+(b+2<<2)|0;b=o[d>>2]|0;f=b+8|0;h=o[f>>2]|0;do{if((m|0)==(h|0)){o[208]=n&~(1<<y)}else{if(h>>>0<(o[212]|0)>>>0){Ae();return 0}u=h+12|0;if((o[u>>2]|0)==(b|0)){o[u>>2]=m;o[d>>2]=h;break}else{Ae();return 0}}}while(0);h=y<<3;d=h-t|0;o[b+4>>2]=t|3;m=b;n=m+t|0;o[m+(t|4)>>2]=d|1;o[m+h>>2]=d;h=o[210]|0;if((h|0)!=0){m=o[213]|0;r=h>>>3;h=r<<1;i=872+(h<<2)|0;c=o[208]|0;a=1<<r;do{if((c&a|0)==0){o[208]=c|a;g=i;v=872+(h+2<<2)|0}else{r=872+(h+2<<2)|0;s=o[r>>2]|0;if(s>>>0>=(o[212]|0)>>>0){g=s;v=r;break}Ae();return 0}}while(0);o[v>>2]=m;o[g+12>>2]=m;o[m+8>>2]=g;o[m+12>>2]=i}o[210]=d;o[213]=n;l=f;return l|0}h=o[209]|0;if((h|0)==0){p=t;break}a=(h&-h)-1|0;h=a>>>12&16;c=a>>>(h>>>0);a=c>>>5&8;b=c>>>(a>>>0);c=b>>>2&4;y=b>>>(c>>>0);b=y>>>1&2;r=y>>>(b>>>0);y=r>>>1&1;s=o[1136+((a|h|c|b|y)+(r>>>(y>>>0))<<2)>>2]|0;y=s;r=s;b=(o[s+4>>2]&-8)-t|0;while(1){s=o[y+16>>2]|0;if((s|0)==0){c=o[y+20>>2]|0;if((c|0)==0){break}else{w=c}}else{w=s}s=(o[w+4>>2]&-8)-t|0;c=s>>>0<b>>>0;y=w;r=c?w:r;b=c?s:b}y=r;f=o[212]|0;if(y>>>0<f>>>0){Ae();return 0}n=y+t|0;d=n;if(y>>>0>=n>>>0){Ae();return 0}n=o[r+24>>2]|0;i=o[r+12>>2]|0;do{if((i|0)==(r|0)){m=r+20|0;s=o[m>>2]|0;if((s|0)==0){c=r+16|0;h=o[c>>2]|0;if((h|0)==0){_=0;break}else{S=h;A=c}}else{S=s;A=m}while(1){m=S+20|0;s=o[m>>2]|0;if((s|0)!=0){S=s;A=m;continue}m=S+16|0;s=o[m>>2]|0;if((s|0)==0){break}else{S=s;A=m}}if(A>>>0<f>>>0){Ae();return 0}else{o[A>>2]=0;_=S;break}}else{m=o[r+8>>2]|0;if(m>>>0<f>>>0){Ae();return 0}s=m+12|0;if((o[s>>2]|0)!=(r|0)){Ae();return 0}c=i+8|0;if((o[c>>2]|0)==(r|0)){o[s>>2]=i;o[c>>2]=m;_=i;break}else{Ae();return 0}}}while(0);e:do{if((n|0)!=0){i=r+28|0;f=1136+(o[i>>2]<<2)|0;do{if((r|0)==(o[f>>2]|0)){o[f>>2]=_;if((_|0)!=0){break}o[209]=o[209]&~(1<<o[i>>2]);break e}else{if(n>>>0<(o[212]|0)>>>0){Ae();return 0}m=n+16|0;if((o[m>>2]|0)==(r|0)){o[m>>2]=_}else{o[n+20>>2]=_}if((_|0)==0){break e}}}while(0);if(_>>>0<(o[212]|0)>>>0){Ae();return 0}o[_+24>>2]=n;i=o[r+16>>2]|0;do{if((i|0)!=0){if(i>>>0<(o[212]|0)>>>0){Ae();return 0}else{o[_+16>>2]=i;o[i+24>>2]=_;break}}}while(0);i=o[r+20>>2]|0;if((i|0)==0){break}if(i>>>0<(o[212]|0)>>>0){Ae();return 0}else{o[_+20>>2]=i;o[i+24>>2]=_;break}}}while(0);if(b>>>0<16){n=b+t|0;o[r+4>>2]=n|3;i=y+(n+4)|0;o[i>>2]=o[i>>2]|1}else{o[r+4>>2]=t|3;o[y+(t|4)>>2]=b|1;o[y+(b+t)>>2]=b;i=o[210]|0;if((i|0)!=0){n=o[213]|0;f=i>>>3;i=f<<1;m=872+(i<<2)|0;c=o[208]|0;s=1<<f;do{if((c&s|0)==0){o[208]=c|s;E=m;k=872+(i+2<<2)|0}else{f=872+(i+2<<2)|0;h=o[f>>2]|0;if(h>>>0>=(o[212]|0)>>>0){E=h;k=f;break}Ae();return 0}}while(0);o[k>>2]=n;o[E+12>>2]=n;o[n+8>>2]=E;o[n+12>>2]=m}o[210]=b;o[213]=d}i=r+8|0;if((i|0)==0){p=t;break}else{l=i}return l|0}else{if(e>>>0>4294967231){p=-1;break}i=e+11|0;s=i&-8;c=o[209]|0;if((c|0)==0){p=s;break}y=-s|0;f=i>>>8;do{if((f|0)==0){M=0}else{if(s>>>0>16777215){M=31;break}i=(f+1048320|0)>>>16&8;h=f<<i;a=(h+520192|0)>>>16&4;u=h<<a;h=(u+245760|0)>>>16&2;x=14-(a|i|h)+(u<<h>>>15)|0;M=s>>>((x+7|0)>>>0)&1|x<<1}}while(0);f=o[1136+(M<<2)>>2]|0;e:do{if((f|0)==0){I=0;B=y;P=0}else{if((M|0)==31){C=0}else{C=25-(M>>>1)|0}r=0;d=y;b=f;m=s<<C;n=0;while(1){x=o[b+4>>2]&-8;h=x-s|0;if(h>>>0<d>>>0){if((x|0)==(s|0)){I=b;B=h;P=b;break e}else{T=b;R=h}}else{T=r;R=d}h=o[b+20>>2]|0;x=o[b+16+(m>>>31<<2)>>2]|0;u=(h|0)==0|(h|0)==(x|0)?n:h;if((x|0)==0){I=T;B=R;P=u;break}else{r=T;d=R;b=x;m=m<<1;n=u}}}}while(0);if((P|0)==0&(I|0)==0){f=2<<M;y=c&(f|-f);if((y|0)==0){p=s;break}f=(y&-y)-1|0;y=f>>>12&16;n=f>>>(y>>>0);f=n>>>5&8;m=n>>>(f>>>0);n=m>>>2&4;b=m>>>(n>>>0);m=b>>>1&2;d=b>>>(m>>>0);b=d>>>1&1;L=o[1136+((f|y|n|m|b)+(d>>>(b>>>0))<<2)>>2]|0}else{L=P}if((L|0)==0){N=B;j=I}else{b=L;d=B;m=I;while(1){n=(o[b+4>>2]&-8)-s|0;y=n>>>0<d>>>0;f=y?n:d;n=y?b:m;y=o[b+16>>2]|0;if((y|0)!=0){b=y;d=f;m=n;continue}y=o[b+20>>2]|0;if((y|0)==0){N=f;j=n;break}else{b=y;d=f;m=n}}}if((j|0)==0){p=s;break}if(N>>>0>=((o[210]|0)-s|0)>>>0){p=s;break}m=j;d=o[212]|0;if(m>>>0<d>>>0){Ae();return 0}b=m+s|0;c=b;if(m>>>0>=b>>>0){Ae();return 0}n=o[j+24>>2]|0;f=o[j+12>>2]|0;do{if((f|0)==(j|0)){y=j+20|0;r=o[y>>2]|0;if((r|0)==0){u=j+16|0;x=o[u>>2]|0;if((x|0)==0){O=0;break}else{D=x;z=u}}else{D=r;z=y}while(1){y=D+20|0;r=o[y>>2]|0;if((r|0)!=0){D=r;z=y;continue}y=D+16|0;r=o[y>>2]|0;if((r|0)==0){break}else{D=r;z=y}}if(z>>>0<d>>>0){Ae();return 0}else{o[z>>2]=0;O=D;break}}else{y=o[j+8>>2]|0;if(y>>>0<d>>>0){Ae();return 0}r=y+12|0;if((o[r>>2]|0)!=(j|0)){Ae();return 0}u=f+8|0;if((o[u>>2]|0)==(j|0)){o[r>>2]=f;o[u>>2]=y;O=f;break}else{Ae();return 0}}}while(0);e:do{if((n|0)!=0){f=j+28|0;d=1136+(o[f>>2]<<2)|0;do{if((j|0)==(o[d>>2]|0)){o[d>>2]=O;if((O|0)!=0){break}o[209]=o[209]&~(1<<o[f>>2]);break e}else{if(n>>>0<(o[212]|0)>>>0){Ae();return 0}y=n+16|0;if((o[y>>2]|0)==(j|0)){o[y>>2]=O}else{o[n+20>>2]=O}if((O|0)==0){break e}}}while(0);if(O>>>0<(o[212]|0)>>>0){Ae();return 0}o[O+24>>2]=n;f=o[j+16>>2]|0;do{if((f|0)!=0){if(f>>>0<(o[212]|0)>>>0){Ae();return 0}else{o[O+16>>2]=f;o[f+24>>2]=O;break}}}while(0);f=o[j+20>>2]|0;if((f|0)==0){break}if(f>>>0<(o[212]|0)>>>0){Ae();return 0}else{o[O+20>>2]=f;o[f+24>>2]=O;break}}}while(0);do{if(N>>>0<16){n=N+s|0;o[j+4>>2]=n|3;f=m+(n+4)|0;o[f>>2]=o[f>>2]|1}else{o[j+4>>2]=s|3;o[m+(s|4)>>2]=N|1;o[m+(N+s)>>2]=N;f=N>>>3;if(N>>>0<256){n=f<<1;d=872+(n<<2)|0;y=o[208]|0;u=1<<f;do{if((y&u|0)==0){o[208]=y|u;F=d;U=872+(n+2<<2)|0}else{f=872+(n+2<<2)|0;r=o[f>>2]|0;if(r>>>0>=(o[212]|0)>>>0){F=r;U=f;break}Ae();return 0}}while(0);o[U>>2]=c;o[F+12>>2]=c;o[m+(s+8)>>2]=F;o[m+(s+12)>>2]=d;break}n=b;u=N>>>8;do{if((u|0)==0){q=0}else{if(N>>>0>16777215){q=31;break}y=(u+1048320|0)>>>16&8;f=u<<y;r=(f+520192|0)>>>16&4;x=f<<r;f=(x+245760|0)>>>16&2;h=14-(r|y|f)+(x<<f>>>15)|0;q=N>>>((h+7|0)>>>0)&1|h<<1}}while(0);u=1136+(q<<2)|0;o[m+(s+28)>>2]=q;o[m+(s+20)>>2]=0;o[m+(s+16)>>2]=0;d=o[209]|0;h=1<<q;if((d&h|0)==0){o[209]=d|h;o[u>>2]=n;o[m+(s+24)>>2]=u;o[m+(s+12)>>2]=n;o[m+(s+8)>>2]=n;break}if((q|0)==31){H=0}else{H=25-(q>>>1)|0}h=N<<H;d=o[u>>2]|0;while(1){if((o[d+4>>2]&-8|0)==(N|0)){break}K=d+16+(h>>>31<<2)|0;u=o[K>>2]|0;if((u|0)==0){V=262;break}else{h=h<<1;d=u}}if((V|0)==262){if(K>>>0<(o[212]|0)>>>0){Ae();return 0}else{o[K>>2]=n;o[m+(s+24)>>2]=d;o[m+(s+12)>>2]=n;o[m+(s+8)>>2]=n;break}}h=d+8|0;u=o[h>>2]|0;f=o[212]|0;if(d>>>0<f>>>0){Ae();return 0}if(u>>>0<f>>>0){Ae();return 0}else{o[u+12>>2]=n;o[h>>2]=n;o[m+(s+8)>>2]=u;o[m+(s+12)>>2]=d;o[m+(s+24)>>2]=0;break}}}while(0);m=j+8|0;if((m|0)==0){p=s;break}else{l=m}return l|0}}while(0);j=o[210]|0;if(p>>>0<=j>>>0){K=j-p|0;N=o[213]|0;if(K>>>0>15){H=N;o[213]=H+p;o[210]=K;o[H+(p+4)>>2]=K|1;o[H+j>>2]=K;o[N+4>>2]=p|3}else{o[210]=0;o[213]=0;o[N+4>>2]=j|3;K=N+(j+4)|0;o[K>>2]=o[K>>2]|1}l=N+8|0;return l|0}N=o[211]|0;if(p>>>0<N>>>0){K=N-p|0;o[211]=K;N=o[214]|0;j=N;o[214]=j+p;o[j+(p+4)>>2]=K|1;o[N+4>>2]=p|3;l=N+8|0;return l|0}do{if((o[200]|0)==0){N=we(8)|0;if((N-1&N|0)==0){o[202]=N;o[201]=N;o[203]=-1;o[204]=2097152;o[205]=0;o[319]=0;o[200]=(tt(0)|0)&-16^1431655768;break}else{Ae();return 0}}}while(0);N=p+48|0;K=o[202]|0;j=p+47|0;H=K+j|0;q=-K|0;K=H&q;if(K>>>0<=p>>>0){l=0;return l|0}F=o[318]|0;do{if((F|0)!=0){U=o[316]|0;O=U+K|0;if(O>>>0<=U>>>0|O>>>0>F>>>0){l=0}else{break}return l|0}}while(0);e:do{if((o[319]&4|0)==0){F=o[214]|0;t:do{if((F|0)==0){V=292}else{O=F;U=1280;while(1){Y=U|0;D=o[Y>>2]|0;if(D>>>0<=O>>>0){G=U+4|0;if((D+(o[G>>2]|0)|0)>>>0>O>>>0){break}}D=o[U+8>>2]|0;if((D|0)==0){V=292;break t}else{U=D}}if((U|0)==0){V=292;break}O=H-(o[211]|0)&q;if(O>>>0>=2147483647){W=0;break}d=Ze(O|0)|0;n=(d|0)==((o[Y>>2]|0)+(o[G>>2]|0)|0);J=n?d:-1;Z=n?O:0;X=d;$=O;V=301}}while(0);do{if((V|0)==292){F=Ze(0)|0;if((F|0)==-1){W=0;break}s=F;O=o[201]|0;d=O-1|0;if((d&s|0)==0){Q=K}else{Q=K-s+(d+s&-O)|0}O=o[316]|0;s=O+Q|0;if(!(Q>>>0>p>>>0&Q>>>0<2147483647)){W=0;break}d=o[318]|0;if((d|0)!=0){if(s>>>0<=O>>>0|s>>>0>d>>>0){W=0;break}}d=Ze(Q|0)|0;s=(d|0)==(F|0);J=s?F:-1;Z=s?Q:0;X=d;$=Q;V=301}}while(0);t:do{if((V|0)==301){d=-$|0;if((J|0)!=-1){ee=Z;te=J;V=312;break e}do{if((X|0)!=-1&$>>>0<2147483647&$>>>0<N>>>0){s=o[202]|0;F=j-$+s&-s;if(F>>>0>=2147483647){re=$;break}if((Ze(F|0)|0)==-1){Ze(d|0)|0;W=Z;break t}else{re=F+$|0;break}}else{re=$}}while(0);if((X|0)==-1){W=Z}else{ee=re;te=X;V=312;break e}}}while(0);o[319]=o[319]|4;ne=W;V=309}else{ne=0;V=309}}while(0);do{if((V|0)==309){if(K>>>0>=2147483647){break}W=Ze(K|0)|0;X=Ze(0)|0;if(!((X|0)!=-1&(W|0)!=-1&W>>>0<X>>>0)){break}re=X-W|0;X=re>>>0>(p+40|0)>>>0;Z=X?W:-1;if((Z|0)!=-1){ee=X?re:ne;te=Z;V=312}}}while(0);do{if((V|0)==312){ne=(o[316]|0)+ee|0;o[316]=ne;if(ne>>>0>(o[317]|0)>>>0){o[317]=ne}ne=o[214]|0;e:do{if((ne|0)==0){K=o[212]|0;if((K|0)==0|te>>>0<K>>>0){o[212]=te}o[320]=te;o[321]=ee;o[323]=0;o[217]=o[200];o[216]=-1;K=0;do{Z=K<<1;re=872+(Z<<2)|0;o[872+(Z+3<<2)>>2]=re;o[872+(Z+2<<2)>>2]=re;K=K+1|0}while(K>>>0<32);K=te+8|0;if((K&7|0)==0){ie=0}else{ie=-K&7}K=ee-40-ie|0;o[214]=te+ie;o[211]=K;o[te+(ie+4)>>2]=K|1;o[te+(ee-36)>>2]=40;o[215]=o[204]}else{K=1280;while(1){oe=o[K>>2]|0;se=K+4|0;ae=o[se>>2]|0;if((te|0)==(oe+ae|0)){V=324;break}re=o[K+8>>2]|0;if((re|0)==0){break}else{K=re}}do{if((V|0)==324){if((o[K+12>>2]&8|0)!=0){break}re=ne;if(!(re>>>0>=oe>>>0&re>>>0<te>>>0)){break}o[se>>2]=ae+ee;re=o[214]|0;Z=(o[211]|0)+ee|0;X=re;W=re+8|0;if((W&7|0)==0){fe=0}else{fe=-W&7}W=Z-fe|0;o[214]=X+fe;o[211]=W;o[X+(fe+4)>>2]=W|1;o[X+(Z+4)>>2]=40;o[215]=o[204];break e}}while(0);if(te>>>0<(o[212]|0)>>>0){o[212]=te}K=te+ee|0;Z=1280;while(1){ue=Z|0;if((o[ue>>2]|0)==(K|0)){V=334;break}X=o[Z+8>>2]|0;if((X|0)==0){break}else{Z=X}}do{if((V|0)==334){if((o[Z+12>>2]&8|0)!=0){break}o[ue>>2]=te;K=Z+4|0;o[K>>2]=(o[K>>2]|0)+ee;K=te+8|0;if((K&7|0)==0){ce=0}else{ce=-K&7}K=te+(ee+8)|0;if((K&7|0)==0){he=0}else{he=-K&7}K=te+(he+ee)|0;X=K;W=ce+p|0;re=te+W|0;$=re;j=K-(te+ce)-p|0;o[te+(ce+4)>>2]=p|3;do{if((X|0)==(o[214]|0)){N=(o[211]|0)+j|0;o[211]=N;o[214]=$;o[te+(W+4)>>2]=N|1}else{if((X|0)==(o[213]|0)){N=(o[210]|0)+j|0;o[210]=N;o[213]=$;o[te+(W+4)>>2]=N|1;o[te+(N+W)>>2]=N;break}N=ee+4|0;J=o[te+(N+he)>>2]|0;if((J&3|0)==1){Q=J&-8;G=J>>>3;t:do{if(J>>>0<256){Y=o[te+((he|8)+ee)>>2]|0;q=o[te+(ee+12+he)>>2]|0;H=872+(G<<1<<2)|0;do{if((Y|0)!=(H|0)){if(Y>>>0<(o[212]|0)>>>0){Ae();return 0}if((o[Y+12>>2]|0)==(X|0)){break}Ae();return 0}}while(0);if((q|0)==(Y|0)){o[208]=o[208]&~(1<<G);break}do{if((q|0)==(H|0)){de=q+8|0}else{if(q>>>0<(o[212]|0)>>>0){Ae();return 0}d=q+8|0;if((o[d>>2]|0)==(X|0)){de=d;break}Ae();return 0}}while(0);o[Y+12>>2]=q;o[de>>2]=Y}else{H=K;d=o[te+((he|24)+ee)>>2]|0;U=o[te+(ee+12+he)>>2]|0;do{if((U|0)==(H|0)){F=he|16;s=te+(N+F)|0;O=o[s>>2]|0;if((O|0)==0){n=te+(F+ee)|0;F=o[n>>2]|0;if((F|0)==0){le=0;break}else{pe=F;be=n}}else{pe=O;be=s}while(1){s=pe+20|0;O=o[s>>2]|0;if((O|0)!=0){pe=O;be=s;continue}s=pe+16|0;O=o[s>>2]|0;if((O|0)==0){break}else{pe=O;be=s}}if(be>>>0<(o[212]|0)>>>0){Ae();return 0}else{o[be>>2]=0;le=pe;break}}else{s=o[te+((he|8)+ee)>>2]|0;if(s>>>0<(o[212]|0)>>>0){Ae();return 0}O=s+12|0;if((o[O>>2]|0)!=(H|0)){Ae();return 0}n=U+8|0;if((o[n>>2]|0)==(H|0)){o[O>>2]=U;o[n>>2]=s;le=U;break}else{Ae();return 0}}}while(0);if((d|0)==0){break}U=te+(ee+28+he)|0;Y=1136+(o[U>>2]<<2)|0;do{if((H|0)==(o[Y>>2]|0)){o[Y>>2]=le;if((le|0)!=0){break}o[209]=o[209]&~(1<<o[U>>2]);break t}else{if(d>>>0<(o[212]|0)>>>0){Ae();return 0}q=d+16|0;if((o[q>>2]|0)==(H|0)){o[q>>2]=le}else{o[d+20>>2]=le}if((le|0)==0){break t}}}while(0);if(le>>>0<(o[212]|0)>>>0){Ae();return 0}o[le+24>>2]=d;H=he|16;U=o[te+(H+ee)>>2]|0;do{if((U|0)!=0){if(U>>>0<(o[212]|0)>>>0){Ae();return 0}else{o[le+16>>2]=U;o[U+24>>2]=le;break}}}while(0);U=o[te+(N+H)>>2]|0;if((U|0)==0){break}if(U>>>0<(o[212]|0)>>>0){Ae();return 0}else{o[le+20>>2]=U;o[U+24>>2]=le;break}}}while(0);me=te+((Q|he)+ee)|0;ye=Q+j|0}else{me=X;ye=j}N=me+4|0;o[N>>2]=o[N>>2]&-2;o[te+(W+4)>>2]=ye|1;o[te+(ye+W)>>2]=ye;N=ye>>>3;if(ye>>>0<256){G=N<<1;J=872+(G<<2)|0;U=o[208]|0;d=1<<N;do{if((U&d|0)==0){o[208]=U|d;ge=J;ve=872+(G+2<<2)|0}else{N=872+(G+2<<2)|0;Y=o[N>>2]|0;if(Y>>>0>=(o[212]|0)>>>0){ge=Y;ve=N;break}Ae();return 0}}while(0);o[ve>>2]=$;o[ge+12>>2]=$;o[te+(W+8)>>2]=ge;o[te+(W+12)>>2]=J;break}G=re;d=ye>>>8;do{if((d|0)==0){_e=0}else{if(ye>>>0>16777215){_e=31;break}U=(d+1048320|0)>>>16&8;Q=d<<U;N=(Q+520192|0)>>>16&4;Y=Q<<N;Q=(Y+245760|0)>>>16&2;q=14-(N|U|Q)+(Y<<Q>>>15)|0;_e=ye>>>((q+7|0)>>>0)&1|q<<1}}while(0);d=1136+(_e<<2)|0;o[te+(W+28)>>2]=_e;o[te+(W+20)>>2]=0;o[te+(W+16)>>2]=0;J=o[209]|0;q=1<<_e;if((J&q|0)==0){o[209]=J|q;o[d>>2]=G;o[te+(W+24)>>2]=d;o[te+(W+12)>>2]=G;o[te+(W+8)>>2]=G;break}if((_e|0)==31){Se=0}else{Se=25-(_e>>>1)|0}q=ye<<Se;J=o[d>>2]|0;while(1){if((o[J+4>>2]&-8|0)==(ye|0)){break}Ee=J+16+(q>>>31<<2)|0;d=o[Ee>>2]|0;if((d|0)==0){V=407;break}else{q=q<<1;J=d}}if((V|0)==407){if(Ee>>>0<(o[212]|0)>>>0){Ae();return 0}else{o[Ee>>2]=G;o[te+(W+24)>>2]=J;o[te+(W+12)>>2]=G;o[te+(W+8)>>2]=G;break}}q=J+8|0;d=o[q>>2]|0;Q=o[212]|0;if(J>>>0<Q>>>0){Ae();return 0}if(d>>>0<Q>>>0){Ae();return 0}else{o[d+12>>2]=G;o[q>>2]=G;o[te+(W+8)>>2]=d;o[te+(W+12)>>2]=J;o[te+(W+24)>>2]=0;break}}}while(0);l=te+(ce|8)|0;return l|0}}while(0);Z=ne;W=1280;while(1){ke=o[W>>2]|0;if(ke>>>0<=Z>>>0){Me=o[W+4>>2]|0;xe=ke+Me|0;if(xe>>>0>Z>>>0){break}}W=o[W+8>>2]|0}W=ke+(Me-39)|0;if((W&7|0)==0){Ie=0}else{Ie=-W&7}W=ke+(Me-47+Ie)|0;re=W>>>0<(ne+16|0)>>>0?Z:W;W=re+8|0;$=te+8|0;if(($&7|0)==0){Be=0}else{Be=-$&7}$=ee-40-Be|0;o[214]=te+Be;o[211]=$;o[te+(Be+4)>>2]=$|1;o[te+(ee-36)>>2]=40;o[215]=o[204];o[re+4>>2]=27;o[W>>2]=o[320];o[W+4>>2]=o[1284>>2];o[W+8>>2]=o[1288>>2];o[W+12>>2]=o[1292>>2];o[320]=te;o[321]=ee;o[323]=0;o[322]=W;W=re+28|0;o[W>>2]=7;if((re+32|0)>>>0<xe>>>0){$=W;while(1){W=$+4|0;o[W>>2]=7;if(($+8|0)>>>0<xe>>>0){$=W}else{break}}}if((re|0)==(Z|0)){break}$=re-ne|0;W=Z+($+4)|0;o[W>>2]=o[W>>2]&-2;o[ne+4>>2]=$|1;o[Z+$>>2]=$;W=$>>>3;if($>>>0<256){j=W<<1;X=872+(j<<2)|0;K=o[208]|0;d=1<<W;do{if((K&d|0)==0){o[208]=K|d;Pe=X;Ce=872+(j+2<<2)|0}else{W=872+(j+2<<2)|0;q=o[W>>2]|0;if(q>>>0>=(o[212]|0)>>>0){Pe=q;Ce=W;break}Ae();return 0}}while(0);o[Ce>>2]=ne;o[Pe+12>>2]=ne;o[ne+8>>2]=Pe;o[ne+12>>2]=X;break}j=ne;d=$>>>8;do{if((d|0)==0){Te=0}else{if($>>>0>16777215){Te=31;break}K=(d+1048320|0)>>>16&8;Z=d<<K;re=(Z+520192|0)>>>16&4;W=Z<<re;Z=(W+245760|0)>>>16&2;q=14-(re|K|Z)+(W<<Z>>>15)|0;Te=$>>>((q+7|0)>>>0)&1|q<<1}}while(0);d=1136+(Te<<2)|0;o[ne+28>>2]=Te;o[ne+20>>2]=0;o[ne+16>>2]=0;X=o[209]|0;q=1<<Te;if((X&q|0)==0){o[209]=X|q;o[d>>2]=j;o[ne+24>>2]=d;o[ne+12>>2]=ne;o[ne+8>>2]=ne;break}if((Te|0)==31){Re=0}else{Re=25-(Te>>>1)|0}q=$<<Re;X=o[d>>2]|0;while(1){if((o[X+4>>2]&-8|0)==($|0)){break}Le=X+16+(q>>>31<<2)|0;d=o[Le>>2]|0;if((d|0)==0){V=442;break}else{q=q<<1;X=d}}if((V|0)==442){if(Le>>>0<(o[212]|0)>>>0){Ae();return 0}else{o[Le>>2]=j;o[ne+24>>2]=X;o[ne+12>>2]=ne;o[ne+8>>2]=ne;break}}q=X+8|0;$=o[q>>2]|0;d=o[212]|0;if(X>>>0<d>>>0){Ae();return 0}if($>>>0<d>>>0){Ae();return 0}else{o[$+12>>2]=j;o[q>>2]=j;o[ne+8>>2]=$;o[ne+12>>2]=X;o[ne+24>>2]=0;break}}}while(0);ne=o[211]|0;if(ne>>>0<=p>>>0){break}$=ne-p|0;o[211]=$;ne=o[214]|0;q=ne;o[214]=q+p;o[q+(p+4)>>2]=$|1;o[ne+4>>2]=p|3;l=ne+8|0;return l|0}}while(0);o[($e()|0)>>2]=12;l=0;return l|0}function Vt(e){e=e|0;var t=0,r=0,n=0,i=0,s=0,a=0,f=0,u=0,c=0,h=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0,w=0,_=0,S=0,A=0,E=0,k=0,M=0,x=0,I=0,B=0,P=0,C=0,T=0,R=0,L=0,N=0,j=0,O=0,D=0,z=0,F=0;if((e|0)==0){return}t=e-8|0;r=t;n=o[212]|0;if(t>>>0<n>>>0){Ae()}i=o[e-4>>2]|0;s=i&3;if((s|0)==1){Ae()}a=i&-8;f=e+(a-8)|0;u=f;e:do{if((i&1|0)==0){c=o[t>>2]|0;if((s|0)==0){return}h=-8-c|0;d=e+h|0;l=d;p=c+a|0;if(d>>>0<n>>>0){Ae()}if((l|0)==(o[213]|0)){b=e+(a-4)|0;if((o[b>>2]&3|0)!=3){m=l;y=p;break}o[210]=p;o[b>>2]=o[b>>2]&-2;o[e+(h+4)>>2]=p|1;o[f>>2]=p;return}b=c>>>3;if(c>>>0<256){c=o[e+(h+8)>>2]|0;g=o[e+(h+12)>>2]|0;v=872+(b<<1<<2)|0;do{if((c|0)!=(v|0)){if(c>>>0<n>>>0){Ae()}if((o[c+12>>2]|0)==(l|0)){break}Ae()}}while(0);if((g|0)==(c|0)){o[208]=o[208]&~(1<<b);m=l;y=p;break}do{if((g|0)==(v|0)){w=g+8|0}else{if(g>>>0<n>>>0){Ae()}_=g+8|0;if((o[_>>2]|0)==(l|0)){w=_;break}Ae()}}while(0);o[c+12>>2]=g;o[w>>2]=c;m=l;y=p;break}v=d;b=o[e+(h+24)>>2]|0;_=o[e+(h+12)>>2]|0;do{if((_|0)==(v|0)){S=e+(h+20)|0;A=o[S>>2]|0;if((A|0)==0){E=e+(h+16)|0;k=o[E>>2]|0;if((k|0)==0){M=0;break}else{x=k;I=E}}else{x=A;I=S}while(1){S=x+20|0;A=o[S>>2]|0;if((A|0)!=0){x=A;I=S;continue}S=x+16|0;A=o[S>>2]|0;if((A|0)==0){break}else{x=A;I=S}}if(I>>>0<n>>>0){Ae()}else{o[I>>2]=0;M=x;break}}else{S=o[e+(h+8)>>2]|0;if(S>>>0<n>>>0){Ae()}A=S+12|0;if((o[A>>2]|0)!=(v|0)){Ae()}E=_+8|0;if((o[E>>2]|0)==(v|0)){o[A>>2]=_;o[E>>2]=S;M=_;break}else{Ae()}}}while(0);if((b|0)==0){m=l;y=p;break}_=e+(h+28)|0;d=1136+(o[_>>2]<<2)|0;do{if((v|0)==(o[d>>2]|0)){o[d>>2]=M;if((M|0)!=0){break}o[209]=o[209]&~(1<<o[_>>2]);m=l;y=p;break e}else{if(b>>>0<(o[212]|0)>>>0){Ae()}c=b+16|0;if((o[c>>2]|0)==(v|0)){o[c>>2]=M}else{o[b+20>>2]=M}if((M|0)==0){m=l;y=p;break e}}}while(0);if(M>>>0<(o[212]|0)>>>0){Ae()}o[M+24>>2]=b;v=o[e+(h+16)>>2]|0;do{if((v|0)!=0){if(v>>>0<(o[212]|0)>>>0){Ae()}else{o[M+16>>2]=v;o[v+24>>2]=M;break}}}while(0);v=o[e+(h+20)>>2]|0;if((v|0)==0){m=l;y=p;break}if(v>>>0<(o[212]|0)>>>0){Ae()}else{o[M+20>>2]=v;o[v+24>>2]=M;m=l;y=p;break}}else{m=r;y=a}}while(0);r=m;if(r>>>0>=f>>>0){Ae()}M=e+(a-4)|0;n=o[M>>2]|0;if((n&1|0)==0){Ae()}do{if((n&2|0)==0){if((u|0)==(o[214]|0)){x=(o[211]|0)+y|0;o[211]=x;o[214]=m;o[m+4>>2]=x|1;if((m|0)==(o[213]|0)){o[213]=0;o[210]=0}if(x>>>0<=(o[215]|0)>>>0){return}Xt(0)|0;return}if((u|0)==(o[213]|0)){x=(o[210]|0)+y|0;o[210]=x;o[213]=m;o[m+4>>2]=x|1;o[r+x>>2]=x;return}x=(n&-8)+y|0;I=n>>>3;e:do{if(n>>>0<256){w=o[e+a>>2]|0;s=o[e+(a|4)>>2]|0;t=872+(I<<1<<2)|0;do{if((w|0)!=(t|0)){if(w>>>0<(o[212]|0)>>>0){Ae()}if((o[w+12>>2]|0)==(u|0)){break}Ae()}}while(0);if((s|0)==(w|0)){o[208]=o[208]&~(1<<I);break}do{if((s|0)==(t|0)){B=s+8|0}else{if(s>>>0<(o[212]|0)>>>0){Ae()}i=s+8|0;if((o[i>>2]|0)==(u|0)){B=i;break}Ae()}}while(0);o[w+12>>2]=s;o[B>>2]=w}else{t=f;i=o[e+(a+16)>>2]|0;v=o[e+(a|4)>>2]|0;do{if((v|0)==(t|0)){b=e+(a+12)|0;_=o[b>>2]|0;if((_|0)==0){d=e+(a+8)|0;c=o[d>>2]|0;if((c|0)==0){P=0;break}else{C=c;T=d}}else{C=_;T=b}while(1){b=C+20|0;_=o[b>>2]|0;if((_|0)!=0){C=_;T=b;continue}b=C+16|0;_=o[b>>2]|0;if((_|0)==0){break}else{C=_;T=b}}if(T>>>0<(o[212]|0)>>>0){Ae()}else{o[T>>2]=0;P=C;break}}else{b=o[e+a>>2]|0;if(b>>>0<(o[212]|0)>>>0){Ae()}_=b+12|0;if((o[_>>2]|0)!=(t|0)){Ae()}d=v+8|0;if((o[d>>2]|0)==(t|0)){o[_>>2]=v;o[d>>2]=b;P=v;break}else{Ae()}}}while(0);if((i|0)==0){break}v=e+(a+20)|0;w=1136+(o[v>>2]<<2)|0;do{if((t|0)==(o[w>>2]|0)){o[w>>2]=P;if((P|0)!=0){break}o[209]=o[209]&~(1<<o[v>>2]);break e}else{if(i>>>0<(o[212]|0)>>>0){Ae()}s=i+16|0;if((o[s>>2]|0)==(t|0)){o[s>>2]=P}else{o[i+20>>2]=P}if((P|0)==0){break e}}}while(0);if(P>>>0<(o[212]|0)>>>0){Ae()}o[P+24>>2]=i;t=o[e+(a+8)>>2]|0;do{if((t|0)!=0){if(t>>>0<(o[212]|0)>>>0){Ae()}else{o[P+16>>2]=t;o[t+24>>2]=P;break}}}while(0);t=o[e+(a+12)>>2]|0;if((t|0)==0){break}if(t>>>0<(o[212]|0)>>>0){Ae()}else{o[P+20>>2]=t;o[t+24>>2]=P;break}}}while(0);o[m+4>>2]=x|1;o[r+x>>2]=x;if((m|0)!=(o[213]|0)){R=x;break}o[210]=x;return}else{o[M>>2]=n&-2;o[m+4>>2]=y|1;o[r+y>>2]=y;R=y}}while(0);y=R>>>3;if(R>>>0<256){r=y<<1;n=872+(r<<2)|0;M=o[208]|0;P=1<<y;do{if((M&P|0)==0){o[208]=M|P;L=n;N=872+(r+2<<2)|0}else{y=872+(r+2<<2)|0;a=o[y>>2]|0;if(a>>>0>=(o[212]|0)>>>0){L=a;N=y;break}Ae()}}while(0);o[N>>2]=m;o[L+12>>2]=m;o[m+8>>2]=L;o[m+12>>2]=n;return}n=m;L=R>>>8;do{if((L|0)==0){j=0}else{if(R>>>0>16777215){j=31;break}N=(L+1048320|0)>>>16&8;r=L<<N;P=(r+520192|0)>>>16&4;M=r<<P;r=(M+245760|0)>>>16&2;y=14-(P|N|r)+(M<<r>>>15)|0;j=R>>>((y+7|0)>>>0)&1|y<<1}}while(0);L=1136+(j<<2)|0;o[m+28>>2]=j;o[m+20>>2]=0;o[m+16>>2]=0;y=o[209]|0;r=1<<j;do{if((y&r|0)==0){o[209]=y|r;o[L>>2]=n;o[m+24>>2]=L;o[m+12>>2]=m;o[m+8>>2]=m}else{if((j|0)==31){O=0}else{O=25-(j>>>1)|0}M=R<<O;N=o[L>>2]|0;while(1){if((o[N+4>>2]&-8|0)==(R|0)){break}D=N+16+(M>>>31<<2)|0;P=o[D>>2]|0;if((P|0)==0){z=621;break}else{M=M<<1;N=P}}if((z|0)==621){if(D>>>0<(o[212]|0)>>>0){Ae()}else{o[D>>2]=n;o[m+24>>2]=N;o[m+12>>2]=m;o[m+8>>2]=m;break}}M=N+8|0;x=o[M>>2]|0;P=o[212]|0;if(N>>>0<P>>>0){Ae()}if(x>>>0<P>>>0){Ae()}else{o[x+12>>2]=n;o[M>>2]=n;o[m+8>>2]=x;o[m+12>>2]=N;o[m+24>>2]=0;break}}}while(0);m=(o[216]|0)-1|0;o[216]=m;if((m|0)==0){F=1288}else{return}while(1){m=o[F>>2]|0;if((m|0)==0){break}else{F=m+8|0}}o[216]=-1;return}function Yt(e,t){e=e|0;t=t|0;var r=0,n=0;do{if((e|0)==0){r=0}else{n=se(t,e)|0;if((t|e)>>>0<=65535){r=n;break}r=((n>>>0)/(e>>>0)|0|0)==(t|0)?n:-1}}while(0);t=Kt(r)|0;if((t|0)==0){return t|0}if((o[t-4>>2]&3|0)==0){return t|0}en(t|0,0,r|0);return t|0}function Gt(e,t){e=e|0;t=t|0;var r=0,n=0,i=0,s=0;if((e|0)==0){r=Kt(t)|0;return r|0}if(t>>>0>4294967231){o[($e()|0)>>2]=12;r=0;return r|0}if(t>>>0<11){n=16}else{n=t+11&-8}i=$t(e-8|0,n)|0;if((i|0)!=0){r=i+8|0;return r|0}i=Kt(t)|0;if((i|0)==0){r=0;return r|0}n=o[e-4>>2]|0;s=(n&-8)-((n&3|0)==0?8:4)|0;n=s>>>0<t>>>0?s:t;Qr(i|0,e|0,n)|0;Vt(e);r=i;return r|0}function Wt(e,t){e=e|0;t=t|0;var r=0;if((e|0)==0){return 0}if(t>>>0>4294967231){o[($e()|0)>>2]=12;return 0}if(t>>>0<11){r=16}else{r=t+11&-8}t=e-8|0;return(($t(t,r)|0)==(t|0)?e:0)|0}function Jt(e,t){e=e|0;t=t|0;var r=0;if(e>>>0<9){r=Kt(t)|0;return r|0}else{r=Zt(e,t)|0;return r|0}return 0}function Zt(e,t){e=e|0;t=t|0;var r=0,n=0,i=0,s=0,a=0,f=0,u=0,c=0,h=0,d=0,l=0,p=0;r=e>>>0<16?16:e;if((r-1&r|0)==0){n=r}else{e=16;while(1){if(e>>>0<r>>>0){e=e<<1}else{n=e;break}}}if((-64-n|0)>>>0<=t>>>0){o[($e()|0)>>2]=12;i=0;return i|0}if(t>>>0<11){s=16}else{s=t+11&-8}t=Kt(n+12+s|0)|0;if((t|0)==0){i=0;return i|0}e=t-8|0;r=e;a=n-1|0;do{if((t&a|0)==0){f=r}else{u=t+a&-n;c=u-8|0;h=e;if((c-h|0)>>>0>15){d=c}else{d=u+(n-8)|0}u=d;c=d-h|0;h=t-4|0;l=o[h>>2]|0;p=(l&-8)-c|0;if((l&3|0)==0){o[d>>2]=(o[e>>2]|0)+c;o[d+4>>2]=p;f=u;break}else{l=d+4|0;o[l>>2]=p|o[l>>2]&1|2;l=d+(p+4)|0;o[l>>2]=o[l>>2]|1;o[h>>2]=c|o[h>>2]&1|2;h=t+(c-4)|0;o[h>>2]=o[h>>2]|1;mr(r,c);f=u;break}}}while(0);r=f+4|0;t=o[r>>2]|0;do{if((t&3|0)!=0){d=t&-8;if(d>>>0<=(s+16|0)>>>0){break}e=d-s|0;n=f;o[r>>2]=s|t&1|2;o[n+(s|4)>>2]=e|3;a=n+(d|4)|0;o[a>>2]=o[a>>2]|1;mr(n+s|0,e)}}while(0);i=f+8|0;return i|0}function Xt(e){e=e|0;var t=0,r=0,n=0,i=0,s=0,a=0,f=0,u=0,c=0,h=0,d=0,l=0,p=0;do{if((o[200]|0)==0){t=we(8)|0;if((t-1&t|0)==0){o[202]=t;o[201]=t;o[203]=-1;o[204]=2097152;o[205]=0;o[319]=0;o[200]=(tt(0)|0)&-16^1431655768;break}else{Ae();return 0}}}while(0);if(e>>>0>=4294967232){r=0;return r|0}t=o[214]|0;if((t|0)==0){r=0;return r|0}n=o[211]|0;do{if(n>>>0>(e+40|0)>>>0){i=o[202]|0;s=se((((-40-e-1+n+i|0)>>>0)/(i>>>0)|0)-1|0,i)|0;a=t;f=1280;while(1){u=o[f>>2]|0;if(u>>>0<=a>>>0){if((u+(o[f+4>>2]|0)|0)>>>0>a>>>0){c=f;break}}u=o[f+8>>2]|0;if((u|0)==0){c=0;break}else{f=u}}if((o[c+12>>2]&8|0)!=0){break}f=Ze(0)|0;a=c+4|0;if((f|0)!=((o[c>>2]|0)+(o[a>>2]|0)|0)){break}u=Ze(-(s>>>0>2147483646?-2147483648-i|0:s)|0)|0;h=Ze(0)|0;if(!((u|0)!=-1&h>>>0<f>>>0)){break}u=f-h|0;if((f|0)==(h|0)){break}o[a>>2]=(o[a>>2]|0)-u;o[316]=(o[316]|0)-u;a=o[214]|0;d=(o[211]|0)-u|0;u=a;l=a+8|0;if((l&7|0)==0){p=0}else{p=-l&7}l=d-p|0;o[214]=u+p;o[211]=l;o[u+(p+4)>>2]=l|1;o[u+(d+4)>>2]=40;o[215]=o[204];r=(f|0)!=(h|0)|0;return r|0}}while(0);if((o[211]|0)>>>0<=(o[215]|0)>>>0){r=0;return r|0}o[215]=-1;r=0;return r|0}function $t(e,t){e=e|0;t=t|0;var r=0,n=0,i=0,s=0,a=0,f=0,u=0,c=0,h=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0,w=0,_=0,S=0,A=0,E=0,k=0,M=0;r=e+4|0;n=o[r>>2]|0;i=n&-8;s=e;a=s+i|0;f=a;u=o[212]|0;if(s>>>0<u>>>0){Ae();return 0}c=n&3;if(!((c|0)!=1&s>>>0<a>>>0)){Ae();return 0}h=s+(i|4)|0;d=o[h>>2]|0;if((d&1|0)==0){Ae();return 0}if((c|0)==0){if(t>>>0<256){l=0;return l|0}do{if(i>>>0>=(t+4|0)>>>0){if((i-t|0)>>>0>o[202]<<1>>>0){break}else{l=e}return l|0}}while(0);l=0;return l|0}if(i>>>0>=t>>>0){c=i-t|0;if(c>>>0<=15){l=e;return l|0}o[r>>2]=n&1|t|2;o[s+(t+4)>>2]=c|3;o[h>>2]=o[h>>2]|1;mr(s+t|0,c);l=e;return l|0}if((f|0)==(o[214]|0)){c=(o[211]|0)+i|0;if(c>>>0<=t>>>0){l=0;return l|0}h=c-t|0;o[r>>2]=n&1|t|2;o[s+(t+4)>>2]=h|1;o[214]=s+t;o[211]=h;l=e;return l|0}if((f|0)==(o[213]|0)){h=(o[210]|0)+i|0;if(h>>>0<t>>>0){l=0;return l|0}c=h-t|0;if(c>>>0>15){o[r>>2]=n&1|t|2;o[s+(t+4)>>2]=c|1;o[s+h>>2]=c;p=s+(h+4)|0;o[p>>2]=o[p>>2]&-2;b=s+t|0;m=c}else{o[r>>2]=n&1|h|2;n=s+(h+4)|0;o[n>>2]=o[n>>2]|1;b=0;m=0}o[210]=m;o[213]=b;l=e;return l|0}if((d&2|0)!=0){l=0;return l|0}b=(d&-8)+i|0;if(b>>>0<t>>>0){l=0;return l|0}m=b-t|0;n=d>>>3;e:do{if(d>>>0<256){h=o[s+(i+8)>>2]|0;c=o[s+(i+12)>>2]|0;p=872+(n<<1<<2)|0;do{if((h|0)!=(p|0)){if(h>>>0<u>>>0){Ae();return 0}if((o[h+12>>2]|0)==(f|0)){break}Ae();return 0}}while(0);if((c|0)==(h|0)){o[208]=o[208]&~(1<<n);break}do{if((c|0)==(p|0)){y=c+8|0}else{if(c>>>0<u>>>0){Ae();return 0}g=c+8|0;if((o[g>>2]|0)==(f|0)){y=g;break}Ae();return 0}}while(0);o[h+12>>2]=c;o[y>>2]=h}else{p=a;g=o[s+(i+24)>>2]|0;v=o[s+(i+12)>>2]|0;do{if((v|0)==(p|0)){w=s+(i+20)|0;_=o[w>>2]|0;if((_|0)==0){S=s+(i+16)|0;A=o[S>>2]|0;if((A|0)==0){E=0;break}else{k=A;M=S}}else{k=_;M=w}while(1){w=k+20|0;_=o[w>>2]|0;if((_|0)!=0){k=_;M=w;continue}w=k+16|0;_=o[w>>2]|0;if((_|0)==0){break}else{k=_;M=w}}if(M>>>0<u>>>0){Ae();return 0}else{o[M>>2]=0;E=k;break}}else{w=o[s+(i+8)>>2]|0;if(w>>>0<u>>>0){Ae();return 0}_=w+12|0;if((o[_>>2]|0)!=(p|0)){Ae();return 0}S=v+8|0;if((o[S>>2]|0)==(p|0)){o[_>>2]=v;o[S>>2]=w;E=v;break}else{Ae();return 0}}}while(0);if((g|0)==0){break}v=s+(i+28)|0;h=1136+(o[v>>2]<<2)|0;do{if((p|0)==(o[h>>2]|0)){o[h>>2]=E;if((E|0)!=0){break}o[209]=o[209]&~(1<<o[v>>2]);break e}else{if(g>>>0<(o[212]|0)>>>0){Ae();return 0}c=g+16|0;if((o[c>>2]|0)==(p|0)){o[c>>2]=E}else{o[g+20>>2]=E}if((E|0)==0){break e}}}while(0);if(E>>>0<(o[212]|0)>>>0){Ae();return 0}o[E+24>>2]=g;p=o[s+(i+16)>>2]|0;do{if((p|0)!=0){if(p>>>0<(o[212]|0)>>>0){Ae();return 0}else{o[E+16>>2]=p;o[p+24>>2]=E;break}}}while(0);p=o[s+(i+20)>>2]|0;if((p|0)==0){break}if(p>>>0<(o[212]|0)>>>0){Ae();return 0}else{o[E+20>>2]=p;o[p+24>>2]=E;break}}}while(0);if(m>>>0<16){o[r>>2]=b|o[r>>2]&1|2;E=s+(b|4)|0;o[E>>2]=o[E>>2]|1;l=e;return l|0}else{o[r>>2]=o[r>>2]&1|t|2;o[s+(t+4)>>2]=m|3;r=s+(b|4)|0;o[r>>2]=o[r>>2]|1;mr(s+t|0,m);l=e;return l|0}return 0}function Qt(){return o[316]|0}function er(){return o[317]|0}function tr(){var e=0;e=o[318]|0;return((e|0)==0?-1:e)|0}function rr(e){e=e|0;var t=0,r=0;if((e|0)==-1){t=0}else{r=o[202]|0;t=e-1+r&-r}o[318]=t;return t|0}function nr(e){e=e|0;var t=0,r=0,n=0;do{if((e|0)==0){t=0}else{r=o[e-4>>2]|0;n=r&3;if((n|0)==1){t=0;break}t=(r&-8)-((n|0)==0?8:4)|0}}while(0);return t|0}function ir(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0,s=0;do{if((t|0)==8){n=Kt(r)|0}else{i=t>>>2;if((t&3|0)!=0|(i|0)==0){s=22;return s|0}if((i+1073741823&i|0)!=0){s=22;return s|0}if((-64-t|0)>>>0<r>>>0){s=12;return s|0}else{n=Zt(t>>>0<16?16:t,r)|0;break}}}while(0);if((n|0)==0){s=12;return s|0}o[e>>2]=n;s=0;return s|0}function or(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;n=h;h=h+8|0;i=n|0;o[i>>2]=t;t=ur(e,i,3,r)|0;h=n;return t|0}function sr(e,t,r){e=e|0;t=t|0;r=r|0;return ur(e,t,0,r)|0}function ar(e){e=e|0;var t=0,r=0,n=0;if((o[200]|0)!=0){t=o[201]|0;r=Jt(t,e)|0;return r|0}n=we(8)|0;if((n-1&n|0)!=0){Ae();return 0}o[202]=n;o[201]=n;o[203]=-1;o[204]=2097152;o[205]=0;o[319]=0;o[200]=(tt(0)|0)&-16^1431655768;t=o[201]|0;r=Jt(t,e)|0;return r|0}function fr(e){e=e|0;var t=0;do{if((o[200]|0)==0){t=we(8)|0;if((t-1&t|0)==0){o[202]=t;o[201]=t;o[203]=-1;o[204]=2097152;o[205]=0;o[319]=0;o[200]=(tt(0)|0)&-16^1431655768;break}else{Ae();return 0}}}while(0);t=o[201]|0;return Jt(t,e-1+t&-t)|0}function ur(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,s=0,a=0,f=0,u=0,c=0,h=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0,w=0,_=0,S=0,A=0;do{if((o[200]|0)==0){i=we(8)|0;if((i-1&i|0)==0){o[202]=i;o[201]=i;o[203]=-1;o[204]=2097152;o[205]=0;o[319]=0;o[200]=(tt(0)|0)&-16^1431655768;break}else{Ae();return 0}}}while(0);i=(e|0)==0;do{if((n|0)==0){if(i){s=Kt(0)|0;return s|0}else{a=e<<2;if(a>>>0<11){f=0;u=16;break}f=0;u=a+11&-8;break}}else{if(i){s=n}else{f=n;u=0;break}return s|0}}while(0);do{if((r&1|0)==0){if(i){c=0;h=0;break}else{d=0;l=0}while(1){n=o[t+(l<<2)>>2]|0;if(n>>>0<11){p=16}else{p=n+11&-8}n=p+d|0;a=l+1|0;if((a|0)==(e|0)){c=0;h=n;break}else{d=n;l=a}}}else{a=o[t>>2]|0;if(a>>>0<11){b=16}else{b=a+11&-8}c=b;h=se(b,e)|0}}while(0);b=Kt(u-4+h|0)|0;if((b|0)==0){s=0;return s|0}l=b-8|0;d=o[b-4>>2]&-8;if((r&2|0)!=0){en(b|0,0,-4-u+d|0)}if((f|0)==0){o[b+(h-4)>>2]=d-h|3;m=b+h|0;y=h}else{m=f;y=d}o[m>>2]=b;b=e-1|0;e:do{if((b|0)==0){g=l;v=y}else{if((c|0)==0){w=l;_=y;S=0}else{e=l;d=y;f=0;while(1){h=d-c|0;o[e+4>>2]=c|3;u=e+c|0;r=f+1|0;o[m+(r<<2)>>2]=e+(c+8);if((r|0)==(b|0)){g=u;v=h;break e}else{e=u;d=h;f=r}}}while(1){f=o[t+(S<<2)>>2]|0;if(f>>>0<11){A=16}else{A=f+11&-8}f=_-A|0;o[w+4>>2]=A|3;d=w+A|0;e=S+1|0;o[m+(e<<2)>>2]=w+(A+8);if((e|0)==(b|0)){g=d;v=f;break}else{w=d;_=f;S=e}}}}while(0);o[g+4>>2]=v|3;s=m;return s|0}function cr(e,t){e=e|0;t=t|0;var r=0,n=0,i=0,s=0,a=0,f=0,u=0,c=0,h=0,d=0,l=0,p=0,b=0;r=e+(t<<2)|0;e:do{if((t|0)!=0){n=e;t:while(1){i=o[n>>2]|0;r:do{if((i|0)==0){s=n+4|0}else{a=i-8|0;f=a;u=i-4|0;c=o[u>>2]&-8;o[n>>2]=0;if(a>>>0<(o[212]|0)>>>0){h=935;break t}a=o[u>>2]|0;if((a&3|0)==1){h=936;break t}d=n+4|0;l=a-8&-8;do{if((d|0)!=(r|0)){if((o[d>>2]|0)!=(i+(l+8)|0)){break}p=(o[i+(l|4)>>2]&-8)+c|0;o[u>>2]=a&1|p|2;b=i+(p-4)|0;o[b>>2]=o[b>>2]|1;o[d>>2]=i;s=d;break r}}while(0);mr(f,c);s=d}}while(0);if((s|0)==(r|0)){break e}else{n=s}}if((h|0)==935){Ae();return 0}else if((h|0)==936){Ae();return 0}}}while(0);if((o[211]|0)>>>0<=(o[215]|0)>>>0){return 0}Xt(0)|0;return 0}function hr(e){e=e|0;var t=0,r=0;if((o[200]|0)!=0){t=Xt(e)|0;return t|0}r=we(8)|0;if((r-1&r|0)!=0){Ae();return 0}o[202]=r;o[201]=r;o[203]=-1;o[204]=2097152;o[205]=0;o[319]=0;o[200]=(tt(0)|0)&-16^1431655768;t=Xt(e)|0;return t|0}function dr(e){e=e|0;var t=0,r=0,n=0,i=0,s=0,a=0,f=0,u=0,c=0,h=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0,w=0,_=0,S=0,A=0,E=0,k=0,M=0,x=0,I=0,B=0;do{if((o[200]|0)==0){t=we(8)|0;if((t-1&t|0)==0){o[202]=t;o[201]=t;o[203]=-1;o[204]=2097152;o[205]=0;o[319]=0;o[200]=(tt(0)|0)&-16^1431655768;break}else{Ae()}}}while(0);t=o[214]|0;if((t|0)==0){r=0;n=0;i=0;s=0;a=0;f=0;u=0}else{c=o[211]|0;h=c+40|0;d=1;l=h;p=h;h=1280;while(1){b=o[h>>2]|0;m=b+8|0;if((m&7|0)==0){y=0}else{y=-m&7}m=b+(o[h+4>>2]|0)|0;g=d;v=l;w=p;_=b+y|0;while(1){if(_>>>0>=m>>>0|(_|0)==(t|0)){S=g;A=v;E=w;break}k=o[_+4>>2]|0;if((k|0)==7){S=g;A=v;E=w;break}M=k&-8;x=M+w|0;if((k&3|0)==1){I=M+v|0;B=g+1|0}else{I=v;B=g}k=_+M|0;if(k>>>0<b>>>0){S=B;A=I;E=x;break}else{g=B;v=I;w=x;_=k}}_=o[h+8>>2]|0;if((_|0)==0){break}else{d=S;l=A;p=E;h=_}}h=o[316]|0;r=c;n=E;i=S;s=h-E|0;a=o[317]|0;f=h-A|0;u=A}o[e>>2]=n;o[e+4>>2]=i;i=e+8|0;o[i>>2]=0;o[i+4>>2]=0;o[e+16>>2]=s;o[e+20>>2]=a;o[e+24>>2]=0;o[e+28>>2]=f;o[e+32>>2]=u;o[e+36>>2]=r;return}function lr(){var e=0,t=0,r=0,n=0,i=0,s=0,a=0,f=0,u=0,c=0,d=0,l=0,p=0,b=0,m=0,g=0,v=0,w=0;e=h;do{if((o[200]|0)==0){t=we(8)|0;if((t-1&t|0)==0){o[202]=t;o[201]=t;o[203]=-1;o[204]=2097152;o[205]=0;o[319]=0;o[200]=(tt(0)|0)&-16^1431655768;break}else{Ae()}}}while(0);t=o[214]|0;if((t|0)==0){r=0;n=0;i=0}else{s=o[317]|0;a=o[316]|0;f=a-40-(o[211]|0)|0;u=1280;while(1){c=o[u>>2]|0;d=c+8|0;if((d&7|0)==0){l=0}else{l=-d&7}d=c+(o[u+4>>2]|0)|0;p=f;b=c+l|0;while(1){if(b>>>0>=d>>>0|(b|0)==(t|0)){m=p;break}g=o[b+4>>2]|0;if((g|0)==7){m=p;break}v=g&-8;w=p-((g&3|0)==1?v:0)|0;g=b+v|0;if(g>>>0<c>>>0){m=w;break}else{p=w;b=g}}b=o[u+8>>2]|0;if((b|0)==0){r=m;n=a;i=s;break}else{f=m;u=b}}}Ee(o[y>>2]|0,520,(x=h,h=h+8|0,o[x>>2]=i,x)|0)|0;Ee(o[y>>2]|0,488,(x=h,h=h+8|0,o[x>>2]=n,x)|0)|0;Ee(o[y>>2]|0,400,(x=h,h=h+8|0,o[x>>2]=r,x)|0)|0;h=e;return}function pr(e,t){e=e|0;t=t|0;var r=0,n=0;do{if((o[200]|0)==0){r=we(8)|0;if((r-1&r|0)==0){o[202]=r;o[201]=r;o[203]=-1;o[204]=2097152;o[205]=0;o[319]=0;o[200]=(tt(0)|0)&-16^1431655768;break}else{Ae();return 0}}}while(0);if((e|0)==(-1|0)){o[204]=t;n=1;return n|0}else if((e|0)==(-2|0)){if((o[201]|0)>>>0>t>>>0){n=0;return n|0}if((t-1&t|0)!=0){n=0;return n|0}o[202]=t;n=1;return n|0}else if((e|0)==(-3|0)){o[203]=t;n=1;return n|0}else{n=0;return n|0}return 0}function br(){return(L=o[328]|0,o[328]=L+0,L)|0}function mr(e,t){e=e|0;t=t|0;var r=0,n=0,i=0,s=0,a=0,f=0,u=0,c=0,h=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0,w=0,_=0,S=0,A=0,E=0,k=0,M=0,x=0,I=0,B=0,P=0,C=0,T=0,R=0,L=0,N=0,j=0,O=0;r=e;n=r+t|0;i=n;s=o[e+4>>2]|0;e:do{if((s&1|0)==0){a=o[e>>2]|0;if((s&3|0)==0){return}f=r+(-a|0)|0;u=f;c=a+t|0;h=o[212]|0;if(f>>>0<h>>>0){Ae()}if((u|0)==(o[213]|0)){d=r+(t+4)|0;if((o[d>>2]&3|0)!=3){l=u;p=c;break}o[210]=c;o[d>>2]=o[d>>2]&-2;o[r+(4-a)>>2]=c|1;o[n>>2]=c;return}d=a>>>3;if(a>>>0<256){b=o[r+(8-a)>>2]|0;m=o[r+(12-a)>>2]|0;y=872+(d<<1<<2)|0;do{if((b|0)!=(y|0)){if(b>>>0<h>>>0){Ae()}if((o[b+12>>2]|0)==(u|0)){break}Ae()}}while(0);if((m|0)==(b|0)){o[208]=o[208]&~(1<<d);l=u;p=c;break}do{if((m|0)==(y|0)){g=m+8|0}else{if(m>>>0<h>>>0){Ae()}v=m+8|0;if((o[v>>2]|0)==(u|0)){g=v;break}Ae()}}while(0);o[b+12>>2]=m;o[g>>2]=b;l=u;p=c;break}y=f;d=o[r+(24-a)>>2]|0;v=o[r+(12-a)>>2]|0;do{if((v|0)==(y|0)){w=16-a|0;_=r+(w+4)|0;S=o[_>>2]|0;if((S|0)==0){A=r+w|0;w=o[A>>2]|0;if((w|0)==0){E=0;break}else{k=w;M=A}}else{k=S;M=_}while(1){_=k+20|0;S=o[_>>2]|0;if((S|0)!=0){k=S;M=_;continue}_=k+16|0;S=o[_>>2]|0;if((S|0)==0){break}else{k=S;M=_}}if(M>>>0<h>>>0){Ae()}else{o[M>>2]=0;E=k;break}}else{_=o[r+(8-a)>>2]|0;if(_>>>0<h>>>0){Ae()}S=_+12|0;if((o[S>>2]|0)!=(y|0)){Ae()}A=v+8|0;if((o[A>>2]|0)==(y|0)){o[S>>2]=v;o[A>>2]=_;E=v;break}else{Ae()}}}while(0);if((d|0)==0){l=u;p=c;break}v=r+(28-a)|0;h=1136+(o[v>>2]<<2)|0;do{if((y|0)==(o[h>>2]|0)){o[h>>2]=E;if((E|0)!=0){break}o[209]=o[209]&~(1<<o[v>>2]);l=u;p=c;break e}else{if(d>>>0<(o[212]|0)>>>0){Ae()}f=d+16|0;if((o[f>>2]|0)==(y|0)){o[f>>2]=E}else{o[d+20>>2]=E}if((E|0)==0){l=u;p=c;break e}}}while(0);if(E>>>0<(o[212]|0)>>>0){Ae()}o[E+24>>2]=d;y=16-a|0;v=o[r+y>>2]|0;do{if((v|0)!=0){if(v>>>0<(o[212]|0)>>>0){Ae()}else{o[E+16>>2]=v;o[v+24>>2]=E;break}}}while(0);v=o[r+(y+4)>>2]|0;if((v|0)==0){l=u;p=c;break}if(v>>>0<(o[212]|0)>>>0){Ae()}else{o[E+20>>2]=v;o[v+24>>2]=E;l=u;p=c;break}}else{l=e;p=t}}while(0);e=o[212]|0;if(n>>>0<e>>>0){Ae()}E=r+(t+4)|0;k=o[E>>2]|0;do{if((k&2|0)==0){if((i|0)==(o[214]|0)){M=(o[211]|0)+p|0;o[211]=M;o[214]=l;o[l+4>>2]=M|1;if((l|0)!=(o[213]|0)){return}o[213]=0;o[210]=0;return}if((i|0)==(o[213]|0)){M=(o[210]|0)+p|0;o[210]=M;o[213]=l;o[l+4>>2]=M|1;o[l+M>>2]=M;return}M=(k&-8)+p|0;g=k>>>3;e:do{if(k>>>0<256){s=o[r+(t+8)>>2]|0;v=o[r+(t+12)>>2]|0;a=872+(g<<1<<2)|0;do{if((s|0)!=(a|0)){if(s>>>0<e>>>0){Ae()}if((o[s+12>>2]|0)==(i|0)){break}Ae()}}while(0);if((v|0)==(s|0)){o[208]=o[208]&~(1<<g);break}do{if((v|0)==(a|0)){x=v+8|0}else{if(v>>>0<e>>>0){Ae()}d=v+8|0;if((o[d>>2]|0)==(i|0)){x=d;break}Ae()}}while(0);o[s+12>>2]=v;o[x>>2]=s}else{a=n;d=o[r+(t+24)>>2]|0;h=o[r+(t+12)>>2]|0;do{if((h|0)==(a|0)){f=r+(t+20)|0;b=o[f>>2]|0;if((b|0)==0){m=r+(t+16)|0;_=o[m>>2]|0;if((_|0)==0){I=0;break}else{B=_;P=m}}else{B=b;P=f}while(1){f=B+20|0;b=o[f>>2]|0;if((b|0)!=0){B=b;P=f;continue}f=B+16|0;b=o[f>>2]|0;if((b|0)==0){break}else{B=b;P=f}}if(P>>>0<e>>>0){Ae()}else{o[P>>2]=0;I=B;break}}else{f=o[r+(t+8)>>2]|0;if(f>>>0<e>>>0){Ae()}b=f+12|0;if((o[b>>2]|0)!=(a|0)){Ae()}m=h+8|0;if((o[m>>2]|0)==(a|0)){o[b>>2]=h;o[m>>2]=f;I=h;break}else{Ae()}}}while(0);if((d|0)==0){break}h=r+(t+28)|0;s=1136+(o[h>>2]<<2)|0;do{if((a|0)==(o[s>>2]|0)){o[s>>2]=I;if((I|0)!=0){break}o[209]=o[209]&~(1<<o[h>>2]);break e}else{if(d>>>0<(o[212]|0)>>>0){Ae()}v=d+16|0;if((o[v>>2]|0)==(a|0)){o[v>>2]=I}else{o[d+20>>2]=I}if((I|0)==0){break e}}}while(0);if(I>>>0<(o[212]|0)>>>0){Ae()}o[I+24>>2]=d;a=o[r+(t+16)>>2]|0;do{if((a|0)!=0){if(a>>>0<(o[212]|0)>>>0){Ae()}else{o[I+16>>2]=a;o[a+24>>2]=I;break}}}while(0);a=o[r+(t+20)>>2]|0;if((a|0)==0){break}if(a>>>0<(o[212]|0)>>>0){Ae()}else{o[I+20>>2]=a;o[a+24>>2]=I;break}}}while(0);o[l+4>>2]=M|1;o[l+M>>2]=M;if((l|0)!=(o[213]|0)){C=M;break}o[210]=M;return}else{o[E>>2]=k&-2;o[l+4>>2]=p|1;o[l+p>>2]=p;C=p}}while(0);p=C>>>3;if(C>>>0<256){k=p<<1;E=872+(k<<2)|0;I=o[208]|0;t=1<<p;do{if((I&t|0)==0){o[208]=I|t;T=E;R=872+(k+2<<2)|0}else{p=872+(k+2<<2)|0;r=o[p>>2]|0;if(r>>>0>=(o[212]|0)>>>0){T=r;R=p;break}Ae()}}while(0);o[R>>2]=l;o[T+12>>2]=l;o[l+8>>2]=T;o[l+12>>2]=E;return}E=l;T=C>>>8;do{if((T|0)==0){L=0}else{if(C>>>0>16777215){L=31;break}R=(T+1048320|0)>>>16&8;k=T<<R;t=(k+520192|0)>>>16&4;I=k<<t;k=(I+245760|0)>>>16&2;p=14-(t|R|k)+(I<<k>>>15)|0;L=C>>>((p+7|0)>>>0)&1|p<<1}}while(0);T=1136+(L<<2)|0;o[l+28>>2]=L;o[l+20>>2]=0;o[l+16>>2]=0;p=o[209]|0;k=1<<L;if((p&k|0)==0){o[209]=p|k;o[T>>2]=E;o[l+24>>2]=T;o[l+12>>2]=l;o[l+8>>2]=l;return}if((L|0)==31){N=0}else{N=25-(L>>>1)|0}L=C<<N;N=o[T>>2]|0;while(1){if((o[N+4>>2]&-8|0)==(C|0)){break}j=N+16+(L>>>31<<2)|0;T=o[j>>2]|0;if((T|0)==0){O=1120;break}else{L=L<<1;N=T}}if((O|0)==1120){if(j>>>0<(o[212]|0)>>>0){Ae()}o[j>>2]=E;o[l+24>>2]=N;o[l+12>>2]=l;o[l+8>>2]=l;return}j=N+8|0;O=o[j>>2]|0;L=o[212]|0;if(N>>>0<L>>>0){Ae()}if(O>>>0<L>>>0){Ae()}o[O+12>>2]=E;o[j>>2]=E;o[l+8>>2]=O;o[l+12>>2]=N;o[l+24>>2]=0;return}function yr(e){e=e|0;var t=0,r=0,n=0;t=(e|0)==0?1:e;while(1){r=Kt(t)|0;if((r|0)!=0){n=1164;break}e=(L=o[328]|0,o[328]=L+0,L);if((e|0)==0){break}Rn[e&1]()}if((n|0)==1164){return r|0}r=De(4)|0;o[r>>2]=560;_e(r|0,688,6);return 0}function gr(e,t){e=e|0;t=t|0;return yr(e)|0}function vr(e){e=e|0;return}function wr(e){e=e|0;return 360|0}function _r(e){e=e|0;return 448|0}function Sr(e){e=e|0;return(L=o[328]|0,o[328]=e,L)|0}function Ar(e){e=e|0;o[e>>2]=560;return}function Er(e){e=e|0;o[e>>2]=592;return}function kr(e){e=e|0;if((e|0)!=0){Vt(e)}return}function Mr(e,t){e=e|0;t=t|0;kr(e);return}function xr(e){e=e|0;kr(e);return}function Ir(e,t){e=e|0;t=t|0;xr(e);return}function Br(e){e=e|0;kr(e);return}function Pr(e){e=e|0;kr(e);return}function Cr(e,t,r){e=e|0;t=t|0;r=r|0;return Tr(e,t,r,0,0,0)|0}function Tr(e,t,r,i,s,a){e=e|0;t=t|0;r=r|0;i=i|0;s=s|0;a=a|0;var f=0,u=0,c=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0,w=0,_=0,S=0,A=0,E=0,k=0,M=0,I=0,B=0,P=0,C=0,T=0,R=0,L=0,N=0,j=0,O=0,D=0,z=0,F=0,U=0,q=0,H=0,K=0,V=0,Y=0,G=0,W=0,J=0,Z=0,X=0,$=0,Q=0,ee=0,te=0,re=0,ne=0;f=h;if((r|0)==0){u=-1;h=f;return u|0}c=o[44]|0;if((c|0)==0){o[196]=1;o[44]=1;d=1;l=1;p=1190}else{b=o[196]|0;m=o[74]|0;if((m|0)==-1|(b|0)!=0){d=b;l=c;p=1190}else{y=m;g=b;v=c}}if((p|0)==1190){c=(Ke(344)|0)!=0|0;o[74]=c;y=c;g=d;v=l}l=n[r]|0;if(l<<24>>24==45){w=a|2;p=1194}else{d=(y|0)!=0|l<<24>>24==43?a&-2:a;if(l<<24>>24==43){w=d;p=1194}else{_=r;S=d}}if((p|0)==1194){_=r+1|0;S=w}o[198]=0;if((g|0)==0){A=v;p=1198}else{o[50]=-1;o[48]=-1;E=v;k=g;p=1197}while(1){if((p|0)==1197){p=0;if((k|0)==0){A=E;p=1198;continue}else{M=E}}else if((p|0)==1198){p=0;g=o[40]|0;if((n[g]|0)==0){M=A}else{I=g;B=A;break}}o[196]=0;if((M|0)>=(e|0)){p=1200;break}P=t+(M<<2)|0;C=o[P>>2]|0;o[40]=C;if((n[C]|0)==45){T=C+1|0;R=n[T]|0;if(R<<24>>24!=0){p=1232;break}if((Pe(_|0,45)|0)!=0){p=1232;break}}o[40]=824;if((S&2|0)!=0){p=1217;break}if((S&1|0)==0){u=-1;p=1298;break}g=o[48]|0;do{if((g|0)==-1){o[48]=M;L=M;N=0}else{v=o[50]|0;if((v|0)==-1){L=M;N=0;break}w=v-g|0;r=M-v|0;d=(w|0)%(r|0)|0;if((d|0)==0){j=r}else{l=r;a=d;while(1){d=(l|0)%(a|0)|0;if((d|0)==0){j=a;break}else{l=a;a=d}}}a=(M-g|0)/(j|0)|0;do{if((j|0)>0){l=-w|0;if((a|0)>0){O=0}else{D=M;z=v;F=g;U=0;break}do{d=O+v|0;y=t+(d<<2)|0;c=0;b=d;d=o[y>>2]|0;while(1){m=((b|0)<(v|0)?r:l)+b|0;q=t+(m<<2)|0;H=o[q>>2]|0;o[q>>2]=d;o[y>>2]=H;q=c+1|0;if((q|0)<(a|0)){c=q;b=m;d=H}else{break}}O=O+1|0}while((O|0)<(j|0));D=o[44]|0;z=o[50]|0;F=o[48]|0;U=o[196]|0}else{D=M;z=v;F=g;U=0}}while(0);o[48]=D-z+F;o[50]=-1;L=D;N=U}}while(0);g=L+1|0;o[44]=g;E=g;k=N;p=1197}do{if((p|0)==1298){h=f;return u|0}else if((p|0)==1232){N=o[48]|0;k=o[50]|0;if((N|0)!=-1&(k|0)==-1){o[50]=M;K=n[T]|0;V=M}else{K=R;V=k}if(K<<24>>24==0){I=C;B=M;break}o[40]=T;if((n[T]|0)!=45){I=T;B=M;break}if((n[C+2|0]|0)!=0){I=T;B=M;break}k=M+1|0;o[44]=k;o[40]=824;if((V|0)!=-1){E=V-N|0;L=k-V|0;U=(E|0)%(L|0)|0;if((U|0)==0){Y=L}else{D=L;F=U;while(1){U=(D|0)%(F|0)|0;if((U|0)==0){Y=F;break}else{D=F;F=U}}}F=(k-N|0)/(Y|0)|0;do{if((Y|0)>0){D=-E|0;if((F|0)>0){G=0}else{W=V;J=N;Z=k;break}do{U=G+V|0;z=t+(U<<2)|0;j=0;O=U;U=o[z>>2]|0;while(1){A=((O|0)<(V|0)?L:D)+O|0;g=t+(A<<2)|0;v=o[g>>2]|0;o[g>>2]=U;o[z>>2]=v;g=j+1|0;if((g|0)<(F|0)){j=g;O=A;U=v}else{break}}G=G+1|0}while((G|0)<(Y|0));W=o[50]|0;J=o[48]|0;Z=o[44]|0}else{W=V;J=N;Z=k}}while(0);o[44]=J-W+Z}o[50]=-1;o[48]=-1;u=-1;h=f;return u|0}else if((p|0)==1200){o[40]=824;k=o[50]|0;N=o[48]|0;do{if((k|0)==-1){if((N|0)==-1){break}o[44]=N}else{F=k-N|0;L=M-k|0;E=(F|0)%(L|0)|0;if((E|0)==0){X=L}else{D=L;U=E;while(1){E=(D|0)%(U|0)|0;if((E|0)==0){X=U;break}else{D=U;U=E}}}U=(M-N|0)/(X|0)|0;do{if((X|0)>0){D=-F|0;if((U|0)>0){$=0}else{Q=k;ee=N;te=M;break}do{E=$+k|0;O=t+(E<<2)|0;j=0;z=E;E=o[O>>2]|0;while(1){v=((z|0)<(k|0)?L:D)+z|0;A=t+(v<<2)|0;g=o[A>>2]|0;o[A>>2]=E;o[O>>2]=g;A=j+1|0;if((A|0)<(U|0)){j=A;z=v;E=g}else{break}}$=$+1|0}while(($|0)<(X|0));Q=o[50]|0;ee=o[48]|0;te=o[44]|0}else{Q=k;ee=N;te=M}}while(0);o[44]=ee-Q+te}}while(0);o[50]=-1;o[48]=-1;u=-1;h=f;return u|0}else if((p|0)==1217){o[44]=M+1;o[198]=o[P>>2];u=1;h=f;return u|0}}while(0);P=(i|0)!=0;e:do{if(P){if((I|0)==(o[t+(B<<2)>>2]|0)){re=I;break}M=n[I]|0;do{if(M<<24>>24==45){o[40]=I+1;ne=0}else{if((S&4|0)==0){re=I;break e}if(M<<24>>24==58){ne=0;break}ne=(Pe(_|0,M<<24>>24|0)|0)!=0|0}}while(0);M=Dr(t,_,i,s,ne)|0;if((M|0)==-1){re=o[40]|0;break}o[40]=824;u=M;h=f;return u|0}else{re=I}}while(0);I=re+1|0;o[40]=I;ne=n[re]|0;re=ne<<24>>24;if((ne<<24>>24|0)==45){if((n[I]|0)==0){p=1260}}else if((ne<<24>>24|0)==58){p=1263}else{p=1260}do{if((p|0)==1260){S=Pe(_|0,re|0)|0;if((S|0)==0){if(ne<<24>>24!=45){p=1263;break}if((n[I]|0)==0){u=-1}else{break}h=f;return u|0}B=n[S+1|0]|0;if(P&ne<<24>>24==87&B<<24>>24==59){do{if((n[I]|0)==0){M=(o[44]|0)+1|0;o[44]=M;if((M|0)<(e|0)){o[40]=o[t+(M<<2)>>2];break}o[40]=824;do{if((o[46]|0)!=0){if((n[_]|0)==58){break}Fr(48,(x=h,h=h+8|0,o[x>>2]=re,x)|0)}}while(0);o[42]=re;u=(n[_]|0)==58?58:63;h=f;return u|0}}while(0);M=Dr(t,_,i,s,0)|0;o[40]=824;u=M;h=f;return u|0}if(B<<24>>24!=58){if((n[I]|0)!=0){u=re;h=f;return u|0}o[44]=(o[44]|0)+1;u=re;h=f;return u|0}o[198]=0;do{if((n[I]|0)==0){if((n[S+2|0]|0)==58){break}M=(o[44]|0)+1|0;o[44]=M;if((M|0)<(e|0)){o[198]=o[t+(M<<2)>>2];break}o[40]=824;do{if((o[46]|0)!=0){if((n[_]|0)==58){break}Fr(48,(x=h,h=h+8|0,o[x>>2]=re,x)|0)}}while(0);o[42]=re;u=(n[_]|0)==58?58:63;h=f;return u|0}else{o[198]=I}}while(0);o[40]=824;o[44]=(o[44]|0)+1;u=re;h=f;return u|0}}while(0);do{if((p|0)==1263){if((n[I]|0)!=0){break}o[44]=(o[44]|0)+1}}while(0);do{if((o[46]|0)!=0){if((n[_]|0)==58){break}Fr(272,(x=h,h=h+8|0,o[x>>2]=re,x)|0)}}while(0);o[42]=re;u=63;h=f;return u|0}function Rr(e,t,r,n,i){e=e|0;t=t|0;r=r|0;n=n|0;i=i|0;return Tr(e,t,r,n,i,1)|0}function Lr(e,t,r,n,i){e=e|0;t=t|0;r=r|0;n=n|0;i=i|0;return Tr(e,t,r,n,i,5)|0}function Nr(e){e=e|0;return yr(e)|0}function jr(e,t){e=e|0;t=t|0;return Nr(e)|0}function Or(){var e=0;e=De(4)|0;o[e>>2]=560;_e(e|0,688,6)}function Dr(e,t,r,i,s){e=e|0;t=t|0;r=r|0;i=i|0;s=s|0;var a=0,f=0,u=0,c=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0,w=0,_=0,S=0,A=0,E=0;a=h;f=o[40]|0;u=o[44]|0;c=u+1|0;o[44]=c;d=Pe(f|0,61)|0;if((d|0)==0){l=tn(f|0)|0;p=0}else{l=d-f|0;p=d+1|0}d=o[r>>2]|0;e:do{if((d|0)!=0){t:do{if((s|0)!=0&(l|0)==1){b=0;m=d;while(1){if((n[f]|0)==(n[m]|0)){if((tn(m|0)|0)==1){y=b;break t}}b=b+1|0;m=o[r+(b<<4)>>2]|0;if((m|0)==0){break e}}}else{m=0;b=-1;g=d;while(1){if((ge(f|0,g|0,l|0)|0)==0){if((tn(g|0)|0)==(l|0)){y=m;break t}if((b|0)==-1){v=m}else{break}}else{v=b}w=m+1|0;_=o[r+(w<<4)>>2]|0;if((_|0)==0){y=v;break t}else{m=w;b=v;g=_}}do{if((o[46]|0)!=0){if((n[t]|0)==58){break}Fr(304,(x=h,h=h+16|0,o[x>>2]=l,o[x+8>>2]=f,x)|0)}}while(0);o[42]=0;S=63;h=a;return S|0}}while(0);if((y|0)==-1){break}g=r+(y<<4)+4|0;b=o[g>>2]|0;m=(p|0)==0;if(!((b|0)!=0|m)){do{if((o[46]|0)!=0){if((n[t]|0)==58){break}Fr(208,(x=h,h=h+16|0,o[x>>2]=l,o[x+8>>2]=f,x)|0)}}while(0);if((o[r+(y<<4)+8>>2]|0)==0){A=o[r+(y<<4)+12>>2]|0}else{A=0}o[42]=A;S=(n[t]|0)==58?58:63;h=a;return S|0}do{if((b-1|0)>>>0<2){if(!m){o[198]=p;break}if((b|0)!=1){break}o[44]=u+2;o[198]=o[e+(c<<2)>>2]}}while(0);if(!((o[g>>2]|0)==1&(o[198]|0)==0)){if((i|0)!=0){o[i>>2]=y}b=o[r+(y<<4)+8>>2]|0;m=o[r+(y<<4)+12>>2]|0;if((b|0)==0){S=m;h=a;return S|0}o[b>>2]=m;S=0;h=a;return S|0}do{if((o[46]|0)!=0){if((n[t]|0)==58){break}Fr(8,(x=h,h=h+8|0,o[x>>2]=f,x)|0)}}while(0);if((o[r+(y<<4)+8>>2]|0)==0){E=o[r+(y<<4)+12>>2]|0}else{E=0}o[42]=E;o[44]=(o[44]|0)-1;S=(n[t]|0)==58?58:63;h=a;return S|0}}while(0);if((s|0)!=0){o[44]=u;S=-1;h=a;return S|0}do{if((o[46]|0)!=0){if((n[t]|0)==58){break}Fr(248,(x=h,h=h+8|0,o[x>>2]=f,x)|0)}}while(0);o[42]=0;S=63;h=a;return S|0}function zr(e,t){e=e|0;t=t|0;var r=0,n=0,i=0;r=h;h=h+16|0;n=r|0;i=n;o[i>>2]=t;o[i+4>>2]=0;Ur(e,n|0);h=r;return}function Fr(e,t){e=e|0;t=t|0;var r=0,n=0,i=0;r=h;h=h+16|0;n=r|0;i=n;o[i>>2]=t;o[i+4>>2]=0;qr(e,n|0);h=r;return}function Ur(e,t){e=e|0;t=t|0;var r=0,n=0,i=0;r=h;n=o[($e()|0)>>2]|0;i=o[w>>2]|0;Ee(o[y>>2]|0,432,(x=h,h=h+8|0,o[x>>2]=i,x)|0)|0;if((e|0)!=0){i=o[y>>2]|0;Ve(i|0,e|0,t|0)|0;t=o[y>>2]|0;Re(472,2,1,t|0)|0}t=o[y>>2]|0;e=Se(n|0)|0;Ee(t|0,384,(x=h,h=h+8|0,o[x>>2]=e,x)|0)|0;h=r;return}function qr(e,t){e=e|0;t=t|0;var r=0,n=0;r=h;n=o[w>>2]|0;Ee(o[y>>2]|0,376,(x=h,h=h+8|0,o[x>>2]=n,x)|0)|0;if((e|0)!=0){n=o[y>>2]|0;Ve(n|0,e|0,t|0)|0}Ce(10,o[y>>2]|0)|0;h=r;return}function Hr(e,t){e=e|0;t=t|0;var r=0,i=0,s=0,a=0,f=0,u=0,h=0,d=0,l=0,p=0,b=0,m=0.0,y=0,g=0,v=0,w=0,_=0.0,S=0,A=0,E=0,k=0.0,M=0.0,x=0,I=0,B=0,P=0.0,C=0,T=0,R=0,L=0,N=0,j=0,O=0,D=0,z=0.0,F=0,U=0,q=0.0,H=0.0,K=0.0;r=e;while(1){i=r+1|0;if((ze(n[r]|0)|0)==0){break}else{r=i}}s=n[r]|0;if((s<<24>>24|0)==45){a=i;f=1}else if((s<<24>>24|0)==43){a=i;f=0}else{a=r;f=0}r=-1;i=0;s=a;while(1){u=n[s]|0;if(((u<<24>>24)-48|0)>>>0<10){h=r}else{if(u<<24>>24!=46|(r|0)>-1){break}else{h=i}}r=h;i=i+1|0;s=s+1|0}h=s+(-i|0)|0;a=(r|0)<0;d=((a^1)<<31>>31)+i|0;l=(d|0)>18;p=(l?-18:-d|0)+(a?i:r)|0;r=l?18:d;do{if((r|0)==0){b=e;m=0.0}else{if((r|0)>9){d=h;l=r;i=0;while(1){a=n[d]|0;y=d+1|0;if(a<<24>>24==46){g=n[y]|0;v=d+2|0}else{g=a;v=y}w=(i*10|0)-48+(g<<24>>24)|0;y=l-1|0;if((y|0)>9){d=v;l=y;i=w}else{break}}_=+(w|0)*1.0e9;S=9;A=v;E=1393}else{if((r|0)>0){_=0.0;S=r;A=h;E=1393}else{k=0.0;M=0.0}}if((E|0)==1393){i=A;l=S;d=0;while(1){y=n[i]|0;a=i+1|0;if(y<<24>>24==46){x=n[a]|0;I=i+2|0}else{x=y;I=a}B=(d*10|0)-48+(x<<24>>24)|0;a=l-1|0;if((a|0)>0){i=I;l=a;d=B}else{break}}k=+(B|0);M=_}P=M+k;do{if((u<<24>>24|0)==69|(u<<24>>24|0)==101){d=s+1|0;l=n[d]|0;if((l<<24>>24|0)==43){C=s+2|0;T=0}else if((l<<24>>24|0)==45){C=s+2|0;T=1}else{C=d;T=0}d=n[C]|0;if(((d<<24>>24)-48|0)>>>0<10){R=C;L=0;N=d}else{j=0;O=C;D=T;break}while(1){d=(L*10|0)-48+(N<<24>>24)|0;l=R+1|0;i=n[l]|0;if(((i<<24>>24)-48|0)>>>0<10){R=l;L=d;N=i}else{j=d;O=l;D=T;break}}}else{j=0;O=s;D=0}}while(0);l=p+((D|0)==0?j:-j|0)|0;d=(l|0)<0?-l|0:l;if((d|0)>511){o[($e()|0)>>2]=34;z=1.0;F=88;U=511;E=1410}else{if((d|0)==0){q=1.0}else{z=1.0;F=88;U=d;E=1410}}if((E|0)==1410){while(1){E=0;if((U&1|0)==0){H=z}else{H=z*+c[F>>3]}d=U>>1;if((d|0)==0){q=H;break}else{z=H;F=F+8|0;U=d;E=1410}}}if((l|0)>-1){b=O;m=P*q;break}else{b=O;m=P/q;break}}}while(0);if((t|0)!=0){o[t>>2]=b}if((f|0)==0){K=m;return+K}K=-0.0-m;return+K}function Kr(e,t){e=e|0;t=t|0;return+ +Hr(e,t)}function Vr(e,t){e=e|0;t=t|0;return+ +Hr(e,t)}function Yr(e,t,r){e=e|0;t=t|0;r=r|0;return+ +Hr(e,t)}function Gr(e,t,r){e=e|0;t=t|0;r=r|0;return+ +Hr(e,t)}function Wr(e){e=e|0;return+ +Hr(e,0)}function Jr(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;n=h;h=h+16|0;i=n|0;n=i;o[n>>2]=r;o[n+4>>2]=0;Xr(e,t,i|0)}function Zr(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;n=h;h=h+16|0;i=n|0;n=i;o[n>>2]=r;o[n+4>>2]=0;$r(e,t,i|0)}function Xr(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;n=o[($e()|0)>>2]|0;i=o[w>>2]|0;Ee(o[y>>2]|0,336,(x=h,h=h+8|0,o[x>>2]=i,x)|0)|0;if((t|0)!=0){i=o[y>>2]|0;Ve(i|0,t|0,r|0)|0;r=o[y>>2]|0;Re(480,2,1,r|0)|0}r=o[y>>2]|0;t=Se(n|0)|0;Ee(r|0,392,(x=h,h=h+8|0,o[x>>2]=t,x)|0)|0;je(e|0)}function $r(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;n=o[w>>2]|0;Ee(o[y>>2]|0,440,(x=h,h=h+8|0,o[x>>2]=n,x)|0)|0;if((t|0)!=0){n=o[y>>2]|0;Ve(n|0,t|0,r|0)|0}Ce(10,o[y>>2]|0)|0;je(e|0)}function Qr(e,t,r){e=e|0;t=t|0;r=r|0;var i=0;i=e|0;if((e&3)==(t&3)){while(e&3){if((r|0)==0)return i|0;n[e]=n[t]|0;e=e+1|0;t=t+1|0;r=r-1|0}while((r|0)>=4){o[e>>2]=o[t>>2];e=e+4|0;t=t+4|0;r=r-4|0}}while((r|0)>0){n[e]=n[t]|0;e=e+1|0;t=t+1|0;r=r-1|0}return i|0}function en(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,s=0,a=0;i=e+r|0;if((r|0)>=20){t=t&255;r=e&3;s=t|t<<8|t<<16|t<<24;a=i&~3;if(r){r=e+4-r|0;while((e|0)<(r|0)){n[e]=t;e=e+1|0}}while((e|0)<(a|0)){o[e>>2]=s;e=e+4|0}}while((e|0)<(i|0)){n[e]=t;e=e+1|0}}function tn(e){e=e|0;var t=0;t=e;while(n[t]|0){t=t+1|0}return t-e|0}function rn(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0;i=e+r>>>0;return(j=t+n+(i>>>0<e>>>0|0)>>>0,i|0)|0}function nn(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0;i=t-n>>>0;i=t-n-(r>>>0>e>>>0|0)>>>0;return(j=i,e-r>>>0|0)|0}function on(e,t,r){e=e|0;t=t|0;r=r|0;if((r|0)<32){j=t<<r|(e&(1<<r)-1<<32-r)>>>32-r;return e<<r}j=e<<r-32;return 0}function sn(e,t,r){e=e|0;t=t|0;r=r|0;if((r|0)<32){j=t>>>r;return e>>>r|(t&(1<<r)-1)<<32-r}j=0;return t>>>r-32|0}function an(e,t,r){e=e|0;t=t|0;r=r|0;if((r|0)<32){j=t>>r;return e>>>r|(t&(1<<r)-1)<<32-r}j=(t|0)<0?-1:0;return t>>r-32|0}function fn(e){e=e|0;var t=0;t=n[m+(e>>>24)|0]|0;if((t|0)<8)return t|0;t=n[m+(e>>16&255)|0]|0;if((t|0)<8)return t+8|0;t=n[m+(e>>8&255)|0]|0;if((t|0)<8)return t+16|0;return(n[m+(e&255)|0]|0)+24|0}function un(e){e=e|0;var t=0;t=n[b+(e&255)|0]|0;if((t|0)<8)return t|0;t=n[b+(e>>8&255)|0]|0;if((t|0)<8)return t+8|0;t=n[b+(e>>16&255)|0]|0;if((t|0)<8)return t+16|0;return(n[b+(e>>>24)|0]|0)+24|0}function cn(e,t){e=e|0;t=t|0;var r=0,n=0,i=0,o=0;r=e&65535;n=t&65535;i=se(n,r)|0;o=e>>>16;e=(i>>>16)+(se(n,o)|0)|0;n=t>>>16;t=se(n,r)|0;return(j=(e>>>16)+(se(n,o)|0)+(((e&65535)+t|0)>>>16)|0,e+t<<16|i&65535|0)|0}function hn(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,o=0,s=0,a=0,f=0;i=t>>31|((t|0)<0?-1:0)<<1;o=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;s=n>>31|((n|0)<0?-1:0)<<1;a=((n|0)<0?-1:0)>>31|((n|0)<0?-1:0)<<1;f=nn(i^e,o^t,i,o)|0;t=j;e=s^i;i=a^o;o=nn((mn(f,t,nn(s^r,a^n,s,a)|0,j,0)|0)^e,j^i,e,i)|0;return(j=j,o)|0}function dn(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,s=0,a=0,f=0,u=0,c=0,d=0;i=h;h=h+8|0;s=i|0;a=t>>31|((t|0)<0?-1:0)<<1;f=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;u=n>>31|((n|0)<0?-1:0)<<1;c=((n|0)<0?-1:0)>>31|((n|0)<0?-1:0)<<1;d=nn(a^e,f^t,a,f)|0;t=j;e=nn(u^r,c^n,u,c)|0;mn(d,t,e,j,s)|0;e=nn(o[s>>2]^a,o[s+4>>2]^f,a,f)|0;f=j;h=i;return(j=f,e)|0}function ln(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,o=0;i=e;e=r;r=cn(i,e)|0;o=j;return(j=(se(t,e)|0)+(se(n,i)|0)+o|o&0,r|0|0)|0}function pn(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0;i=mn(e,t,r,n,0)|0;return(j=j,i)|0}function bn(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,s=0;i=h;h=h+8|0;s=i|0;mn(e,t,r,n,s)|0;h=i;return(j=o[s+4>>2]|0,o[s>>2]|0)|0}function mn(e,t,r,n,i){e=e|0;t=t|0;r=r|0;n=n|0;i=i|0;var s=0,a=0,f=0,u=0,c=0,h=0,d=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0,w=0,_=0,S=0,A=0,E=0,k=0,M=0,x=0,I=0,B=0,P=0,C=0,T=0,R=0,L=0,N=0,O=0,D=0;s=e;a=t;f=a;u=r;c=n;h=c;if((f|0)==0){d=(i|0)!=0;if((h|0)==0){if(d){o[i>>2]=(s>>>0)%(u>>>0);o[i+4>>2]=0}l=0;p=(s>>>0)/(u>>>0)>>>0;return(j=l,p)|0}else{if(!d){l=0;p=0;return(j=l,p)|0}o[i>>2]=e|0;o[i+4>>2]=t&0;l=0;p=0;return(j=l,p)|0}}d=(h|0)==0;do{if((u|0)==0){if(d){if((i|0)!=0){o[i>>2]=(f>>>0)%(u>>>0);o[i+4>>2]=0}l=0;p=(f>>>0)/(u>>>0)>>>0;return(j=l,p)|0}if((s|0)==0){if((i|0)!=0){o[i>>2]=0;o[i+4>>2]=(f>>>0)%(h>>>0)}l=0;p=(f>>>0)/(h>>>0)>>>0;return(j=l,p)|0}b=h-1|0;if((b&h|0)==0){if((i|0)!=0){o[i>>2]=e|0;o[i+4>>2]=b&f|t&0}l=0;p=f>>>((un(h|0)|0)>>>0);return(j=l,p)|0}b=(fn(h|0)|0)-(fn(f|0)|0)|0;if(b>>>0<=30){m=b+1|0;y=31-b|0;g=m;v=f<<y|s>>>(m>>>0);w=f>>>(m>>>0);_=0;S=s<<y;break}if((i|0)==0){l=0;p=0;return(j=l,p)|0}o[i>>2]=e|0;o[i+4>>2]=a|t&0;l=0;p=0;return(j=l,p)|0}else{if(!d){y=(fn(h|0)|0)-(fn(f|0)|0)|0;if(y>>>0<=31){m=y+1|0;b=31-y|0;A=y-31>>31;g=m;v=s>>>(m>>>0)&A|f<<b;w=f>>>(m>>>0)&A;_=0;S=s<<b;break}if((i|0)==0){l=0;p=0;return(j=l,p)|0}o[i>>2]=e|0;o[i+4>>2]=a|t&0;l=0;p=0;return(j=l,p)|0}b=u-1|0;if((b&u|0)!=0){A=(fn(u|0)|0)+33-(fn(f|0)|0)|0;m=64-A|0;y=32-A|0;E=y>>31;k=A-32|0;M=k>>31;g=A;v=y-1>>31&f>>>(k>>>0)|(f<<y|s>>>(A>>>0))&M;w=M&f>>>(A>>>0);_=s<<m&E;S=(f<<m|s>>>(k>>>0))&E|s<<y&A-33>>31;break}if((i|0)!=0){o[i>>2]=b&s;o[i+4>>2]=0}if((u|0)==1){l=a|t&0;p=e|0|0;return(j=l,p)|0}else{b=un(u|0)|0;l=f>>>(b>>>0)|0;p=f<<32-b|s>>>(b>>>0)|0;return(j=l,p)|0}}}while(0);if((g|0)==0){x=S;I=_;B=w;P=v;C=0;T=0}else{s=r|0|0;r=c|n&0;n=rn(s,r,-1,-1)|0;c=j;f=S;S=_;_=w;w=v;v=g;g=0;while(1){R=S>>>31|f<<1;L=g|S<<1;u=w<<1|f>>>31|0;e=w>>>31|_<<1|0;nn(n,c,u,e)|0;t=j;a=t>>31|((t|0)<0?-1:0)<<1;N=a&1;O=nn(u,e,a&s,(((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1)&r)|0;D=j;t=v-1|0;if((t|0)==0){break}else{f=R;S=L;_=D;w=O;v=t;g=N}}x=R;I=L;B=D;P=O;C=0;T=N}N=I;I=0;if((i|0)!=0){o[i>>2]=P;o[i+4>>2]=B}l=(N|0)>>>31|(x|I)<<1|(I<<1|N>>>31)&0|C;p=(N<<1|0>>>31)&-2|T;return(j=l,p)|0}function yn(e,t){e=e|0;t=t|0;Bn[e&15](t|0)}function gn(e,t,r){e=e|0;t=t|0;r=r|0;Pn[e&15](t|0,r|0)}function vn(e,t){e=e|0;t=t|0;return Cn[e&7](t|0)|0}function wn(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;Tn[e&15](t|0,r|0,n|0)}function _n(e){e=e|0;Rn[e&1]()}function Sn(e,t,r){e=e|0;t=t|0;r=r|0;return Ln[e&1](t|0,r|0)|0}function An(e){e=e|0;ae(0)}function En(e,t){e=e|0;t=t|0;ae(1)}function kn(e){e=e|0;ae(2);return 0}function Mn(e,t,r){e=e|0;t=t|0;r=r|0;ae(3)}function xn(){ae(4)}function In(e,t){e=e|0;t=t|0;ae(5);return 0}var Bn=[An,An,Er,An,Pr,An,vr,An,Ar,An,Br,An,An,An,An,An];var Pn=[En,En,zr,En,Ur,En,Fr,En,qr,En,En,En,En,En,En,En];var Cn=[kn,kn,wr,kn,_r,kn,kn,kn];var Tn=[Mn,Mn,$r,Mn,Xr,Mn,Jr,Mn,Zr,Mn,Mn,Mn,Mn,Mn,Mn,Mn];var Rn=[xn,xn];var Ln=[In,In];return{_crypto_scrypt:xt,_strlen:tn,_free:Vt,_realloc:Gt,_memset:en,_malloc:Kt,_memcpy:Qr,_calloc:Yt,runPostSets:wt,stackAlloc:it,stackSave:ot,stackRestore:st,setThrew:at,setTempRet0:ct,setTempRet1:ht,setTempRet2:dt,setTempRet3:lt,setTempRet4:pt,setTempRet5:bt,setTempRet6:mt,setTempRet7:yt,setTempRet8:gt,setTempRet9:vt,dynCall_vi:yn,dynCall_vii:gn,dynCall_ii:vn,dynCall_viii:wn,dynCall_v:_n,dynCall_iii:Sn}}({Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array},{abort:wa,assert:w,asmPrintInt:function(e,t){s.print("int "+e+","+t)},asmPrintFloat:function(e,t){s.print("float "+e+","+t)},min:Xc,invoke_vi:function(e,t){try{s.dynCall_vi(e,t)}catch(e){"number"!=typeof e&&"longjmp"!==e&&g(e),V.setThrew(1,0)}},invoke_vii:function(e,t,r){try{s.dynCall_vii(e,t,r)}catch(e){"number"!=typeof e&&"longjmp"!==e&&g(e),V.setThrew(1,0)}},invoke_ii:function(e,t){try{return s.dynCall_ii(e,t)}catch(e){"number"!=typeof e&&"longjmp"!==e&&g(e),V.setThrew(1,0)}},invoke_viii:function(e,t,r,n){try{s.dynCall_viii(e,t,r,n)}catch(e){"number"!=typeof e&&"longjmp"!==e&&g(e),V.setThrew(1,0)}},invoke_v:function(e){try{s.dynCall_v(e)}catch(e){"number"!=typeof e&&"longjmp"!==e&&g(e),V.setThrew(1,0)}},invoke_iii:function(e,t,r){try{return s.dynCall_iii(e,t,r)}catch(e){"number"!=typeof e&&"longjmp"!==e&&g(e),V.setThrew(1,0)}},_strncmp:function(e,t,r){for(var n=0;n<r;){var i=G[e+n|0],o=G[t+n|0];if(i==o&&0==i)break;if(0==i)return-1;if(0==o)return 1;if(i!=o)return i>o?1:-1;n++}return 0},_llvm_va_end:aa(),_sysconf:function(e){switch(e){case 8:return 4096;case 54:case 56:case 21:case 61:case 63:case 22:case 67:case 23:case 24:case 25:case 26:case 27:case 69:case 28:case 101:case 70:case 71:case 29:case 30:case 199:case 75:case 76:case 32:case 43:case 44:case 80:case 46:case 47:case 45:case 48:case 49:case 42:case 82:case 33:case 7:case 108:case 109:case 107:case 112:case 119:case 121:return 200809;case 13:case 104:case 94:case 95:case 34:case 35:case 77:case 81:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 91:case 94:case 95:case 110:case 111:case 113:case 114:case 115:case 116:case 117:case 118:case 120:case 40:case 16:case 79:case 19:return-1;case 92:case 93:case 5:case 72:case 6:case 74:case 92:case 93:case 96:case 97:case 98:case 99:case 102:case 103:case 105:return 1;case 38:case 66:case 50:case 51:case 4:return 1024;case 15:case 64:case 41:return 32;case 55:case 37:case 17:return 2147483647;case 18:case 1:return 47839;case 59:case 57:return 99;case 68:case 58:return 2048;case 0:return 2097152;case 3:return 65536;case 14:return 32768;case 73:return 32767;case 39:return 16384;case 60:return 1e3;case 106:return 700;case 52:return 256;case 62:return 255;case 2:return 100;case 65:return 64;case 36:return 20;case 100:return 16;case 20:return 6;case 53:return 4;case 10:return 1}return M(N.A),-1},___cxa_throw:rc,_strerror:zc,_abort:function(){s.abort()},_fprintf:mc,_llvm_eh_exception:U,___cxa_free_exception:sc,_fflush:aa(),___buildEnvironment:wc,__reallyNegative:jc,_strchr:function(e,t){e--;do{var r=A[++e];if(r==t)return e}while(r);return 0},_fputc:Bc,___setErrNo:M,_fwrite:hc,_send:fc,_write:gc,_exit:function(e){Ac(e)},___cxa_find_matching_catch:function(e,t){-1==e&&(e=B[U.m>>2]),-1==t&&(t=B[U.m+4>>2]);var r=Array.prototype.slice.call(arguments,2);0!=t&&!pc(t)&&0==B[B[t>>2]-8>>2]&&(e=B[e>>2]);for(var n=0;n<r.length;n++)if(qc(r[n],t,e))return 0|(V.setTempRet0(r[n]),e);return 0|(V.setTempRet0(t),e)},___cxa_allocate_exception:function(e){return Oa(e)},_isspace:function(e){return 32==e||9<=e&&13>=e},__formatString:kc,___resumeException:function(e){0==B[U.m>>2]&&(B[U.m>>2]=e),g(e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch.")},_llvm_uadd_with_overflow_i32:function(e,t){return e>>>=0,t>>>=0,0|(V.setTempRet0(4294967295<e+t),e+t>>>0)},___cxa_does_inherit:qc,_getenv:xc,_vfprintf:function(e,t,r){return mc(e,t,B[r>>2])},___cxa_begin_catch:function(e){return oc.ta--,e},__ZSt18uncaught_exceptionv:oc,_pwrite:function(e,t,r,n){if(!(e=R[e]))return M(N.$),-1;try{return Ib(e,A,t,r,n)}catch(e){return Zb(e),-1}},___cxa_call_unexpected:function(e){s.P("Unexpected exception thrown, this is not properly supported - aborting"),za=l,g(e)},_sbrk:nc,_strerror_r:yc,___errno_location:function(){return rb},___gxx_personality_v0:aa(),___cxa_is_number_type:pc,_time:function(e){var t=Math.floor(Date.now()/1e3);return e&&(B[e>>2]=t),t},__exit:Ac,___cxa_end_catch:uc,STACKTOP:u,STACK_MAX:Ta,tempDoublePtr:qb,ABORT:za,cttz_i8:Wc,ctlz_i8:Vc,NaN:NaN,Infinity:1/0,_stderr:nb,__ZTVN10__cxxabiv120__si_class_type_infoE:ob,__ZTVN10__cxxabiv117__class_type_infoE:pb,___progname:k},I);s._crypto_scrypt=V._crypto_scrypt;var ic=s._strlen=V._strlen,tc=s._free=V._free;s._realloc=V._realloc;var tb=s._memset=V._memset,Oa=s._malloc=V._malloc,sb=s._memcpy=V._memcpy;s._calloc=V._calloc;var mb=s.runPostSets=V.runPostSets;s.dynCall_vi=V.dynCall_vi,s.dynCall_vii=V.dynCall_vii,s.dynCall_ii=V.dynCall_ii,s.dynCall_viii=V.dynCall_viii,s.dynCall_v=V.dynCall_v,s.dynCall_iii=V.dynCall_iii;var qa=function(e){return V.stackAlloc(e)},ja=function(){return V.stackSave()},ka=function(e){V.stackRestore(e)},lc;function X(e,t){e!=m&&("number"==typeof e?this.p(e):t==m&&"string"!=typeof e?this.k(e,256):this.k(e,t))}function Yc(){return new X(m)}function Zc(e,t){var r=$c[e.charCodeAt(t)];return r==m?-1:r}function ad(e){var t=Yc();return t.D(e),t}function Y(e,t){this.h=0|e,this.j=0|t}Y.Ca={},Y.D=function(e){if(-128<=e&&128>e){var t=Y.Ca[e];if(t)return t}return t=new Y(0|e,0>e?-1:0),-128<=e&&128>e&&(Y.Ca[e]=t),t},Y.p=function(e){return isNaN(e)||!isFinite(e)?Y.ZERO:e<=-Y.Ea?Y.MIN_VALUE:e+1>=Y.Ea?Y.MAX_VALUE:0>e?Y.p(-e).i():new Y(e%Y.B|0,e/Y.B|0)},Y.v=function(e,t){return new Y(e,t)},Y.k=function(e,t){0==e.length&&g(Error("number format error: empty string"));var r=t||10;if((2>r||36<r)&&g(Error("radix out of range: "+r)),"-"==e.charAt(0))return Y.k(e.substring(1),r).i();0<=e.indexOf("-")&&g(Error('number format error: interior "-" character: '+e));for(var n=Y.p(Math.pow(r,8)),i=Y.ZERO,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),a=parseInt(e.substring(o,o+s),r);8>s?(s=Y.p(Math.pow(r,s)),i=i.multiply(s).add(Y.p(a))):i=(i=i.multiply(n)).add(Y.p(a))}return i},Y.ea=65536,Y.Od=16777216,Y.B=Y.ea*Y.ea,Y.Pd=Y.B/2,Y.Qd=Y.B*Y.ea,Y.eb=Y.B*Y.B,Y.Ea=Y.eb/2,Y.ZERO=Y.D(0),Y.ONE=Y.D(1),Y.Da=Y.D(-1),Y.MAX_VALUE=Y.v(-1,2147483647),Y.MIN_VALUE=Y.v(0,-2147483648),Y.cb=Y.D(16777216),q=Y.prototype,q.Z=function(){return this.j*Y.B+this.ob()},q.toString=function(e){if((2>(e=e||10)||36<e)&&g(Error("radix out of range: "+e)),this.G())return"0";if(this.n()){if(this.o(Y.MIN_VALUE)){var t=Y.p(e);t=(r=this.F(t)).multiply(t).R(this);return r.toString(e)+t.h.toString(e)}return"-"+this.i().toString(e)}for(var r=Y.p(Math.pow(e,6)),n=(t=this,"");;){var i=t.F(r),o=t.R(i.multiply(r)).h.toString(e);if((t=i).G())return o+n;for(;6>o.length;)o="0"+o;n=""+o+n}},q.ob=function(){return 0<=this.h?this.h:Y.B+this.h},q.G=function(){return 0==this.j&&0==this.h},q.n=function(){return 0>this.j},q.Pa=function(){return 1==(1&this.h)},q.o=function(e){return this.j==e.j&&this.h==e.h},q.Ra=function(){return 0>this.ja(Y.cb)},q.qb=function(e){return 0<this.ja(e)},q.rb=function(e){return 0<=this.ja(e)},q.ja=function(e){if(this.o(e))return 0;var t=this.n(),r=e.n();return t&&!r?-1:!t&&r?1:this.R(e).n()?-1:1},q.i=function(){return this.o(Y.MIN_VALUE)?Y.MIN_VALUE:this.xb().add(Y.ONE)},q.add=function(e){var t,r=this.j>>>16,n=65535&this.j,i=this.h>>>16,o=e.j>>>16,s=65535&e.j,a=e.h>>>16;return e=0+((t=(65535&this.h)+(65535&e.h)+0)>>>16),i=0+((e+=i+a)>>>16),n=(n=0+((i+=n+s)>>>16))+(r+o)&65535,Y.v((65535&e)<<16|65535&t,n<<16|65535&i)},q.R=function(e){return this.add(e.i())},q.multiply=function(e){if(this.G()||e.G())return Y.ZERO;if(this.o(Y.MIN_VALUE))return e.Pa()?Y.MIN_VALUE:Y.ZERO;if(e.o(Y.MIN_VALUE))return this.Pa()?Y.MIN_VALUE:Y.ZERO;if(this.n())return e.n()?this.i().multiply(e.i()):this.i().multiply(e).i();if(e.n())return this.multiply(e.i()).i();if(this.Ra()&&e.Ra())return Y.p(this.Z()*e.Z());var t,r,n,i,o=this.j>>>16,s=65535&this.j,a=this.h>>>16,f=65535&this.h,u=e.j>>>16,c=65535&e.j,h=e.h>>>16;return n=0+((i=0+f*(e=65535&e.h))>>>16),r=0+((n+=a*e)>>>16),r+=(n=(65535&n)+f*h)>>>16,n&=65535,t=0+((r+=s*e)>>>16),t+=(r=(65535&r)+a*h)>>>16,r&=65535,t+=(r+=f*c)>>>16,r&=65535,t=t+(o*e+s*h+a*c+f*u)&65535,Y.v(n<<16|65535&i,t<<16|r)},q.F=function(e){if(e.G()&&g(Error("division by zero")),this.G())return Y.ZERO;if(this.o(Y.MIN_VALUE)){if(e.o(Y.ONE)||e.o(Y.Da))return Y.MIN_VALUE;if(e.o(Y.MIN_VALUE))return Y.ONE;if((n=this.Db().F(e).shiftLeft(1)).o(Y.ZERO))return e.n()?Y.ONE:Y.Da;var t=this.R(e.multiply(n));return n.add(t.F(e))}if(e.o(Y.MIN_VALUE))return Y.ZERO;if(this.n())return e.n()?this.i().F(e.i()):this.i().F(e).i();if(e.n())return this.F(e.i()).i();var r=Y.ZERO;for(t=this;t.rb(e);){for(var n=Math.max(1,Math.floor(t.Z()/e.Z())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),o=Y.p(n),s=o.multiply(e);s.n()||s.qb(t);)n-=i,s=(o=Y.p(n)).multiply(e);o.G()&&(o=Y.ONE),r=r.add(o),t=t.R(s)}return r},q.xb=function(){return Y.v(~this.h,~this.j)},q.shiftLeft=function(e){if(0==(e&=63))return this;var t=this.h;return 32>e?Y.v(t<<e,this.j<<e|t>>>32-e):Y.v(0,t<<e-32)},q.Db=function(){var e=this.j;return Y.v(this.h>>>1|e<<31,e>>1)},q=X.prototype,q.ga=function(e,t,r,n){for(var i=0,o=0;0<=--n;){var s=e*this[i++]+t[r]+o;o=Math.floor(s/67108864);t[r++]=67108863&s}return o},q.f=26,q.u=67108863,q.K=67108864,q.bb=Math.pow(2,52),q.Aa=26,q.Ba=0;var $c=[],bd,Z;for(bd=48,Z=0;9>=Z;++Z)$c[bd++]=Z;for(bd=97,Z=10;36>Z;++Z)$c[bd++]=Z;for(bd=65,Z=10;36>Z;++Z)$c[bd++]=Z;q=X.prototype,q.copyTo=function(e){for(var t=this.b-1;0<=t;--t)e[t]=this[t];e.b=this.b,e.c=this.c},q.D=function(e){this.b=1,this.c=0>e?-1:0,0<e?this[0]=e:-1>e?this[0]=e+DV:this.b=0},q.k=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.nb(e,t);r=2}this.c=this.b=0;for(var n=e.length,i=p,o=0;0<=--n;){var s=8==r?255&e[n]:Zc(e,n);0>s?"-"==e.charAt(n)&&(i=l):(i=p,0==o?this[this.b++]=s:o+r>this.f?(this[this.b-1]|=(s&(1<<this.f-o)-1)<<o,this[this.b++]=s>>this.f-o):this[this.b-1]|=s<<o,(o+=r)>=this.f&&(o-=this.f))}8==r&&0!=(128&e[0])&&(this.c=-1,0<o&&(this[this.b-1]|=(1<<this.f-o)-1<<o)),this.C(),i&&X.ZERO.t(this,this)},q.C=function(){for(var e=this.c&this.u;0<this.b&&this[this.b-1]==e;)--this.b},q.la=function(e,t){var r;for(r=this.b-1;0<=r;--r)t[r+e]=this[r];for(r=e-1;0<=r;--r)t[r]=0;t.b=this.b+e,t.c=this.c},q.jb=function(e,t){for(var r=e;r<this.b;++r)t[r-e]=this[r];t.b=Math.max(this.b-e,0),t.c=this.c},q.Qa=function(e,t){var r,n=e%this.f,i=this.f-n,o=(1<<i)-1,s=Math.floor(e/this.f),a=this.c<<n&this.u;for(r=this.b-1;0<=r;--r)t[r+s+1]=this[r]>>i|a,a=(this[r]&o)<<n;for(r=s-1;0<=r;--r)t[r]=0;t[s]=a,t.b=this.b+s+1,t.c=this.c,t.C()},q.zb=function(e,t){t.c=this.c;var r=Math.floor(e/this.f);if(r>=this.b)t.b=0;else{var n=e%this.f,i=this.f-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var s=r+1;s<this.b;++s)t[s-r-1]|=(this[s]&o)<<i,t[s-r]=this[s]>>n;0<n&&(t[this.b-r-1]|=(this.c&o)<<i),t.b=this.b-r,t.C()}},q.t=function(e,t){for(var r=0,n=0,i=Math.min(e.b,this.b);r<i;)n+=this[r]-e[r],t[r++]=n&this.u,n>>=this.f;if(e.b<this.b){for(n-=e.c;r<this.b;)n+=this[r],t[r++]=n&this.u,n>>=this.f;n+=this.c}else{for(n+=this.c;r<e.b;)n-=e[r],t[r++]=n&this.u,n>>=this.f;n-=e.c}t.c=0>n?-1:0,-1>n?t[r++]=this.K+n:0<n&&(t[r++]=n),t.b=r,t.C()},q.vb=function(e){var t=$.Xa,r=this.abs(),n=t.abs(),i=r.b;for(e.b=i+n.b;0<=--i;)e[i]=0;for(i=0;i<n.b;++i)e[i+r.b]=r.ga(n[i],e,i,r.b);e.c=0,e.C(),this.c!=t.c&&X.ZERO.t(e,e)},q.Ja=function(e,t,r){var n=e.abs();if(!(0>=n.b)){var i=this.abs();if(i.b<n.b)t!=m&&t.D(0),r!=m&&this.copyTo(r);else{r==m&&(r=Yc());var o,s=Yc(),a=this.c,f=(e=e.c,n[n.b-1]),u=1;if(0!=(o=f>>>16)&&(f=o,u+=16),0!=(o=f>>8)&&(f=o,u+=8),0!=(o=f>>4)&&(f=o,u+=4),0!=(o=f>>2)&&(f=o,u+=2),0!=f>>1&&(u+=1),0<(f=this.f-u)?(n.Qa(f,s),i.Qa(f,r)):(n.copyTo(s),i.copyTo(r)),0!=(i=s[(n=s.b)-1])){o=i*(1<<this.Aa)+(1<n?s[n-2]>>this.Ba:0),u=this.bb/o,o=(1<<this.Aa)/o;var c=1<<this.Ba,h=r.b,d=h-n,l=t==m?Yc():t;for(s.la(d,l),0<=r.U(l)&&(r[r.b++]=1,r.t(l,r)),X.ONE.la(n,l),l.t(s,s);s.b<n;)s[s.b++]=0;for(;0<=--d;){var p=r[--h]==i?this.u:Math.floor(r[h]*u+(r[h-1]+c)*o);if((r[h]+=s.ga(p,r,d,n))<p)for(s.la(d,l),r.t(l,r);r[h]<--p;)r.t(l,r)}t!=m&&(r.jb(n,t),a!=e&&X.ZERO.t(t,t)),r.b=n,r.C(),0<f&&r.zb(f,r),0>a&&X.ZERO.t(r,r)}}}},q.toString=function(e){if(0>this.c)return"-"+this.i().toString(e);if(16==e)e=4;else if(8==e)e=3;else if(2==e)e=1;else if(32==e)e=5;else{if(4!=e)return this.Fb(e);e=2}var t,r=(1<<e)-1,n=p,i="",o=this.b,s=this.f-o*this.f%e;if(0<o--)for(s<this.f&&0<(t=this[o]>>s)&&(n=l,i="0123456789abcdefghijklmnopqrstuvwxyz".charAt(t));0<=o;)s<e?(t=(this[o]&(1<<s)-1)<<e-s,t|=this[--o]>>(s+=this.f-e)):(t=this[o]>>(s-=e)&r,0>=s&&(s+=this.f,--o)),0<t&&(n=l),n&&(i+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(t));return n?i:"0"},q.i=function(){var e=Yc();return X.ZERO.t(this,e),e},q.abs=function(){return 0>this.c?this.i():this},q.U=function(e){if(0!=(t=this.c-e.c))return t;var t,r=this.b;if(0!=(t=r-e.b))return 0>this.c?-t:t;for(;0<=--r;)if(0!=(t=this[r]-e[r]))return t;return 0},X.ZERO=ad(0),X.ONE=ad(1),q=X.prototype,q.nb=function(e,t){this.D(0),t==m&&(t=10);for(var r=this.S(t),n=Math.pow(t,r),i=p,o=0,s=0,a=0;a<e.length;++a){var f=Zc(e,a);0>f?"-"==e.charAt(a)&&0==this.ra()&&(i=l):(s=t*s+f,++o>=r&&(this.Ia(n),this.Ha(s),s=o=0))}0<o&&(this.Ia(Math.pow(t,o)),this.Ha(s)),i&&X.ZERO.t(this,this)},q.S=function(e){return Math.floor(Math.LN2*this.f/Math.log(e))},q.ra=function(){return 0>this.c?-1:0>=this.b||1==this.b&&0>=this[0]?0:1},q.Ia=function(e){this[this.b]=this.ga(e-1,this,0,this.b),++this.b,this.C()},q.Ha=function(e){var t=0;if(0!=e){for(;this.b<=t;)this[this.b++]=0;for(this[t]+=e;this[t]>=this.K;)this[t]-=this.K,++t>=this.b&&(this[this.b++]=0),++this[t]}},q.Fb=function(e){if(e==m&&(e=10),0==this.ra()||2>e||36<e)return"0";var t=this.S(e),r=ad(t=Math.pow(e,t)),n=Yc(),i=Yc(),o="";for(this.Ja(r,n,i);0<n.ra();)o=(t+i.Oa()).toString(e).substr(1)+o,n.Ja(r,n,i);return i.Oa().toString(e)+o},q.Oa=function(){if(0>this.c){if(1==this.b)return this[0]-this.K;if(0==this.b)return-1}else{if(1==this.b)return this[0];if(0==this.b)return 0}return(this[1]&(1<<32-this.f)-1)<<this.f|this[0]},q.fa=function(e,t){for(var r=0,n=0,i=Math.min(e.b,this.b);r<i;)n+=this[r]+e[r],t[r++]=n&this.u,n>>=this.f;if(e.b<this.b){for(n+=e.c;r<this.b;)n+=this[r],t[r++]=n&this.u,n>>=this.f;n+=this.c}else{for(n+=this.c;r<e.b;)n+=e[r],t[r++]=n&this.u,n>>=this.f;n+=e.c}t.c=0>n?-1:0,0<n?t[r++]=n:-1>n&&(t[r++]=this.K+n),t.b=r,t.C()};var $={abs:function(e,t){var r=(r=new Y(e,t)).n()?r.i():r;B[qb>>2]=r.h,B[qb+4>>2]=r.j},Ka:function(){$.kb||($.kb=l,$.Xa=new X,$.Xa.k("4294967296",10),$.sa=new X,$.sa.k("18446744073709551616",10),$.xe=new X,$.ye=new X)},me:function(e,t){var r=new X;r.k(t.toString(),10);var n=new X;r.vb(n),(r=new X).k(e.toString(),10);var i=new X;return r.fa(n,i),i},stringify:function(e,t,r){return e=new Y(e,t).toString(),r&&"-"==e[0]&&($.Ka(),(r=new X).k(e,10),e=new X,$.sa.fa(r,e),e=e.toString(10)),e},k:function(e,t,r,n,i){$.Ka();var o=new X;o.k(e,t),(e=new X).k(r,10),(r=new X).k(n,10),i&&0>o.U(X.ZERO)&&(n=new X,o.fa($.sa,n),o=n),n=p,0>o.U(e)?(o=e,n=l):0<o.U(r)&&(o=r,n=l),o=Y.k(o.toString()),B[qb>>2]=o.h,B[qb+4>>2]=o.j,n&&g("range error")}},cd,dd;function lb(e){function t(){if(ab||(ab=l,Va(Xa)),Va(Ya),gb=l,s._main&&kb&&s.callMain(e),s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)cb(s.postRun.shift());Va($a)}if(e=e||s.arguments,0<L)s.P("run() called, but dependencies remain, so not running");else{if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)bb(s.preRun.shift());Va(Wa),0<L||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),za||t()},1)):t())}}function ed(e){za=l,u=cd,Va(Za),dd&&g({type:"ExitStatus",value:e})}function wa(e){e&&s.print(e),za=l,g("abort() at "+Error().stack)}if(lc=$,s.callMain=s.$d=function(e){function t(){for(var e=0;3>e;e++)i.push(0)}w(0==L,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),w(0==Wa.length,"cannot call main when preRun functions remain to be called"),e=e||[],ab||(ab=l,Va(Xa));var r,n=e.length+1,i=[F(J("/bin/this.program"),"i8",Ka)];t();for(var o=0;o<n-1;o+=1)i.push(F(J(e[o]),"i8",Ka)),t();i.push(0),i=F(i,"i32",Ka),cd=u,dd=l;try{r=s._main(n,i,0)}catch(e){if(e&&"object"==typeof e&&"ExitStatus"==e.type)return s.print("Exit Status: "+e.value),e.value;"SimulateInfiniteLoop"==e?s.noExitRuntime=l:g(e)}finally{dd=p}s.noExitRuntime||ed(r)},s.run=s.we=lb,s.exit=s.de=ed,s.abort=s.abort=wa,s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();var kb=l;s.noInitialRun&&(kb=p),lb();var scrypt=function(){var e={};function t(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var n=e.charCodeAt(r);if((255&n)!==n)throw{message:"Cannot encode string in Latin1",str:e};t[r]=255&n}return t}function r(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}function n(e,t){var r=t||0,n=scrypt_raw._malloc(e.length+r);scrypt_raw.HEAPU8.set(e,n+r);for(var i=n;i<n+r;i++)scrypt_raw.HEAPU8[i]=0;return n}function i(e){this.length=e,this.address=scrypt_raw._malloc(e)}return i.prototype.extractBytes=function(e){var t=function(e,t){var r=new Uint8Array(t);return r.set(scrypt_raw.HEAPU8.subarray(e,e+t)),r}(this.address+(e||0),this.length-(e||0));return scrypt_raw._free(this.address),this.address=null,t},e.encode_utf8=function(e){return t(unescape(encodeURIComponent(e)))},e.encode_latin1=t,e.decode_utf8=function(e){return decodeURIComponent(escape(r(e)))},e.decode_latin1=r,e.to_hex=function(e){for(var t=[],r=0;r<e.length;r++)t.push("0123456789abcdef"[e[r]>>4&15]),t.push("0123456789abcdef"[15&e[r]]);return t.join("")},e.random_bytes=function(e){var t=new Uint8Array(e);if(void 0!==window.crypto&&void 0!==window.crypto.getRandomValues)return window.crypto.getRandomValues(t),t;if(void 0!==window.msCrypto&&void 0!==window.msCrypto.getRandomValues)return window.msCrypto.getRandomValues(t),t;throw{message:"No suitable random number generator found!"}},e.crypto_scrypt=function(e,t,r,o,s,a){var f=new i(a),u=n(e),c=n(t);return function(e,t){if(0!==t)throw{message:"scrypt_raw."+e+" signalled an error"}}("_crypto_scrypt",scrypt_raw._crypto_scrypt(u,e.length,c,t.length,r,0,o,s,f.address,f.length)),function(e){for(var t=0;t<e.length;t++)scrypt_raw._free(e[t])}([u,c]),f.extractBytes()},e}();return scrypt}}).call(this,require("_process"),"/lib")},{_process:133,fs:50,path:126}],4:[function(e,t,r){var n=r;n.bignum=e("bn.js"),n.define=e("./asn1/api").define,n.base=e("./asn1/base"),n.constants=e("./asn1/constants"),n.decoders=e("./asn1/decoders"),n.encoders=e("./asn1/encoders")},{"./asn1/api":5,"./asn1/base":7,"./asn1/constants":11,"./asn1/decoders":13,"./asn1/encoders":16,"bn.js":20}],5:[function(e,t,r){var n=e("../asn1"),i=e("inherits");function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}r.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(t){var r;try{r=e("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){r=function(e){this._initNamed(e)}}return i(r,t),r.prototype._initNamed=function(e){t.call(this,e)},new r(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},{"../asn1":4,inherits:107,vm:177}],6:[function(e,t,r){var n=e("inherits"),i=e("../base").Reporter,o=e("buffer").Buffer;function s(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof a||(e=new a(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(s,i),r.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(e){var t=new s(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},s.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},s.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},r.EncoderBuffer=a,a.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,t),t+=r.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},{"../base":7,buffer:53,inherits:107}],7:[function(e,t,r){var n=r;n.Reporter=e("./reporter").Reporter,n.DecoderBuffer=e("./buffer").DecoderBuffer,n.EncoderBuffer=e("./buffer").EncoderBuffer,n.Node=e("./node")},{"./buffer":6,"./node":8,"./reporter":9}],8:[function(e,t,r){var n=e("../base").Reporter,i=e("../base").EncoderBuffer,o=e("../base").DecoderBuffer,s=e("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],f=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=u;var c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var e=this._baseState,t={};c.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},u.prototype._wrap=function(){var e=this._baseState;f.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},u.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),s.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(s(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){u.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),a.forEach(function(e){u.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(r),this}}),u.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},u.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=e.enterKey(r.key)),r.optional){var f=null;if(null!==r.explicit?f=r.explicit:null!==r.implicit?f=r.implicit:null!==r.tag&&(f=r.tag),null!==f||r.any){if(s=this._peekTag(e,f,r.any),e.isError(s))return s}else{var u=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(u)}}if(r.obj&&s&&(n=e.enterObject()),s){if(null!==r.explicit){var c=this._decodeTag(e,r.explicit);if(e.isError(c))return c;e=c}var h=e.offset;if(null===r.use&&null===r.choice){if(r.any)u=e.save();var d=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(d))return d;r.any?i=e.raw(u):e=d}if(t&&t.track&&null!==r.tag&&t.track(e.path(),h,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),i=r.any?i:null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(e,t)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var l=new o(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(l,t)}}return r.obj&&s&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&e.exitKey(a):e.leaveKey(a,r.key,i),i},u.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some(function(o){var s=e.save(),a=r.choice[o];try{var f=a._decode(e,t);if(e.isError(f))return!1;n={type:o,value:f},i=!0}catch(t){return e.restore(s),!1}return!0},this),i?n:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},u.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},u.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var s=null,a=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)s=this._getUse(i.contains,r)._encode(e,t),a=!0;else if(i.children)s=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i},this).filter(function(e){return e}),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var f=this.clone();f._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)},f))}else null!==i.use?o=this._getUse(i.use,r)._encode(e,t):(s=this._encodePrimitive(i.tag,e),a=!0);if(!i.any&&null===i.choice){var u=null!==i.implicit?i.implicit:i.tag,c=null===i.implicit?"universal":"context";null===u?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(u,a,c,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},{"../base":7,"minimalistic-assert":119}],9:[function(e,t,r){var n=e("inherits");function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}r.Reporter=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof o;if(t=n?e:new o(r.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:107}],10:[function(e,t,r){var n=e("../constants");r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=n._reverse(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=n._reverse(r.tag)},{"../constants":11}],11:[function(e,t,r){var n=r;n._reverse=function(e){var t={};return Object.keys(e).forEach(function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r}),t},n.der=e("./der")},{"./der":10}],12:[function(e,t,r){var n=e("inherits"),i=e("../../asn1"),o=i.base,s=i.bignum,a=i.constants.der;function f(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){o.Node.call(this,"der",e)}function c(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){var o=r;for(r=0;128==(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;r<<=7,r|=127&o}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var o=0;o<i;o++){n<<=8;var s=e.readUInt8(r);if(e.isError(s))return s;n|=s}return n}t.exports=f,f.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(u,o.Node),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=c(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){var n=c(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=h(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var r=c(e,t);if(e.isError(r))return r;var n,i=h(e,r.primitive,t);if(e.isError(i))return i;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var s=r.decode(e,"der",n);if(e.isError(s)&&o)break;i.push(s)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(2*o));return i}if("numstr"===t){var s=e.raw().toString("ascii");return this._isNumstr(s)?s:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){for(var n,i=[],o=0;!e.isEmpty();){var s=e.readUInt8();o<<=7,o|=127&s,0==(128&s)&&(i.push(o),o=0)}128&s&&i.push(o);var a=i[0]/40|0,f=i[0]%40;if(n=r?i:[a,f].concat(i.slice(1)),t){var u=t[n.join(" ")];void 0===u&&(u=t[n.join(".")]),void 0!==u&&(n=u)}return n},u.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),f=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),f=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,f,0)},u.prototype._decodeNull=function(e){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var r=e.raw(),n=new s(r);return t&&(n=t[n.toString(10)]||n),n},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},{"../../asn1":4,inherits:107}],13:[function(e,t,r){var n=r;n.der=e("./der"),n.pem=e("./pem")},{"./der":12,"./pem":14}],14:[function(e,t,r){var n=e("inherits"),i=e("buffer").Buffer,o=e("./der");function s(e){o.call(this,e),this.enc="pem"}n(s,o),t.exports=s,s.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,f=-1,u=0;u<r.length;u++){var c=r[u].match(s);if(null!==c&&c[2]===n){if(-1!==a){if("END"!==c[1])break;f=u;break}if("BEGIN"!==c[1])break;a=u}}if(-1===a||-1===f)throw new Error("PEM section not found for: "+n);var h=r.slice(a+1,f).join("");h.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new i(h,"base64");return o.prototype.decode.call(this,d,t)}},{"./der":12,buffer:53,inherits:107}],15:[function(e,t,r){var n=e("inherits"),i=e("buffer").Buffer,o=e("../../asn1"),s=o.base,a=o.constants.der;function f(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.Node.call(this,"der",e)}function c(e){return e<10?"0"+e:e}t.exports=f,f.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(u,s.Node),u.prototype._encodeComposite=function(e,t,r,n){var o,s=function(e,t,r,n){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(a.tagByName.hasOwnProperty(e))i=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}if(i>=31)return n.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=a.tagClassByName[r||"universal"]<<6}(e,t,r,this.reporter);if(n.length<128)return(o=new i(2))[0]=s,o[1]=n.length,this._createEncoderBuffer([o,n]);for(var f=1,u=n.length;u>=256;u>>=8)f++;(o=new i(2+f))[0]=s,o[1]=128|f;u=1+f;for(var c=n.length;c>0;u--,c>>=8)o[u]=255&c;return this._createEncoderBuffer([o,n])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new i(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var o=0;for(n=0;n<e.length;n++){var s=e[n];for(o++;s>=128;s>>=7)o++}var a=new i(o),f=a.length-1;for(n=e.length-1;n>=0;n--){s=e[n];for(a[f--]=127&s;(s>>=7)>0;)a[f--]=128|127&s}return this._createEncoderBuffer(a)},u.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[c(n.getFullYear()),c(n.getUTCMonth()+1),c(n.getUTCDate()),c(n.getUTCHours()),c(n.getUTCMinutes()),c(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[c(n.getFullYear()%100),c(n.getUTCMonth()+1),c(n.getUTCDate()),c(n.getUTCHours()),c(n.getUTCMinutes()),c(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new i(r)}if(i.isBuffer(e)){var n=e.length;0===e.length&&n++;var o=new i(n);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var s=e;s>=256;s>>=8)n++;for(s=(o=new Array(n)).length-1;s>=0;s--)o[s]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0}},{"../../asn1":4,buffer:53,inherits:107}],16:[function(e,t,r){var n=r;n.der=e("./der"),n.pem=e("./pem")},{"./der":15,"./pem":17}],17:[function(e,t,r){var n=e("inherits"),i=e("./der");function o(e){i.call(this,e),this.enc="pem"}n(o,i),t.exports=o,o.prototype.encode=function(e,t){for(var r=i.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],o=0;o<r.length;o+=64)n.push(r.slice(o,o+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},{"./der":15,inherits:107}],18:[function(e,t,r){"use strict";r.byteLength=function(e){return 3*e.length/4-u(e)},r.toByteArray=function(e){var t,r,n,s,a,f=e.length;s=u(e),a=new o(3*f/4-s),r=s>0?f-4:f;var c=0;for(t=0;t<r;t+=4)n=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],a[c++]=n>>16&255,a[c++]=n>>8&255,a[c++]=255&n;2===s?(n=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,a[c++]=255&n):1===s&&(n=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,a[c++]=n>>8&255,a[c++]=255&n);return a},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o="",s=[],a=0,f=r-i;a<f;a+=16383)s.push(c(e,a,a+16383>f?f:a+16383));1===i?(t=e[r-1],o+=n[t>>2],o+=n[t<<4&63],o+="=="):2===i&&(t=(e[r-2]<<8)+e[r-1],o+=n[t>>10],o+=n[t>>4&63],o+=n[t<<2&63],o+="=");return s.push(o),s.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,f=s.length;a<f;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16)+(e[a+1]<<8)+e[a+2],s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],19:[function(e,t,r){var n=e("safe-buffer").Buffer;t.exports={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var r=e[5+t];return!(0===r||6+t+r!==e.length||128&e[4]||t>1&&0===e[4]&&!(128&e[5])||128&e[t+6]||r>1&&0===e[t+6]&&!(128&e[t+7]))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},encode:function(e,t){var r=e.length,i=t.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}}},{"safe-buffer":156}],20:[function(e,t,r){!function(t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof t?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;try{s=e("buffer").Buffer}catch(e){}function a(e,t,r){for(var n=0,i=Math.min(e.length,r),o=t;o<i;o++){var s=e.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function f(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=e.length-6,n=0;r>=t;r-=6)i=a(e,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==t&&(i=a(e,t,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=f(e,c,c+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=f(e,c,e.length,t),c=0;c<s;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,f=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=f>>>26,h=67108863&f,d=Math.min(u,t.length-1),l=Math.max(0,u-e.length+1);l<=d;l++){var p=u-l|0;c+=(s=(i=0|e.words[p])*(o=0|t.words[l])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,f=0|c}return 0!==f?r.words[u]=0|f:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(e=e||10,t=0|t||1,16===e||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],f=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?u[6-f.length]+f+r:f+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var d=c[e],l=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(e);r=(p=p.idivn(l)).isZero()?b+r:u[d-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,f="le"===t,u=new e(o),c=this.clone();if(f){for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,r){var n,i,o,s=e.words,a=t.words,f=r.words,u=0,c=0|s[0],h=8191&c,d=c>>>13,l=0|s[1],p=8191&l,b=l>>>13,m=0|s[2],y=8191&m,g=m>>>13,v=0|s[3],w=8191&v,_=v>>>13,S=0|s[4],A=8191&S,E=S>>>13,k=0|s[5],M=8191&k,x=k>>>13,I=0|s[6],B=8191&I,P=I>>>13,C=0|s[7],T=8191&C,R=C>>>13,L=0|s[8],N=8191&L,j=L>>>13,O=0|s[9],D=8191&O,z=O>>>13,F=0|a[0],U=8191&F,q=F>>>13,H=0|a[1],K=8191&H,V=H>>>13,Y=0|a[2],G=8191&Y,W=Y>>>13,J=0|a[3],Z=8191&J,X=J>>>13,$=0|a[4],Q=8191&$,ee=$>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],fe=8191&ae,ue=ae>>>13,ce=0|a[8],he=8191&ce,de=ce>>>13,le=0|a[9],pe=8191&le,be=le>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(u+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(d,U)|0))<<13)|0;u=((o=Math.imul(d,q))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,q))+Math.imul(b,U)|0,o=Math.imul(b,q);var ye=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,K)|0))<<13)|0;u=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,U),i=(i=Math.imul(y,q))+Math.imul(g,U)|0,o=Math.imul(g,q),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,V)|0;var ge=(u+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(d,G)|0))<<13)|0;u=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,q))+Math.imul(_,U)|0,o=Math.imul(_,q),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,V)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,W)|0;var ve=(u+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,X)|0)+Math.imul(d,Z)|0))<<13)|0;u=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(A,U),i=(i=Math.imul(A,q))+Math.imul(E,U)|0,o=Math.imul(E,q),n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,X)|0;var we=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(M,U),i=(i=Math.imul(M,q))+Math.imul(x,U)|0,o=Math.imul(x,q),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var _e=(u+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(d,re)|0))<<13)|0;u=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,q))+Math.imul(P,U)|0,o=Math.imul(P,q),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(x,K)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,se)|0)+Math.imul(d,oe)|0))<<13)|0;u=((o=o+Math.imul(d,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(T,U),i=(i=Math.imul(T,q))+Math.imul(R,U)|0,o=Math.imul(R,q),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0;var Ae=(u+(n=n+Math.imul(h,fe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ue)|0)+Math.imul(d,fe)|0))<<13)|0;u=((o=o+Math.imul(d,ue)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,U),i=(i=Math.imul(N,q))+Math.imul(j,U)|0,o=Math.imul(j,q),n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,V)|0,n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,ue)|0;var Ee=(u+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;u=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,U),i=(i=Math.imul(D,q))+Math.imul(z,U)|0,o=Math.imul(z,q),n=n+Math.imul(N,K)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(j,K)|0,o=o+Math.imul(j,V)|0,n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,W)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,ue)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,ue)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,de)|0;var ke=(u+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,be)|0)+Math.imul(d,pe)|0))<<13)|0;u=((o=o+Math.imul(d,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,V))+Math.imul(z,K)|0,o=Math.imul(z,V),n=n+Math.imul(N,G)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,W)|0,n=n+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,X)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,se)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,se)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(y,he)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(g,he)|0,o=o+Math.imul(g,de)|0;var Me=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,G),i=(i=Math.imul(D,W))+Math.imul(z,G)|0,o=Math.imul(z,W),n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,X)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(E,fe)|0,o=o+Math.imul(E,ue)|0,n=n+Math.imul(w,he)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(_,he)|0,o=o+Math.imul(_,de)|0;var xe=(u+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,be)|0)+Math.imul(g,pe)|0))<<13)|0;u=((o=o+Math.imul(g,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,X))+Math.imul(z,Z)|0,o=Math.imul(z,X),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(R,re)|0,o=o+Math.imul(R,ne)|0,n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(x,fe)|0,o=o+Math.imul(x,ue)|0,n=n+Math.imul(A,he)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(E,he)|0,o=o+Math.imul(E,de)|0;var Ie=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,be)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(z,Q)|0,o=Math.imul(z,ee),n=n+Math.imul(N,re)|0,i=(i=i+Math.imul(N,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,ue)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,de)|0;var Be=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,be)|0)+Math.imul(E,pe)|0))<<13)|0;u=((o=o+Math.imul(E,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(z,re)|0,o=Math.imul(z,ne),n=n+Math.imul(N,oe)|0,i=(i=i+Math.imul(N,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(R,fe)|0,o=o+Math.imul(R,ue)|0,n=n+Math.imul(B,he)|0,i=(i=i+Math.imul(B,de)|0)+Math.imul(P,he)|0,o=o+Math.imul(P,de)|0;var Pe=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(z,oe)|0,o=Math.imul(z,se),n=n+Math.imul(N,fe)|0,i=(i=i+Math.imul(N,ue)|0)+Math.imul(j,fe)|0,o=o+Math.imul(j,ue)|0,n=n+Math.imul(T,he)|0,i=(i=i+Math.imul(T,de)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,de)|0;var Ce=(u+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,be)|0)+Math.imul(P,pe)|0))<<13)|0;u=((o=o+Math.imul(P,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,fe),i=(i=Math.imul(D,ue))+Math.imul(z,fe)|0,o=Math.imul(z,ue),n=n+Math.imul(N,he)|0,i=(i=i+Math.imul(N,de)|0)+Math.imul(j,he)|0,o=o+Math.imul(j,de)|0;var Te=(u+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,be)|0)+Math.imul(R,pe)|0))<<13)|0;u=((o=o+Math.imul(R,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,he),i=(i=Math.imul(D,de))+Math.imul(z,he)|0,o=Math.imul(z,de);var Re=(u+(n=n+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,be)|0)+Math.imul(j,pe)|0))<<13)|0;u=((o=o+Math.imul(j,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Le=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,be))+Math.imul(z,pe)|0))<<13)|0;return u=((o=Math.imul(z,be))+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863,f[0]=me,f[1]=ye,f[2]=ge,f[3]=ve,f[4]=we,f[5]=_e,f[6]=Se,f[7]=Ae,f[8]=Ee,f[9]=ke,f[10]=Me,f[11]=xe,f[12]=Ie,f[13]=Be,f[14]=Pe,f[15]=Ce,f[16]=Te,f[17]=Re,f[18]=Le,0!==u&&(f[19]=u,r.length++),r};function p(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(l=d),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?l(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,f=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=f;u++){var c=o-u,h=(0|e.words[c])*(0|t.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,f=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=f,d=u,l=0;l<s;l++){var p=r[c+l],b=n[c+l],m=r[c+l+s],y=n[c+l+s],g=h*m-d*y;y=h*y+d*m,m=g,r[c+l]=p+m,n[c+l]=b+y,r[c+l+s]=p-m,n[c+l+s]=b-y,l!==a&&(g=f*h-u*d,d=f*d+u*h,h=g)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),f=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,f,n,i),this.transform(u,o,c,h,n,i);for(var l=0;l<n;l++){var p=a[l]*c[l]-f[l]*h[l];f[l]=a[l]*h[l]+f[l]*c[l],a[l]=p}return this.conjugate(a,f,n),this.transform(a,f,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,f=(0|this.words[t])-a<<r;this.words[t]=f|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,f=r;if(i-=s,i=Math.max(0,i),f){for(var u=0;u<s;u++)f.words[u]=this.words[u];f.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var h=0|this.words[u];this.words[u]=c<<26-o|h>>>o,c=h&a}return f&&0!==c&&(f.words[f.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var f=(0|e.words[i])*t;a=((o-=67108863&f)>>26)-(f/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,f=n.length-i.length;if("mod"!==t){(a=new o(null)).length=f+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=n.clone()._ishlnsubmul(i,1,f);0===c.negative&&(n=c,a&&(a.words[f]=1));for(var h=f-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),f=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),h=t.clone();!t.isZero();){for(var d=0,l=1;0==(t.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||f.isOdd())&&(a.iadd(c),f.isub(h)),a.iushrn(1),f.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(f)):(r.isub(t),a.isub(i),f.isub(s))}return{a:a,b:f,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),f=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(f),s.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(f),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(g,y),g.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,y),i(w,y),i(_,y),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new v;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),f=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,u).cmp(f);)c.redIAdd(f);for(var h=this.pow(c,i),d=this.pow(e,i.addn(1).iushrn(1)),l=this.pow(e,i),p=s;0!==l.cmp(a);){for(var b=l,m=0;0!==b.cmp(a);m++)b=b.redSqr();n(m<p);var y=this.pow(h,new o(1).iushln(p-m-1));d=d.redMul(y),h=y.redSqr(),l=l.redMul(h),p=m}return d},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,f=t.bitLength()%26;for(0===f&&(f=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],c=f-1;c>=0;c--){var h=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===c)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}f=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,S),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)},{buffer:22}],21:[function(e,t,r){var n;function i(e){this.rand=e}if(t.exports=function(e){return n||(n=new i(null)),n.generate(e)},t.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=e("crypto");if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},{crypto:22}],22:[function(e,t,r){},{}],23:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),i=0;i<t;i++)r[i]=e.readUInt32BE(4*i);return r}function o(e){for(;0<e.length;e++)e[0]=0}function s(e,t,r,n,i){for(var o,s,a,f,u=r[0],c=r[1],h=r[2],d=r[3],l=e[0]^t[0],p=e[1]^t[1],b=e[2]^t[2],m=e[3]^t[3],y=4,g=1;g<i;g++)o=u[l>>>24]^c[p>>>16&255]^h[b>>>8&255]^d[255&m]^t[y++],s=u[p>>>24]^c[b>>>16&255]^h[m>>>8&255]^d[255&l]^t[y++],a=u[b>>>24]^c[m>>>16&255]^h[l>>>8&255]^d[255&p]^t[y++],f=u[m>>>24]^c[l>>>16&255]^h[p>>>8&255]^d[255&b]^t[y++],l=o,p=s,b=a,m=f;return o=(n[l>>>24]<<24|n[p>>>16&255]<<16|n[b>>>8&255]<<8|n[255&m])^t[y++],s=(n[p>>>24]<<24|n[b>>>16&255]<<16|n[m>>>8&255]<<8|n[255&l])^t[y++],a=(n[b>>>24]<<24|n[m>>>16&255]<<16|n[l>>>8&255]<<8|n[255&p])^t[y++],f=(n[m>>>24]<<24|n[l>>>16&255]<<16|n[p>>>8&255]<<8|n[255&b])^t[y++],[o>>>=0,s>>>=0,a>>>=0,f>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],f=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,f=0;f<256;++f){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99,r[s]=u,n[u]=s;var c=e[s],h=e[c],d=e[h],l=257*e[u]^16843008*u;i[0][s]=l<<24|l>>>8,i[1][s]=l<<16|l>>>16,i[2][s]=l<<8|l>>>24,i[3][s]=l,l=16843009*d^65537*h^257*c^16843008*s,o[0][u]=l<<24|l>>>8,o[1][u]=l<<16|l>>>16,o[2][u]=l<<8|l>>>24,o[3][u]=l,0===s?s=a=1:(s=c^e[e[e[d^c]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function u(e){this._key=i(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<n;o++){var s=i[o-1];o%t==0?(s=s<<8|s>>>24,s=f.SBOX[s>>>24]<<24|f.SBOX[s>>>16&255]<<16|f.SBOX[s>>>8&255]<<8|f.SBOX[255&s],s^=a[o/t|0]<<24):t>6&&o%t==4&&(s=f.SBOX[s>>>24]<<24|f.SBOX[s>>>16&255]<<16|f.SBOX[s>>>8&255]<<8|f.SBOX[255&s]),i[o]=i[o-t]^s}for(var u=[],c=0;c<n;c++){var h=n-c,d=i[h-(c%4?0:4)];u[c]=c<4||h<=4?d:f.INV_SUB_MIX[0][f.SBOX[d>>>24]]^f.INV_SUB_MIX[1][f.SBOX[d>>>16&255]]^f.INV_SUB_MIX[2][f.SBOX[d>>>8&255]]^f.INV_SUB_MIX[3][f.SBOX[255&d]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return s(e=i(e),this._keySchedule,f.SUB_MIX,f.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},u.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var r=s(e,this._invKeySchedule,f.INV_SUB_MIX,f.INV_SBOX,this._nRounds),o=n.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=u},{"safe-buffer":156}],24:[function(e,t,r){var n=e("./aes"),i=e("safe-buffer").Buffer,o=e("cipher-base"),s=e("inherits"),a=e("./ghash"),f=e("buffer-xor"),u=e("./incr32");function c(e,t,r,s){o.call(this);var f=i.alloc(4,0);this._cipher=new n.AES(t);var c=this._cipher.encryptBlock(f);this._ghash=new a(c),r=function(e,t,r){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var n=new a(r),o=t.length,s=o%16;n.update(t),s&&(s=16-s,n.update(i.alloc(s,0))),n.update(i.alloc(8,0));var f=8*o,c=i.alloc(8);c.writeUIntBE(f,0,8),n.update(c),e._finID=n.state;var h=i.from(e._finID);return u(h),h}(this,r,c),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}s(c,o),c.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=f(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},c.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},t.exports=c},{"./aes":23,"./ghash":28,"./incr32":29,"buffer-xor":52,"cipher-base":54,inherits:107,"safe-buffer":156}],25:[function(e,t,r){var n=e("./encrypter"),i=e("./decrypter"),o=e("./modes/list.json");r.createCipher=r.Cipher=n.createCipher,r.createCipheriv=r.Cipheriv=n.createCipheriv,r.createDecipher=r.Decipher=i.createDecipher,r.createDecipheriv=r.Decipheriv=i.createDecipheriv,r.listCiphers=r.getCiphers=function(){return Object.keys(o)}},{"./decrypter":26,"./encrypter":27,"./modes/list.json":37}],26:[function(e,t,r){var n=e("./authCipher"),i=e("safe-buffer").Buffer,o=e("./modes"),s=e("./streamCipher"),a=e("cipher-base"),f=e("./aes"),u=e("evp_bytestokey");function c(e,t,r){a.call(this),this._cache=new h,this._last=void 0,this._cipher=new f.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}function h(){this.cache=i.allocUnsafe(0)}function d(e,t,r){var a=o[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=i.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===a.type?new s(a.module,t,r,!0):"auth"===a.type?new n(a.module,t,r,!0):new c(a.module,t,r)}e("inherits")(c,a),c.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return i.concat(n)},c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15],r=-1;for(;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=i.concat([this.cache,e])},h.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},r.createDecipher=function(e,t){var r=o[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return d(e,n.key,n.iv)},r.createDecipheriv=d},{"./aes":23,"./authCipher":24,"./modes":36,"./streamCipher":39,"cipher-base":54,evp_bytestokey:90,inherits:107,"safe-buffer":156}],27:[function(e,t,r){var n=e("./modes"),i=e("./authCipher"),o=e("safe-buffer").Buffer,s=e("./streamCipher"),a=e("cipher-base"),f=e("./aes"),u=e("evp_bytestokey");function c(e,t,r){a.call(this),this._cache=new d,this._cipher=new f.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}e("inherits")(c,a),c.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return o.concat(n)};var h=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function l(e,t,r){var a=n[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new s(a.module,t,r):"auth"===a.type?new i(a.module,t,r):new c(a.module,t,r)}c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=o.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},r.createCipheriv=l,r.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=u(t,!1,r.key,r.iv);return l(e,i.key,i.iv)}},{"./aes":23,"./authCipher":24,"./modes":36,"./streamCipher":39,"cipher-base":54,evp_bytestokey:90,inherits:107,"safe-buffer":156}],28:[function(e,t,r){var n=e("safe-buffer").Buffer,i=n.alloc(16,0);function o(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function s(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}s.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},s.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=o(i)},s.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},s.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},t.exports=s},{"safe-buffer":156}],29:[function(e,t,r){t.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},{}],30:[function(e,t,r){var n=e("buffer-xor");r.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},r.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},{"buffer-xor":52}],31:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("buffer-xor");function o(e,t,r){var o=t.length,s=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=n.concat([e._prev,r?t:s]),s}r.encrypt=function(e,t,r){for(var i,s=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){s=n.concat([s,o(e,t,r)]);break}i=e._cache.length,s=n.concat([s,o(e,t.slice(0,i),r)]),t=t.slice(i)}return s}},{"buffer-xor":52,"safe-buffer":156}],32:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e,t,r){for(var n,i,s,a=-1,f=0;++a<8;)n=e._cipher.encryptBlock(e._prev),i=t&1<<7-a?128:0,f+=(128&(s=n[0]^i))>>a%8,e._prev=o(e._prev,r?i:s);return f}function o(e,t){var r=e.length,i=-1,o=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++i<r;)o[i]=e[i]<<1|e[i+1]>>7;return o}r.encrypt=function(e,t,r){for(var o=t.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(e,t[a],r);return s}},{"safe-buffer":156}],33:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e,t,r){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:i])]),i}r.encrypt=function(e,t,r){for(var o=t.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(e,t[a],r);return s}},{"safe-buffer":156}],34:[function(e,t,r){var n=e("buffer-xor"),i=e("safe-buffer").Buffer,o=e("../incr32");function s(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}r.encrypt=function(e,t){var r=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var f=s(e),u=o+16*a;e._cache.writeUInt32BE(f[0],u+0),e._cache.writeUInt32BE(f[1],u+4),e._cache.writeUInt32BE(f[2],u+8),e._cache.writeUInt32BE(f[3],u+12)}var c=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,c)}},{"../incr32":29,"buffer-xor":52,"safe-buffer":156}],35:[function(e,t,r){r.encrypt=function(e,t){return e._cipher.encryptBlock(t)},r.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],36:[function(e,t,r){var n={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},i=e("./list.json");for(var o in i)i[o].module=n[i[o].mode];t.exports=i},{"./cbc":30,"./cfb":31,"./cfb1":32,"./cfb8":33,"./ctr":34,"./ecb":35,"./list.json":37,"./ofb":38}],37:[function(e,t,r){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],38:[function(e,t,r){(function(t){var n=e("buffer-xor");function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}r.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,i(e)]);var o=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),n(r,o)}}).call(this,e("buffer").Buffer)},{buffer:53,"buffer-xor":52}],39:[function(e,t,r){var n=e("./aes"),i=e("safe-buffer").Buffer,o=e("cipher-base");function s(e,t,r,s){o.call(this),this._cipher=new n.AES(t),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._mode=e}e("inherits")(s,o),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},{"./aes":23,"cipher-base":54,inherits:107,"safe-buffer":156}],40:[function(e,t,r){var n=e("evp_bytestokey"),i=e("browserify-aes/browser"),o=e("browserify-des"),s=e("browserify-des/modes"),a=e("browserify-aes/modes");function f(e,t,r){if(e=e.toLowerCase(),a[e])return i.createCipheriv(e,t,r);if(s[e])return new o({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function u(e,t,r){if(e=e.toLowerCase(),a[e])return i.createDecipheriv(e,t,r);if(s[e])return new o({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}r.createCipher=r.Cipher=function(e,t){var r,i;if(e=e.toLowerCase(),a[e])r=a[e].key,i=a[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,i=s[e].iv}var o=n(t,!1,r,i);return f(e,o.key,o.iv)},r.createCipheriv=r.Cipheriv=f,r.createDecipher=r.Decipher=function(e,t){var r,i;if(e=e.toLowerCase(),a[e])r=a[e].key,i=a[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,i=s[e].iv}var o=n(t,!1,r,i);return u(e,o.key,o.iv)},r.createDecipheriv=r.Decipheriv=u,r.listCiphers=r.getCiphers=function(){return Object.keys(s).concat(i.getCiphers())}},{"browserify-aes/browser":25,"browserify-aes/modes":36,"browserify-des":41,"browserify-des/modes":42,evp_bytestokey:90}],41:[function(e,t,r){(function(r){var n=e("cipher-base"),i=e("des.js"),o=e("inherits"),s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function a(e){n.call(this);var t,i=e.mode.toLowerCase(),o=s[i];t=e.decrypt?"decrypt":"encrypt";var a=e.key;"des-ede"!==i&&"des-ede-cbc"!==i||(a=r.concat([a,a.slice(0,8)]));var f=e.iv;this._des=o.create({key:a,iv:f,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],t.exports=a,o(a,n),a.prototype._update=function(e){return new r(this._des.update(e))},a.prototype._final=function(){return new r(this._des.final())}}).call(this,e("buffer").Buffer)},{buffer:53,"cipher-base":54,"des.js":63,inherits:107}],42:[function(e,t,r){r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}},{}],43:[function(e,t,r){(function(r){var n=e("bn.js"),i=e("randombytes");function o(e,t){var i=function(e){var t=s(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),o=t.modulus.byteLength(),a=(n.mont(t.modulus),new n(e).mul(i.blinder).umod(t.modulus)),f=a.toRed(n.mont(t.prime1)),u=a.toRed(n.mont(t.prime2)),c=t.coefficient,h=t.prime1,d=t.prime2,l=f.redPow(t.exponent1),p=u.redPow(t.exponent2);l=l.fromRed(),p=p.fromRed();var b=l.isub(p).imul(c).umod(h);return b.imul(d),p.iadd(b),new r(p.imul(i.unblinder).umod(t.modulus).toArray(!1,o))}function s(e){for(var t=e.modulus.byteLength(),r=new n(i(t));r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new n(i(t));return r}t.exports=o,o.getr=s}).call(this,e("buffer").Buffer)},{"bn.js":20,buffer:53,randombytes:140}],44:[function(e,t,r){t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":45}],45:[function(e,t,r){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],46:[function(e,t,r){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],47:[function(e,t,r){(function(r){var n=e("create-hash"),i=e("stream"),o=e("inherits"),s=e("./sign"),a=e("./verify"),f=e("./algorithms.json");function u(e){i.Writable.call(this);var t=f[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function c(e){i.Writable.call(this);var t=f[e];if(!t)throw new Error("Unknown message digest");this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){return new u(e)}function d(e){return new c(e)}Object.keys(f).forEach(function(e){f[e].id=new r(f[e].id,"hex"),f[e.toLowerCase()]=f[e]}),o(u,i.Writable),u.prototype._write=function(e,t,r){this._hash.update(e),r()},u.prototype.update=function(e,t){return"string"==typeof e&&(e=new r(e,t)),this._hash.update(e),this},u.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=s(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},o(c,i.Writable),c.prototype._write=function(e,t,r){this._hash.update(e),r()},c.prototype.update=function(e,t){return"string"==typeof e&&(e=new r(e,t)),this._hash.update(e),this},c.prototype.verify=function(e,t,n){"string"==typeof t&&(t=new r(t,n)),this.end();var i=this._hash.digest();return a(t,i,e,this._signType,this._tag)},t.exports={Sign:h,Verify:d,createSign:h,createVerify:d}}).call(this,e("buffer").Buffer)},{"./algorithms.json":45,"./sign":48,"./verify":49,buffer:53,"create-hash":57,inherits:107,stream:172}],48:[function(e,t,r){(function(r){var n=e("create-hmac"),i=e("browserify-rsa"),o=e("elliptic").ec,s=e("bn.js"),a=e("parse-asn1"),f=e("./curves.json");function u(e,t,i,o){if((e=new r(e.toArray())).length<t.byteLength()){var s=new r(t.byteLength()-e.length);s.fill(0),e=r.concat([s,e])}var a=i.length,f=function(e,t){e=(e=c(e,t)).mod(t);var n=new r(e.toArray());if(n.length<t.byteLength()){var i=new r(t.byteLength()-n.length);i.fill(0),n=r.concat([i,n])}return n}(i,t),u=new r(a);u.fill(1);var h=new r(a);return h.fill(0),h=n(o,h).update(u).update(new r([0])).update(e).update(f).digest(),u=n(o,h).update(u).digest(),{k:h=n(o,h).update(u).update(new r([1])).update(e).update(f).digest(),v:u=n(o,h).update(u).digest()}}function c(e,t){var r=new s(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function h(e,t,i){var o,s;do{for(o=new r(0);8*o.length<e.bitLength();)t.v=n(i,t.k).update(t.v).digest(),o=r.concat([o,t.v]);s=c(o,e),t.k=n(i,t.k).update(t.v).update(new r([0])).digest(),t.v=n(i,t.k).update(t.v).digest()}while(-1!==s.cmp(e));return s}function d(e,t,r,n){return e.toRed(s.mont(r)).redPow(t).fromRed().mod(n)}t.exports=function(e,t,n,l,p){var b=a(t);if(b.curve){if("ecdsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong private key type");return function(e,t){var n=f[t.curve.join(".")];if(!n)throw new Error("unknown curve "+t.curve.join("."));var i=new o(n).keyFromPrivate(t.privateKey).sign(e);return new r(i.toDER())}(e,b)}if("dsa"===b.type){if("dsa"!==l)throw new Error("wrong private key type");return function(e,t,n){for(var i,o=t.params.priv_key,a=t.params.p,f=t.params.q,l=t.params.g,p=new s(0),b=c(e,f).mod(f),m=!1,y=u(o,f,e,n);!1===m;)i=h(f,y,n),p=d(l,i,a,f),0===(m=i.invm(f).imul(b.add(o.mul(p))).mod(f)).cmpn(0)&&(m=!1,p=new s(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var n=[48,e.length+t.length+4,2,e.length];return n=n.concat(e,[2,t.length],t),new r(n)}(p,m)}(e,b,n)}if("rsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong private key type");e=r.concat([p,e]);for(var m=b.modulus.byteLength(),y=[0,1];e.length+y.length+1<m;)y.push(255);y.push(0);for(var g=-1;++g<e.length;)y.push(e[g]);return i(y,b)},t.exports.getKey=u,t.exports.makeKey=h}).call(this,e("buffer").Buffer)},{"./curves.json":46,"bn.js":20,"browserify-rsa":43,buffer:53,"create-hmac":60,elliptic:73,"parse-asn1":125}],49:[function(e,t,r){(function(r){var n=e("bn.js"),i=e("elliptic").ec,o=e("parse-asn1"),s=e("./curves.json");function a(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}t.exports=function(e,t,f,u,c){var h=o(f);if("ec"===h.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=s[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var o=new i(n),a=r.data.subjectPrivateKey.data;return o.verify(t,e,a)}(e,t,h)}if("dsa"===h.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var i=r.data.p,s=r.data.q,f=r.data.g,u=r.data.pub_key,c=o.signature.decode(e,"der"),h=c.s,d=c.r;a(h,s),a(d,s);var l=n.mont(i),p=h.invm(s);return 0===f.toRed(l).redPow(new n(t).mul(p).mod(s)).fromRed().mul(u.toRed(l).redPow(d.mul(p).mod(s)).fromRed()).mod(i).mod(s).cmp(d)}(e,t,h)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");t=r.concat([c,t]);for(var d=h.modulus.byteLength(),l=[1],p=0;t.length+l.length+2<d;)l.push(255),p++;l.push(0);for(var b=-1;++b<t.length;)l.push(t[b]);l=new r(l);var m=n.mont(h.modulus);e=(e=new n(e).toRed(m)).redPow(new n(h.publicExponent)),e=new r(e.fromRed().toArray());var y=p<8?1:0;for(d=Math.min(e.length,l.length),e.length!==l.length&&(y=1),b=-1;++b<d;)y|=e[b]^l[b];return 0===y}}).call(this,e("buffer").Buffer)},{"./curves.json":46,"bn.js":20,buffer:53,elliptic:73,"parse-asn1":125}],50:[function(e,t,r){arguments[4][22][0].apply(r,arguments)},{dup:22}],51:[function(e,t,r){var n=e("buffer").Buffer,i=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var o=r.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!i(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=f;break;default:return void(this.write=s)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function s(e){return e.toString(this.encoding)}function a(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function f(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},o.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},o.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}},{buffer:53}],52:[function(e,t,r){(function(e){t.exports=function(t,r){for(var n=Math.min(t.length,r.length),i=new e(n),o=0;o<n;++o)i[o]=t[o]^r[o];return i}}).call(this,e("buffer").Buffer)},{buffer:53}],53:[function(e,t,r){(function(t){"use strict";var n=e("base64-js"),i=e("ieee754"),o=e("isarray");function s(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=f.prototype:(null===e&&(e=new f(t)),e.length=t),e}function f(e,t,r){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);f.TYPED_ARRAY_SUPPORT?(e=t).__proto__=f.prototype:e=d(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!f.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=a(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(f.isBuffer(t)){var r=0|l(t.length);return 0===(e=a(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=a(e,t<0?0:0|l(t)),!f.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|l(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function l(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(f.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return F(e).length;t=(""+t).toLowerCase(),n=!0}}function b(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=f.from(t,n)),f.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var o,s=1,a=e.length,f=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,f/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===f)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+f>a&&(r=a-f),o=r;o>=0;o--){for(var h=!0,d=0;d<f;d++)if(u(e,o+d)!==u(t,d)){h=!1;break}if(h)return o}return-1}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function v(e,t,r,n){return q(F(t,e.length-r),e,r,n)}function w(e,t,r,n){return q(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return w(e,t,r,n)}function S(e,t,r,n){return q(U(t),e,r,n)}function A(e,t,r,n){return q(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,f,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(f=(31&u)<<6|63&o)>127&&(c=f);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(f=(15&u)<<12|(63&o)<<6|63&s)>2047&&(f<55296||f>57343)&&(c=f);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(f=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&f<1114112&&(c=f)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(e){var t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=M));return r}(n)}r.Buffer=f,r.SlowBuffer=function(e){+e!=e&&(e=0);return f.alloc(+e)},r.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),r.kMaxLength=s(),f.poolSize=8192,f._augment=function(e){return e.__proto__=f.prototype,e},f.from=function(e,t,r){return u(null,e,t,r)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},f.allocUnsafe=function(e){return h(null,e)},f.allocUnsafeSlow=function(e){return h(null,e)},f.isBuffer=function(e){return!(null==e||!e._isBuffer)},f.compare=function(e,t){if(!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=f.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!f.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},f.byteLength=p,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},f.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},f.prototype.compare=function(e,t,r,n,i){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,a=Math.min(o,s),u=this.slice(n,i),c=e.slice(t,r),h=0;h<a;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:s<o?1:0},f.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},f.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},f.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},f.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function x(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function B(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=z(e[o]);return i}function P(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function C(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,r,n,i,o){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function R(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function L(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function N(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(e,t,r,n,o){return o||N(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function O(e,t,r,n,o){return o||N(e,0,r,8),i.write(e,t,r,n,52,8),r+8}f.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),f.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=f.prototype;else{var i=t-e;r=new f(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},f.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},f.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},f.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},f.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},f.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},f.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),i.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),i.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),i.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),i.read(this,e,!1,52,8)},f.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||T(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},f.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||T(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},f.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,1,255,0),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},f.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},f.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},f.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},f.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},f.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);T(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},f.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);T(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},f.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,1,127,-128),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},f.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},f.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},f.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},f.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},f.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},f.prototype.writeDoubleLE=function(e,t,r){return O(this,e,t,!0,r)},f.prototype.writeDoubleBE=function(e,t,r){return O(this,e,t,!1,r)},f.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},f.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=f.isBuffer(e)?e:F(new f(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":18,ieee754:105,isarray:109}],54:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("stream").Transform,o=e("string_decoder").StringDecoder;function s(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(s,i),s.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},t.exports=s},{inherits:107,"safe-buffer":156,stream:172,string_decoder:51}],55:[function(e,t,r){(function(e){function t(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===t(e)},r.isObject=function(e){return"object"==typeof e&&null!==e},r.isDate=function(e){return"[object Date]"===t(e)},r.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":108}],56:[function(e,t,r){(function(r){var n=e("elliptic"),i=e("bn.js");t.exports=function(e){return new s(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function a(e,t,n){Array.isArray(e)||(e=e.toArray());var i=new r(e);if(n&&i.length<n){var o=new r(n-i.length);o.fill(0),i=r.concat([o,i])}return t?i.toString(t):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,s.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},s.prototype.computeSecret=function(e,t,n){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),a(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},s.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),a(r,e)},s.prototype.getPrivateKey=function(e){return a(this.keys.getPrivate(),e)},s.prototype.setPublicKey=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this.keys._importPublic(e),this},s.prototype.setPrivateKey=function(e,t){t=t||"utf8",r.isBuffer(e)||(e=new r(e,t));var n=new i(e);return n=n.toString(16),this.keys._importPrivate(n),this}}).call(this,e("buffer").Buffer)},{"bn.js":20,buffer:53,elliptic:73}],57:[function(e,t,r){(function(r){"use strict";var n=e("inherits"),i=e("./md5"),o=e("ripemd160"),s=e("sha.js"),a=e("cipher-base");function f(e){a.call(this,"digest"),this._hash=e,this.buffers=[]}function u(e){a.call(this,"digest"),this._hash=e}n(f,a),f.prototype._update=function(e){this.buffers.push(e)},f.prototype._final=function(){var e=r.concat(this.buffers),t=this._hash(e);return this.buffers=null,t},n(u,a),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return"md5"===(e=e.toLowerCase())?new f(i):new u("rmd160"===e||"ripemd160"===e?new o:s(e))}}).call(this,e("buffer").Buffer)},{"./md5":59,buffer:53,"cipher-base":54,inherits:107,ripemd160:155,"sha.js":164}],58:[function(e,t,r){(function(e){"use strict";var r=4,n=new e(r);n.fill(0);t.exports=function(t,i){var o=i(function(t){if(t.length%r!=0){var i=t.length+(r-t.length%r);t=e.concat([t,n],i)}for(var o=new Array(t.length>>>2),s=0,a=0;s<t.length;s+=r,a++)o[a]=t.readInt32LE(s);return o}(t),8*t.length);t=new e(16);for(var s=0;s<o.length;s++)t.writeInt32LE(o[s],s<<2,!0);return t}}).call(this,e("buffer").Buffer)},{buffer:53}],59:[function(e,t,r){"use strict";var n=e("./make-hash");function i(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,h=0;h<e.length;h+=16){var d=r,l=n,p=i,b=o;n=u(n=u(n=u(n=u(n=f(n=f(n=f(n=f(n=a(n=a(n=a(n=a(n=s(n=s(n=s(n=s(n,i=s(i,o=s(o,r=s(r,n,i,o,e[h+0],7,-680876936),n,i,e[h+1],12,-389564586),r,n,e[h+2],17,606105819),o,r,e[h+3],22,-1044525330),i=s(i,o=s(o,r=s(r,n,i,o,e[h+4],7,-176418897),n,i,e[h+5],12,1200080426),r,n,e[h+6],17,-1473231341),o,r,e[h+7],22,-45705983),i=s(i,o=s(o,r=s(r,n,i,o,e[h+8],7,1770035416),n,i,e[h+9],12,-1958414417),r,n,e[h+10],17,-42063),o,r,e[h+11],22,-1990404162),i=s(i,o=s(o,r=s(r,n,i,o,e[h+12],7,1804603682),n,i,e[h+13],12,-40341101),r,n,e[h+14],17,-1502002290),o,r,e[h+15],22,1236535329),i=a(i,o=a(o,r=a(r,n,i,o,e[h+1],5,-165796510),n,i,e[h+6],9,-1069501632),r,n,e[h+11],14,643717713),o,r,e[h+0],20,-373897302),i=a(i,o=a(o,r=a(r,n,i,o,e[h+5],5,-701558691),n,i,e[h+10],9,38016083),r,n,e[h+15],14,-660478335),o,r,e[h+4],20,-405537848),i=a(i,o=a(o,r=a(r,n,i,o,e[h+9],5,568446438),n,i,e[h+14],9,-1019803690),r,n,e[h+3],14,-187363961),o,r,e[h+8],20,1163531501),i=a(i,o=a(o,r=a(r,n,i,o,e[h+13],5,-1444681467),n,i,e[h+2],9,-51403784),r,n,e[h+7],14,1735328473),o,r,e[h+12],20,-1926607734),i=f(i,o=f(o,r=f(r,n,i,o,e[h+5],4,-378558),n,i,e[h+8],11,-2022574463),r,n,e[h+11],16,1839030562),o,r,e[h+14],23,-35309556),i=f(i,o=f(o,r=f(r,n,i,o,e[h+1],4,-1530992060),n,i,e[h+4],11,1272893353),r,n,e[h+7],16,-155497632),o,r,e[h+10],23,-1094730640),i=f(i,o=f(o,r=f(r,n,i,o,e[h+13],4,681279174),n,i,e[h+0],11,-358537222),r,n,e[h+3],16,-722521979),o,r,e[h+6],23,76029189),i=f(i,o=f(o,r=f(r,n,i,o,e[h+9],4,-640364487),n,i,e[h+12],11,-421815835),r,n,e[h+15],16,530742520),o,r,e[h+2],23,-995338651),i=u(i,o=u(o,r=u(r,n,i,o,e[h+0],6,-198630844),n,i,e[h+7],10,1126891415),r,n,e[h+14],15,-1416354905),o,r,e[h+5],21,-57434055),i=u(i,o=u(o,r=u(r,n,i,o,e[h+12],6,1700485571),n,i,e[h+3],10,-1894986606),r,n,e[h+10],15,-1051523),o,r,e[h+1],21,-2054922799),i=u(i,o=u(o,r=u(r,n,i,o,e[h+8],6,1873313359),n,i,e[h+15],10,-30611744),r,n,e[h+6],15,-1560198380),o,r,e[h+13],21,1309151649),i=u(i,o=u(o,r=u(r,n,i,o,e[h+4],6,-145523070),n,i,e[h+11],10,-1120210379),r,n,e[h+2],15,718787259),o,r,e[h+9],21,-343485551),r=c(r,d),n=c(n,l),i=c(i,p),o=c(o,b)}return[r,n,i,o]}function o(e,t,r,n,i,o){return c((s=c(c(t,e),c(n,o)))<<(a=i)|s>>>32-a,r);var s,a}function s(e,t,r,n,i,s,a){return o(t&r|~t&n,e,t,i,s,a)}function a(e,t,r,n,i,s,a){return o(t&n|r&~n,e,t,i,s,a)}function f(e,t,r,n,i,s,a){return o(t^r^n,e,t,i,s,a)}function u(e,t,r,n,i,s,a){return o(r^(t|~n),e,t,i,s,a)}function c(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}t.exports=function(e){return n(e,i)}},{"./make-hash":58}],60:[function(e,t,r){"use strict";var n=e("inherits"),i=e("./legacy"),o=e("cipher-base"),s=e("safe-buffer").Buffer,a=e("create-hash/md5"),f=e("ripemd160"),u=e("sha.js"),c=s.alloc(128);function h(e,t){o.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var r="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>r)?t=("rmd160"===e?new f:u(e)).update(t).digest():t.length<r&&(t=s.concat([t,c],r));for(var n=this._ipad=s.allocUnsafe(r),i=this._opad=s.allocUnsafe(r),a=0;a<r;a++)n[a]=54^t[a],i[a]=92^t[a];this._hash="rmd160"===e?new f:u(e),this._hash.update(n)}n(h,o),h.prototype._update=function(e){this._hash.update(e)},h.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new f:u(this._alg)).update(this._opad).update(e).digest()},t.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new h("rmd160",t):"md5"===e?new i(a,t):new h(e,t)}},{"./legacy":61,"cipher-base":54,"create-hash/md5":59,inherits:107,ripemd160:155,"safe-buffer":156,"sha.js":164}],61:[function(e,t,r){"use strict";var n=e("inherits"),i=e("safe-buffer").Buffer,o=e("cipher-base"),s=i.alloc(128),a=64;function f(e,t){o.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>a?t=e(t):t.length<a&&(t=i.concat([t,s],a));for(var r=this._ipad=i.allocUnsafe(a),n=this._opad=i.allocUnsafe(a),f=0;f<a;f++)r[f]=54^t[f],n[f]=92^t[f];this._hash=[r]}n(f,o),f.prototype._update=function(e){this._hash.push(e)},f.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},t.exports=f},{"cipher-base":54,inherits:107,"safe-buffer":156}],62:[function(e,t,r){"use strict";r.randomBytes=r.rng=r.pseudoRandomBytes=r.prng=e("randombytes"),r.createHash=r.Hash=e("create-hash"),r.createHmac=r.Hmac=e("create-hmac");var n=e("browserify-sign/algos"),i=Object.keys(n),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);r.getHashes=function(){return o};var s=e("pbkdf2");r.pbkdf2=s.pbkdf2,r.pbkdf2Sync=s.pbkdf2Sync;var a=e("browserify-cipher");r.Cipher=a.Cipher,r.createCipher=a.createCipher,r.Cipheriv=a.Cipheriv,r.createCipheriv=a.createCipheriv,r.Decipher=a.Decipher,r.createDecipher=a.createDecipher,r.Decipheriv=a.Decipheriv,r.createDecipheriv=a.createDecipheriv,r.getCiphers=a.getCiphers,r.listCiphers=a.listCiphers;var f=e("diffie-hellman");r.DiffieHellmanGroup=f.DiffieHellmanGroup,r.createDiffieHellmanGroup=f.createDiffieHellmanGroup,r.getDiffieHellman=f.getDiffieHellman,r.createDiffieHellman=f.createDiffieHellman,r.DiffieHellman=f.DiffieHellman;var u=e("browserify-sign");r.createSign=u.createSign,r.Sign=u.Sign,r.createVerify=u.createVerify,r.Verify=u.Verify,r.createECDH=e("create-ecdh");var c=e("public-encrypt");r.publicEncrypt=c.publicEncrypt,r.privateEncrypt=c.privateEncrypt,r.publicDecrypt=c.publicDecrypt,r.privateDecrypt=c.privateDecrypt;var h=e("randomfill");r.randomFill=h.randomFill,r.randomFillSync=h.randomFillSync,r.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},r.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":40,"browserify-sign":47,"browserify-sign/algos":44,"create-ecdh":56,"create-hash":57,"create-hmac":60,"diffie-hellman":69,pbkdf2:127,"public-encrypt":134,randombytes:140,randomfill:141}],63:[function(e,t,r){"use strict";r.utils=e("./des/utils"),r.Cipher=e("./des/cipher"),r.DES=e("./des/des"),r.CBC=e("./des/cbc"),r.EDE=e("./des/ede")},{"./des/cbc":64,"./des/cipher":65,"./des/des":66,"./des/ede":67,"./des/utils":68}],64:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits"),o={};r.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var r=Object.keys(o),n=0;n<r.length;n++){var s=r[n];t.prototype[s]=o[s]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new function(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}(this.options.iv);this._cbcState=e},o._update=function(e,t,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=e[t+a];o._update.call(this,s,0,r,n);for(a=0;a<this.blockSize;a++)s[a]=r[n+a]}else{o._update.call(this,e,t,r,n);for(a=0;a<this.blockSize;a++)r[n+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=e[t+a]}}},{inherits:107,"minimalistic-assert":119}],65:[function(e,t,r){"use strict";var n=e("minimalistic-assert");function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},{"minimalistic-assert":119}],66:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits"),o=e("../des"),s=o.utils,a=o.Cipher;function f(e){a.call(this,e);var t=new function(){this.tmp=new Array(2),this.keys=null};this._desState=t,this.deriveKeys(t,e.key)}i(f,a),t.exports=f,f.create=function(e){return new f(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];f.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=s.readUInt32BE(t,0),i=s.readUInt32BE(t,4);s.pc1(r,i,e.tmp,0),r=e.tmp[0],i=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var a=u[o>>>1];r=s.r28shl(r,a),i=s.r28shl(i,a),s.pc2(r,i,e.keys,o)}},f.prototype._update=function(e,t,r,n){var i=this._desState,o=s.readUInt32BE(e,t),a=s.readUInt32BE(e,t+4);s.ip(o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,a,i.tmp,0):this._decrypt(i,o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],s.writeUInt32BE(r,o,n),s.writeUInt32BE(r,a,n+4)},f.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},f.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},f.prototype._encrypt=function(e,t,r,n,i){for(var o=t,a=r,f=0;f<e.keys.length;f+=2){var u=e.keys[f],c=e.keys[f+1];s.expand(a,e.tmp,0),u^=e.tmp[0],c^=e.tmp[1];var h=s.substitute(u,c),d=a;a=(o^s.permute(h))>>>0,o=d}s.rip(a,o,n,i)},f.prototype._decrypt=function(e,t,r,n,i){for(var o=r,a=t,f=e.keys.length-2;f>=0;f-=2){var u=e.keys[f],c=e.keys[f+1];s.expand(o,e.tmp,0),u^=e.tmp[0],c^=e.tmp[1];var h=s.substitute(u,c),d=o;o=(a^s.permute(h))>>>0,a=d}s.rip(o,a,n,i)}},{"../des":63,inherits:107,"minimalistic-assert":119}],67:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits"),o=e("../des"),s=o.Cipher,a=o.DES;function f(e){s.call(this,e);var t=new function(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:r})]}(this.type,this.options.key);this._edeState=t}i(f,s),t.exports=f,f.create=function(e){return new f(e)},f.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},f.prototype._pad=a.prototype._pad,f.prototype._unpad=a.prototype._unpad},{"../des":63,inherits:107,"minimalistic-assert":119}],68:[function(e,t,r){"use strict";r.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},r.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},r.ip=function(e,t,r,n){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1}r[n+0]=i>>>0,r[n+1]=o>>>0},r.rip=function(e,t,r,n){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=t>>>a+s&1,i<<=1,i|=e>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=t>>>a+s&1,o<<=1,o|=e>>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},r.pc1=function(e,t,r,n){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},r.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];r.pc2=function(e,t,r,i){for(var o=0,s=0,a=n.length>>>1,f=0;f<a;f++)o<<=1,o|=e>>>n[f]&1;for(f=a;f<n.length;f++)s<<=1,s|=t>>>n[f]&1;r[i+0]=o>>>0,r[i+1]=s>>>0},r.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];r.substitute=function(e,t){for(var r=0,n=0;n<4;n++){r<<=4,r|=i[64*n+(e>>>18-6*n&63)]}for(n=0;n<4;n++){r<<=4,r|=i[256+64*n+(t>>>18-6*n&63)]}return r>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];r.permute=function(e){for(var t=0,r=0;r<o.length;r++)t<<=1,t|=e>>>o[r]&1;return t>>>0},r.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}},{}],69:[function(e,t,r){(function(t){var n=e("./lib/generatePrime"),i=e("./lib/primes.json"),o=e("./lib/dh");var s={binary:!0,hex:!0,base64:!0};r.DiffieHellmanGroup=r.createDiffieHellmanGroup=r.getDiffieHellman=function(e){var r=new t(i[e].prime,"hex"),n=new t(i[e].gen,"hex");return new o(r,n)},r.createDiffieHellman=r.DiffieHellman=function e(r,i,a,f){return t.isBuffer(i)||void 0===s[i]?e(r,"binary",i,a):(i=i||"binary",f=f||"binary",a=a||new t([2]),t.isBuffer(a)||(a=new t(a,f)),"number"==typeof r?new o(n(r,a),a,!0):(t.isBuffer(r)||(r=new t(r,i)),new o(r,a,!0)))}}).call(this,e("buffer").Buffer)},{"./lib/dh":70,"./lib/generatePrime":71,"./lib/primes.json":72,buffer:53}],70:[function(e,t,r){(function(r){var n=e("bn.js"),i=new(e("miller-rabin")),o=new n(24),s=new n(11),a=new n(10),f=new n(3),u=new n(7),c=e("./generatePrime"),h=e("randombytes");function d(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._pub=new n(e),this}function l(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._priv=new n(e),this}t.exports=b;var p={};function b(e,t,r){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=d,this.setPrivateKey=l):this._primeCode=8}function m(e,t){var n=new r(e.toArray());return t?n.toString(t):n}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in p)return p[n];var h,d=0;if(e.isEven()||!c.simpleSieve||!c.fermatTest(e)||!i.test(e))return d+=1,d+="02"===r||"05"===r?8:4,p[n]=d,d;switch(i.test(e.shrn(1))||(d+=2),r){case"02":e.mod(o).cmp(s)&&(d+=8);break;case"05":(h=e.mod(a)).cmp(f)&&h.cmp(u)&&(d+=8);break;default:d+=4}return p[n]=d,d}(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new n(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(e){var t=(e=(e=new n(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new r(t.toArray()),o=this.getPrime();if(i.length<o.length){var s=new r(o.length-i.length);s.fill(0),i=r.concat([s,i])}return i},b.prototype.getPublicKey=function(e){return m(this._pub,e)},b.prototype.getPrivateKey=function(e){return m(this._priv,e)},b.prototype.getPrime=function(e){return m(this.__prime,e)},b.prototype.getGenerator=function(e){return m(this._gen,e)},b.prototype.setGenerator=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this.__gen=e,this._gen=new n(e),this}}).call(this,e("buffer").Buffer)},{"./generatePrime":71,"bn.js":20,buffer:53,"miller-rabin":118,randombytes:140}],71:[function(e,t,r){var n=e("randombytes");t.exports=g,g.simpleSieve=m,g.fermatTest=y;var i=e("bn.js"),o=new i(24),s=new(e("miller-rabin")),a=new i(1),f=new i(2),u=new i(5),c=(new i(16),new i(8),new i(10)),h=new i(3),d=(new i(7),new i(11)),l=new i(4),p=(new i(12),null);function b(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return p=e,e}function m(e){for(var t=b(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function y(e){var t=i.mont(e);return 0===f.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function g(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var r,p;for(t=new i(t);;){for(r=new i(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(f),t.cmp(f)){if(!t.cmp(u))for(;r.mod(c).cmp(h);)r.iadd(l)}else for(;r.mod(o).cmp(d);)r.iadd(l);if(m(p=r.shrn(1))&&m(r)&&y(p)&&y(r)&&s.test(p)&&s.test(r))return r}}},{"bn.js":20,"miller-rabin":118,randombytes:140}],72:[function(e,t,r){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],73:[function(e,t,r){"use strict";var n=r;n.version=e("../package.json").version,n.utils=e("./elliptic/utils"),n.rand=e("brorand"),n.curve=e("./elliptic/curve"),n.curves=e("./elliptic/curves"),n.ec=e("./elliptic/ec"),n.eddsa=e("./elliptic/eddsa")},{"../package.json":88,"./elliptic/curve":76,"./elliptic/curves":79,"./elliptic/ec":80,"./elliptic/eddsa":83,"./elliptic/utils":87,brorand:21}],74:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils,o=i.getNAF,s=i.getJSF,a=i.assert;function f(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}t.exports=f,f.prototype.point=function(){throw new Error("Not implemented")},f.prototype.validate=function(){throw new Error("Not implemented")},f.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=o(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],f=0;f<n.length;f+=r.step){var u=0;for(t=f+r.step-1;t>=f;t--)u=(u<<1)+n[t];s.push(u)}for(var c=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=i;d>0;d--){for(f=0;f<s.length;f++){(u=s[f])===d?h=h.mixedAdd(r.points[f]):u===-d&&(h=h.mixedAdd(r.points[f].neg()))}c=c.add(h)}return c.toP()},f.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(t,r),f=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(t=0;u>=0&&0===s[u];u--)t++;if(u>=0&&t++,f=f.dblp(t),u<0)break;var c=s[u];a(0!==c),f="affine"===e.type?c>0?f.mixedAdd(i[c-1>>1]):f.mixedAdd(i[-c-1>>1].neg()):c>0?f.add(i[c-1>>1]):f.add(i[-c-1>>1].neg())}return"affine"===e.type?f.toP():f},f.prototype._wnafMulAdd=function(e,t,r,n,i){for(var a=this._wnafT1,f=this._wnafT2,u=this._wnafT3,c=0,h=0;h<n;h++){var d=(k=t[h])._getNAFPoints(e);a[h]=d.wnd,f[h]=d.points}for(h=n-1;h>=1;h-=2){var l=h-1,p=h;if(1===a[l]&&1===a[p]){var b=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(b[1]=t[l].add(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].add(t[p].neg())):(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=s(r[l],r[p]);c=Math.max(y[0].length,c),u[l]=new Array(c),u[p]=new Array(c);for(var g=0;g<c;g++){var v=0|y[0][g],w=0|y[1][g];u[l][g]=m[3*(v+1)+(w+1)],u[p][g]=0,f[l]=b}}else u[l]=o(r[l],a[l]),u[p]=o(r[p],a[p]),c=Math.max(u[l].length,c),c=Math.max(u[p].length,c)}var _=this.jpoint(null,null,null),S=this._wnafT4;for(h=c;h>=0;h--){for(var A=0;h>=0;){var E=!0;for(g=0;g<n;g++)S[g]=0|u[g][h],0!==S[g]&&(E=!1);if(!E)break;A++,h--}if(h>=0&&A++,_=_.dblp(A),h<0)break;for(g=0;g<n;g++){var k,M=S[g];0!==M&&(M>0?k=f[g][M-1>>1]:M<0&&(k=f[g][-M-1>>1].neg()),_="affine"===k.type?_.mixedAdd(k):_.add(k))}}for(h=0;h<n;h++)f[h]=null;return i?_:_.toP()},f.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},f.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},{"../../elliptic":73,"bn.js":20}],75:[function(e,t,r){"use strict";var n=e("../curve"),i=e("../../elliptic"),o=e("bn.js"),s=e("inherits"),a=n.base,f=i.utils.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new o(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),f(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,r,n,i){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(t,16),this.y=new o(r,16),this.z=n?new o(n,16):this.curve.one,this.t=i&&new o(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(u,a),t.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},u.prototype.pointFromX=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var f=a.fromRed().isOdd();return(t&&!f||!t&&f)&&(a=a.redNeg()),this.point(e,a)},u.prototype.pointFromY=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.one),i=r.redMul(this.d).redAdd(this.one),s=n.redMul(i.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},s(c,a.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,r,n){return new c(this,e,t,r,n)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),f=i.redMul(s),u=o.redMul(a),c=i.redMul(a),h=s.redMul(o);return this.curve.point(f,u,h,c)},c.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var s=(u=this.curve._mulA(i)).redAdd(o);if(this.zOne)e=n.redSub(i).redSub(o).redMul(s.redSub(this.curve.two)),t=s.redMul(u.redSub(o)),r=s.redSqr().redSub(s).redSub(s);else{var a=this.z.redSqr(),f=s.redSub(a).redISub(a);e=n.redSub(i).redISub(o).redMul(f),t=s.redMul(u.redSub(o)),r=s.redMul(f)}}else{var u=i.redAdd(o);a=this.curve._mulC(this.c.redMul(this.z)).redSqr(),f=u.redSub(a).redSub(a);e=this.curve._mulC(n.redISub(u)).redMul(f),t=this.curve._mulC(u).redMul(i.redISub(o)),r=u.redMul(f)}return this.curve.point(e,t,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),f=r.redAdd(t),u=o.redMul(s),c=a.redMul(f),h=o.redMul(f),d=s.redMul(a);return this.curve.point(u,c,d,h)},c.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),f=i.redSub(a),u=i.redAdd(a),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),h=n.redMul(f).redMul(c);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(o))),r=f.redMul(u)):(t=n.redMul(u).redMul(s.redSub(o)),r=this.curve._mulC(f).redMul(u)),this.curve.point(h,t,r)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},c.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}return!1},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../../elliptic":73,"../curve":76,"bn.js":20,inherits:107}],76:[function(e,t,r){"use strict";var n=r;n.base=e("./base"),n.short=e("./short"),n.mont=e("./mont"),n.edwards=e("./edwards")},{"./base":74,"./edwards":75,"./mont":77,"./short":78}],77:[function(e,t,r){"use strict";var n=e("../curve"),i=e("bn.js"),o=e("inherits"),s=n.base,a=e("../../elliptic").utils;function f(e){s.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(f,s),t.exports=f,f.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},o(u,s.BasePoint),f.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},f.prototype.point=function(e,t){return new u(this,e,t)},f.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),f=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,f)},u.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../../elliptic":73,"../curve":76,"bn.js":20,inherits:107}],78:[function(e,t,r){"use strict";var n=e("../curve"),i=e("../../elliptic"),o=e("bn.js"),s=e("inherits"),a=n.base,f=i.utils.assert;function u(e){a.call(this,"short",e),this.a=new o(e.a,16).toRed(this.red),this.b=new o(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(t,16),this.y=new o(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(t,16),this.y=new o(r,16),this.z=new o(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(u,a),t.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new o(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new o(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],f(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map(function(e){return{a:new o(e.a,16),b:new o(e.b,16)}}):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:o.mont(e),r=new o(2).toRed(t).redInvm(),n=r.redNeg(),i=new o(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,a,f,u,c,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,l=this.n.clone(),p=new o(1),b=new o(0),m=new o(0),y=new o(1),g=0;0!==d.cmpn(0);){var v=l.div(d);u=l.sub(v.mul(d)),c=m.sub(v.mul(p));var w=y.sub(v.mul(b));if(!n&&u.cmp(h)<0)t=f.neg(),r=p,n=u.neg(),i=c;else if(n&&2==++g)break;f=u,l=d,d=u,m=p,p=c,y=b,b=w}s=u.neg(),a=c;var _=n.sqr().add(i.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:i},{a:s,b:a}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),f=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:f.add(u).neg()}},u.prototype.pointFromX=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],f=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),f=f.neg(!0)),n[2*o]=a,n[2*o+1]=f,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return u},s(c,a.BasePoint),u.prototype.point=function(e,t,r){return new c(this,e,t,r)},u.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new o(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},c.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(h,a.BasePoint),u.prototype.jpoint=function(e,t,r){return new h(this,e,t,r)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),f=o.redSub(s);if(0===a.cmpn(0))return 0!==f.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),d=f.redSqr().redIAdd(c).redISub(h).redISub(h),l=f.redMul(h.redISub(d)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,l,p)},h.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),u=f.redMul(s),c=r.redMul(f),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),d=a.redMul(c.redISub(h)).redISub(i.redMul(u)),l=this.z.redMul(s);return this.curve.jpoint(h,d,l)},h.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,f=a.redSqr().redSqr(),u=s.redAdd(s);for(r=0;r<e;r++){var c=o.redSqr(),h=u.redSqr(),d=h.redSqr(),l=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(f)),p=o.redMul(h),b=l.redSqr().redISub(p.redAdd(p)),m=p.redISub(b),y=l.redMul(m);y=y.redIAdd(y).redISub(d);var g=u.redMul(a);r+1<e&&(f=f.redMul(d)),o=b,a=g,u=y}return this.curve.jpoint(o,u.redMul(i),a)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),f=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=f,t=a.redMul(s.redISub(f)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),l=this.x.redAdd(h).redSqr().redISub(c).redISub(d);l=l.redIAdd(l);var p=c.redAdd(c).redIAdd(c),b=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},h.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),f=a.redSqr().redISub(s).redISub(s);e=f;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(f)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),l=this.x.redSub(c).redMul(this.x.redAdd(c));l=l.redAdd(l).redIAdd(l);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=l.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},h.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),f=t.redAdd(t),u=(f=f.redIAdd(f)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,l,p)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),f=n.redIAdd(n);f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(f),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(u.redMul(f.redISub(u)).redISub(s.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,l)},h.prototype.mul=function(e,t){return e=new o(e,t),this.curve._wnafMul(this,e)},h.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},h.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}return!1},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":73,"../curve":76,"bn.js":20,inherits:107}],79:[function(e,t,r){"use strict";var n,i=r,o=e("hash.js"),s=e("../elliptic"),a=s.utils.assert;function f(e){"short"===e.type?this.curve=new s.curve.short(e):"edwards"===e.type?this.curve=new s.curve.edwards(e):this.curve=new s.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new f(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=f,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=e("./precomputed/secp256k1")}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"../elliptic":73,"./precomputed/secp256k1":86,"hash.js":92}],80:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("hmac-drbg"),o=e("../../elliptic"),s=o.utils.assert,a=e("./key"),f=e("./signature");function u(e){if(!(this instanceof u))return new u(e);"string"==typeof e&&(s(o.curves.hasOwnProperty(e),"Unknown curve "+e),e=o.curves[e]),e instanceof o.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}t.exports=u,u.prototype.keyPair=function(e){return new a(this,e)},u.prototype.keyFromPrivate=function(e,t){return a.fromPrivate(this,e,t)},u.prototype.keyFromPublic=function(e,t){return a.fromPublic(this,e,t)},u.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(s)>0))return a.iaddn(1),this.keyFromPrivate(a)}},u.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},u.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),u=e.toArray("be",s),c=new i({hash:this.hash,entropy:a,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),h=this.n.sub(new n(1)),d=0;;d++){var l=o.k?o.k(d):new n(c.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(h)>=0)){var p=this.g.mul(l);if(!p.isInfinity()){var b=p.getX(),m=b.umod(this.n);if(0!==m.cmpn(0)){var y=l.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(y=y.umod(this.n)).cmpn(0)){var g=(p.getY().isOdd()?1:0)|(0!==b.cmp(m)?2:0);return o.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),g^=1),new f({r:m,s:y,recoveryParam:g})}}}}}},u.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,u=s.invm(this.n),c=u.mul(e).umod(this.n),h=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),h)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(c,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},u.prototype.recoverPubKey=function(e,t,r,i){s((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,a=new n(e),u=t.r,c=t.s,h=1&r,d=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");u=d?this.curve.pointFromX(u.add(this.curve.n),h):this.curve.pointFromX(u,h);var l=t.r.invm(o),p=o.sub(a).mul(l).umod(o),b=c.mul(l).umod(o);return this.g.mulAdd(p,u,b)},u.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},{"../../elliptic":73,"./key":81,"./signature":82,"bn.js":20,"hmac-drbg":104}],81:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils.assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}t.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../../elliptic":73,"bn.js":20}],82:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils,o=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s];return t.place=s,i}function f(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}t.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new function(){this.place=0};if(48!==e[r.place++])return!1;if(a(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=a(e,r),s=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var f=a(e,r);if(e.length!==f+r.place)return!1;var u=e.slice(r.place,f+r.place);return 0===s[0]&&128&s[1]&&(s=s.slice(1)),0===u[0]&&128&u[1]&&(u=u.slice(1)),this.r=new n(s),this.s=new n(u),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=f(t),r=f(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];u(n,t.length),(n=n.concat(t)).push(2),u(n,r.length);var o=n.concat(r),s=[48];return u(s,o.length),s=s.concat(o),i.encode(s,e)}},{"../../elliptic":73,"bn.js":20}],83:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("../../elliptic"),o=i.utils,s=o.assert,a=o.parseBytes,f=e("./key"),u=e("./signature");function c(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof c))return new c(e);e=i.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}t.exports=c,c.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),f=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:f,Rencoded:o})},c.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},c.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(e){return f.fromPublic(this,e)},c.prototype.keyFromSecret=function(e){return f.fromSecret(this,e)},c.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},c.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},c.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},c.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(e){return o.intFromLE(e)},c.prototype.isPoint=function(e){return e instanceof this.pointClass}},{"../../elliptic":73,"./key":84,"./signature":85,"hash.js":92}],84:[function(e,t,r){"use strict";var n=e("../../elliptic").utils,i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(a,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),s(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},t.exports=a},{"../../elliptic":73}],85:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils,o=i.assert,s=i.cachedProperty,a=i.parseBytes;function f(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(f,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(f,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(f,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(f,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),f.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},f.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=f},{"../../elliptic":73,"bn.js":20}],86:[function(e,t,r){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],87:[function(e,t,r){"use strict";var n=r,i=e("bn.js"),o=e("minimalistic-assert"),s=e("minimalistic-crypto-utils");n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t){for(var r=[],n=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var s=i.andln(n-1);o=s>(n>>1)-1?(n>>1)-s:s,i.isubn(o)}else o=0;r.push(o);for(var a=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,f=1;f<a;f++)r.push(0);i.iushrn(a)}return r},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o,s,a,f=e.andln(3)+n&3,u=t.andln(3)+i&3;3===f&&(f=-1),3===u&&(u=-1),o=0==(1&f)?0:3!=(a=e.andln(7)+n&7)&&5!==a||2!==u?f:-f,r[0].push(o),s=0==(1&u)?0:3!=(a=t.andln(7)+i&7)&&5!==a||2!==f?u:-u,r[1].push(s),2*n===o+1&&(n=1-n),2*i===s+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},{"bn.js":20,"minimalistic-assert":119,"minimalistic-crypto-utils":120}],88:[function(e,t,r){t.exports={_from:"elliptic@^6.2.3",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.2.3",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.2.3",saveSpec:null,fetchSpec:"^6.2.3"},_requiredBy:["/browserify-sign","/create-ecdh","/secp256k1"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_spec:"elliptic@^6.2.3",_where:"/home/jack/src/keythereum/node_modules/secp256k1",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},{}],89:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,a,f,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(s(r=this._events[e]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(o(r))for(a=Array.prototype.slice.call(arguments,1),n=(u=r.slice()).length,f=0;f<n;f++)u[f].apply(this,a);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var r,n,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(r=this._events[e]).length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(a=s;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],90:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("md5.js");t.exports=function(e,t,r,o){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=r/8,a=n.alloc(s),f=n.alloc(o||0),u=n.alloc(0);s>0||o>0;){var c=new i;c.update(u),c.update(e),t&&c.update(t),u=c.digest();var h=0;if(s>0){var d=a.length-s;h=Math.min(s,u.length),u.copy(a,d,0,h),s-=h}if(h<u.length&&o>0){var l=f.length-o,p=Math.min(o,u.length-h);u.copy(f,l,h,h+p),o-=p}}return u.fill(0),{key:a,iv:f}}},{"md5.js":116,"safe-buffer":156}],91:[function(e,t,r){(function(r){"use strict";var n=e("stream").Transform;function i(e){n.call(this),this._block=new r(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(i,n),i.prototype._transform=function(e,t,n){var i=null;try{"buffer"!==t&&(e=new r(e,t)),this.update(e)}catch(e){i=e}n(i)},i.prototype._flush=function(e){var t=null;try{this.push(this._digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=new r(e,t||"binary"));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},i.prototype._update=function(e){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();return void 0!==e&&(t=t.toString(e)),t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=i}).call(this,e("buffer").Buffer)},{buffer:53,inherits:107,stream:172}],92:[function(e,t,r){var n=r;n.utils=e("./hash/utils"),n.common=e("./hash/common"),n.sha=e("./hash/sha"),n.ripemd=e("./hash/ripemd"),n.hmac=e("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":93,"./hash/hmac":94,"./hash/ripemd":95,"./hash/sha":96,"./hash/utils":103}],93:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},{"./utils":103,"minimalistic-assert":119}],94:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}t.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":103,"minimalistic-assert":119}],95:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./common"),o=n.rotl32,s=n.sum32,a=n.sum32_3,f=n.sum32_4,u=i.BlockHash;function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function l(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(c,u),r.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],c=this.h[4],g=r,v=n,w=i,_=u,S=c,A=0;A<80;A++){var E=s(o(f(r,h(A,n,i,u),e[p[A]+t],d(A)),m[A]),c);r=c,c=u,u=o(i,10),i=n,n=E,E=s(o(f(g,h(79-A,v,w,_),e[b[A]+t],l(A)),y[A]),S),g=S,S=_,_=o(w,10),w=v,v=E}E=a(this.h[1],i,_),this.h[1]=a(this.h[2],u,S),this.h[2]=a(this.h[3],c,g),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,w),this.h[0]=E},c.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":93,"./utils":103}],96:[function(e,t,r){"use strict";r.sha1=e("./sha/1"),r.sha224=e("./sha/224"),r.sha256=e("./sha/256"),r.sha384=e("./sha/384"),r.sha512=e("./sha/512")},{"./sha/1":97,"./sha/224":98,"./sha/256":99,"./sha/384":100,"./sha/512":101}],97:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),o=e("./common"),s=n.rotl32,a=n.sum32,f=n.sum32_5,u=o.ft_1,c=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,c),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],c=this.h[2],d=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),b=f(s(i,5),u(p,o,c,d),l,r[n],h[p]);l=d,d=c,c=s(o,30),o=i,i=b}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],c),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],l)},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":93,"../utils":103,"./common":102}],98:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./256");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":103,"./256":99}],99:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),o=e("./common"),s=e("minimalistic-assert"),a=n.sum32,f=n.sum32_4,u=n.sum32_5,c=o.ch32,h=o.maj32,d=o.s0_256,l=o.s1_256,p=o.g0_256,b=o.g1_256,m=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(g,m),t.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=f(b(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],y=this.h[3],g=this.h[4],v=this.h[5],w=this.h[6],_=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var S=u(_,l(g),c(g,v,w),this.k[n],r[n]),A=a(d(i),h(i,o,m));_=w,w=v,v=g,g=a(y,S),y=m,m=o,o=i,i=a(S,A)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],g),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},g.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":93,"../utils":103,"./common":102,"minimalistic-assert":119}],100:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./512");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":103,"./512":101}],101:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),o=e("minimalistic-assert"),s=n.rotr64_hi,a=n.rotr64_lo,f=n.shr64_hi,u=n.shr64_lo,c=n.sum64,h=n.sum64_hi,d=n.sum64_lo,l=n.sum64_4_hi,p=n.sum64_4_lo,b=n.sum64_5_hi,m=n.sum64_5_lo,y=i.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function w(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function S(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function A(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function E(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function M(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function x(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function I(e,t){var r=s(e,t,1)^s(e,t,8)^f(e,t,7);return r<0&&(r+=4294967296),r}function B(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=s(e,t,19)^s(t,e,29)^f(e,t,6);return r<0&&(r+=4294967296),r}function C(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(v,y),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=P(r[n-4],r[n-3]),o=C(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],f=I(r[n-30],r[n-29]),u=B(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=l(i,o,s,a,f,u,c,h),r[n+1]=p(i,o,s,a,f,u,c,h)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],f=this.h[4],u=this.h[5],l=this.h[6],p=this.h[7],y=this.h[8],g=this.h[9],v=this.h[10],I=this.h[11],B=this.h[12],P=this.h[13],C=this.h[14],T=this.h[15];o(this.k.length===r.length);for(var R=0;R<r.length;R+=2){var L=C,N=T,j=M(y,g),O=x(y,g),D=w(y,g,v,I,B),z=_(y,g,v,I,B,P),F=this.k[R],U=this.k[R+1],q=r[R],H=r[R+1],K=b(L,N,j,O,D,z,F,U,q,H),V=m(L,N,j,O,D,z,F,U,q,H);L=E(n,i),N=k(n,i),j=S(n,i,s,a,f),O=A(n,i,s,a,f,u);var Y=h(L,N,j,O),G=d(L,N,j,O);C=B,T=P,B=v,P=I,v=y,I=g,y=h(l,p,K,V),g=d(p,p,K,V),l=f,p=u,f=s,u=a,s=n,a=i,n=h(K,V,Y,G),i=d(K,V,Y,G)}c(this.h,0,n,i),c(this.h,2,s,a),c(this.h,4,f,u),c(this.h,6,l,p),c(this.h,8,y,g),c(this.h,10,v,I),c(this.h,12,B,P),c(this.h,14,C,T)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":93,"../utils":103,"minimalistic-assert":119}],102:[function(e,t,r){"use strict";var n=e("../utils").rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}r.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},r.ch32=i,r.maj32=o,r.p32=s,r.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},r.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},r.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},r.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},{"../utils":103}],103:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits");function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function a(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}r.inherits=i,r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r].toString(16));return t},r.htonl=o,r.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=o(i)),r+=a(i.toString(16))}return r},r.zero2=s,r.zero8=a,r.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var s=new Array(o/4),a=0,f=t;a<s.length;a++,f+=4){var u;u="big"===i?e[f]<<24|e[f+1]<<16|e[f+2]<<8|e[f+3]:e[f+3]<<24|e[f+2]<<16|e[f+1]<<8|e[f],s[a]=u>>>0}return s},r.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},r.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},r.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},r.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},r.sum64_lo=function(e,t,r,n){return t+n>>>0},r.sum64_4_hi=function(e,t,r,n,i,o,s,a){var f=0,u=t;return f+=(u=u+n>>>0)<t?1:0,f+=(u=u+o>>>0)<o?1:0,e+r+i+s+(f+=(u=u+a>>>0)<a?1:0)>>>0},r.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},r.sum64_5_hi=function(e,t,r,n,i,o,s,a,f,u){var c=0,h=t;return c+=(h=h+n>>>0)<t?1:0,c+=(h=h+o>>>0)<o?1:0,c+=(h=h+a>>>0)<a?1:0,e+r+i+s+f+(c+=(h=h+u>>>0)<u?1:0)>>>0},r.sum64_5_lo=function(e,t,r,n,i,o,s,a,f,u){return t+n+o+a+u>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},{inherits:107,"minimalistic-assert":119}],104:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("minimalistic-crypto-utils"),o=e("minimalistic-assert");function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}t.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,i.encode(s,t)}},{"hash.js":92,"minimalistic-assert":119,"minimalistic-crypto-utils":120}],105:[function(e,t,r){r.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,f=(1<<a)-1,u=f>>1,c=-7,h=r?i-1:0,d=r?-1:1,l=e[t+h];for(h+=d,o=l&(1<<-c)-1,l>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===f)return s?NaN:1/0*(l?-1:1);s+=Math.pow(2,n),o-=u}return(l?-1:1)*s*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var s,a,f,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:o-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-s))<1&&(s--,f*=2),(t+=s+h>=1?d/f:d*Math.pow(2,1-h))*f>=2&&(s++,f/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*f-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+l]=255&a,l+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+l]=255&s,l+=p,s/=256,u-=8);e[r+l-p]|=128*b}},{}],106:[function(e,t,r){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},{}],107:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],108:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],109:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],110:[function(e,t,r){"use strict";t.exports=e("./lib/api")(e("./lib/keccak"))},{"./lib/api":111,"./lib/keccak":115}],111:[function(e,t,r){"use strict";var n=e("./keccak"),i=e("./shake");t.exports=function(e){var t=n(e),r=i(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},{"./keccak":112,"./shake":113}],112:[function(e,t,r){(function(r){"use strict";var n=e("stream").Transform,i=e("inherits");t.exports=function(e){function t(t,r,i,o,s){n.call(this,s),this._rate=t,this._capacity=r,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new e,this._state.initialize(t,r),this._finalized=!1}return i(t,n),t.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},t.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},t.prototype.update=function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return r.isBuffer(e)||(e=new r(e,t)),this._state.absorb(e),this},t.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){var e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}}).call(this,e("buffer").Buffer)},{buffer:53,inherits:107,stream:172}],113:[function(e,t,r){(function(r){"use strict";var n=e("stream").Transform,i=e("inherits");t.exports=function(e){function t(t,r,i,o){n.call(this,o),this._rate=t,this._capacity=r,this._delimitedSuffix=i,this._options=o,this._state=new e,this._state.initialize(t,r),this._finalized=!1}return i(t,n),t.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},t.prototype._flush=function(){},t.prototype._read=function(e){this.push(this.squeeze(e))},t.prototype.update=function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return r.isBuffer(e)||(e=new r(e,t)),this._state.absorb(e),this},t.prototype.squeeze=function(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){var e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}}).call(this,e("buffer").Buffer)},{buffer:53,inherits:107,stream:172}],114:[function(e,t,r){"use strict";var n=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];r.p1600=function(e){for(var t=0;t<24;++t){var r=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],f=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],c=e[7]^e[17]^e[27]^e[37]^e[47],h=e[8]^e[18]^e[28]^e[38]^e[48],d=e[9]^e[19]^e[29]^e[39]^e[49],l=h^(o<<1|s>>>31),p=d^(s<<1|o>>>31),b=e[0]^l,m=e[1]^p,y=e[10]^l,g=e[11]^p,v=e[20]^l,w=e[21]^p,_=e[30]^l,S=e[31]^p,A=e[40]^l,E=e[41]^p;l=r^(a<<1|f>>>31),p=i^(f<<1|a>>>31);var k=e[2]^l,M=e[3]^p,x=e[12]^l,I=e[13]^p,B=e[22]^l,P=e[23]^p,C=e[32]^l,T=e[33]^p,R=e[42]^l,L=e[43]^p;l=o^(u<<1|c>>>31),p=s^(c<<1|u>>>31);var N=e[4]^l,j=e[5]^p,O=e[14]^l,D=e[15]^p,z=e[24]^l,F=e[25]^p,U=e[34]^l,q=e[35]^p,H=e[44]^l,K=e[45]^p;l=a^(h<<1|d>>>31),p=f^(d<<1|h>>>31);var V=e[6]^l,Y=e[7]^p,G=e[16]^l,W=e[17]^p,J=e[26]^l,Z=e[27]^p,X=e[36]^l,$=e[37]^p,Q=e[46]^l,ee=e[47]^p;l=u^(r<<1|i>>>31),p=c^(i<<1|r>>>31);var te=e[8]^l,re=e[9]^p,ne=e[18]^l,ie=e[19]^p,oe=e[28]^l,se=e[29]^p,ae=e[38]^l,fe=e[39]^p,ue=e[48]^l,ce=e[49]^p,he=b,de=m,le=g<<4|y>>>28,pe=y<<4|g>>>28,be=v<<3|w>>>29,me=w<<3|v>>>29,ye=S<<9|_>>>23,ge=_<<9|S>>>23,ve=A<<18|E>>>14,we=E<<18|A>>>14,_e=k<<1|M>>>31,Se=M<<1|k>>>31,Ae=I<<12|x>>>20,Ee=x<<12|I>>>20,ke=B<<10|P>>>22,Me=P<<10|B>>>22,xe=T<<13|C>>>19,Ie=C<<13|T>>>19,Be=R<<2|L>>>30,Pe=L<<2|R>>>30,Ce=j<<30|N>>>2,Te=N<<30|j>>>2,Re=O<<6|D>>>26,Le=D<<6|O>>>26,Ne=F<<11|z>>>21,je=z<<11|F>>>21,Oe=U<<15|q>>>17,De=q<<15|U>>>17,ze=K<<29|H>>>3,Fe=H<<29|K>>>3,Ue=V<<28|Y>>>4,qe=Y<<28|V>>>4,He=W<<23|G>>>9,Ke=G<<23|W>>>9,Ve=J<<25|Z>>>7,Ye=Z<<25|J>>>7,Ge=X<<21|$>>>11,We=$<<21|X>>>11,Je=ee<<24|Q>>>8,Ze=Q<<24|ee>>>8,Xe=te<<27|re>>>5,$e=re<<27|te>>>5,Qe=ne<<20|ie>>>12,et=ie<<20|ne>>>12,tt=se<<7|oe>>>25,rt=oe<<7|se>>>25,nt=ae<<8|fe>>>24,it=fe<<8|ae>>>24,ot=ue<<14|ce>>>18,st=ce<<14|ue>>>18;e[0]=he^~Ae&Ne,e[1]=de^~Ee&je,e[10]=Ue^~Qe&be,e[11]=qe^~et&me,e[20]=_e^~Re&Ve,e[21]=Se^~Le&Ye,e[30]=Xe^~le&ke,e[31]=$e^~pe&Me,e[40]=Ce^~He&tt,e[41]=Te^~Ke&rt,e[2]=Ae^~Ne&Ge,e[3]=Ee^~je&We,e[12]=Qe^~be&xe,e[13]=et^~me&Ie,e[22]=Re^~Ve&nt,e[23]=Le^~Ye&it,e[32]=le^~ke&Oe,e[33]=pe^~Me&De,e[42]=He^~tt&ye,e[43]=Ke^~rt&ge,e[4]=Ne^~Ge&ot,e[5]=je^~We&st,e[14]=be^~xe&ze,e[15]=me^~Ie&Fe,e[24]=Ve^~nt&ve,e[25]=Ye^~it&we,e[34]=ke^~Oe&Je,e[35]=Me^~De&Ze,e[44]=tt^~ye&Be,e[45]=rt^~ge&Pe,e[6]=Ge^~ot&he,e[7]=We^~st&de,e[16]=xe^~ze&Ue,e[17]=Ie^~Fe&qe,e[26]=nt^~ve&_e,e[27]=it^~we&Se,e[36]=Oe^~Je&Xe,e[37]=De^~Ze&$e,e[46]=ye^~Be&Ce,e[47]=ge^~Pe&Te,e[8]=ot^~he&Ae,e[9]=st^~de&Ee,e[18]=ze^~Ue&Qe,e[19]=Fe^~qe&et,e[28]=ve^~_e&Re,e[29]=we^~Se&Le,e[38]=Je^~Xe&le,e[39]=Ze^~$e&pe,e[48]=Be^~Ce&He,e[49]=Pe^~Te&Ke,e[0]^=n[2*t],e[1]^=n[2*t+1]}}},{}],115:[function(e,t,r){(function(r){"use strict";var n=e("./keccak-state-unroll");function i(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}i.prototype.initialize=function(e,t){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},i.prototype.absorb=function(e){for(var t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0)},i.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&n.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,n.p1600(this.state),this.count=0,this.squeezing=!0},i.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);for(var t=new r(e),i=0;i<e;++i)t[i]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0);return t},i.prototype.copy=function(e){for(var t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},t.exports=i}).call(this,e("buffer").Buffer)},{"./keccak-state-unroll":114,buffer:53}],116:[function(e,t,r){(function(r){"use strict";var n=e("inherits"),i=e("hash-base"),o=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function a(e,t){return e<<t|e>>>32-t}function f(e,t,r,n,i,o,s){return a(e+(t&r|~t&n)+i+o|0,s)+t|0}function u(e,t,r,n,i,o,s){return a(e+(t&n|r&~n)+i+o|0,s)+t|0}function c(e,t,r,n,i,o,s){return a(e+(t^r^n)+i+o|0,s)+t|0}function h(e,t,r,n,i,o,s){return a(e+(r^(t|~n))+i+o|0,s)+t|0}n(s,i),s.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,s=this._d;n=h(n=h(n=h(n=h(n=c(n=c(n=c(n=c(n=u(n=u(n=u(n=u(n=f(n=f(n=f(n=f(n,i=f(i,s=f(s,r=f(r,n,i,s,e[0],3614090360,7),n,i,e[1],3905402710,12),r,n,e[2],606105819,17),s,r,e[3],3250441966,22),i=f(i,s=f(s,r=f(r,n,i,s,e[4],4118548399,7),n,i,e[5],1200080426,12),r,n,e[6],2821735955,17),s,r,e[7],4249261313,22),i=f(i,s=f(s,r=f(r,n,i,s,e[8],1770035416,7),n,i,e[9],2336552879,12),r,n,e[10],4294925233,17),s,r,e[11],2304563134,22),i=f(i,s=f(s,r=f(r,n,i,s,e[12],1804603682,7),n,i,e[13],4254626195,12),r,n,e[14],2792965006,17),s,r,e[15],1236535329,22),i=u(i,s=u(s,r=u(r,n,i,s,e[1],4129170786,5),n,i,e[6],3225465664,9),r,n,e[11],643717713,14),s,r,e[0],3921069994,20),i=u(i,s=u(s,r=u(r,n,i,s,e[5],3593408605,5),n,i,e[10],38016083,9),r,n,e[15],3634488961,14),s,r,e[4],3889429448,20),i=u(i,s=u(s,r=u(r,n,i,s,e[9],568446438,5),n,i,e[14],3275163606,9),r,n,e[3],4107603335,14),s,r,e[8],1163531501,20),i=u(i,s=u(s,r=u(r,n,i,s,e[13],2850285829,5),n,i,e[2],4243563512,9),r,n,e[7],1735328473,14),s,r,e[12],2368359562,20),i=c(i,s=c(s,r=c(r,n,i,s,e[5],4294588738,4),n,i,e[8],2272392833,11),r,n,e[11],1839030562,16),s,r,e[14],4259657740,23),i=c(i,s=c(s,r=c(r,n,i,s,e[1],2763975236,4),n,i,e[4],1272893353,11),r,n,e[7],4139469664,16),s,r,e[10],3200236656,23),i=c(i,s=c(s,r=c(r,n,i,s,e[13],681279174,4),n,i,e[0],3936430074,11),r,n,e[3],3572445317,16),s,r,e[6],76029189,23),i=c(i,s=c(s,r=c(r,n,i,s,e[9],3654602809,4),n,i,e[12],3873151461,11),r,n,e[15],530742520,16),s,r,e[2],3299628645,23),i=h(i,s=h(s,r=h(r,n,i,s,e[0],4096336452,6),n,i,e[7],1126891415,10),r,n,e[14],2878612391,15),s,r,e[5],4237533241,21),i=h(i,s=h(s,r=h(r,n,i,s,e[12],1700485571,6),n,i,e[3],2399980690,10),r,n,e[10],4293915773,15),s,r,e[1],2240044497,21),i=h(i,s=h(s,r=h(r,n,i,s,e[8],1873313359,6),n,i,e[15],4264355552,10),r,n,e[6],2734768916,15),s,r,e[13],1309151649,21),i=h(i,s=h(s,r=h(r,n,i,s,e[4],4149444226,6),n,i,e[11],3174756917,10),r,n,e[2],718787259,15),s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new r(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},t.exports=s}).call(this,e("buffer").Buffer)},{buffer:53,"hash-base":117,inherits:107}],117:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("stream").Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},{inherits:107,"safe-buffer":156,stream:172}],118:[function(e,t,r){var n=e("bn.js"),i=e("brorand");function o(e){this.rand=e||new i.Rand}t.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},o.prototype.test=function(e,t,r){var i=e.bitLength(),o=n.mont(e),s=new n(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var a=e.subn(1),f=0;!a.testn(f);f++);for(var u=e.shrn(f),c=a.toRed(o);t>0;t--){var h=this._randrange(new n(2),a);r&&r(h);var d=h.toRed(o).redPow(u);if(0!==d.cmp(s)&&0!==d.cmp(c)){for(var l=1;l<f;l++){if(0===(d=d.redSqr()).cmp(s))return!1;if(0===d.cmp(c))break}if(l===f)return!1}}return!0},o.prototype.getDivisor=function(e,t){var r=e.bitLength(),i=n.mont(e),o=new n(1).toRed(i);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),a=0;!s.testn(a);a++);for(var f=e.shrn(a),u=s.toRed(i);t>0;t--){var c=this._randrange(new n(2),s),h=e.gcd(c);if(0!==h.cmpn(1))return h;var d=c.toRed(i).redPow(f);if(0!==d.cmp(o)&&0!==d.cmp(u)){for(var l=1;l<a;l++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(u))break}if(l===a)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},{"bn.js":20,brorand:21}],119:[function(e,t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}t.exports=n,n.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},{}],120:[function(e,t,r){"use strict";var n=r;function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},n.zero2=i,n.toHex=o,n.encode=function(e,t){return"hex"===t?o(e):e}},{}],121:[function(e,t,r){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],122:[function(e,t,r){"use strict";var n=e("asn1.js");r.certificate=e("./certificate");var i=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});r.RSAPrivateKey=i;var o=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});r.RSAPublicKey=o;var s=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});r.PublicKey=s;var a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),f=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});r.PrivateKey=f;var u=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});r.EncryptedPrivateKey=u;var c=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});r.DSAPrivateKey=c,r.DSAparam=n.define("DSAparam",function(){this.int()});var h=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});r.ECPrivateKey=h;var d=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});r.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":123,"asn1.js":4}],123:[function(e,t,r){"use strict";var n=e("asn1.js"),i=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),a=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),f=n.define("RelativeDistinguishedName",function(){this.setof(o)}),u=n.define("RDNSequence",function(){this.seqof(f)}),c=n.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),h=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),d=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),l=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(c),this.key("validity").use(h),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),p=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(l),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});t.exports=p},{"asn1.js":4}],124:[function(e,t,r){(function(r){var n=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,i=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m,o=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m,s=e("evp_bytestokey"),a=e("browserify-aes");t.exports=function(e,t){var f,u=e.toString(),c=u.match(n);if(c){var h="aes"+c[1],d=new r(c[2],"hex"),l=new r(c[3].replace(/\r?\n/g,""),"base64"),p=s(t,d.slice(0,8),parseInt(c[1],10)).key,b=[],m=a.createDecipheriv(h,p,d);b.push(m.update(l)),b.push(m.final()),f=r.concat(b)}else{var y=u.match(o);f=new r(y[2].replace(/\r?\n/g,""),"base64")}return{tag:u.match(i)[1],data:f}}}).call(this,e("buffer").Buffer)},{"browserify-aes":25,buffer:53,evp_bytestokey:90}],125:[function(e,t,r){(function(r){var n=e("./asn1"),i=e("./aesid.json"),o=e("./fixProc"),s=e("browserify-aes"),a=e("pbkdf2");function f(e){var t;"object"!=typeof e||r.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=new r(e));var f,u,c=o(e,t),h=c.tag,d=c.data;switch(h){case"CERTIFICATE":u=n.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=n.PublicKey.decode(d,"der")),f=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=n.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+f)}throw new Error("unknown key type "+h);case"ENCRYPTED PRIVATE KEY":d=function(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,o=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),f=i[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,h=parseInt(f.split("-")[1],10)/8,d=a.pbkdf2Sync(t,n,o,h),l=s.createDecipheriv(f,d,u),p=[];return p.push(l.update(c)),p.push(l.final()),r.concat(p)}(d=n.EncryptedPrivateKey.decode(d,"der"),t);case"PRIVATE KEY":switch(f=(u=n.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:n.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=n.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+f)}throw new Error("unknown key type "+h);case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=n.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+h)}}t.exports=f,f.signature=n.signature}).call(this,e("buffer").Buffer)},{"./aesid.json":121,"./asn1":122,"./fixProc":124,"browserify-aes":25,buffer:53,pbkdf2:127}],126:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return n.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}r.resolve=function(){for(var r="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,n="/"===s.charAt(0))}return r=t(o(r.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+r||"."},r.normalize=function(e){var n=r.isAbsolute(e),i="/"===s(e,-1);return(e=t(o(e.split("/"),function(e){return!!e}),!n).join("/"))||n||(e="."),e&&i&&(e+="/"),(n?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var i=n(e.split("/")),o=n(t.split("/")),s=Math.min(i.length,o.length),a=s,f=0;f<s;f++)if(i[f]!==o[f]){a=f;break}var u=[];for(f=a;f<i.length;f++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){var t=i(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(e,t){var r=i(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return i(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,e("_process"))},{_process:133}],127:[function(e,t,r){r.pbkdf2=e("./lib/async"),r.pbkdf2Sync=e("./lib/sync")},{"./lib/async":128,"./lib/sync":131}],128:[function(e,t,r){(function(r,n){var i,o=e("./precondition"),s=e("./default-encoding"),a=e("./sync"),f=e("safe-buffer").Buffer,u=n.crypto&&n.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function d(e,t,r,n,i){return u.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return u.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)}).then(function(e){return f.from(e)})}t.exports=function(e,t,l,p,b,m){if(f.isBuffer(e)||(e=f.from(e,s)),f.isBuffer(t)||(t=f.from(t,s)),o(l,p),"function"==typeof b&&(m=b,b=void 0),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");var y=c[(b=b||"sha1").toLowerCase()];if(!y||"function"!=typeof n.Promise)return r.nextTick(function(){var r;try{r=a(e,t,l,p,b)}catch(e){return m(e)}m(null,r)});!function(e,t){e.then(function(e){r.nextTick(function(){t(null,e)})},function(e){r.nextTick(function(){t(e)})})}(function(e){if(n.process&&!n.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==h[e])return h[e];var t=d(i=i||f.alloc(8),i,10,128,e).then(function(){return!0}).catch(function(){return!1});return h[e]=t,t}(y).then(function(r){return r?d(e,t,l,p,y):a(e,t,l,p,b)}),m)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":129,"./precondition":130,"./sync":131,_process:133,"safe-buffer":156}],129:[function(e,t,r){(function(e){var r;e.browser?r="utf-8":r=parseInt(e.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";t.exports=r}).call(this,e("_process"))},{_process:133}],130:[function(e,t,r){var n=Math.pow(2,30)-1;t.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>n||t!=t)throw new TypeError("Bad key length")}},{}],131:[function(e,t,r){var n=e("create-hash/md5"),i=e("ripemd160"),o=e("sha.js"),s=e("./precondition"),a=e("./default-encoding"),f=e("safe-buffer").Buffer,u=f.alloc(128),c={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(e,t,r){var s=function(e){return"rmd160"===e||"ripemd160"===e?i:"md5"===e?n:function(t){return o(e).update(t).digest()}}(e),a="sha512"===e||"sha384"===e?128:64;t.length>a?t=s(t):t.length<a&&(t=f.concat([t,u],a));for(var h=f.allocUnsafe(a+c[e]),d=f.allocUnsafe(a+c[e]),l=0;l<a;l++)h[l]=54^t[l],d[l]=92^t[l];var p=f.allocUnsafe(a+r+4);h.copy(p,0,0,a),this.ipad1=p,this.ipad2=h,this.opad=d,this.alg=e,this.blocksize=a,this.hash=s,this.size=c[e]}h.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(e,t,r,n,i){f.isBuffer(e)||(e=f.from(e,a)),f.isBuffer(t)||(t=f.from(t,a)),s(r,n);var o=new h(i=i||"sha1",e,t.length),u=f.allocUnsafe(n),d=f.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var l=0,p=c[i],b=Math.ceil(n/p),m=1;m<=b;m++){d.writeUInt32BE(m,t.length);for(var y=o.run(d,o.ipad1),g=y,v=1;v<r;v++){g=o.run(g,o.ipad2);for(var w=0;w<p;w++)y[w]^=g[w]}y.copy(u,l),l+=p}return u}},{"./default-encoding":129,"./precondition":130,"create-hash/md5":59,ripemd160:155,"safe-buffer":156,"sha.js":164}],132:[function(e,t,r){(function(e){"use strict";!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}:t.exports=e.nextTick}).call(this,e("_process"))},{_process:133}],133:[function(e,t,r){var n,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function f(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,c=[],h=!1,d=-1;function l(){h&&u&&(h=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!h){var e=f(l);h=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new b(e,t)),1!==c.length||h||f(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],134:[function(e,t,r){r.publicEncrypt=e("./publicEncrypt"),r.privateDecrypt=e("./privateDecrypt"),r.privateEncrypt=function(e,t){return r.publicEncrypt(e,t,!0)},r.publicDecrypt=function(e,t){return r.privateDecrypt(e,t,!0)}},{"./privateDecrypt":136,"./publicEncrypt":137}],135:[function(e,t,r){(function(r){var n=e("create-hash");function i(e){var t=new r(4);return t.writeUInt32BE(e,0),t}t.exports=function(e,t){for(var o,s=new r(""),a=0;s.length<t;)o=i(a++),s=r.concat([s,n("sha1").update(e).update(o).digest()]);return s.slice(0,t)}}).call(this,e("buffer").Buffer)},{buffer:53,"create-hash":57}],136:[function(e,t,r){(function(r){var n=e("parse-asn1"),i=e("./mgf"),o=e("./xor"),s=e("bn.js"),a=e("browserify-rsa"),f=e("create-hash"),u=e("./withPublic");t.exports=function(e,t,c){var h;h=e.padding?e.padding:c?1:4;var d,l=n(e),p=l.modulus.byteLength();if(t.length>p||new s(t).cmp(l.modulus)>=0)throw new Error("decryption error");d=c?u(new s(t),l):a(t,l);var b=new r(p-d.length);if(b.fill(0),d=r.concat([b,d],p),4===h)return function(e,t){e.modulus;var n=e.modulus.byteLength(),s=(t.length,f("sha1").update(new r("")).digest()),a=s.length;if(0!==t[0])throw new Error("decryption error");var u=t.slice(1,a+1),c=t.slice(a+1),h=o(u,i(c,a)),d=o(c,i(h,n-a-1));if(function(e,t){e=new r(e),t=new r(t);var n=0,i=e.length;e.length!==t.length&&(n++,i=Math.min(e.length,t.length));var o=-1;for(;++o<i;)n+=e[o]^t[o];return n}(s,d.slice(0,a)))throw new Error("decryption error");var l=a;for(;0===d[l];)l++;if(1!==d[l++])throw new Error("decryption error");return d.slice(l)}(l,d);if(1===h)return function(e,t,r){var n=t.slice(0,2),i=2,o=0;for(;0!==t[i++];)if(i>=t.length){o++;break}var s=t.slice(2,i-1);t.slice(i-1,i);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++;s.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(i)}(0,d,c);if(3===h)return d;throw new Error("unknown padding")}}).call(this,e("buffer").Buffer)},{"./mgf":135,"./withPublic":138,"./xor":139,"bn.js":20,"browserify-rsa":43,buffer:53,"create-hash":57,"parse-asn1":125}],137:[function(e,t,r){(function(r){var n=e("parse-asn1"),i=e("randombytes"),o=e("create-hash"),s=e("./mgf"),a=e("./xor"),f=e("bn.js"),u=e("./withPublic"),c=e("browserify-rsa");t.exports=function(e,t,h){var d;d=e.padding?e.padding:h?1:4;var l,p=n(e);if(4===d)l=function(e,t){var n=e.modulus.byteLength(),u=t.length,c=o("sha1").update(new r("")).digest(),h=c.length,d=2*h;if(u>n-d-2)throw new Error("message too long");var l=new r(n-u-d-2);l.fill(0);var p=n-h-1,b=i(h),m=a(r.concat([c,l,new r([1]),t],p),s(b,p)),y=a(b,s(m,h));return new f(r.concat([new r([0]),y,m],n))}(p,t);else if(1===d)l=function(e,t,n){var o,s=t.length,a=e.modulus.byteLength();if(s>a-11)throw new Error("message too long");n?(o=new r(a-s-3)).fill(255):o=function(e,t){var n,o=new r(e),s=0,a=i(2*e),f=0;for(;s<e;)f===a.length&&(a=i(2*e),f=0),(n=a[f++])&&(o[s++]=n);return o}(a-s-3);return new f(r.concat([new r([0,n?1:2]),o,new r([0]),t],a))}(p,t,h);else{if(3!==d)throw new Error("unknown padding");if((l=new f(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return h?c(l,p):u(l,p)}}).call(this,e("buffer").Buffer)},{"./mgf":135,"./withPublic":138,"./xor":139,"bn.js":20,"browserify-rsa":43,buffer:53,"create-hash":57,"parse-asn1":125,randombytes:140}],138:[function(e,t,r){(function(r){var n=e("bn.js");t.exports=function(e,t){return new r(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}}).call(this,e("buffer").Buffer)},{"bn.js":20,buffer:53}],139:[function(e,t,r){t.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},{}],140:[function(e,t,r){(function(r,n){"use strict";var i=e("safe-buffer").Buffer,o=n.crypto||n.msCrypto;o&&o.getRandomValues?t.exports=function(e,t){if(e>65536)throw new Error("requested too many random bytes");var s=new n.Uint8Array(e);e>0&&o.getRandomValues(s);var a=i.from(s.buffer);if("function"==typeof t)return r.nextTick(function(){t(null,a)});return a}:t.exports=function(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:133,"safe-buffer":156}],141:[function(e,t,r){(function(t,n){"use strict";function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=e("safe-buffer"),s=e("randombytes"),a=o.Buffer,f=o.kMaxLength,u=n.crypto||n.msCrypto,c=Math.pow(2,32)-1;function h(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>c||e<0)throw new TypeError("offset must be a uint32");if(e>f||e>t)throw new RangeError("offset out of range")}function d(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>c||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>f)throw new RangeError("buffer too small")}function l(e,r,n,i){if(t.browser){var o=e.buffer,a=new Uint8Array(o,r,n);return u.getRandomValues(a),i?void t.nextTick(function(){i(null,e)}):e}if(!i)return s(n).copy(e,r),e;s(n,function(t,n){if(t)return i(t);n.copy(e,r),i(null,e)})}u&&u.getRandomValues||!t.browser?(r.randomFill=function(e,t,r,i){if(!(a.isBuffer(e)||e instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)i=t,t=0,r=e.length;else if("function"==typeof r)i=r,r=e.length-t;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return h(t,e.length),d(r,t,e.length),l(e,t,r,i)},r.randomFillSync=function(e,t,r){void 0===t&&(t=0);if(!(a.isBuffer(e)||e instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');h(t,e.length),void 0===r&&(r=e.length-t);return d(r,t,e.length),l(e,t,r)}):(r.randomFill=i,r.randomFillSync=i)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:133,randombytes:140,"safe-buffer":156}],142:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":143}],143:[function(e,t,r){"use strict";var n=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=h;var o=e("core-util-is");o.inherits=e("inherits");var s=e("./_stream_readable"),a=e("./_stream_writable");o.inherits(h,s);for(var f=i(a.prototype),u=0;u<f.length;u++){var c=f[u];h.prototype[c]||(h.prototype[c]=a.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n(l,this)}function l(e){e.end()}Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},{"./_stream_readable":145,"./_stream_writable":147,"core-util-is":55,inherits:107,"process-nextick-args":132}],144:[function(e,t,r){"use strict";t.exports=o;var n=e("./_stream_transform"),i=e("core-util-is");function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=e("inherits"),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":146,"core-util-is":55,inherits:107}],145:[function(e,t,r){(function(r,n){"use strict";var i=e("process-nextick-args");t.exports=v;var o,s=e("isarray");v.ReadableState=g;e("events").EventEmitter;var a=function(e,t){return e.listeners(t).length},f=e("./internal/streams/stream"),u=e("safe-buffer").Buffer,c=n.Uint8Array||function(){};var h=e("core-util-is");h.inherits=e("inherits");var d=e("util"),l=void 0;l=d&&d.debuglog?d.debuglog("stream"):function(){};var p,b=e("./internal/streams/BufferList"),m=e("./internal/streams/destroy");h.inherits(v,f);var y=["error","close","destroy","pause","resume"];function g(t,r){o=o||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,r instanceof o&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=e("string_decoder/").StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function v(t){if(o=o||e("./_stream_duplex"),!(this instanceof v))return new v(t);this._readableState=new g(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),f.call(this)}function w(e,t,r,n,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,E(e)}(e,s)):(i||(o=function(e,t){var r;n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?_(e,s,t,!1):M(e,s)):_(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&E(e)),M(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},v.prototype.unshift=function(e){return w(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return p||(p=e("string_decoder/").StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var S=8388608;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(k,e):k(e))}function k(e){l("emit readable"),e.emit("readable"),P(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i(x,e,t))}function x(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(l("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function I(e){l("readable nexttick read 0"),e.read(0)}function B(e,t){t.reading||(l("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}v.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):E(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&T(this),null;var n,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&T(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,l("pipe count=%d opts=%j",o.pipesCount,t);var f=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:v;function u(t,r){l("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),e.removeListener("close",y),e.removeListener("finish",g),e.removeListener("drain",h),e.removeListener("error",m),e.removeListener("unpipe",u),n.removeListener("end",c),n.removeListener("end",v),n.removeListener("data",b),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function c(){l("onend"),e.end()}o.endEmitted?i(f):n.once("end",f),e.on("unpipe",u);var h=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",h);var d=!1;var p=!1;function b(t){l("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!d&&(l("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){l("onerror",t),v(),e.removeListener("error",m),0===a(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",g),v()}function g(){l("onfinish"),e.removeListener("close",y),v()}function v(){l("unpipe"),n.unpipe(e)}return n.on("data",b),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",m),e.once("close",y),e.once("finish",g),e.emit("pipe",n),o.flowing||(l("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=L(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},v.prototype.on=function(e,t){var r=f.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&E(this):i(I,this))}return r},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(B,e,t))}(this,e)),this},v.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(l("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){(l("wrapped data"),t.decoder&&(i=t.decoder.write(i)),!t.objectMode||null!==i&&void 0!==i)&&((t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<y.length;o++)e.on(y[o],n.emit.bind(n,y[o]));return n._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},n},v._fromList=C}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":143,"./internal/streams/BufferList":148,"./internal/streams/destroy":149,"./internal/streams/stream":150,_process:133,"core-util-is":55,events:89,inherits:107,isarray:109,"process-nextick-args":132,"safe-buffer":156,"string_decoder/":173,util:22}],146:[function(e,t,r){"use strict";t.exports=s;var n=e("./_stream_duplex"),i=e("core-util-is");function o(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&e.push(r);i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,r){a(t,e,r)}):a(t)})}function a(e,t,r){if(t)return e.emit("error",t);null!==r&&void 0!==r&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},{"./_stream_duplex":143,"core-util-is":55,inherits:107}],147:[function(e,t,r){(function(r,n){"use strict";var i=e("process-nextick-args");function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=y;var s,a=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?setImmediate:i;y.WritableState=m;var f=e("core-util-is");f.inherits=e("inherits");var u={deprecate:e("util-deprecate")},c=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,d=n.Uint8Array||function(){};var l,p=e("./internal/streams/destroy");function b(){}function m(t,r){s=s||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,r instanceof s&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,f=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===t.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i(o,n),i(A,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),A(e,t))}(e,r,n,t,o);else{var s=_(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?a(v,e,r,s,o):v(e,r,s,o)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(t){if(s=s||e("./_stream_duplex"),!(l.call(y,this)||this instanceof s))return new y(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),c.call(this)}function g(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,f=!0;r;)i[a]=r,r.isBuf||(f=!1),r=r.next,a+=1;i.allBuffers=f,g(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t)}else{for(;r;){var u=r.chunk,c=r.encoding,h=r.callback;if(g(e,t,!1,t.objectMode?1:u.length,u,c,h),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),A(e,t)})}function A(e,t){var r=_(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}f.inherits(y,c),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||e&&e._writableState instanceof m}})):l=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,r){var n,o=this._writableState,s=!1,a=(n=e,(h.isBuffer(n)||n instanceof d)&&!o.objectMode);return a&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=b),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i(t,r)}(this,r):(a||function(e,t,r,n){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),i(n,s),o=!1),o}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,a,n,i,o);return f}(this,o,a,e,t,r)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},y.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,A(e,t),r&&(t.finished?i(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":143,"./internal/streams/destroy":149,"./internal/streams/stream":150,_process:133,"core-util-is":55,inherits:107,"process-nextick-args":132,"safe-buffer":156,"util-deprecate":174}],148:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer;t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,o=n.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=o,i=a,t.copy(r,i),a+=s.data.length,s=s.next;return o},e}()},{"safe-buffer":156}],149:[function(e,t,r){"use strict";var n=e("process-nextick-args");function i(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;o||s?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n(i,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":132}],150:[function(e,t,r){t.exports=e("events").EventEmitter},{events:89}],151:[function(e,t,r){t.exports=e("./readable").PassThrough},{"./readable":152}],152:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":143,"./lib/_stream_passthrough.js":144,"./lib/_stream_readable.js":145,"./lib/_stream_transform.js":146,"./lib/_stream_writable.js":147}],153:[function(e,t,r){t.exports=e("./readable").Transform},{"./readable":152}],154:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":147}],155:[function(e,t,r){(function(r){"use strict";var n=e("inherits"),i=e("hash-base");function o(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function s(e,t){return e<<t|e>>>32-t}function a(e,t,r,n,i,o,a,f){return s(e+(t^r^n)+o+a|0,f)+i|0}function f(e,t,r,n,i,o,a,f){return s(e+(t&r|~t&n)+o+a|0,f)+i|0}function u(e,t,r,n,i,o,a,f){return s(e+((t|~r)^n)+o+a|0,f)+i|0}function c(e,t,r,n,i,o,a,f){return s(e+(t&n|r&~n)+o+a|0,f)+i|0}function h(e,t,r,n,i,o,a,f){return s(e+(t^(r|~n))+o+a|0,f)+i|0}n(o,i),o.prototype._update=function(){for(var e=new Array(16),t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d,d=this._e;d=a(d,r=a(r,n,i,o,d,e[0],0,11),n,i=s(i,10),o,e[1],0,14),n=a(n=s(n,10),i=a(i,o=a(o,d,r,n,i,e[2],0,15),d,r=s(r,10),n,e[3],0,12),o,d=s(d,10),r,e[4],0,5),o=a(o=s(o,10),d=a(d,r=a(r,n,i,o,d,e[5],0,8),n,i=s(i,10),o,e[6],0,7),r,n=s(n,10),i,e[7],0,9),r=a(r=s(r,10),n=a(n,i=a(i,o,d,r,n,e[8],0,11),o,d=s(d,10),r,e[9],0,13),i,o=s(o,10),d,e[10],0,14),i=a(i=s(i,10),o=a(o,d=a(d,r,n,i,o,e[11],0,15),r,n=s(n,10),i,e[12],0,6),d,r=s(r,10),n,e[13],0,7),d=f(d=s(d,10),r=a(r,n=a(n,i,o,d,r,e[14],0,9),i,o=s(o,10),d,e[15],0,8),n,i=s(i,10),o,e[7],1518500249,7),n=f(n=s(n,10),i=f(i,o=f(o,d,r,n,i,e[4],1518500249,6),d,r=s(r,10),n,e[13],1518500249,8),o,d=s(d,10),r,e[1],1518500249,13),o=f(o=s(o,10),d=f(d,r=f(r,n,i,o,d,e[10],1518500249,11),n,i=s(i,10),o,e[6],1518500249,9),r,n=s(n,10),i,e[15],1518500249,7),r=f(r=s(r,10),n=f(n,i=f(i,o,d,r,n,e[3],1518500249,15),o,d=s(d,10),r,e[12],1518500249,7),i,o=s(o,10),d,e[0],1518500249,12),i=f(i=s(i,10),o=f(o,d=f(d,r,n,i,o,e[9],1518500249,15),r,n=s(n,10),i,e[5],1518500249,9),d,r=s(r,10),n,e[2],1518500249,11),d=f(d=s(d,10),r=f(r,n=f(n,i,o,d,r,e[14],1518500249,7),i,o=s(o,10),d,e[11],1518500249,13),n,i=s(i,10),o,e[8],1518500249,12),n=u(n=s(n,10),i=u(i,o=u(o,d,r,n,i,e[3],1859775393,11),d,r=s(r,10),n,e[10],1859775393,13),o,d=s(d,10),r,e[14],1859775393,6),o=u(o=s(o,10),d=u(d,r=u(r,n,i,o,d,e[4],1859775393,7),n,i=s(i,10),o,e[9],1859775393,14),r,n=s(n,10),i,e[15],1859775393,9),r=u(r=s(r,10),n=u(n,i=u(i,o,d,r,n,e[8],1859775393,13),o,d=s(d,10),r,e[1],1859775393,15),i,o=s(o,10),d,e[2],1859775393,14),i=u(i=s(i,10),o=u(o,d=u(d,r,n,i,o,e[7],1859775393,8),r,n=s(n,10),i,e[0],1859775393,13),d,r=s(r,10),n,e[6],1859775393,6),d=u(d=s(d,10),r=u(r,n=u(n,i,o,d,r,e[13],1859775393,5),i,o=s(o,10),d,e[11],1859775393,12),n,i=s(i,10),o,e[5],1859775393,7),n=c(n=s(n,10),i=c(i,o=u(o,d,r,n,i,e[12],1859775393,5),d,r=s(r,10),n,e[1],2400959708,11),o,d=s(d,10),r,e[9],2400959708,12),o=c(o=s(o,10),d=c(d,r=c(r,n,i,o,d,e[11],2400959708,14),n,i=s(i,10),o,e[10],2400959708,15),r,n=s(n,10),i,e[0],2400959708,14),r=c(r=s(r,10),n=c(n,i=c(i,o,d,r,n,e[8],2400959708,15),o,d=s(d,10),r,e[12],2400959708,9),i,o=s(o,10),d,e[4],2400959708,8),i=c(i=s(i,10),o=c(o,d=c(d,r,n,i,o,e[13],2400959708,9),r,n=s(n,10),i,e[3],2400959708,14),d,r=s(r,10),n,e[7],2400959708,5),d=c(d=s(d,10),r=c(r,n=c(n,i,o,d,r,e[15],2400959708,6),i,o=s(o,10),d,e[14],2400959708,8),n,i=s(i,10),o,e[5],2400959708,6),n=h(n=s(n,10),i=c(i,o=c(o,d,r,n,i,e[6],2400959708,5),d,r=s(r,10),n,e[2],2400959708,12),o,d=s(d,10),r,e[4],2840853838,9),o=h(o=s(o,10),d=h(d,r=h(r,n,i,o,d,e[0],2840853838,15),n,i=s(i,10),o,e[5],2840853838,5),r,n=s(n,10),i,e[9],2840853838,11),r=h(r=s(r,10),n=h(n,i=h(i,o,d,r,n,e[7],2840853838,6),o,d=s(d,10),r,e[12],2840853838,8),i,o=s(o,10),d,e[2],2840853838,13),i=h(i=s(i,10),o=h(o,d=h(d,r,n,i,o,e[10],2840853838,12),r,n=s(n,10),i,e[14],2840853838,5),d,r=s(r,10),n,e[1],2840853838,12),d=h(d=s(d,10),r=h(r,n=h(n,i,o,d,r,e[3],2840853838,13),i,o=s(o,10),d,e[8],2840853838,14),n,i=s(i,10),o,e[11],2840853838,11),n=h(n=s(n,10),i=h(i,o=h(o,d,r,n,i,e[6],2840853838,8),d,r=s(r,10),n,e[15],2840853838,5),o,d=s(d,10),r,e[13],2840853838,6),o=s(o,10);var l=this._a,p=this._b,b=this._c,m=this._d,y=this._e;y=h(y,l=h(l,p,b,m,y,e[5],1352829926,8),p,b=s(b,10),m,e[14],1352829926,9),p=h(p=s(p,10),b=h(b,m=h(m,y,l,p,b,e[7],1352829926,9),y,l=s(l,10),p,e[0],1352829926,11),m,y=s(y,10),l,e[9],1352829926,13),m=h(m=s(m,10),y=h(y,l=h(l,p,b,m,y,e[2],1352829926,15),p,b=s(b,10),m,e[11],1352829926,15),l,p=s(p,10),b,e[4],1352829926,5),l=h(l=s(l,10),p=h(p,b=h(b,m,y,l,p,e[13],1352829926,7),m,y=s(y,10),l,e[6],1352829926,7),b,m=s(m,10),y,e[15],1352829926,8),b=h(b=s(b,10),m=h(m,y=h(y,l,p,b,m,e[8],1352829926,11),l,p=s(p,10),b,e[1],1352829926,14),y,l=s(l,10),p,e[10],1352829926,14),y=c(y=s(y,10),l=h(l,p=h(p,b,m,y,l,e[3],1352829926,12),b,m=s(m,10),y,e[12],1352829926,6),p,b=s(b,10),m,e[6],1548603684,9),p=c(p=s(p,10),b=c(b,m=c(m,y,l,p,b,e[11],1548603684,13),y,l=s(l,10),p,e[3],1548603684,15),m,y=s(y,10),l,e[7],1548603684,7),m=c(m=s(m,10),y=c(y,l=c(l,p,b,m,y,e[0],1548603684,12),p,b=s(b,10),m,e[13],1548603684,8),l,p=s(p,10),b,e[5],1548603684,9),l=c(l=s(l,10),p=c(p,b=c(b,m,y,l,p,e[10],1548603684,11),m,y=s(y,10),l,e[14],1548603684,7),b,m=s(m,10),y,e[15],1548603684,7),b=c(b=s(b,10),m=c(m,y=c(y,l,p,b,m,e[8],1548603684,12),l,p=s(p,10),b,e[12],1548603684,7),y,l=s(l,10),p,e[4],1548603684,6),y=c(y=s(y,10),l=c(l,p=c(p,b,m,y,l,e[9],1548603684,15),b,m=s(m,10),y,e[1],1548603684,13),p,b=s(b,10),m,e[2],1548603684,11),p=u(p=s(p,10),b=u(b,m=u(m,y,l,p,b,e[15],1836072691,9),y,l=s(l,10),p,e[5],1836072691,7),m,y=s(y,10),l,e[1],1836072691,15),m=u(m=s(m,10),y=u(y,l=u(l,p,b,m,y,e[3],1836072691,11),p,b=s(b,10),m,e[7],1836072691,8),l,p=s(p,10),b,e[14],1836072691,6),l=u(l=s(l,10),p=u(p,b=u(b,m,y,l,p,e[6],1836072691,6),m,y=s(y,10),l,e[9],1836072691,14),b,m=s(m,10),y,e[11],1836072691,12),b=u(b=s(b,10),m=u(m,y=u(y,l,p,b,m,e[8],1836072691,13),l,p=s(p,10),b,e[12],1836072691,5),y,l=s(l,10),p,e[2],1836072691,14),y=u(y=s(y,10),l=u(l,p=u(p,b,m,y,l,e[10],1836072691,13),b,m=s(m,10),y,e[0],1836072691,13),p,b=s(b,10),m,e[4],1836072691,7),p=f(p=s(p,10),b=f(b,m=u(m,y,l,p,b,e[13],1836072691,5),y,l=s(l,10),p,e[8],2053994217,15),m,y=s(y,10),l,e[6],2053994217,5),m=f(m=s(m,10),y=f(y,l=f(l,p,b,m,y,e[4],2053994217,8),p,b=s(b,10),m,e[1],2053994217,11),l,p=s(p,10),b,e[3],2053994217,14),l=f(l=s(l,10),p=f(p,b=f(b,m,y,l,p,e[11],2053994217,14),m,y=s(y,10),l,e[15],2053994217,6),b,m=s(m,10),y,e[0],2053994217,14),b=f(b=s(b,10),m=f(m,y=f(y,l,p,b,m,e[5],2053994217,6),l,p=s(p,10),b,e[12],2053994217,9),y,l=s(l,10),p,e[2],2053994217,12),y=f(y=s(y,10),l=f(l,p=f(p,b,m,y,l,e[13],2053994217,9),b,m=s(m,10),y,e[9],2053994217,12),p,b=s(b,10),m,e[7],2053994217,5),p=a(p=s(p,10),b=f(b,m=f(m,y,l,p,b,e[10],2053994217,15),y,l=s(l,10),p,e[14],2053994217,8),m,y=s(y,10),l,e[12],0,8),m=a(m=s(m,10),y=a(y,l=a(l,p,b,m,y,e[15],0,5),p,b=s(b,10),m,e[10],0,12),l,p=s(p,10),b,e[4],0,9),l=a(l=s(l,10),p=a(p,b=a(b,m,y,l,p,e[1],0,12),m,y=s(y,10),l,e[5],0,5),b,m=s(m,10),y,e[8],0,14),b=a(b=s(b,10),m=a(m,y=a(y,l,p,b,m,e[7],0,6),l,p=s(p,10),b,e[6],0,8),y,l=s(l,10),p,e[2],0,13),y=a(y=s(y,10),l=a(l,p=a(p,b,m,y,l,e[13],0,6),b,m=s(m,10),y,e[14],0,5),p,b=s(b,10),m,e[0],0,15),p=a(p=s(p,10),b=a(b,m=a(m,y,l,p,b,e[3],0,13),y,l=s(l,10),p,e[9],0,11),m,y=s(y,10),l,e[11],0,11),m=s(m,10);var g=this._b+i+m|0;this._b=this._c+o+y|0,this._c=this._d+d+l|0,this._d=this._e+r+p|0,this._e=this._a+n+b|0,this._a=g},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},t.exports=o}).call(this,e("buffer").Buffer)},{buffer:53,"hash-base":91,inherits:107}],156:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:53}],157:[function(e,t,r){"use strict";t.exports=e("./lib")(e("./lib/elliptic"))},{"./lib":161,"./lib/elliptic":160}],158:[function(e,t,r){(function(e){"use strict";var t=Object.prototype.toString;r.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},r.isBoolean=function(e,r){if("[object Boolean]"!==t.call(e))throw TypeError(r)},r.isBuffer=function(t,r){if(!e.isBuffer(t))throw TypeError(r)},r.isFunction=function(e,r){if("[object Function]"!==t.call(e))throw TypeError(r)},r.isNumber=function(e,r){if("[object Number]"!==t.call(e))throw TypeError(r)},r.isObject=function(e,r){if("[object Object]"!==t.call(e))throw TypeError(r)},r.isBufferLength=function(e,t,r){if(e.length!==t)throw RangeError(r)},r.isBufferLength2=function(e,t,r,n){if(e.length!==t&&e.length!==r)throw RangeError(n)},r.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},r.isNumberInInterval=function(e,t,r,n){if(e<=t||e>=r)throw RangeError(n)}}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":108}],159:[function(e,t,r){(function(t){"use strict";var n=e("bip66"),i=new t([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=new t([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s=new t([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(e,r,n){var s=new t(n?i:o);return e.copy(s,n?8:9),r.copy(s,n?181:214),s},r.privateKeyImport=function(e){var t=e.length,r=0;if(!(t<r+1||48!==e[r])&&!(t<(r+=1)+1)&&128&e[r]){var n=127&e[r];if(r+=1,!(n<1||n>2||t<r+n)){var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);if(!(t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]))return e.slice(r+2,r+2+e[r+1])}}},r.signatureExport=function(e){for(var r=t.concat([new t([0]),e.r]),i=33,o=0;i>1&&0===r[o]&&!(128&r[o+1]);--i,++o);for(var s=t.concat([new t([0]),e.s]),a=33,f=0;a>1&&0===s[f]&&!(128&s[f+1]);--a,++f);return n.encode(r.slice(o),s.slice(f))},r.signatureImport=function(e){var r=new t(s),i=new t(s);try{var o=n.decode(e);if(33===o.r.length&&0===o.r[0]&&(o.r=o.r.slice(1)),o.r.length>32)throw new Error("R length is too long");if(33===o.s.length&&0===o.s[0]&&(o.s=o.s.slice(1)),o.s.length>32)throw new Error("S length is too long")}catch(e){return}return o.r.copy(r,32-o.r.length),o.s.copy(i,32-o.s.length),{r:r,s:i}},r.signatureImportLax=function(e){var r=new t(s),n=new t(s),i=e.length,o=0;if(48===e[o++]){var a=e[o++];if(!(128&a&&(o+=a-128)>i)&&2===e[o++]){var f=e[o++];if(128&f){if(o+(a=f-128)>i)return;for(;a>0&&0===e[o];o+=1,a-=1);for(f=0;a>0;o+=1,a-=1)f=(f<<8)+e[o]}if(!(f>i-o)){var u=o;if(o+=f,2===e[o++]){var c=e[o++];if(128&c){if(o+(a=c-128)>i)return;for(;a>0&&0===e[o];o+=1,a-=1);for(c=0;a>0;o+=1,a-=1)c=(c<<8)+e[o]}if(!(c>i-o)){var h=o;for(o+=c;f>0&&0===e[u];f-=1,u+=1);if(!(f>32)){var d=e.slice(u,u+f);for(d.copy(r,32-d.length);c>0&&0===e[h];c-=1,h+=1);if(!(c>32)){var l=e.slice(h,h+c);return l.copy(n,32-l.length),{r:r,s:n}}}}}}}}}}).call(this,e("buffer").Buffer)},{bip66:19,buffer:53}],160:[function(e,t,r){(function(t){"use strict";var n=e("create-hash"),i=e("bn.js"),o=e("elliptic").ec,s=e("../messages.json"),a=new o("secp256k1"),f=a.curve;function u(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new i(t);if(r.cmp(f.p)>=0)return null;var n=(r=r.toRed(f.red)).redSqr().redIMul(r).redIAdd(f.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),a.keyPair({pub:{x:r,y:n}})}(t,e.slice(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var n=new i(t),o=new i(r);if(n.cmp(f.p)>=0||o.cmp(f.p)>=0)return null;if(n=n.toRed(f.red),o=o.toRed(f.red),(6===e||7===e)&&o.isOdd()!==(7===e))return null;var s=n.redSqr().redIMul(n);return o.redSqr().redISub(s.redIAdd(f.b)).isZero()?a.keyPair({pub:{x:n,y:o}}):null}(t,e.slice(1,33),e.slice(33,65));default:return null}}r.privateKeyVerify=function(e){var t=new i(e);return t.cmp(f.n)<0&&!t.isZero()},r.privateKeyExport=function(e,r){var n=new i(e);if(n.cmp(f.n)>=0||n.isZero())throw new Error(s.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return new t(a.keyFromPrivate(e).getPublic(r,!0))},r.privateKeyTweakAdd=function(e,r){var n=new i(r);if(n.cmp(f.n)>=0)throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(n.iadd(new i(e)),n.cmp(f.n)>=0&&n.isub(f.n),n.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return n.toArrayLike(t,"be",32)},r.privateKeyTweakMul=function(e,r){var n=new i(r);if(n.cmp(f.n)>=0||n.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return n.imul(new i(e)),n.cmp(f.n)&&(n=n.umod(f.n)),n.toArrayLike(t,"be",32)},r.publicKeyCreate=function(e,r){var n=new i(e);if(n.cmp(f.n)>=0||n.isZero())throw new Error(s.EC_PUBLIC_KEY_CREATE_FAIL);return new t(a.keyFromPrivate(e).getPublic(r,!0))},r.publicKeyConvert=function(e,r){var n=u(e);if(null===n)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);return new t(n.getPublic(r,!0))},r.publicKeyVerify=function(e){return null!==u(e)},r.publicKeyTweakAdd=function(e,r,n){var o=u(e);if(null===o)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if((r=new i(r)).cmp(f.n)>=0)throw new Error(s.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return new t(f.g.mul(r).add(o.pub).encode(!0,n))},r.publicKeyTweakMul=function(e,r,n){var o=u(e);if(null===o)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if((r=new i(r)).cmp(f.n)>=0||r.isZero())throw new Error(s.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return new t(o.pub.mul(r).encode(!0,n))},r.publicKeyCombine=function(e,r){for(var n=new Array(e.length),i=0;i<e.length;++i)if(n[i]=u(e[i]),null===n[i])throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);for(var o=n[0].pub,a=1;a<n.length;++a)o=o.add(n[a].pub);if(o.isInfinity())throw new Error(s.EC_PUBLIC_KEY_COMBINE_FAIL);return new t(o.encode(!0,r))},r.signatureNormalize=function(e){var r=new i(e.slice(0,32)),n=new i(e.slice(32,64));if(r.cmp(f.n)>=0||n.cmp(f.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);var o=new t(e);return 1===n.cmp(a.nh)&&f.n.sub(n).toArrayLike(t,"be",32).copy(o,32),o},r.signatureExport=function(e){var t=e.slice(0,32),r=e.slice(32,64);if(new i(t).cmp(f.n)>=0||new i(r).cmp(f.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:r}},r.signatureImport=function(e){var r=new i(e.r);r.cmp(f.n)>=0&&(r=new i(0));var n=new i(e.s);return n.cmp(f.n)>=0&&(n=new i(0)),t.concat([r.toArrayLike(t,"be",32),n.toArrayLike(t,"be",32)])},r.sign=function(e,r,n,o){if("function"==typeof n){var u=n;n=function(n){var a=u(e,r,null,o,n);if(!t.isBuffer(a)||32!==a.length)throw new Error(s.ECDSA_SIGN_FAIL);return new i(a)}}var c=new i(r);if(c.cmp(f.n)>=0||c.isZero())throw new Error(s.ECDSA_SIGN_FAIL);var h=a.sign(e,r,{canonical:!0,k:n,pers:o});return{signature:t.concat([h.r.toArrayLike(t,"be",32),h.s.toArrayLike(t,"be",32)]),recovery:h.recoveryParam}},r.verify=function(e,t,r){var n={r:t.slice(0,32),s:t.slice(32,64)},o=new i(n.r),c=new i(n.s);if(o.cmp(f.n)>=0||c.cmp(f.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);if(1===c.cmp(a.nh)||o.isZero()||c.isZero())return!1;var h=u(r);if(null===h)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);return a.verify(e,n,{x:h.pub.x,y:h.pub.y})},r.recover=function(e,r,n,o){var u={r:r.slice(0,32),s:r.slice(32,64)},c=new i(u.r),h=new i(u.s);if(c.cmp(f.n)>=0||h.cmp(f.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);try{if(c.isZero()||h.isZero())throw new Error;var d=a.recoverPubKey(e,u,n);return new t(d.encode(!0,o))}catch(e){throw new Error(s.ECDSA_RECOVER_FAIL)}},r.ecdh=function(e,t){var i=r.ecdhUnsafe(e,t,!0);return n("sha256").update(i).digest()},r.ecdhUnsafe=function(e,r,n){var o=u(e);if(null===o)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);var a=new i(r);if(a.cmp(f.n)>=0||a.isZero())throw new Error(s.ECDH_FAIL);return new t(o.pub.mul(a).encode(!0,n))}}).call(this,e("buffer").Buffer)},{"../messages.json":162,"bn.js":20,buffer:53,"create-hash":57,elliptic:73}],161:[function(e,t,r){"use strict";var n=e("./assert"),i=e("./der"),o=e("./messages.json");function s(e,t){return void 0===e?t:(n.isBoolean(e,o.COMPRESSED_TYPE_INVALID),e)}t.exports=function(e){return{privateKeyVerify:function(t){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,r){n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=s(r,!0);var a=e.privateKeyExport(t,r);return i.privateKeyExport(t,a,r)},privateKeyImport:function(t){if(n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),(t=i.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(o.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyTweakAdd:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,r)},privateKeyTweakMul:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,r)},publicKeyCreate:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=s(r,!0),e.publicKeyCreate(t,r)},publicKeyConvert:function(t,r){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),r=s(r,!0),e.publicKeyConvert(t,r)},publicKeyVerify:function(t){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=s(i,!0),e.publicKeyTweakAdd(t,r,i)},publicKeyTweakMul:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=s(i,!0),e.publicKeyTweakMul(t,r,i)},publicKeyCombine:function(t,r){n.isArray(t,o.EC_PUBLIC_KEYS_TYPE_INVALID),n.isLengthGTZero(t,o.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<t.length;++i)n.isBuffer(t[i],o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t[i],33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID);return r=s(r,!0),e.publicKeyCombine(t,r)},signatureNormalize:function(t){return n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=e.signatureExport(t);return i.signatureExport(r)},signatureImport:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImport(t);if(r)return e.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImportLax(t);if(r)return e.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,r,i){n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID);var s=null,a=null;return void 0!==i&&(n.isObject(i,o.OPTIONS_TYPE_INVALID),void 0!==i.data&&(n.isBuffer(i.data,o.OPTIONS_DATA_TYPE_INVALID),n.isBufferLength(i.data,32,o.OPTIONS_DATA_LENGTH_INVALID),s=i.data),void 0!==i.noncefn&&(n.isFunction(i.noncefn,o.OPTIONS_NONCEFN_TYPE_INVALID),a=i.noncefn)),e.sign(t,r,a,s)},verify:function(t,r,i){return n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isBuffer(i,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(i,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,r,i)},recover:function(t,r,i,a){return n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isNumber(i,o.RECOVERY_ID_TYPE_INVALID),n.isNumberInInterval(i,-1,4,o.RECOVERY_ID_VALUE_INVALID),a=s(a,!0),e.recover(t,r,i,a)},ecdh:function(t,r){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,r)},ecdhUnsafe:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),i=s(i,!0),e.ecdhUnsafe(t,r,i)}}}},{"./assert":158,"./der":159,"./messages.json":162}],162:[function(e,t,r){t.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}},{}],163:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var f=s%i,u=Math.min(o-a,i-f),c=0;c<u;c++)r[f+c]=e[a+c];a+=u,(s+=u)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=4294967295&r,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},{"safe-buffer":156}],164:[function(e,t,r){(r=t.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t}).sha=e("./sha"),r.sha1=e("./sha1"),r.sha224=e("./sha224"),r.sha256=e("./sha256"),r.sha384=e("./sha384"),r.sha512=e("./sha512")},{"./sha":165,"./sha1":166,"./sha224":167,"./sha256":168,"./sha384":169,"./sha512":170}],165:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function f(){this.init(),this._w=a,i.call(this,64,56)}function u(e){return e<<30|e>>>2}function c(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(f,i),f.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},f.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,f=0|this._e,h=0;h<16;++h)r[h]=e.readInt32BE(4*h);for(;h<80;++h)r[h]=r[h-3]^r[h-8]^r[h-14]^r[h-16];for(var d=0;d<80;++d){var l=~~(d/20),p=0|((t=n)<<5|t>>>27)+c(l,i,o,a)+f+r[d]+s[l];f=a,a=o,o=u(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=f+this._e|0},f.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=f},{"./hash":163,inherits:107,"safe-buffer":156}],166:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function f(){this.init(),this._w=a,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function c(e){return e<<30|e>>>2}function h(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(f,i),f.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},f.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,f=0|this._e,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<80;++d)r[d]=(t=r[d-3]^r[d-8]^r[d-14]^r[d-16])<<1|t>>>31;for(var l=0;l<80;++l){var p=~~(l/20),b=u(n)+h(p,i,o,a)+f+r[l]+s[p]|0;f=a,a=o,o=c(i),i=n,n=b}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=f+this._e|0},f.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=f},{"./hash":163,inherits:107,"safe-buffer":156}],167:[function(e,t,r){var n=e("inherits"),i=e("./sha256"),o=e("./hash"),s=e("safe-buffer").Buffer,a=new Array(64);function f(){this.init(),this._w=a,o.call(this,64,56)}n(f,i),f.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},f.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=f},{"./hash":163,"./sha256":168,inherits:107,"safe-buffer":156}],168:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function f(){this.init(),this._w=a,i.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function c(e,t,r){return e&t|r&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function l(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(f,i),f.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},f.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,f=0|this._e,p=0|this._f,b=0|this._g,m=0|this._h,y=0;y<16;++y)r[y]=e.readInt32BE(4*y);for(;y<64;++y)r[y]=0|(((t=r[y-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[y-7]+l(r[y-15])+r[y-16];for(var g=0;g<64;++g){var v=m+d(f)+u(f,p,b)+s[g]+r[g]|0,w=h(n)+c(n,i,o)|0;m=b,b=p,p=f,f=a+v|0,a=o,o=i,i=n,n=v+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=f+this._e|0,this._f=p+this._f|0,this._g=b+this._g|0,this._h=m+this._h|0},f.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=f},{"./hash":163,inherits:107,"safe-buffer":156}],169:[function(e,t,r){var n=e("inherits"),i=e("./sha512"),o=e("./hash"),s=e("safe-buffer").Buffer,a=new Array(160);function f(){this.init(),this._w=a,o.call(this,128,112)}n(f,i),f.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},f.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=f},{"./hash":163,"./sha512":170,inherits:107,"safe-buffer":156}],170:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function f(){this.init(),this._w=a,i.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function c(e,t,r){return e&t|r&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function b(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function y(e,t){return e>>>0<t>>>0?1:0}n(f,i),f.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},f.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,f=0|this._fh,g=0|this._gh,v=0|this._hh,w=0|this._al,_=0|this._bl,S=0|this._cl,A=0|this._dl,E=0|this._el,k=0|this._fl,M=0|this._gl,x=0|this._hl,I=0;I<32;I+=2)t[I]=e.readInt32BE(4*I),t[I+1]=e.readInt32BE(4*I+4);for(;I<160;I+=2){var B=t[I-30],P=t[I-30+1],C=l(B,P),T=p(P,B),R=b(B=t[I-4],P=t[I-4+1]),L=m(P,B),N=t[I-14],j=t[I-14+1],O=t[I-32],D=t[I-32+1],z=T+j|0,F=C+N+y(z,T)|0;F=(F=F+R+y(z=z+L|0,L)|0)+O+y(z=z+D|0,D)|0,t[I]=F,t[I+1]=z}for(var U=0;U<160;U+=2){F=t[U],z=t[U+1];var q=c(r,n,i),H=c(w,_,S),K=h(r,w),V=h(w,r),Y=d(a,E),G=d(E,a),W=s[U],J=s[U+1],Z=u(a,f,g),X=u(E,k,M),$=x+G|0,Q=v+Y+y($,x)|0;Q=(Q=(Q=Q+Z+y($=$+X|0,X)|0)+W+y($=$+J|0,J)|0)+F+y($=$+z|0,z)|0;var ee=V+H|0,te=K+q+y(ee,V)|0;v=g,x=M,g=f,M=k,f=a,k=E,a=o+Q+y(E=A+$|0,A)|0,o=i,A=S,i=n,S=_,n=r,_=w,r=Q+te+y(w=$+ee|0,$)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+S|0,this._dl=this._dl+A|0,this._el=this._el+E|0,this._fl=this._fl+k|0,this._gl=this._gl+M|0,this._hl=this._hl+x|0,this._ah=this._ah+r+y(this._al,w)|0,this._bh=this._bh+n+y(this._bl,_)|0,this._ch=this._ch+i+y(this._cl,S)|0,this._dh=this._dh+o+y(this._dl,A)|0,this._eh=this._eh+a+y(this._el,E)|0,this._fh=this._fh+f+y(this._fl,k)|0,this._gh=this._gh+g+y(this._gl,M)|0,this._hh=this._hh+v+y(this._hl,x)|0},f.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=f},{"./hash":163,inherits:107,"safe-buffer":156}],171:[function(e,t,r){"use strict";var n={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};function i(e,t,r){if(4!==t.length)throw new n.exception.invalid("invalid aes block size");var i=e.b[r],o=t[0]^i[0],s=t[r?3:1]^i[1],a=t[2]^i[2];t=t[r?1:3]^i[3];var f,u,c,h,d=i.length/4-2,l=4,p=[0,0,0,0];e=(f=e.s[r])[0];var b=f[1],m=f[2],y=f[3],g=f[4];for(h=0;h<d;h++)f=e[o>>>24]^b[s>>16&255]^m[a>>8&255]^y[255&t]^i[l],u=e[s>>>24]^b[a>>16&255]^m[t>>8&255]^y[255&o]^i[l+1],c=e[a>>>24]^b[t>>16&255]^m[o>>8&255]^y[255&s]^i[l+2],t=e[t>>>24]^b[o>>16&255]^m[s>>8&255]^y[255&a]^i[l+3],l+=4,o=f,s=u,a=c;for(h=0;4>h;h++)p[r?3&-h:h]=g[o>>>24]<<24^g[s>>16&255]<<16^g[a>>8&255]<<8^g[255&t]^i[l++],f=o,o=s,s=a,a=t,t=f;return p}function o(e,t){var r,n,i,o=e.F,s=e.b,a=o[0],f=o[1],u=o[2],c=o[3],h=o[4],d=o[5],l=o[6],p=o[7];for(r=0;64>r;r++)16>r?n=t[r]:(n=t[r+1&15],i=t[r+14&15],n=t[15&r]=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+t[15&r]+t[r+9&15]|0),n=n+p+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(l^h&(d^l))+s[r],p=l,l=d,d=h,h=c+n|0,c=u,u=f,a=n+((f=a)&u^c&(f^u))+(f>>>2^f>>>13^f>>>22^f<<30^f<<19^f<<10)|0;o[0]=o[0]+a|0,o[1]=o[1]+f|0,o[2]=o[2]+u|0,o[3]=o[3]+c|0,o[4]=o[4]+h|0,o[5]=o[5]+d|0,o[6]=o[6]+l|0,o[7]=o[7]+p|0}function s(e,t){var r,i=n.random.K[e],o=[];for(r in i)i.hasOwnProperty(r)&&o.push(i[r]);for(r=0;r<o.length;r++)o[r](t)}function a(e,t){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?e.addEntropy(window.performance.now(),t,"loadtime"):e.addEntropy((new Date).valueOf(),t,"loadtime")}function f(e){e.b=u(e).concat(u(e)),e.L=new n.cipher.aes(e.b)}function u(e){for(var t=0;4>t&&(e.h[t]=e.h[t]+1|0,!e.h[t]);t++);return e.L.encrypt(e.h)}function c(e,t){return function(){t.apply(e,arguments)}}n.cipher.aes=function(e){this.s[0][0][0]||this.O();var t,r,i,o,s=this.s[0][4],a=this.s[1],f=1;if(4!==(t=e.length)&&6!==t&&8!==t)throw new n.exception.invalid("invalid aes key size");for(this.b=[i=e.slice(0),o=[]],e=t;e<4*t+28;e++)r=i[e-1],(0==e%t||8===t&&4==e%t)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],0==e%t&&(r=r<<8^r>>>24^f<<24,f=f<<1^283*(f>>7))),i[e]=i[e-t]^r;for(t=0;e;t++,e--)r=i[3&t?e:e-4],o[t]=4>=e||4>t?r:a[0][s[r>>>24]]^a[1][s[r>>16&255]]^a[2][s[r>>8&255]]^a[3][s[255&r]]},n.cipher.aes.prototype={encrypt:function(e){return i(this,e,0)},decrypt:function(e){return i(this,e,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var e,t,r,n,i,o,s,a=this.s[0],f=this.s[1],u=a[4],c=f[4],h=[],d=[];for(e=0;256>e;e++)d[(h[e]=e<<1^283*(e>>7))^e]=e;for(t=r=0;!u[t];t^=n||1,r=d[r]||1)for(o=(o=r^r<<1^r<<2^r<<3^r<<4)>>8^255&o^99,u[t]=o,c[o]=t,s=16843009*(i=h[e=h[n=h[t]]])^65537*e^257*n^16843008*t,i=257*h[o]^16843008*o,e=0;4>e;e++)a[e][t]=i=i<<24^i>>>8,f[e][o]=s=s<<24^s>>>8;for(e=0;5>e;e++)a[e]=a[e].slice(0),f[e]=f[e].slice(0)}},n.bitArray={bitSlice:function(e,t,r){return e=n.bitArray.$(e.slice(t/32),32-(31&t)).slice(1),void 0===r?e:n.bitArray.clamp(e,r-t)},extract:function(e,t,r){var n=Math.floor(-t-r&31);return(-32&(t+r-1^t)?e[t/32|0]<<32-n^e[t/32+1|0]>>>n:e[t/32|0]>>>n)&(1<<r)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var r=e[e.length-1],i=n.bitArray.getPartial(r);return 32===i?e.concat(t):n.bitArray.$(t,i,0|r,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+n.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;var r=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,0<r&&t&&(e[r-1]=n.bitArray.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:function(e,t,r){return 32===e?t:(r?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(n.bitArray.bitLength(e)!==n.bitArray.bitLength(t))return!1;var r,i=0;for(r=0;r<e.length;r++)i|=e[r]^t[r];return 0===i},$:function(e,t,r,i){var o;for(o=0,void 0===i&&(i=[]);32<=t;t-=32)i.push(r),r=0;if(0===t)return i.concat(e);for(o=0;o<e.length;o++)i.push(r|e[o]>>>t),r=e[o]<<32-t;return o=e.length?e[e.length-1]:0,e=n.bitArray.getPartial(o),i.push(n.bitArray.partial(t+e&31,32<t+e?r:i.pop(),1)),i},i:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,r;for(t=0;t<e.length;++t)r=e[t],e[t]=r>>>24|r>>>8&65280|(65280&r)<<8|r<<24;return e}},n.codec.utf8String={fromBits:function(e){var t,r,i="",o=n.bitArray.bitLength(e);for(t=0;t<o/8;t++)0==(3&t)&&(r=e[t/4]),i+=String.fromCharCode(r>>>24),r<<=8;return decodeURIComponent(escape(i))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,r=[],i=0;for(t=0;t<e.length;t++)i=i<<8|e.charCodeAt(t),3==(3&t)&&(r.push(i),i=0);return 3&t&&r.push(n.bitArray.partial(8*(3&t),i)),r}},n.codec.hex={fromBits:function(e){var t,r="";for(t=0;t<e.length;t++)r+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return r.substr(0,n.bitArray.bitLength(e)/4)},toBits:function(e){var t,r,i=[];for(r=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)i.push(0^parseInt(e.substr(t,8),16));return n.bitArray.clamp(i,4*r)}},n.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(e,t,r){var i=n.codec.base32.BASE,o=n.codec.base32.REMAINING,s="",a=0,f=n.codec.base32.B,u=0,c=n.bitArray.bitLength(e);for(r&&(f=n.codec.base32.X),r=0;s.length*i<c;)s+=f.charAt((u^e[r]>>>a)>>>o),a<i?(u=e[r]<<i-a,a+=o,r++):(u<<=i,a-=i);for(;7&s.length&&!t;)s+="=";return s},toBits:function(e,t){e=e.replace(/\s|=/g,"").toUpperCase();var r,i,o=n.codec.base32.BITS,s=n.codec.base32.BASE,a=n.codec.base32.REMAINING,f=[],u=0,c=n.codec.base32.B,h=0,d="base32";for(t&&(c=n.codec.base32.X,d="base32hex"),r=0;r<e.length;r++){if(0>(i=c.indexOf(e.charAt(r)))){if(!t)try{return n.codec.base32hex.toBits(e)}catch(e){}throw new n.exception.invalid("this isn't "+d+"!")}u>a?(u-=a,f.push(h^i>>>u),h=i<<o-u):h^=i<<o-(u+=s)}return 56&u&&f.push(n.bitArray.partial(56&u,h,1)),f}},n.codec.base32hex={fromBits:function(e,t){return n.codec.base32.fromBits(e,t,1)},toBits:function(e){return n.codec.base32.toBits(e,1)}},n.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,t,r){var i="",o=0,s=n.codec.base64.B,a=0,f=n.bitArray.bitLength(e);for(r&&(s=s.substr(0,62)+"-_"),r=0;6*i.length<f;)i+=s.charAt((a^e[r]>>>o)>>>26),6>o?(a=e[r]<<6-o,o+=26,r++):(a<<=6,o-=6);for(;3&i.length&&!t;)i+="=";return i},toBits:function(e,t){e=e.replace(/\s|=/g,"");var r,i,o=[],s=0,a=n.codec.base64.B,f=0;for(t&&(a=a.substr(0,62)+"-_"),r=0;r<e.length;r++){if(0>(i=a.indexOf(e.charAt(r))))throw new n.exception.invalid("this isn't base64!");26<s?(s-=26,o.push(f^i>>>s),f=i<<32-s):f^=i<<32-(s+=6)}return 56&s&&o.push(n.bitArray.partial(56&s,f,1)),o}},n.codec.base64url={fromBits:function(e){return n.codec.base64.fromBits(e,1,1)},toBits:function(e){return n.codec.base64.toBits(e,1)}},n.hash.sha256=function(e){this.b[0]||this.O(),e?(this.F=e.F.slice(0),this.A=e.A.slice(0),this.l=e.l):this.reset()},n.hash.sha256.hash=function(e){return(new n.hash.sha256).update(e).finalize()},n.hash.sha256.prototype={blockSize:512,reset:function(){return this.F=this.Y.slice(0),this.A=[],this.l=0,this},update:function(e){"string"==typeof e&&(e=n.codec.utf8String.toBits(e));var t,r=this.A=n.bitArray.concat(this.A,e);if(t=this.l,9007199254740991<(e=this.l=t+n.bitArray.bitLength(e)))throw new n.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var i=new Uint32Array(r),s=0;for(t=512+t-(512+t&511);t<=e;t+=512)o(this,i.subarray(16*s,16*(s+1))),s+=1;r.splice(0,16*s)}else for(t=512+t-(512+t&511);t<=e;t+=512)o(this,r.splice(0,16));return this},finalize:function(){var e,t=this.A,r=this.F;for(e=(t=n.bitArray.concat(t,[n.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.l/4294967296)),t.push(0|this.l);t.length;)o(this,t.splice(0,16));return this.reset(),r},Y:[],b:[],O:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,r,n=0,i=2;64>n;i++){for(r=!0,t=2;t*t<=i;t++)if(0==i%t){r=!1;break}r&&(8>n&&(this.Y[n]=e(Math.pow(i,.5))),this.b[n]=e(Math.pow(i,1/3)),n++)}}},n.mode.ccm={name:"ccm",G:[],listenProgress:function(e){n.mode.ccm.G.push(e)},unListenProgress:function(e){-1<(e=n.mode.ccm.G.indexOf(e))&&n.mode.ccm.G.splice(e,1)},fa:function(e){var t,r=n.mode.ccm.G.slice();for(t=0;t<r.length;t+=1)r[t](e)},encrypt:function(e,t,r,i,o){var s,a=t.slice(0),f=n.bitArray,u=f.bitLength(r)/8,c=f.bitLength(a)/8;if(o=o||64,i=i||[],7>u)throw new n.exception.invalid("ccm: iv must be at least 7 bytes");for(s=2;4>s&&c>>>8*s;s++);return s<15-u&&(s=15-u),r=f.clamp(r,8*(15-s)),t=n.mode.ccm.V(e,t,r,i,o,s),a=n.mode.ccm.C(e,a,r,t,o,s),f.concat(a.data,a.tag)},decrypt:function(e,t,r,i,o){o=o||64,i=i||[];var s=n.bitArray,a=s.bitLength(r)/8,f=s.bitLength(t),u=s.clamp(t,f-o),c=s.bitSlice(t,f-o);f=(f-o)/8;if(7>a)throw new n.exception.invalid("ccm: iv must be at least 7 bytes");for(t=2;4>t&&f>>>8*t;t++);if(t<15-a&&(t=15-a),r=s.clamp(r,8*(15-t)),u=n.mode.ccm.C(e,u,r,c,o,t),e=n.mode.ccm.V(e,u.data,r,i,o,t),!s.equal(u.tag,e))throw new n.exception.corrupt("ccm: tag doesn't match");return u.data},na:function(e,t,r,i,o,s){var a=[],f=n.bitArray,u=f.i;if(i=[f.partial(8,(t.length?64:0)|i-2<<2|s-1)],(i=f.concat(i,r))[3]|=o,i=e.encrypt(i),t.length)for(65279>=(r=f.bitLength(t)/8)?a=[f.partial(16,r)]:4294967295>=r&&(a=f.concat([f.partial(16,65534)],[r])),a=f.concat(a,t),t=0;t<a.length;t+=4)i=e.encrypt(u(i,a.slice(t,t+4).concat([0,0,0])));return i},V:function(e,t,r,i,o,s){var a=n.bitArray,f=a.i;if((o/=8)%2||4>o||16<o)throw new n.exception.invalid("ccm: invalid tag length");if(4294967295<i.length||4294967295<t.length)throw new n.exception.bug("ccm: can't deal with 4GiB or more data");for(r=n.mode.ccm.na(e,i,r,o,a.bitLength(t)/8,s),i=0;i<t.length;i+=4)r=e.encrypt(f(r,t.slice(i,i+4).concat([0,0,0])));return a.clamp(r,8*o)},C:function(e,t,r,i,o,s){var a,f=n.bitArray;a=f.i;var u=t.length,c=f.bitLength(t),h=u/50,d=h;if(r=f.concat([f.partial(8,s-1)],r).concat([0,0,0]).slice(0,4),i=f.bitSlice(a(i,e.encrypt(r)),0,o),!u)return{tag:i,data:[]};for(a=0;a<u;a+=4)a>h&&(n.mode.ccm.fa(a/u),h+=d),r[3]++,o=e.encrypt(r),t[a]^=o[0],t[a+1]^=o[1],t[a+2]^=o[2],t[a+3]^=o[3];return{tag:i,data:f.clamp(t,c)}}},n.mode.ocb2={name:"ocb2",encrypt:function(e,t,r,i,o,s){if(128!==n.bitArray.bitLength(r))throw new n.exception.invalid("ocb iv must be 128 bits");var a,f=n.mode.ocb2.S,u=n.bitArray,c=u.i,h=[0,0,0,0];r=f(e.encrypt(r));var d,l=[];for(i=i||[],o=o||64,a=0;a+4<t.length;a+=4)h=c(h,d=t.slice(a,a+4)),l=l.concat(c(r,e.encrypt(c(r,d)))),r=f(r);return d=t.slice(a),t=u.bitLength(d),a=e.encrypt(c(r,[0,0,0,t])),h=c(h,c((d=u.clamp(c(d.concat([0,0,0]),a),t)).concat([0,0,0]),a)),h=e.encrypt(c(h,c(r,f(r)))),i.length&&(h=c(h,s?i:n.mode.ocb2.pmac(e,i))),l.concat(u.concat(d,u.clamp(h,o)))},decrypt:function(e,t,r,i,o,s){if(128!==n.bitArray.bitLength(r))throw new n.exception.invalid("ocb iv must be 128 bits");o=o||64;var a,f,u=n.mode.ocb2.S,c=n.bitArray,h=c.i,d=[0,0,0,0],l=u(e.encrypt(r)),p=n.bitArray.bitLength(t)-o,b=[];for(i=i||[],r=0;r+4<p/32;r+=4)d=h(d,a=h(l,e.decrypt(h(l,t.slice(r,r+4))))),b=b.concat(a),l=u(l);if(f=p-32*r,d=h(d,a=h(a=e.encrypt(h(l,[0,0,0,f])),c.clamp(t.slice(r),f).concat([0,0,0]))),d=e.encrypt(h(d,h(l,u(l)))),i.length&&(d=h(d,s?i:n.mode.ocb2.pmac(e,i))),!c.equal(c.clamp(d,o),c.bitSlice(t,p)))throw new n.exception.corrupt("ocb: tag doesn't match");return b.concat(c.clamp(a,f))},pmac:function(e,t){var r,i=n.mode.ocb2.S,o=n.bitArray,s=o.i,a=[0,0,0,0],f=s(f=e.encrypt([0,0,0,0]),i(i(f)));for(r=0;r+4<t.length;r+=4)f=i(f),a=s(a,e.encrypt(s(f,t.slice(r,r+4))));return r=t.slice(r),128>o.bitLength(r)&&(f=s(f,i(f)),r=o.concat(r,[-2147483648,0,0,0])),a=s(a,r),e.encrypt(s(i(s(f,i(f))),a))},S:function(e){return[e[0]<<1^e[1]>>>31,e[1]<<1^e[2]>>>31,e[2]<<1^e[3]>>>31,e[3]<<1^135*(e[0]>>>31)]}},n.mode.gcm={name:"gcm",encrypt:function(e,t,r,i,o){var s=t.slice(0);return t=n.bitArray,i=i||[],e=n.mode.gcm.C(!0,e,s,i,r,o||128),t.concat(e.data,e.tag)},decrypt:function(e,t,r,i,o){var s=t.slice(0),a=n.bitArray,f=a.bitLength(s);if(o=o||128,i=i||[],o<=f?(t=a.bitSlice(s,f-o),s=a.bitSlice(s,0,f-o)):(t=s,s=[]),e=n.mode.gcm.C(!1,e,s,i,r,o),!a.equal(e.tag,t))throw new n.exception.corrupt("gcm: tag doesn't match");return e.data},ka:function(e,t){var r,i,o,s,a,f=n.bitArray.i;for(o=[0,0,0,0],s=t.slice(0),r=0;128>r;r++){for((i=0!=(e[Math.floor(r/32)]&1<<31-r%32))&&(o=f(o,s)),a=0!=(1&s[3]),i=3;0<i;i--)s[i]=s[i]>>>1|(1&s[i-1])<<31;s[0]>>>=1,a&&(s[0]^=-520093696)}return o},j:function(e,t,r){var i,o=r.length;for(t=t.slice(0),i=0;i<o;i+=4)t[0]^=4294967295&r[i],t[1]^=4294967295&r[i+1],t[2]^=4294967295&r[i+2],t[3]^=4294967295&r[i+3],t=n.mode.gcm.ka(t,e);return t},C:function(e,t,r,i,o,s){var a,f,u,c,h,d,l,p,b=n.bitArray;for(d=r.length,l=b.bitLength(r),p=b.bitLength(i),f=b.bitLength(o),a=t.encrypt([0,0,0,0]),96===f?(o=o.slice(0),o=b.concat(o,[1])):(o=n.mode.gcm.j(a,[0,0,0,0],o),o=n.mode.gcm.j(a,o,[0,0,Math.floor(f/4294967296),4294967295&f])),f=n.mode.gcm.j(a,[0,0,0,0],i),h=o.slice(0),i=f.slice(0),e||(i=n.mode.gcm.j(a,f,r)),c=0;c<d;c+=4)h[3]++,u=t.encrypt(h),r[c]^=u[0],r[c+1]^=u[1],r[c+2]^=u[2],r[c+3]^=u[3];return r=b.clamp(r,l),e&&(i=n.mode.gcm.j(a,f,r)),e=[Math.floor(p/4294967296),4294967295&p,Math.floor(l/4294967296),4294967295&l],i=n.mode.gcm.j(a,i,e),u=t.encrypt(o),i[0]^=u[0],i[1]^=u[1],i[2]^=u[2],i[3]^=u[3],{tag:b.bitSlice(i,0,s),data:r}}},n.misc.hmac=function(e,t){this.W=t=t||n.hash.sha256;var r,i=[[],[]],o=t.prototype.blockSize/32;for(this.w=[new t,new t],e.length>o&&(e=t.hash(e)),r=0;r<o;r++)i[0][r]=909522486^e[r],i[1][r]=1549556828^e[r];this.w[0].update(i[0]),this.w[1].update(i[1]),this.R=new t(this.w[0])},n.misc.hmac.prototype.encrypt=n.misc.hmac.prototype.mac=function(e){if(this.aa)throw new n.exception.invalid("encrypt on already updated hmac called!");return this.update(e),this.digest(e)},n.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]),this.aa=!1},n.misc.hmac.prototype.update=function(e){this.aa=!0,this.R.update(e)},n.misc.hmac.prototype.digest=function(){var e=this.R.finalize();e=new this.W(this.w[1]).update(e).finalize();return this.reset(),e},n.misc.pbkdf2=function(e,t,r,i,o){if(r=r||1e4,0>i||0>r)throw new n.exception.invalid("invalid params to pbkdf2");"string"==typeof e&&(e=n.codec.utf8String.toBits(e)),"string"==typeof t&&(t=n.codec.utf8String.toBits(t)),e=new(o=o||n.misc.hmac)(e);var s,a,f,u,c=[],h=n.bitArray;for(u=1;32*c.length<(i||1);u++){for(o=s=e.encrypt(h.concat(t,[u])),a=1;a<r;a++)for(s=e.encrypt(s),f=0;f<s.length;f++)o[f]^=s[f];c=c.concat(o)}return i&&(c=h.clamp(c,i)),c},n.prng=function(e){this.c=[new n.hash.sha256],this.m=[0],this.P=0,this.H={},this.N=0,this.U={},this.Z=this.f=this.o=this.ha=0,this.b=[0,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.L=void 0,this.M=e,this.D=!1,this.K={progress:{},seeded:{}},this.u=this.ga=0,this.I=1,this.J=2,this.ca=65536,this.T=[0,48,64,96,128,192,256,384,512,768,1024],this.da=3e4,this.ba=80},n.prng.prototype={randomWords:function(e,t){var r,i,o=[];if((r=this.isReady(t))===this.u)throw new n.exception.notReady("generator isn't seeded");if(r&this.J){r=!(r&this.I),i=[];var s,a=0;for(this.Z=i[0]=(new Date).valueOf()+this.da,s=0;16>s;s++)i.push(4294967296*Math.random()|0);for(s=0;s<this.c.length&&(i=i.concat(this.c[s].finalize()),a+=this.m[s],this.m[s]=0,r||!(this.P&1<<s));s++);for(this.P>=1<<this.c.length&&(this.c.push(new n.hash.sha256),this.m.push(0)),this.f-=a,a>this.o&&(this.o=a),this.P++,this.b=n.hash.sha256.hash(this.b.concat(i)),this.L=new n.cipher.aes(this.b),r=0;4>r&&(this.h[r]=this.h[r]+1|0,!this.h[r]);r++);}for(r=0;r<e;r+=4)0==(r+1)%this.ca&&f(this),i=u(this),o.push(i[0],i[1],i[2],i[3]);return f(this),o.slice(0,e)},setDefaultParanoia:function(e,t){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==t)throw new n.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=e},addEntropy:function(e,t,r){r=r||"user";var i,o,a=(new Date).valueOf(),f=this.H[r],u=this.isReady(),c=0;switch(void 0===(i=this.U[r])&&(i=this.U[r]=this.ha++),void 0===f&&(f=this.H[r]=0),this.H[r]=(this.H[r]+1)%this.c.length,typeof e){case"number":void 0===t&&(t=1),this.c[f].update([i,this.N++,1,t,a,1,0|e]);break;case"object":if("[object Uint32Array]"===(r=Object.prototype.toString.call(e))){for(o=[],r=0;r<e.length;r++)o.push(e[r]);e=o}else for("[object Array]"!==r&&(c=1),r=0;r<e.length&&!c;r++)"number"!=typeof e[r]&&(c=1);if(!c){if(void 0===t)for(r=t=0;r<e.length;r++)for(o=e[r];0<o;)t++,o>>>=1;this.c[f].update([i,this.N++,2,t,a,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this.c[f].update([i,this.N++,3,t,a,e.length]),this.c[f].update(e);break;default:c=1}if(c)throw new n.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[f]+=t,this.f+=t,u===this.u&&(this.isReady()!==this.u&&s("seeded",Math.max(this.o,this.f)),s("progress",this.getProgress()))},isReady:function(e){return e=this.T[void 0!==e?e:this.M],this.o&&this.o>=e?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=e?this.J|this.u:this.u},getProgress:function(e){return e=this.T[e||this.M],this.o>=e?1:this.f>e?1:this.f/e},startCollectors:function(){if(!this.D){if(this.a={loadTimeCollector:c(this,this.ma),mouseCollector:c(this,this.oa),keyboardCollector:c(this,this.la),accelerometerCollector:c(this,this.ea),touchCollector:c(this,this.qa)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new n.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(e,t){this.K[e][this.ga++]=t},removeEventListener:function(e,t){var r,n,i=this.K[e],o=[];for(n in i)i.hasOwnProperty(n)&&i[n]===t&&o.push(n);for(r=0;r<o.length;r++)delete i[n=o[r]]},la:function(){a(this,1)},oa:function(e){var t,r;try{t=e.x||e.clientX||e.offsetX||0,r=e.y||e.clientY||e.offsetY||0}catch(e){r=t=0}0!=t&&0!=r&&this.addEntropy([t,r],2,"mouse"),a(this,0)},qa:function(e){e=e.touches[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),a(this,0)},ma:function(){a(this,2)},ea:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var t=window.orientation;"number"==typeof t&&this.addEntropy(t,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),a(this,0)}},n.random=new n.prng(6);e:try{var h,d,l,p;if(p=void 0!==t&&t.exports){var b;try{b=e("crypto")}catch(e){b=null}p=d=b}if(p&&d.randomBytes)h=d.randomBytes(128),h=new Uint32Array(new Uint8Array(h).buffer),n.random.addEntropy(h,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(l=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(l);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(l)}n.random.addEntropy(l,1024,"crypto['getRandomValues']")}}catch(e){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(e))}n.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(e,t,r,i){r=r||{},i=i||{};var o,s=n.json,a=s.g({iv:n.random.randomWords(4,0)},s.defaults);if(s.g(a,r),r=a.adata,"string"==typeof a.salt&&(a.salt=n.codec.base64.toBits(a.salt)),"string"==typeof a.iv&&(a.iv=n.codec.base64.toBits(a.iv)),!n.mode[a.mode]||!n.cipher[a.cipher]||"string"==typeof e&&100>=a.iter||64!==a.ts&&96!==a.ts&&128!==a.ts||128!==a.ks&&192!==a.ks&&256!==a.ks||2>a.iv.length||4<a.iv.length)throw new n.exception.invalid("json encrypt: invalid parameters");return"string"==typeof e?(e=(o=n.misc.cachedPbkdf2(e,a)).key.slice(0,a.ks/32),a.salt=o.salt):n.ecc&&e instanceof n.ecc.elGamal.publicKey&&(o=e.kem(),a.kemtag=o.tag,e=o.key.slice(0,a.ks/32)),"string"==typeof t&&(t=n.codec.utf8String.toBits(t)),"string"==typeof r&&(a.adata=r=n.codec.utf8String.toBits(r)),o=new n.cipher[a.cipher](e),s.g(i,a),i.key=e,a.ct="ccm"===a.mode&&n.arrayBuffer&&n.arrayBuffer.ccm&&t instanceof ArrayBuffer?n.arrayBuffer.ccm.encrypt(o,t,a.iv,r,a.ts):n.mode[a.mode].encrypt(o,t,a.iv,r,a.ts),a},encrypt:function(e,t,r,i){var o=n.json,s=o.ja.apply(o,arguments);return o.encode(s)},ia:function(e,t,r,i){r=r||{},i=i||{};var o,s,a=n.json;if(o=(t=a.g(a.g(a.g({},a.defaults),t),r,!0)).adata,"string"==typeof t.salt&&(t.salt=n.codec.base64.toBits(t.salt)),"string"==typeof t.iv&&(t.iv=n.codec.base64.toBits(t.iv)),!n.mode[t.mode]||!n.cipher[t.cipher]||"string"==typeof e&&100>=t.iter||64!==t.ts&&96!==t.ts&&128!==t.ts||128!==t.ks&&192!==t.ks&&256!==t.ks||!t.iv||2>t.iv.length||4<t.iv.length)throw new n.exception.invalid("json decrypt: invalid parameters");return"string"==typeof e?(e=(s=n.misc.cachedPbkdf2(e,t)).key.slice(0,t.ks/32),t.salt=s.salt):n.ecc&&e instanceof n.ecc.elGamal.secretKey&&(e=e.unkem(n.codec.base64.toBits(t.kemtag)).slice(0,t.ks/32)),"string"==typeof o&&(o=n.codec.utf8String.toBits(o)),s=new n.cipher[t.cipher](e),o="ccm"===t.mode&&n.arrayBuffer&&n.arrayBuffer.ccm&&t.ct instanceof ArrayBuffer?n.arrayBuffer.ccm.decrypt(s,t.ct,t.iv,t.tag,o,t.ts):n.mode[t.mode].decrypt(s,t.ct,t.iv,o,t.ts),a.g(i,t),i.key=e,1===r.raw?o:n.codec.utf8String.fromBits(o)},decrypt:function(e,t,r,i){var o=n.json;return o.ia(e,o.decode(t),r,i)},encode:function(e){var t,r="{",i="";for(t in e)if(e.hasOwnProperty(t)){if(!t.match(/^[a-z0-9]+$/i))throw new n.exception.invalid("json encode: invalid property name");switch(r+=i+'"'+t+'":',i=",",typeof e[t]){case"number":case"boolean":r+=e[t];break;case"string":r+='"'+escape(e[t])+'"';break;case"object":r+='"'+n.codec.base64.fromBits(e[t],0)+'"';break;default:throw new n.exception.bug("json encode: unsupported type")}}return r+"}"},decode:function(e){if(!(e=e.replace(/\s/g,"")).match(/^\{.*\}$/))throw new n.exception.invalid("json decode: this isn't json!");e=e.replace(/^\{|\}$/g,"").split(/,/);var t,r,i={};for(t=0;t<e.length;t++){if(!(r=e[t].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new n.exception.invalid("json decode: this isn't json!");null!=r[3]?i[r[2]]=parseInt(r[3],10):null!=r[4]?i[r[2]]=r[2].match(/^(ct|adata|salt|iv)$/)?n.codec.base64.toBits(r[4]):unescape(r[4]):null!=r[5]&&(i[r[2]]="true"===r[5])}return i},g:function(e,t,r){if(void 0===e&&(e={}),void 0===t)return e;for(var i in t)if(t.hasOwnProperty(i)){if(r&&void 0!==e[i]&&e[i]!==t[i])throw new n.exception.invalid("required parameter overridden");e[i]=t[i]}return e},sa:function(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&e[r]!==t[r]&&(n[r]=e[r]);return n},ra:function(e,t){var r,n={};for(r=0;r<t.length;r++)void 0!==e[t[r]]&&(n[t[r]]=e[t[r]]);return n}},n.encrypt=n.json.encrypt,n.decrypt=n.json.decrypt,n.misc.pa={},n.misc.cachedPbkdf2=function(e,t){var r,i=n.misc.pa;return r=(t=t||{}).iter||1e3,(r=(i=i[e]=i[e]||{})[r]=i[r]||{firstSalt:t.salt&&t.salt.length?t.salt.slice(0):n.random.randomWords(2,0)})[i=void 0===t.salt?r.firstSalt:t.salt]=r[i]||n.misc.pbkdf2(e,i,t.iter),{key:r[i].slice(0),salt:i.slice(0)}},void 0!==t&&t.exports&&(t.exports=n),"function"==typeof define&&define([],function(){return n})},{crypto:62}],172:[function(e,t,r){t.exports=i;var n=e("events").EventEmitter;function i(){n.call(this)}e("inherits")(i,n),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",f));var s=!1;function a(){s||(s=!0,e.end())}function f(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",f),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},{events:89,inherits:107,"readable-stream/duplex.js":142,"readable-stream/passthrough.js":151,"readable-stream/readable.js":152,"readable-stream/transform.js":153,"readable-stream/writable.js":154}],173:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=f,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=d,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function f(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function l(e){return e&&e.length?this.write(e):""}r.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":156}],174:[function(e,t,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],175:[function(e,t,r){(function(e){var r,n=e.crypto||e.msCrypto;if(n&&n.getRandomValues){var i=new Uint8Array(16);r=function(){return n.getRandomValues(i),i}}if(!r){var o=new Array(16);r=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],176:[function(e,t,r){for(var n=e("./lib/rng"),i=[],o={},s=0;s<256;++s)i[s]=(s+256).toString(16).substr(1),o[i[s]]=s;function a(e,t){var r=t||0,n=i;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}var f=n(),u=[1|f[0],f[1],f[2],f[3],f[4],f[5]],c=16383&(f[6]<<8|f[7]),h=0,d=0;function l(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[i+s]=o[s];return t||a(o)}var p=l;p.v1=function(e,t,r){var n=t&&r||0,i=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:c,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:d+1,l=s-h+(f-d)/1e4;if(l<0&&void 0===e.clockseq&&(o=o+1&16383),(l<0||s>h)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=s,d=f,c=o;var p=(1e4*(268435455&(s+=122192928e5))+f)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=255&p;var b=s/4294967296*1e4&268435455;i[n++]=b>>>8&255,i[n++]=255&b,i[n++]=b>>>24&15|16,i[n++]=b>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o;for(var m=e.node||u,y=0;y<6;++y)i[n+y]=m[y];return t||a(i)},p.v4=l,t.exports=p},{"./lib/rng":175}],177:[function(require,module,exports){var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var o=Object_keys(r),s=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}},{indexof:106}]},{},[1]),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";var e=setTimeout;function t(){}function r(e){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(e,this)}function n(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn(function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void o(t.promise,e)}i(t.promise,n)}else(1===e._state?i:o)(t.promise,e._value)})):e._deferreds.push(t)}function i(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void a((i=n,f=t,function(){i.apply(f,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(t){o(e,t)}var i,f}function o(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)n(e,e._deferreds[t]);e._deferreds=null}function a(e,t){var r=!1;try{e(function(e){r||(r=!0,i(t,e))},function(e){r||(r=!0,o(t,e))})}catch(e){if(r)return;r=!0,o(t,e)}}r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,r){var i=new this.constructor(t);return n(this,new function(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}(e,r,i)),i},r.prototype.finally=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})},r.all=function(e){return new r(function(t,r){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function o(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){o(e,t)},r)}n[e]=s,0==--i&&t(n)}catch(e){r(e)}}for(var s=0;s<n.length;s++)o(s,n[s])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,r){r(e)})},r.race=function(e){return new r(function(t,r){for(var n=0,i=e.length;n<i;n++)e[n].then(t,r)})},r._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(t){e(t,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var f=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==f)return f;throw new Error("unable to locate global object")}();f.Promise||(f.Promise=r)}),function(global,undefined){"use strict";!function(e,t,r){var n=global.protobuf=function r(n){var i=t[n];return i||e[n][0].call(i=t[n]={exports:{}},r,i,i.exports),i.exports}(r[0]);"function"==typeof define&&define.amd&&define(["long"],function(e){return e&&e.isLong&&(n.util.Long=e,n.configure()),n}),"object"==typeof module&&module&&module.exports&&(module.exports=n)}({1:[function(e,t,r){t.exports=function(e,t){var r=new Array(arguments.length-1),n=0,i=2,o=!0;for(;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,s){r[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,s(e))}})}},{}],2:[function(e,t,r){var n=r;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),o=new Array(123),s=0;s<64;)o[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(e,t,r){for(var n,o=null,s=[],a=0,f=0;t<r;){var u=e[t++];switch(f){case 0:s[a++]=i[u>>2],n=(3&u)<<4,f=1;break;case 1:s[a++]=i[n|u>>4],n=(15&u)<<2,f=2;break;case 2:s[a++]=i[n|u>>6],s[a++]=i[63&u],f=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return f&&(s[a++]=i[n],s[a++]=61,1===f&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};n.decode=function(e,t,r){for(var n,i=r,s=0,a=0;a<e.length;){var f=e.charCodeAt(a++);if(61===f&&s>1)break;if((f=o[f])===undefined)throw Error("invalid encoding");switch(s){case 0:n=f,s=1;break;case 1:t[r++]=n<<2|(48&f)>>4,n=f,s=2;break;case 2:t[r++]=(15&n)<<4|(60&f)>>2,n=f,s=3;break;case 3:t[r++]=(3&n)<<6|f,s=0}}if(1===s)throw Error("invalid encoding");return r-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,r){function n(e,t){"string"==typeof e&&(t=e,e=undefined);var r=[];function i(e){if("string"!=typeof e){var t=o();if(n.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var s=Object.keys(e),a=new Array(s.length+1),f=new Array(s.length),u=0;u<s.length;)a[u]=s[u],f[u]=e[s[u++]];return a[u]=t,Function.apply(null,a).apply(null,f)}return Function(t)()}for(var c=new Array(arguments.length-1),h=0;h<c.length;)c[h]=arguments[++h];if(h=0,e=e.replace(/%([%dfijs])/g,function(e,t){var r=c[h++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"}),h!==c.length)throw Error("parameter count mismatch");return r.push(e),i}function o(n){return"function "+(n||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return i.toString=o,i}t.exports=n,n.verbose=!1},{}],4:[function(e,t,r){function n(){this._listeners={}}t.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},{}],5:[function(e,t,r){t.exports=o;var n=e(1),i=e(7)("fs");function o(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&i&&i.readFile?i.readFile(e,function(n,i){return n&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,r):n?r(n):r(null,t.binary?i:i.toString("utf8"))}):o.xhr(e,t,r):n(o,this,e,t)}o.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4!==n.readyState)return undefined;if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},{1:1,7:7}],6:[function(e,t,r){function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>3.4028234663852886e38)e((i<<31|2139095040)>>>0,r,n);else if(t<1.1754943508222875e-38)e((i<<31|Math.round(t/1.401298464324817e-45))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:i*(1/0):0===o?1.401298464324817e-45*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=r.bind(null,s),e.readFloatBE=r.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,i,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>1.7976931348623157e308)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+r);else{var a;if(n<2.2250738585072014e-308)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+r);else{var f=Math.floor(Math.log(n)/Math.LN2);1024===f&&(f=1023),e(4503599627370496*(a=n*Math.pow(2,-f))>>>0,i,o+t),e((s<<31|f+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}}function r(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=2*(s>>31)+1,f=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===f?u?NaN:a*(1/0):0===f?5e-324*a*u:a*Math.pow(2,f-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=r.bind(null,s,0,4),e.readDoubleBE=r.bind(null,a,4,0)}(),e}function i(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function o(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=n(n)},{}],7:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],8:[function(e,t,r){var n=r,i=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=i(e),n="";r&&(n=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):r?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return n+t.join("/")};n.resolve=function(e,t,r){return r||(t=o(t)),i(t)?t:(r||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},{}],9:[function(e,t,r){t.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},{}],10:[function(e,t,r){var n=r;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},n.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},{}],11:[function(e,t,r){t.exports=o;var n,i=/\/|\./;function o(e,t){i.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),o[e]=t}o("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),o("duration",{Duration:n={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),o("timestamp",{Timestamp:n}),o("empty",{Empty:{fields:{}}}),o("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),o("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),o("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),o.get=function(e){return o[e]||null}},{}],12:[function(e,t,r){var n=r,i=e(15),o=e(37);function s(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",n);for(var o=t.resolvedType.values,s=Object.keys(o),a=0;a<s.length;++a)t.repeated&&o[s[a]]===t.typeDefault&&e("default:"),e("case%j:",s[a])("case %i:",o[s[a]])("m%s=%j",n,o[s[a]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var f=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":f=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,f)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,f?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function a(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,o?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=o.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var a=t[n].resolve(),f=o.safeProp(a.name);a.map?(r("if(d%s){",f)('if(typeof d%s!=="object")',f)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",f)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",f),s(r,a,n,f+"[ks[i]]")("}")("}")):a.repeated?(r("if(d%s){",f)("if(!Array.isArray(d%s))",f)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",f)("for(var i=0;i<d%s.length;++i){",f),s(r,a,n,f+"[i]")("}")("}")):(a.resolvedType instanceof i||r("if(d%s!=null){",f),s(r,a,n,f),a.resolvedType instanceof i||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(o.compareFieldsById);if(!t.length)return o.codegen()("return {}");for(var r=o.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],s=[],f=[],u=0;u<t.length;++u)t[u].partOf||(t[u].resolve().repeated?n:t[u].map?s:f).push(t[u]);if(n.length){for(r("if(o.arrays||o.defaults){"),u=0;u<n.length;++u)r("d%s=[]",o.safeProp(n[u].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),u=0;u<s.length;++u)r("d%s={}",o.safeProp(s[u].name));r("}")}if(f.length){for(r("if(o.defaults){"),u=0;u<f.length;++u){var c=f[u],h=o.safeProp(c.name);c.resolvedType instanceof i?r("d%s=o.enums===String?%j:%j",h,c.resolvedType.valuesById[c.typeDefault],c.typeDefault):c.long?r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",h)("}else")("d%s=o.longs===String?%j:%i",h,c.typeDefault.toString(),c.typeDefault.toNumber()):c.bytes?r("d%s=o.bytes===String?%j:%s",h,String.fromCharCode.apply(String,c.typeDefault),"["+Array.prototype.slice.call(c.typeDefault).join(",")+"]"):r("d%s=%j",h,c.typeDefault)}r("}")}var d=!1;for(u=0;u<t.length;++u){c=t[u];var l=e._fieldsArray.indexOf(c);h=o.safeProp(c.name);c.map?(d||(d=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",h,h)("d%s={}",h)("for(var j=0;j<ks2.length;++j){"),a(r,c,l,h+"[ks2[j]]")("}")):c.repeated?(r("if(m%s&&m%s.length){",h,h)("d%s=[]",h)("for(var j=0;j<m%s.length;++j){",h),a(r,c,l,h+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",h,c.name),a(r,c,l,h),c.partOf&&r("if(o.oneofs)")("d%s=%j",o.safeProp(c.partOf.name),c.name)),r("}")}return r("return d")}},{15:15,37:37}],13:[function(e,t,r){t.exports=function(e){var t=o.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var a=e._fieldsArray[r].resolve(),f=a.resolvedType instanceof n?"int32":a.type,u="m"+o.safeProp(a.name);t("case %i:",a.id),a.map?(t("r.skip().pos++")("if(%s===util.emptyObject)",u)("%s={}",u)("k=r.%s()",a.keyType)("r.pos++"),i.long[a.keyType]!==undefined?i.basic[f]===undefined?t('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',u,r):t('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',u,f):i.basic[f]===undefined?t("%s[k]=types[%i].decode(r,r.uint32())",u,r):t("%s[k]=r.%s()",u,f)):a.repeated?(t("if(!(%s&&%s.length))",u,u)("%s=[]",u),i.packed[f]!==undefined&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",u,f)("}else"),i.basic[f]===undefined?t(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",u,r):t("%s.push(r.%s())",u,f)):i.basic[f]===undefined?t(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",u,r):t("%s=r.%s()",u,f),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var c=e._fieldsArray[r];c.required&&t("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})",s(c))}return t("return m")};var n=e(15),i=e(36),o=e(37);function s(e){return"missing required '"+e.name+"'"}},{15:15,36:36,37:37}],14:[function(e,t,r){t.exports=function(e){for(var t,r=o.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),a=e.fieldsArray.slice().sort(o.compareFieldsById),f=0;f<a.length;++f){var u=a[f].resolve(),c=e._fieldsArray.indexOf(u),h=u.resolvedType instanceof n?"int32":u.type,d=i.basic[h];t="m"+o.safeProp(u.name),u.map?(r("if(%s!=null&&m.hasOwnProperty(%j)){",t,u.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(u.id<<3|2)>>>0,8|i.mapKey[u.keyType],u.keyType),d===undefined?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",c,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|d,h,t),r("}")("}")):u.repeated?(r("if(%s!=null&&%s.length){",t,t),u.packed&&i.packed[h]!==undefined?r("w.uint32(%i).fork()",(u.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",h,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),d===undefined?s(r,u,c,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(u.id<<3|d)>>>0,h,t)),r("}")):(u.optional&&r("if(%s!=null&&m.hasOwnProperty(%j))",t,u.name),d===undefined?s(r,u,c,t):r("w.uint32(%i).%s(%s)",(u.id<<3|d)>>>0,h,t))}return r("return w")};var n=e(15),i=e(36),o=e(37);function s(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}},{15:15,36:36,37:37}],15:[function(e,t,r){t.exports=s;var n=e(24);((s.prototype=Object.create(n.prototype)).constructor=s).className="Enum";var i=e(23),o=e(37);function s(e,t,r,i,o){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.reserved=undefined,t)for(var s=Object.keys(t),a=0;a<s.length;++a)"number"==typeof t[s[a]]&&(this.valuesById[this.values[s[a]]=t[s[a]]]=s[a])}s.fromJSON=function(e,t){var r=new s(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"comment",t?this.comment:undefined,"comments",t?this.comments:undefined])},s.prototype.add=function(e,t,r){if(!o.isString(e))throw TypeError("name must be a string");if(!o.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==undefined)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==undefined){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},s.prototype.remove=function(e){if(!o.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},s.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},s.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},{23:23,24:24,37:37}],16:[function(e,t,r){t.exports=u;var n=e(24);((u.prototype=Object.create(n.prototype)).constructor=u).className="Field";var i,o=e(15),s=e(36),a=e(37),f=/^required|optional|repeated$/;function u(e,t,r,i,o,u,c){if(a.isObject(i)?(c=o,u=i,i=o=undefined):a.isObject(o)&&(c=u,u=o,o=undefined),n.call(this,e,u),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(i!==undefined&&!f.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(o!==undefined&&!a.isString(o))throw TypeError("extend must be a string");this.rule=i&&"optional"!==i?i:undefined,this.type=r,this.id=t,this.extend=o||undefined,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&s.long[r]!==undefined,this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=c}u.fromJSON=function(e,t){return new u(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(u.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),u.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},u.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},u.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=s.defaults[this.type])===undefined&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===undefined||!this.resolvedType||this.resolvedType instanceof o)||delete this.options.packed,Object.keys(this.options).length||(this.options=undefined)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},u.d=function(e,t,r,n){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(i,o){a.decorateType(i.constructor).add(new u(o,e,t,r,{default:n}))}},u._configure=function(e){i=e}},{15:15,24:24,36:36,37:37}],17:[function(e,t,r){var n=t.exports=e(18);n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=e(14),n.decoder=e(13),n.verifier=e(40),n.converter=e(12),n.ReflectionObject=e(24),n.Namespace=e(23),n.Root=e(29),n.Enum=e(15),n.Type=e(35),n.Field=e(16),n.OneOf=e(25),n.MapField=e(20),n.Service=e(33),n.Method=e(22),n.Message=e(21),n.wrappers=e(41),n.types=e(36),n.util=e(37),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service),n.Root._configure(n.Type),n.Field._configure(n.Type)},{12:12,13:13,14:14,15:15,16:16,18:18,20:20,21:21,22:22,23:23,24:24,25:25,29:29,33:33,35:35,36:36,37:37,40:40,41:41}],18:[function(e,t,r){var n=r;function i(){n.Reader._configure(n.BufferReader),n.util._configure()}n.build="minimal",n.Writer=e(42),n.BufferWriter=e(43),n.Reader=e(27),n.BufferReader=e(28),n.util=e(39),n.rpc=e(31),n.roots=e(30),n.configure=i,n.Writer._configure(n.BufferWriter),i()},{27:27,28:28,30:30,31:31,39:39,42:42,43:43}],19:[function(e,t,r){var n=t.exports=e(17);n.build="full",n.tokenize=e(34),n.parse=e(26),n.common=e(11),n.Root._configure(n.Type,n.parse,n.common)},{11:11,17:17,26:26,34:34}],20:[function(e,t,r){t.exports=s;var n=e(16);((s.prototype=Object.create(n.prototype)).constructor=s).className="MapField";var i=e(36),o=e(37);function s(e,t,r,i,s,a){if(n.call(this,e,t,i,undefined,undefined,s,a),!o.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(e,t){return new s(e,t.id,t.keyType,t.type,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},s.prototype.resolve=function(){if(this.resolved)return this;if(i.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},s.d=function(e,t,r){return"function"==typeof r?r=o.decorateType(r).name:r&&"object"==typeof r&&(r=o.decorateEnum(r).name),function(n,i){o.decorateType(n.constructor).add(new s(i,e,t,r))}}},{16:16,36:36,37:37}],21:[function(e,t,r){t.exports=i;var n=e(39);function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},{39:39}],22:[function(e,t,r){t.exports=o;var n=e(24);((o.prototype=Object.create(n.prototype)).constructor=o).className="Method";var i=e(37);function o(e,t,r,o,s,a,f,u){if(i.isObject(s)?(f=s,s=a=undefined):i.isObject(a)&&(f=a,a=undefined),t!==undefined&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(o))throw TypeError("responseType must be a string");n.call(this,e,f),this.type=t||"rpc",this.requestType=r,this.requestStream=!!s||undefined,this.responseType=o,this.responseStream=!!a||undefined,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:undefined])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},{24:24,37:37}],23:[function(e,t,r){t.exports=c;var n=e(24);((c.prototype=Object.create(n.prototype)).constructor=c).className="Namespace";var i,o,s=e(15),a=e(16),f=e(37);function u(e,t){if(!e||!e.length)return undefined;for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}function c(e,t){n.call(this,e,t),this.nested=undefined,this._nestedArray=null}function h(e){return e._nestedArray=null,e}c.fromJSON=function(e,t){return new c(e,t.options).addJSON(t.nested)},c.arrayToJSON=u,c.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>=t)return!0;return!1},c.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(c.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=f.toArray(this.nested))}}),c.prototype.toJSON=function(e){return f.toObject(["options",this.options,"nested",u(this.nestedArray,e)])},c.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((t.fields!==undefined?i.fromJSON:t.values!==undefined?s.fromJSON:t.methods!==undefined?o.fromJSON:t.id!==undefined?a.fromJSON:c.fromJSON)(r[n],t));return this},c.prototype.get=function(e){return this.nested&&this.nested[e]||null},c.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error("no such enum: "+e)},c.prototype.add=function(e){if(!(e instanceof a&&e.extend!==undefined||e instanceof i||e instanceof s||e instanceof o||e instanceof c))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof c&&e instanceof c)||t instanceof i||t instanceof o)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),h(this)},c.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=undefined),e.onRemove(this),h(this)},c.prototype.define=function(e,t){if(f.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof c))throw Error("path conflicts with non-namespace objects")}else r.add(r=new c(n))}return t&&r.addJSON(t),r},c.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof c?e[t++].resolveAll():e[t++].resolve();return this.resolve()},c.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=undefined):t&&!Array.isArray(t)&&(t=[t]),f.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof c&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof c&&(n=this._nestedArray[i].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},c.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},c.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},c.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,s]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},c.prototype.lookupService=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},c._configure=function(e,t){i=e,o=t}},{15:15,16:16,24:24,37:37}],24:[function(e,t,r){t.exports=o,o.className="ReflectionObject";var n,i=e(37);function o(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(o.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},o.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved?this:(this.root instanceof n&&(this.resolved=!0),this)},o.prototype.getOption=function(e){return this.options?this.options[e]:undefined},o.prototype.setOption=function(e,t,r){return r&&this.options&&this.options[e]!==undefined||((this.options||(this.options={}))[e]=t),this},o.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},o.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},o._configure=function(e){n=e}},{37:37}],25:[function(e,t,r){t.exports=s;var n=e(24);((s.prototype=Object.create(n.prototype)).constructor=s).className="OneOf";var i=e(16),o=e(37);function s(e,t,r,i){if(Array.isArray(t)||(r=t,t=undefined),n.call(this,e,r),t!==undefined&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}s.fromJSON=function(e,t){return new s(e,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:undefined])},s.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},s.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},s.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}a(this)},s.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},s.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){o.decorateType(t.constructor).add(new s(r,e)),Object.defineProperty(t,r,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}}},{16:16,24:24,37:37}],26:[function(e,t,r){t.exports=E,E.filename=null,E.defaults={keepCase:!1};var n=e(34),i=e(29),o=e(35),s=e(16),a=e(20),f=e(25),u=e(15),c=e(33),h=e(22),d=e(36),l=e(37),p=/^[1-9][0-9]*$/,b=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,g=/^0[0-7]+$/,v=/^-?0[0-7]+$/,w=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,_=/^[a-zA-Z_][a-zA-Z_0-9]*$/,S=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,A=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function E(e,t,r){t instanceof i||(r=t,t=new i),r||(r=E.defaults);var k,M,x,I,B,P=n(e,r.alternateCommentMode||!1),C=P.next,T=P.push,R=P.peek,L=P.skip,N=P.cmnt,j=!0,O=!1,D=t,z=r.keepCase?function(e){return e}:l.camelCase;function F(e,t,r){var n=E.filename;return r||(E.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+P.line+")")}function U(){var e,t=[];do{if('"'!==(e=C())&&"'"!==e)throw F(e);t.push(C()),L(e),e=R()}while('"'===e||"'"===e);return t.join("")}function q(e){var t=C();switch(t){case"'":case'"':return T(t),U();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;"-"===e.charAt(0)&&(r=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(e))return r*parseInt(e,10);if(m.test(e))return r*parseInt(e,16);if(g.test(e))return r*parseInt(e,8);if(w.test(e))return r*parseFloat(e);throw F(e,"number",t)}(t,!0)}catch(r){if(e&&S.test(t))return t;throw F(t,"value")}}function H(e,t){var r,n;do{!t||'"'!==(r=R())&&"'"!==r?e.push([n=K(C()),L("to",!0)?K(C()):n]):e.push(U())}while(L(",",!0));L(";")}function K(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw F(e,"id");if(b.test(e))return parseInt(e,10);if(y.test(e))return parseInt(e,16);if(v.test(e))return parseInt(e,8);throw F(e,"id")}function V(){if(k!==undefined)throw F("package");if(k=C(),!S.test(k))throw F(k,"name");D=D.define(k),L(";")}function Y(){var e,t=R();switch(t){case"weak":e=x||(x=[]),C();break;case"public":C();default:e=M||(M=[])}t=U(),L(";"),e.push(t)}function G(){if(L("="),I=U(),!(O="proto3"===I)&&"proto2"!==I)throw F(I,"syntax");L(";")}function W(e,t){switch(t){case"option":return X(e,t),L(";"),!0;case"message":return function(e,t){if(!_.test(t=C()))throw F(t,"type name");var r=new o(t);J(r,function(e){if(!W(r,e))switch(e){case"map":!function(e){L("<");var t=C();if(d.mapKey[t]===undefined)throw F(t,"type");L(",");var r=C();if(!S.test(r))throw F(r,"type");L(">");var n=C();if(!_.test(n))throw F(n,"name");L("=");var i=new a(z(n),K(C()),t,r);J(i,function(e){if("option"!==e)throw F(e);X(i,e),L(";")},function(){ee(i)}),e.add(i)}(r);break;case"required":case"optional":case"repeated":Z(r,e);break;case"oneof":!function(e,t){if(!_.test(t=C()))throw F(t,"name");var r=new f(z(t));J(r,function(e){"option"===e?(X(r,e),L(";")):(T(e),Z(r,"optional"))}),e.add(r)}(r,e);break;case"extensions":H(r.extensions||(r.extensions=[]));break;case"reserved":H(r.reserved||(r.reserved=[]),!0);break;default:if(!O||!S.test(e))throw F(e);T(e),Z(r,"optional")}}),e.add(r)}(e,t),!0;case"enum":return function(e,t){if(!_.test(t=C()))throw F(t,"name");var r=new u(t);J(r,function(e){switch(e){case"option":X(r,e),L(";");break;case"reserved":H(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!_.test(t))throw F(t,"name");L("=");var r=K(C(),!0),n={};J(n,function(e){if("option"!==e)throw F(e);X(n,e),L(";")},function(){ee(n)}),e.add(t,r,n.comment)}(r,e)}}),e.add(r)}(e,t),!0;case"service":return function(e,t){if(!_.test(t=C()))throw F(t,"service name");var r=new c(t);J(r,function(e){if(!W(r,e)){if("rpc"!==e)throw F(e);!function(e,t){var r=t;if(!_.test(t=C()))throw F(t,"name");var n,i,o,s,a=t;L("("),L("stream",!0)&&(i=!0);if(!S.test(t=C()))throw F(t);n=t,L(")"),L("returns"),L("("),L("stream",!0)&&(s=!0);if(!S.test(t=C()))throw F(t);o=t,L(")");var f=new h(a,r,n,o,i,s);J(f,function(e){if("option"!==e)throw F(e);X(f,e),L(";")}),e.add(f)}(r,e)}}),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!S.test(t=C()))throw F(t,"reference");var r=t;J(null,function(t){switch(t){case"required":case"repeated":case"optional":Z(e,t,r);break;default:if(!O||!S.test(t))throw F(t);T(t),Z(e,"optional",r)}})}(e,t),!0}return!1}function J(e,t,r){var n=P.line;if(e&&(e.comment=N(),e.filename=E.filename),L("{",!0)){for(var i;"}"!==(i=C());)t(i);L(";",!0)}else r&&r(),L(";"),e&&"string"!=typeof e.comment&&(e.comment=N(n))}function Z(e,t,r){var n=C();if("group"!==n){if(!S.test(n))throw F(n,"type");var i=C();if(!_.test(i))throw F(i,"name");i=z(i),L("=");var a=new s(i,K(C()),n,t,r);J(a,function(e){if("option"!==e)throw F(e);X(a,e),L(";")},function(){ee(a)}),e.add(a),O||!a.repeated||d.packed[n]===undefined&&d.basic[n]!==undefined||a.setOption("packed",!1,!0)}else!function(e,t){var r=C();if(!_.test(r))throw F(r,"name");var n=l.lcFirst(r);r===n&&(r=l.ucFirst(r));L("=");var i=K(C()),a=new o(r);a.group=!0;var f=new s(n,i,r,t);f.filename=E.filename,J(a,function(e){switch(e){case"option":X(a,e),L(";");break;case"required":case"optional":case"repeated":Z(a,e);break;default:throw F(e)}}),e.add(a).add(f)}(e,t)}function X(e,t){var r=L("(",!0);if(!S.test(t=C()))throw F(t,"name");var n=t;r&&(L(")"),n="("+n+")",t=R(),A.test(t)&&(n+=t,C())),L("="),$(e,n)}function $(e,t){if(L("{",!0))do{if(!_.test(B=C()))throw F(B,"name");"{"===R()?$(e,t+"."+B):(L(":"),"{"===R()?$(e,t+"."+B):Q(e,t+"."+B,q(!0)))}while(!L("}",!0));else Q(e,t,q(!0))}function Q(e,t,r){e.setOption&&e.setOption(t,r)}function ee(e){if(L("[",!0)){do{X(e,"option")}while(L(",",!0));L("]")}return e}for(;null!==(B=C());)switch(B){case"package":if(!j)throw F(B);V();break;case"import":if(!j)throw F(B);Y();break;case"syntax":if(!j)throw F(B);G();break;case"option":if(!j)throw F(B);X(D,B),L(";");break;default:if(W(D,B)){j=!1;continue}throw F(B)}return E.filename=null,{package:k,imports:M,weakImports:x,syntax:I,root:t}}},{15:15,16:16,20:20,22:22,25:25,29:29,33:33,34:34,35:35,36:36,37:37}],27:[function(e,t,r){t.exports=f;var n,i=e(39),o=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function f(e){this.buf=e,this.pos=0,this.len=e.length}var u,c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new f(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new f(e);throw Error("illegal buffer")};function h(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function l(){if(this.pos+8>this.len)throw a(this,8);return new o(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}f.create=i.Buffer?function(e){return(f.create=function(e){return i.Buffer.isBuffer(e)?new n(e):c(e)})(e)}:c,f.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,f.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}),f.prototype.int32=function(){return 0|this.uint32()},f.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},f.prototype.bool=function(){return 0!==this.uint32()},f.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},f.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},f.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},f.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},f.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},f.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},f.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},f.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;;){if(4==(e=7&this.uint32()))break;this.skipType(e)}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},f._configure=function(e){n=e;var t=i.Long?"toLong":"toNumber";i.merge(f.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return l.call(this)[t](!0)},sfixed64:function(){return l.call(this)[t](!1)}})}},{39:39}],28:[function(e,t,r){t.exports=o;var n=e(27);(o.prototype=Object.create(n.prototype)).constructor=o;var i=e(39);function o(e){n.call(this,e)}i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice),o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},{27:27,39:39}],29:[function(e,t,r){t.exports=h;var n=e(23);((h.prototype=Object.create(n.prototype)).constructor=h).className="Root";var i,o,s,a=e(16),f=e(15),u=e(25),c=e(37);function h(e){n.call(this,"",e),this.deferred=[],this.files=[]}function d(){}h.fromJSON=function(e,t){return t||(t=new h),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},h.prototype.resolvePath=c.path.resolve,h.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=undefined);var i=this;if(!n)return c.asPromise(e,i,t,r);var a=n===d;function f(e,t){if(n){var r=n;if(n=null,a)throw e;r(e,t)}}function u(e,t){try{if(c.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),c.isString(t)){o.filename=e;var n,s=o(t,i,r),u=0;if(s.imports)for(;u<s.imports.length;++u)(n=i.resolvePath(e,s.imports[u]))&&h(n);if(s.weakImports)for(u=0;u<s.weakImports.length;++u)(n=i.resolvePath(e,s.weakImports[u]))&&h(n,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){f(e)}a||l||f(null,i)}function h(e,t){var r=e.lastIndexOf("google/protobuf/");if(r>-1){var o=e.substring(r);o in s&&(e=o)}if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in s)a?u(e,s[e]):(++l,setTimeout(function(){--l,u(e,s[e])}));else if(a){var h;try{h=c.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||f(e))}u(e,h)}else++l,c.fetch(e,function(r,o){--l,n&&(r?t?l||f(null,i):f(r):u(e,o))})}var l=0;c.isString(t)&&(t=[t]);for(var p,b=0;b<t.length;++b)(p=i.resolvePath("",t[b]))&&h(p);return a?i:(l||f(null,i),undefined)},h.prototype.loadSync=function(e,t){if(!c.isNode)throw Error("not supported");return this.load(e,t,d)},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return n.prototype.resolveAll.call(this)};var l=/^[A-Z]/;function p(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new a(t.fullName,t.id,t.type,t.rule,undefined,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}h.prototype._handleAdd=function(e){if(e instanceof a)e.extend===undefined||e.extensionField||p(0,e)||this.deferred.push(e);else if(e instanceof f)l.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof u)){if(e instanceof i)for(var t=0;t<this.deferred.length;)p(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);l.test(e.name)&&(e.parent[e.name]=e)}},h.prototype._handleRemove=function(e){if(e instanceof a){if(e.extend!==undefined)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof f)l.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);l.test(e.name)&&delete e.parent[e.name]}},h._configure=function(e,t,r){i=e,o=t,s=r}},{15:15,16:16,23:23,25:25,37:37}],30:[function(e,t,r){t.exports={}},{}],31:[function(e,t,r){r.Service=e(32)},{32:32}],32:[function(e,t,r){t.exports=i;var n=e(39);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,i,o);if(!a.rpcImpl)return setTimeout(function(){s(Error("already ended"))},0),undefined;try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,r){if(e)return a.emit("error",e,t),s(e);if(null===r)return a.end(!0),undefined;if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)})}catch(e){return a.emit("error",e,t),setTimeout(function(){s(e)},0),undefined}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{39:39}],33:[function(e,t,r){t.exports=a;var n=e(23);((a.prototype=Object.create(n.prototype)).constructor=a).className="Service";var i=e(22),o=e(37),s=e(31);function a(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function f(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var r=new a(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),o=0;o<n.length;++o)r.add(i.fromJSON(n[o],t.methods[n[o]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},a.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return o.toObject(["options",t&&t.options||undefined,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||undefined,"comment",r?this.comment:undefined])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},a.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,f(this)):n.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,f(this)}return n.prototype.remove.call(this,e)},a.prototype.create=function(e,t,r){for(var n,i=new s.Service(e,t,r),a=0;a<this.methodsArray.length;++a){var f=o.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[f]=o.codegen(["r","c"],o.isReserved(f)?f+"_":f)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i}},{22:22,23:23,31:31,37:37}],34:[function(e,t,r){t.exports=l;var n=/[\s{}=;:[\],'"()<>]/g,i=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,o=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,s=/^ *[*/]+ */,a=/^\s*\*?\/*/,f=/\n/g,u=/\s/,c=/\\(.?)/g,h={0:"\0",r:"\r",n:"\n",t:"\t"};function d(e){return e.replace(c,function(e,t){switch(t){case"\\":case"":return t;default:return h[t]||""}})}function l(e,t){var r=0,c=(e=e.toString()).length,h=1,l=null,p=null,b=0,m=!1,y=[],g=null;function v(e){return Error("illegal "+e+" (line "+h+")")}function w(t){return e.charAt(t)}function _(r,n){l=e.charAt(r++),b=h,m=!1;var i,o=r-(t?2:3);do{if(--o<0||"\n"===(i=e.charAt(o))){m=!0;break}}while(" "===i||"\t"===i);for(var u=e.substring(r,n).split(f),c=0;c<u.length;++c)u[c]=u[c].replace(t?a:s,"").trim();p=u.join("\n").trim()}function S(t){var r=A(t),n=e.substring(t,r);return/^\s*\/{1,2}/.test(n)}function A(e){for(var t=e;t<c&&"\n"!==w(t);)t++;return t}function E(){if(y.length>0)return y.shift();if(g)return function(){var t="'"===g?o:i;t.lastIndex=r-1;var n=t.exec(e);if(!n)throw v("string");return r=t.lastIndex,k(g),g=null,d(n[1])}();var s,a,f,l,p;do{if(r===c)return null;for(s=!1;u.test(f=w(r));)if("\n"===f&&++h,++r===c)return null;if("/"===w(r)){if(++r===c)throw v("comment");if("/"===w(r))if(t){if(l=r,p=!1,S(r)){p=!0;do{if((r=A(r))===c)break;r++}while(S(r))}else r=Math.min(c,A(r)+1);p&&_(l,r),h++,s=!0}else{for(p="/"===w(l=r+1);"\n"!==w(++r);)if(r===c)return null;++r,p&&_(l,r-1),++h,s=!0}else{if("*"!==(f=w(r)))return"/";l=r+1,p=t||"*"===w(l);do{if("\n"===f&&++h,++r===c)throw v("comment");a=f,f=w(r)}while("*"!==a||"/"!==f);++r,p&&_(l,r-2),s=!0}}}while(s);var b=r;if(n.lastIndex=0,!n.test(w(b++)))for(;b<c&&!n.test(w(b));)++b;var m=e.substring(r,r=b);return'"'!==m&&"'"!==m||(g=m),m}function k(e){y.push(e)}function M(){if(!y.length){var e=E();if(null===e)return null;k(e)}return y[0]}return Object.defineProperty({next:E,peek:M,push:k,skip:function(e,t){var r=M();if(r===e)return E(),!0;if(!t)throw v("token '"+r+"', '"+e+"' expected");return!1},cmnt:function(e){var r=null;return e===undefined?b===h-1&&(t||"*"===l||m)&&(r=p):(b<e&&M(),b!==e||m||!t&&"/"!==l||(r=p)),r}},"line",{get:function(){return h}})}l.unescape=d},{}],35:[function(e,t,r){t.exports=g;var n=e(23);((g.prototype=Object.create(n.prototype)).constructor=g).className="Type";var i=e(15),o=e(25),s=e(16),a=e(20),f=e(33),u=e(21),c=e(27),h=e(42),d=e(37),l=e(14),p=e(13),b=e(40),m=e(12),y=e(41);function g(e,t){n.call(this,e,t),this.fields={},this.oneofs=undefined,this.extensions=undefined,this.reserved=undefined,this.group=undefined,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function v(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(g.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=d.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=d.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=g.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof u||((e.prototype=new u).constructor=e,d.merge(e.prototype,t)),e.$type=e.prototype.$type=this,d.merge(e,u,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:d.oneOfGetter(this._oneofsArray[r].oneof),set:d.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),g.generateConstructor=function(e){for(var t,r=d.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",d.safeProp(t.name)):t.repeated&&r("this%s=[]",d.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},g.fromJSON=function(e,t){var r=new g(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var u=Object.keys(t.fields),c=0;c<u.length;++c)r.add((void 0!==t.fields[u[c]].keyType?a.fromJSON:s.fromJSON)(u[c],t.fields[u[c]]));if(t.oneofs)for(u=Object.keys(t.oneofs),c=0;c<u.length;++c)r.add(o.fromJSON(u[c],t.oneofs[u[c]]));if(t.nested)for(u=Object.keys(t.nested),c=0;c<u.length;++c){var h=t.nested[u[c]];r.add((h.id!==undefined?s.fromJSON:h.fields!==undefined?g.fromJSON:h.values!==undefined?i.fromJSON:h.methods!==undefined?f.fromJSON:n.fromJSON)(u[c],h))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},g.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return d.toObject(["options",t&&t.options||undefined,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",t&&t.nested||undefined,"comment",r?this.comment:undefined])},g.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},g.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},g.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof s&&e.extend===undefined){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),v(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),v(this)):n.prototype.add.call(this,e)},g.prototype.remove=function(e){if(e instanceof s&&e.extend===undefined){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),v(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),v(this)}return n.prototype.remove.call(this,e)},g.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},g.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},g.prototype.create=function(e){return new this.ctor(e)},g.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=l(this)({Writer:h,types:t,util:d}),this.decode=p(this)({Reader:c,types:t,util:d}),this.verify=b(this)({types:t,util:d}),this.fromObject=m.fromObject(this)({types:t,util:d}),this.toObject=m.toObject(this)({types:t,util:d});var n=y[e];if(n){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(i),i.toObject=this.toObject,this.toObject=n.toObject.bind(i)}return this},g.prototype.encode=function(e,t){return this.setup().encode(e,t)},g.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},g.prototype.decode=function(e,t){return this.setup().decode(e,t)},g.prototype.decodeDelimited=function(e){return e instanceof c||(e=c.create(e)),this.decode(e,e.uint32())},g.prototype.verify=function(e){return this.setup().verify(e)},g.prototype.fromObject=function(e){return this.setup().fromObject(e)},g.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},g.d=function(e){return function(t){d.decorateType(t,e)}}},{12:12,13:13,14:14,15:15,16:16,20:20,21:21,23:23,25:25,27:27,33:33,37:37,40:40,41:41,42:42}],36:[function(e,t,r){var n=r,i=e(37),o=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(e,t){var r=0,n={};for(t|=0;r<e.length;)n[o[r+t]]=e[r++];return n}n.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),n.long=s([0,0,0,1,1],7),n.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},{37:37}],37:[function(e,t,r){var n,i,o=t.exports=e(39),s=e(30);o.codegen=e(3),o.fetch=e(5),o.path=e(8),o.fs=o.inquire("fs"),o.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},o.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],i=e[r++];i!==undefined&&(t[n]=i)}return t};var a=/\\/g,f=/"/g;o.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},o.safeProp=function(e){return!/^[$\w_]+$/.test(e)||o.isReserved(e)?'["'+e.replace(a,"\\\\").replace(f,'\\"')+'"]':"."+e},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var u=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(u,function(e,t){return t.toUpperCase()})},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(t,r){if(t.$type)return r&&t.$type.name!==r&&(o.decorateRoot.remove(t.$type),t.$type.name=r,o.decorateRoot.add(t.$type)),t.$type;n||(n=e(35));var i=new n(r||t.name);return o.decorateRoot.add(i),i.ctor=t,Object.defineProperty(t,"$type",{value:i,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:i,enumerable:!1}),i};var c=0;o.decorateEnum=function(t){if(t.$type)return t.$type;i||(i=e(15));var r=new i("Enum"+c++,t);return o.decorateRoot.add(r),Object.defineProperty(t,"$type",{value:r,enumerable:!1}),r},Object.defineProperty(o,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(e(29)))}})},{15:15,29:29,3:3,30:30,35:35,39:39,5:5,8:8}],38:[function(e,t,r){t.exports=i;var n=e(39);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},{39:39}],39:[function(e,t,r){var n=r;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)e[n[i]]!==undefined&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=e(1),n.base64=e(2),n.EventEmitter=e(4),n.float=e(6),n.inquire=e(7),n.utf8=e(10),n.pool=e(9),n.LongBits=e(38),n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isNode=Boolean(global.process&&global.process.versions&&global.process.versions.node),n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=global.dcodeIO&&global.dcodeIO.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&this[e[r]]!==undefined&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},{1:1,10:10,2:2,38:38,4:4,6:6,7:7,9:9}],40:[function(e,t,r){t.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r={};e.oneofsArray.length&&t("var p={}");for(var n=0;n<e.fieldsArray.length;++n){var f=e._fieldsArray[n].resolve(),u="m"+i.safeProp(f.name);if(f.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",u,f.name),f.map)t("if(!util.isObject(%s))",u)("return%j",o(f,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),a(t,f,"k[i]"),s(t,f,n,u+"[k[i]]")("}");else if(f.repeated)t("if(!Array.isArray(%s))",u)("return%j",o(f,"array"))("for(var i=0;i<%s.length;++i){",u),s(t,f,n,u+"[i]")("}");else{if(f.partOf){var c=i.safeProp(f.partOf.name);1===r[f.partOf.name]&&t("if(p%s===1)",c)("return%j",f.partOf.name+": multiple values"),r[f.partOf.name]=1,t("p%s=1",c)}s(t,f,n,u)}f.optional&&t("}")}return t("return null")};var n=e(15),i=e(37);function o(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function s(e,t,r,i){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",i)("default:")("return%j",o(t,"enum value"));for(var s=Object.keys(t.resolvedType.values),a=0;a<s.length;++a)e("case %i:",t.resolvedType.values[s[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",o(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",o(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",o(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",o(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",o(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",o(t,"buffer"))}return e}function a(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",o(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",o(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",o(t,"boolean key"))}return e}},{15:15,37:37}],41:[function(e,t,r){var n=r,i=e(21);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t){var r="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return this.create({type_url:"/"+r,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){if(t&&t.json&&e.type_url&&e.value){var r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=this.lookup(r);n&&(e=n.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var o=e.$type.toObject(e,t);return o["@type"]=e.$type.fullName,o}return this.toObject(e,t)}}},{21:21}],42:[function(e,t,r){t.exports=c;var n,i=e(39),o=i.LongBits,s=i.base64,a=i.utf8;function f(e,t,r){this.fn=e,this.len=t,this.next=undefined,this.val=r}function u(){}function c(){this.len=0,this.head=new f(u,0,0),this.tail=this.head,this.states=null}function h(e,t,r){t[r]=255&e}function d(e,t){this.len=e,this.next=undefined,this.val=t}function l(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function p(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}c.create=i.Buffer?function(){return(c.create=function(){return new n})()}:function(){return new c},c.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(c.alloc=i.pool(c.alloc,i.Array.prototype.subarray)),c.prototype._push=function(e,t,r){return this.tail=this.tail.next=new f(e,t,r),this.len+=t,this},d.prototype=Object.create(f.prototype),d.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},c.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new d((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},c.prototype.int32=function(e){return e<0?this._push(l,10,o.fromNumber(e)):this.uint32(e)},c.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},c.prototype.uint64=function(e){var t=o.from(e);return this._push(l,t.length(),t)},c.prototype.int64=c.prototype.uint64,c.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(l,t.length(),t)},c.prototype.bool=function(e){return this._push(h,1,e?1:0)},c.prototype.fixed32=function(e){return this._push(p,4,e>>>0)},c.prototype.sfixed32=c.prototype.fixed32,c.prototype.fixed64=function(e){var t=o.from(e);return this._push(p,4,t.lo)._push(p,4,t.hi)},c.prototype.sfixed64=c.prototype.fixed64,c.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},c.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var b=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};c.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var r=c.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(b,t,e)},c.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(h,1,0)},c.prototype.fork=function(){return this.states=new function(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}(this),this.head=this.tail=new f(u,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(u,0,0),this.len=0),this},c.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},c.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},c._configure=function(e){n=e}},{39:39}],43:[function(e,t,r){t.exports=s;var n=e(42);(s.prototype=Object.create(n.prototype)).constructor=s;var i=e(39),o=i.Buffer;function s(){n.call(this)}s.alloc=function(e){return(s.alloc=i._Buffer_allocUnsafe)(e)};var a=o&&o.prototype instanceof Uint8Array&&"set"===o.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]};function f(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write(e,r)}s.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a,t,e),this},s.prototype.string=function(e){var t=o.byteLength(e);return this.uint32(t),t&&this._push(f,t,e),this}},{39:39,42:42}]},{},[19])}("object"==typeof window&&window||"object"==typeof self&&self||this),function(){function e(e){this.mode=r.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var i=[],o=this.data.charCodeAt(t);o>65536?(i[0]=240|(1835008&o)>>>18,i[1]=128|(258048&o)>>>12,i[2]=128|(4032&o)>>>6,i[3]=128|63&o):o>2048?(i[0]=224|(61440&o)>>>12,i[1]=128|(4032&o)>>>6,i[2]=128|63&o):o>128?(i[0]=192|(1984&o)>>>6,i[1]=128|63&o):i[0]=o,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var r=new e(t);this.dataList.push(r),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,r),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=d.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var i=0;i<this.modules.length;i++)for(var o=1*i,s=0;s<this.modules[i].length;s++){var a=1*s;this.modules[i][s]&&(n.beginFill(0,100),n.moveTo(a,o),n.lineTo(a+1,o),n.lineTo(a+1,o+1),n.lineTo(a,o+1),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=d.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(null==this.modules[n][i])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[n+o][i+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},setupTypeNumber:function(e){for(var t=d.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=d.getBCHTypeInfo(r),i=0;i<15;i++){var o=!e&&1==(n>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i++){o=!e&&1==(n>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var a=0;a<2;a++)if(null==this.modules[n][s-a]){var f=!1;o<e.length&&(f=1==(e[o]>>>i&1)),d.getMask(t,n,s-a)&&(f=!f),this.modules[n][s-a]=f,-1==--i&&(o++,i=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,r,n){for(var i=m.getRSBlocks(e,r),o=new y,s=0;s<n.length;s++){var a=n[s];o.put(a.mode,4),o.put(a.getLength(),d.getLengthInBits(a.mode,e)),a.write(o)}var f=0;for(s=0;s<i.length;s++)f+=i[s].dataCount;if(o.getLengthInBits()>8*f)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*f+")");for(o.getLengthInBits()+4<=8*f&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*f||(o.put(t.PAD0,8),o.getLengthInBits()>=8*f));)o.put(t.PAD1,8);return t.createBytes(o,i)},t.createBytes=function(e,t){for(var r=0,n=0,i=0,o=new Array(t.length),s=new Array(t.length),a=0;a<t.length;a++){var f=t[a].dataCount,u=t[a].totalCount-f;n=Math.max(n,f),i=Math.max(i,u),o[a]=new Array(f);for(var c=0;c<o[a].length;c++)o[a][c]=255&e.buffer[c+r];r+=f;var h=d.getErrorCorrectPolynomial(u),l=new b(o[a],h.getLength()-1).mod(h);s[a]=new Array(h.getLength()-1);for(c=0;c<s[a].length;c++){var p=c+l.getLength()-s[a].length;s[a][c]=p>=0?l.get(p):0}}var m=0;for(c=0;c<t.length;c++)m+=t[c].totalCount;var y=new Array(m),g=0;for(c=0;c<n;c++)for(a=0;a<t.length;a++)c<o[a].length&&(y[g++]=o[a][c]);for(c=0;c<i;c++)for(a=0;a<t.length;a++)c<s[a].length&&(y[g++]=s[a][c]);return y};for(var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},i=0,o=1,s=2,a=3,f=4,u=5,c=6,h=7,d={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;d.getBCHDigit(t)-d.getBCHDigit(d.G15)>=0;)t^=d.G15<<d.getBCHDigit(t)-d.getBCHDigit(d.G15);return(e<<10|t)^d.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;d.getBCHDigit(t)-d.getBCHDigit(d.G18)>=0;)t^=d.G18<<d.getBCHDigit(t)-d.getBCHDigit(d.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return d.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case i:return(t+r)%2==0;case o:return t%2==0;case s:return r%3==0;case a:return(t+r)%3==0;case f:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case u:return t*r%2+t*r%3==0;case c:return(t*r%2+t*r%3)%2==0;case h:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new b([1],0),r=0;r<e;r++)t=t.multiply(new b([1,l.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var o=0,s=e.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||t<=n+a))for(var f=-1;f<=1;f++)i+f<0||t<=i+f||0==a&&0==f||s==e.isDark(n+a,i+f)&&o++;o>5&&(r+=3+o-5)}for(n=0;n<t-1;n++)for(i=0;i<t-1;i++){var u=0;e.isDark(n,i)&&u++,e.isDark(n+1,i)&&u++,e.isDark(n,i+1)&&u++,e.isDark(n+1,i+1)&&u++,0!=u&&4!=u||(r+=3)}for(n=0;n<t;n++)for(i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(i=0;i<t;i++)for(n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);var c=0;for(i=0;i<t;i++)for(n=0;n<t;n++)e.isDark(n,i)&&c++;return r+=10*(Math.abs(100*c/t/t-50)/5)}},l={glog:function(e){if(e<1)throw new Error("glog("+e+")");return l.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return l.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},p=0;p<8;p++)l.EXP_TABLE[p]=1<<p;for(p=8;p<256;p++)l.EXP_TABLE[p]=l.EXP_TABLE[p-4]^l.EXP_TABLE[p-5]^l.EXP_TABLE[p-6]^l.EXP_TABLE[p-8];for(p=0;p<255;p++)l.LOG_TABLE[l.EXP_TABLE[p]]=p;function b(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}function m(e,t){this.totalCount=e,this.dataCount=t}function y(){this.buffer=[],this.length=0}b.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=l.gexp(l.glog(this.get(r))+l.glog(e.get(n)));return new b(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=l.glog(this.get(0))-l.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(n=0;n<e.getLength();n++)r[n]^=l.gexp(l.glog(e.get(n))+t);return new b(r,0).mod(e)}},m.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],m.getRSBlocks=function(e,t){var r=m.getRsBlockTable(e,t);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,i=[],o=0;o<n;o++)for(var s=r[3*o+0],a=r[3*o+1],f=r[3*o+2],u=0;u<s;u++)i.push(new m(a,f));return i},m.getRsBlockTable=function(e,t){switch(t){case n.L:return m.RS_BLOCK_TABLE[4*(e-1)+0];case n.M:return m.RS_BLOCK_TABLE[4*(e-1)+1];case n.Q:return m.RS_BLOCK_TABLE[4*(e-1)+2];case n.H:return m.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},y.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var g=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function v(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var r=t.toString().match(/android ([0-9]\.[0-9])/i);r&&r[1]&&(e=parseFloat(r[1]))}return e}var w=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){var t=this._htOption,r=this._el,n=e.getModuleCount();Math.floor(t.width/n),Math.floor(t.height/n);function i(e,t){var r=document.createElementNS("http://www.w3.org/2000/svg",e);for(var n in t)t.hasOwnProperty(n)&&r.setAttribute(n,t[n]);return r}this.clear();var o=i("svg",{viewBox:"0 0 "+String(n)+" "+String(n),width:"100%",height:"100%",fill:t.colorLight});o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),r.appendChild(o),o.appendChild(i("rect",{fill:t.colorLight,width:"100%",height:"100%"})),o.appendChild(i("rect",{fill:t.colorDark,width:"1",height:"1",id:"template"}));for(var s=0;s<n;s++)for(var a=0;a<n;a++)if(e.isDark(s,a)){var f=i("use",{x:String(a),y:String(s)});f.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(f)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),_="svg"===document.documentElement.tagName.toLowerCase()?w:"undefined"==typeof CanvasRenderingContext2D?function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,r=this._el,n=e.getModuleCount(),i=Math.floor(t.width/n),o=Math.floor(t.height/n),s=['<table style="border:0;border-collapse:collapse;">'],a=0;a<n;a++){s.push("<tr>");for(var f=0;f<n;f++)s.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+i+"px;height:"+o+"px;background-color:"+(e.isDark(a,f)?t.colorDark:t.colorLight)+';"></td>');s.push("</tr>")}s.push("</table>"),r.innerHTML=s.join("");var u=r.childNodes[0],c=(t.width-u.offsetWidth)/2,h=(t.height-u.offsetHeight)/2;c>0&&h>0&&(u.style.margin=h+"px "+c+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}():function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var t=1/window.devicePixelRatio,r=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,n,i,o,s,a,f,u,c){if("nodeName"in e&&/img/i.test(e.nodeName))for(var h=arguments.length-1;h>=1;h--)arguments[h]=arguments[h]*t;else void 0===u&&(arguments[1]*=t,arguments[2]*=t,arguments[3]*=t,arguments[4]*=t);r.apply(this,arguments)}}var n=function(e,t){this._bIsPainted=!1,this._android=v(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return n.prototype.draw=function(e){var t=this._elImage,r=this._oContext,n=this._htOption,i=e.getModuleCount(),o=n.width/i,s=n.height/i,a=Math.round(o),f=Math.round(s);t.style.display="none",this.clear();for(var u=0;u<i;u++)for(var c=0;c<i;c++){var h=e.isDark(u,c),d=c*o,l=u*s;r.strokeStyle=h?n.colorDark:n.colorLight,r.lineWidth=1,r.fillStyle=h?n.colorDark:n.colorLight,r.fillRect(d,l,o,s),r.strokeRect(Math.floor(d)+.5,Math.floor(l)+.5,a,f),r.strokeRect(Math.ceil(d)-.5,Math.ceil(l)-.5,a,f)}this._bIsPainted=!0},n.prototype.makeImage=function(){this._bIsPainted&&function(e,t){var r=this;if(r._fFail=t,r._fSuccess=e,null===r._bSupportDataURI){var n=document.createElement("img"),i=function(){r._bSupportDataURI=!1,r._fFail&&r._fFail.call(r)};return n.onabort=i,n.onerror=i,n.onload=function(){r._bSupportDataURI=!0,r._fSuccess&&r._fSuccess.call(r)},void(n.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===r._bSupportDataURI&&r._fSuccess?r._fSuccess.call(r):!1===r._bSupportDataURI&&r._fFail&&r._fFail.call(r)}.call(this,e)},n.prototype.isPainted=function(){return this._bIsPainted},n.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},n.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},n}();function S(e,t){for(var r=1,i=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),o=0,s=g.length;o<=s;o++){var a=0;switch(t){case n.L:a=g[o][0];break;case n.M:a=g[o][1];break;case n.Q:a=g[o][2];break;case n.H:a=g[o][3]}if(i<=a)break;r++}if(r>g.length)throw new Error("Too long data");return r}(QRCode=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.H},"string"==typeof t&&(t={text:t}),t)for(var r in t)this._htOption[r]=t[r];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(_=w),this._android=v(),this._el=e,this._oQRCode=null,this._oDrawing=new _(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new t(S(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=n}(),function(e){"use strict";var t=function(e){var t=new Error(e);return t.name="ValueError",t},r=function(e){return function(r){var i=Array.prototype.slice.call(arguments,1),o=0,s="UNDEFINED";return r.replace(/([{}])\1|[{](.*?)(?:!(.+?))?[}]/g,function(r,a,f,u){if(null!=a)return a;if(f.length>0){if("IMPLICIT"===s)throw t("cannot switch from implicit to explicit numbering");s="EXPLICIT"}else{if("EXPLICIT"===s)throw t("cannot switch from explicit to implicit numbering");s="IMPLICIT",f=String(o),o+=1}var c,h,d=(c="",null==(h=n(i,f.split(".")))?c:h);if(null==u)return d;if(Object.prototype.hasOwnProperty.call(e,u))return e[u](d);throw t('no transformer named "'+u+'"')})}},n=function(e,t){/^\d+$/.test(t[0])||(t=["0"].concat(t));for(var r=0;r<t.length;r+=1){var n=t[r];e="function"==typeof e[n]?e[n]():e[n]}return e},i=r({});i.create=r,i.extend=function(t,n){var i=r(n);t.format=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),i.apply(e,t)}},"undefined"!=typeof module?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):e.format=i}.call(this,this),require=function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var f="function"==typeof require&&require;if(!a&&f)return f(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r||e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){t.exports=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"name",outputs:[{name:"o_name",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"content",outputs:[{name:"",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"subRegistrar",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_registrar",type:"address"}],name:"setSubRegistrar",outputs:[],type:"function"},{constant:!1,inputs:[],name:"Registrar",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"},{name:"_primary",type:"bool"}],name:"setAddress",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_content",type:"bytes32"}],name:"setContent",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"disown",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_winner",type:"address"}],name:"AuctionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_bidder",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"NewBid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"},{indexed:!0,name:"addr",type:"address"}],name:"PrimaryChanged",type:"event"}]},{}],2:[function(e,t,r){t.exports=[{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_refund",type:"address"}],name:"disown",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"}],name:"setAddr",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"}]},{}],3:[function(e,t,r){t.exports=[{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"indirectId",type:"bytes32"},{name:"value",type:"uint256"}],name:"icapTransfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"to",type:"bytes32"}],name:"deposit",outputs:[],payable:!0,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"AnonymousDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"indirectId",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"IcapTransfer",type:"event"}]},{}],4:[function(e,t,r){var n=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=n.formatInputInt,this._outputFormatter=n.formatOutputAddress};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/address(\[([0-9]*)\])?/)},t.exports=o},{"./formatters":9,"./type":14}],5:[function(e,t,r){var n=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=n.formatInputBool,this._outputFormatter=n.formatOutputBool};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^bool(\[([0-9]*)\])*$/)},t.exports=o},{"./formatters":9,"./type":14}],6:[function(e,t,r){var n=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=n.formatInputBytes,this._outputFormatter=n.formatOutputBytes};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^bytes([0-9]{1,})(\[([0-9]*)\])*$/)},t.exports=o},{"./formatters":9,"./type":14}],7:[function(e,t,r){var n=e("./formatters"),i=e("./address"),o=e("./bool"),s=e("./int"),a=e("./uint"),f=e("./dynamicbytes"),u=e("./string"),c=e("./real"),h=e("./ureal"),d=e("./bytes"),l=function(e,t){return e.isDynamicType(t)||e.isDynamicArray(t)},p=function(e){this._types=e};p.prototype._requireType=function(e){var t=this._types.filter(function(t){return t.isType(e)})[0];if(!t)throw Error("invalid solidity type!: "+e);return t},p.prototype.encodeParam=function(e,t){return this.encodeParams([e],[t])},p.prototype.encodeParams=function(e,t){var r=this.getSolidityTypes(e),n=r.map(function(r,n){return r.encode(t[n],e[n])}),i=r.reduce(function(t,n,i){var o=n.staticPartLength(e[i]),s=32*Math.floor((o+31)/32);return t+(l(r[i],e[i])?32:s)},0);return this.encodeMultiWithOffset(e,r,n,i)},p.prototype.encodeMultiWithOffset=function(e,t,r,i){var o="",s=this;return e.forEach(function(a,f){if(l(t[f],e[f])){o+=n.formatInputInt(i).encode();var u=s.encodeWithOffset(e[f],t[f],r[f],i);i+=u.length/2}else o+=s.encodeWithOffset(e[f],t[f],r[f],i)}),e.forEach(function(n,a){if(l(t[a],e[a])){var f=s.encodeWithOffset(e[a],t[a],r[a],i);i+=f.length/2,o+=f}}),o},p.prototype.encodeWithOffset=function(e,t,r,i){var o=1,s=2,a=3,f=t.isDynamicArray(e)?o:t.isStaticArray(e)?s:a;if(f!==a){var u=t.nestedName(e),c=t.staticPartLength(u),h=f===o?r[0]:"";if(t.isDynamicArray(u))for(var d=f===o?2:0,l=0;l<r.length;l++)f===o?d+=+r[l-1][0]||0:f===s&&(d+=+(r[l-1]||[])[0]||0),h+=n.formatInputInt(i+l*c+32*d).encode();for(var p=f===o?r.length-1:r.length,b=0;b<p;b++){var m=h/2;f===o?h+=this.encodeWithOffset(u,t,r[b+1],i+m):f===s&&(h+=this.encodeWithOffset(u,t,r[b],i+m))}return h}return r},p.prototype.decodeParam=function(e,t){return this.decodeParams([e],t)[0]},p.prototype.decodeParams=function(e,t){var r=this.getSolidityTypes(e),n=this.getOffsets(e,r);return r.map(function(r,i){return r.decode(t,n[i],e[i],i)})},p.prototype.getOffsets=function(e,t){for(var r=t.map(function(t,r){return t.staticPartLength(e[r])}),n=1;n<r.length;n++)r[n]+=r[n-1];return r.map(function(r,n){return r-t[n].staticPartLength(e[n])})},p.prototype.getSolidityTypes=function(e){var t=this;return e.map(function(e){return t._requireType(e)})};var b=new p([new i,new o,new s,new a,new f,new d,new u,new c,new h]);t.exports=b},{"./address":4,"./bool":5,"./bytes":6,"./dynamicbytes":8,"./formatters":9,"./int":10,"./real":12,"./string":13,"./uint":15,"./ureal":16}],8:[function(e,t,r){var n=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=n.formatInputDynamicBytes,this._outputFormatter=n.formatOutputDynamicBytes};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^bytes(\[([0-9]*)\])*$/)},o.prototype.isDynamicType=function(){return!0},t.exports=o},{"./formatters":9,"./type":14}],9:[function(e,t,r){var n=e("bignumber.js"),i=e("../utils/utils"),o=e("../utils/config"),s=e("./param"),a=function(e){n.config(o.ETH_BIGNUMBER_ROUNDING_MODE);var t=i.padLeft(i.toTwosComplement(e).toString(16),64);return new s(t)},f=function(e){var t=e.staticPart()||"0";return function(e){return"1"===new n(e.substr(0,1),16).toString(2).substr(0,1)}(t)?new n(t,16).minus(new n("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16)).minus(1):new n(t,16)},u=function(e){var t=e.staticPart()||"0";return new n(t,16)};t.exports={formatInputInt:a,formatInputBytes:function(e){var t=i.toHex(e).substr(2),r=Math.floor((t.length+63)/64);return t=i.padRight(t,64*r),new s(t)},formatInputDynamicBytes:function(e){var t=i.toHex(e).substr(2),r=t.length/2,n=Math.floor((t.length+63)/64);return t=i.padRight(t,64*n),new s(a(r).value+t)},formatInputString:function(e){var t=i.fromUtf8(e).substr(2),r=t.length/2,n=Math.floor((t.length+63)/64);return t=i.padRight(t,64*n),new s(a(r).value+t)},formatInputBool:function(e){return new s("000000000000000000000000000000000000000000000000000000000000000"+(e?"1":"0"))},formatInputReal:function(e){return a(new n(e).times(new n(2).pow(128)))},formatOutputInt:f,formatOutputUInt:u,formatOutputReal:function(e){return f(e).dividedBy(new n(2).pow(128))},formatOutputUReal:function(e){return u(e).dividedBy(new n(2).pow(128))},formatOutputBool:function(e){return"0000000000000000000000000000000000000000000000000000000000000001"===e.staticPart()},formatOutputBytes:function(e,t){var r=t.match(/^bytes([0-9]*)/),n=parseInt(r[1]);return"0x"+e.staticPart().slice(0,2*n)},formatOutputDynamicBytes:function(e){var t=2*new n(e.dynamicPart().slice(0,64),16).toNumber();return"0x"+e.dynamicPart().substr(64,t)},formatOutputString:function(e){var t=2*new n(e.dynamicPart().slice(0,64),16).toNumber();return i.toUtf8(e.dynamicPart().substr(64,t))},formatOutputAddress:function(e){var t=e.staticPart();return"0x"+t.slice(t.length-40,t.length)}}},{"../utils/config":18,"../utils/utils":20,"./param":11,"bignumber.js":"bignumber.js"}],10:[function(e,t,r){var n=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=n.formatInputInt,this._outputFormatter=n.formatOutputInt};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^int([0-9]*)?(\[([0-9]*)\])*$/)},t.exports=o},{"./formatters":9,"./type":14}],11:[function(e,t,r){var n=e("../utils/utils"),i=function(e,t){this.value=e||"",this.offset=t};i.prototype.dynamicPartLength=function(){return this.dynamicPart().length/2},i.prototype.withOffset=function(e){return new i(this.value,e)},i.prototype.combine=function(e){return new i(this.value+e.value)},i.prototype.isDynamic=function(){return void 0!==this.offset},i.prototype.offsetAsBytes=function(){return this.isDynamic()?n.padLeft(n.toTwosComplement(this.offset).toString(16),64):""},i.prototype.staticPart=function(){return this.isDynamic()?this.offsetAsBytes():this.value},i.prototype.dynamicPart=function(){return this.isDynamic()?this.value:""},i.prototype.encode=function(){return this.staticPart()+this.dynamicPart()},i.encodeList=function(e){var t=32*e.length,r=e.map(function(e){if(!e.isDynamic())return e;var r=t;return t+=e.dynamicPartLength(),e.withOffset(r)});return r.reduce(function(e,t){return e+t.dynamicPart()},r.reduce(function(e,t){return e+t.staticPart()},""))},t.exports=i},{"../utils/utils":20}],12:[function(e,t,r){var n=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=n.formatInputReal,this._outputFormatter=n.formatOutputReal};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/real([0-9]*)?(\[([0-9]*)\])?/)},t.exports=o},{"./formatters":9,"./type":14}],13:[function(e,t,r){var n=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=n.formatInputString,this._outputFormatter=n.formatOutputString};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^string(\[([0-9]*)\])*$/)},o.prototype.isDynamicType=function(){return!0},t.exports=o},{"./formatters":9,"./type":14}],14:[function(e,t,r){var n=e("./formatters"),i=e("./param"),o=function(e){this._inputFormatter=e.inputFormatter,this._outputFormatter=e.outputFormatter};o.prototype.isType=function(e){throw"this method should be overrwritten for type "+e},o.prototype.staticPartLength=function(e){return(this.nestedTypes(e)||["[1]"]).map(function(e){return parseInt(e.slice(1,-1),10)||1}).reduce(function(e,t){return e*t},32)},o.prototype.isDynamicArray=function(e){var t=this.nestedTypes(e);return!!t&&!t[t.length-1].match(/[0-9]{1,}/g)},o.prototype.isStaticArray=function(e){var t=this.nestedTypes(e);return!!t&&!!t[t.length-1].match(/[0-9]{1,}/g)},o.prototype.staticArrayLength=function(e){var t=this.nestedTypes(e);return t?parseInt(t[t.length-1].match(/[0-9]{1,}/g)||1):1},o.prototype.nestedName=function(e){var t=this.nestedTypes(e);return t?e.substr(0,e.length-t[t.length-1].length):e},o.prototype.isDynamicType=function(){return!1},o.prototype.nestedTypes=function(e){return e.match(/(\[[0-9]*\])/g)},o.prototype.encode=function(e,t){var r,i,o,s=this;return this.isDynamicArray(t)?(r=e.length,i=s.nestedName(t),(o=[]).push(n.formatInputInt(r).encode()),e.forEach(function(e){o.push(s.encode(e,i))}),o):this.isStaticArray(t)?function(){for(var r=s.staticArrayLength(t),n=s.nestedName(t),i=[],o=0;o<r;o++)i.push(s.encode(e[o],n));return i}():this._inputFormatter(e,t).encode()},o.prototype.decode=function(e,t,r){var n=this;if(this.isDynamicArray(r))return function(){for(var i=parseInt("0x"+e.substr(2*t,64)),o=parseInt("0x"+e.substr(2*i,64)),s=i+32,a=n.nestedName(r),f=n.staticPartLength(a),u=32*Math.floor((f+31)/32),c=[],h=0;h<o*u;h+=u)c.push(n.decode(e,s+h,a));return c}();if(this.isStaticArray(r))return function(){for(var i=n.staticArrayLength(r),o=t,s=n.nestedName(r),a=n.staticPartLength(s),f=32*Math.floor((a+31)/32),u=[],c=0;c<i*f;c+=f)u.push(n.decode(e,o+c,s));return u}();if(this.isDynamicType(r))return function(){var o=parseInt("0x"+e.substr(2*t,64)),s=parseInt("0x"+e.substr(2*o,64)),a=Math.floor((s+31)/32),f=new i(e.substr(2*o,64*(1+a)),0);return n._outputFormatter(f,r)}();var o=this.staticPartLength(r),s=new i(e.substr(2*t,2*o));return this._outputFormatter(s,r)},t.exports=o},{"./formatters":9,"./param":11}],15:[function(e,t,r){var n=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=n.formatInputInt,this._outputFormatter=n.formatOutputUInt};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^uint([0-9]*)?(\[([0-9]*)\])*$/)},t.exports=o},{"./formatters":9,"./type":14}],16:[function(e,t,r){var n=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=n.formatInputReal,this._outputFormatter=n.formatOutputUReal};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^ureal([0-9]*)?(\[([0-9]*)\])*$/)},t.exports=o},{"./formatters":9,"./type":14}],17:[function(e,t,r){"use strict";"undefined"==typeof XMLHttpRequest?r.XMLHttpRequest={}:r.XMLHttpRequest=XMLHttpRequest},{}],18:[function(e,t,r){var n=e("bignumber.js");t.exports={ETH_PADDING:32,ETH_SIGNATURE_LENGTH:4,ETH_UNITS:["wei","kwei","Mwei","Gwei","szabo","finney","femtoether","picoether","nanoether","microether","milliether","nano","micro","milli","ether","grand","Mether","Gether","Tether","Pether","Eether","Zether","Yether","Nether","Dether","Vether","Uether"],ETH_BIGNUMBER_ROUNDING_MODE:{ROUNDING_MODE:n.ROUND_DOWN},ETH_POLLING_TIMEOUT:500,defaultBlock:"latest",defaultAccount:void 0}},{"bignumber.js":"bignumber.js"}],19:[function(e,t,r){var n=e("crypto-js"),i=e("crypto-js/sha3");t.exports=function(e,t){return t&&"hex"===t.encoding&&(e.length>2&&"0x"===e.substr(0,2)&&(e=e.substr(2)),e=n.enc.Hex.parse(e)),i(e,{outputLength:256}).toString()}},{"crypto-js":58,"crypto-js/sha3":79}],20:[function(e,t,r){var n=e("bignumber.js"),i=e("./sha3.js"),o=e("utf8"),s={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"},a=function(e,t,r){return new Array(t-e.length+1).join(r||"0")+e},f=function(e){e=o.encode(e);for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);if(0===n)break;var i=n.toString(16);t+=i.length<2?"0"+i:i}return"0x"+t},u=function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},c=function(e){var t=l(e),r=t.toString(16);return t.lessThan(0)?"-0x"+r.substr(1):"0x"+r},h=function(e){if(g(e))return c(+e);if(m(e))return c(e);if("object"==typeof e)return f(JSON.stringify(e));if(y(e)){if(0===e.indexOf("-0x"))return c(e);if(0===e.indexOf("0x"))return e;if(!isFinite(e))return u(e)}return c(e)},d=function(e){e=e?e.toLowerCase():"ether";var t=s[e];if(void 0===t)throw new Error("This unit doesn't exists, please use the one of the following units"+JSON.stringify(s,null,2));return new n(t,10)},l=function(e){return m(e=e||0)?e:!y(e)||0!==e.indexOf("0x")&&0!==e.indexOf("-0x")?new n(e.toString(10),10):new n(e.replace("0x",""),16)},p=function(e){return/^0x[0-9a-f]{40}$/i.test(e)},b=function(e){e=e.replace("0x","");for(var t=i(e.toLowerCase()),r=0;r<40;r++)if(parseInt(t[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(t[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0},m=function(e){return e instanceof n||e&&e.constructor&&"BigNumber"===e.constructor.name},y=function(e){return"string"==typeof e||e&&e.constructor&&"String"===e.constructor.name},g=function(e){return"boolean"==typeof e};t.exports={padLeft:a,padRight:function(e,t,r){return e+new Array(t-e.length+1).join(r||"0")},toHex:h,toDecimal:function(e){return l(e).toNumber()},fromDecimal:c,toUtf8:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);if(0===i)break;t+=String.fromCharCode(i)}return o.decode(t)},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},fromUtf8:f,fromAscii:u,transformToFullName:function(e){if(-1!==e.name.indexOf("("))return e.name;var t=e.inputs.map(function(e){return e.type}).join();return e.name+"("+t+")"},extractDisplayName:function(e){var t=e.indexOf("(");return-1!==t?e.substr(0,t):e},extractTypeName:function(e){var t=e.indexOf("(");return-1!==t?e.substr(t+1,e.length-1-(t+1)).replace(" ",""):""},toWei:function(e,t){var r=l(e).times(d(t));return m(e)?r:r.toString(10)},fromWei:function(e,t){var r=l(e).dividedBy(d(t));return m(e)?r:r.toString(10)},toBigNumber:l,toTwosComplement:function(e){var t=l(e).round();return t.lessThan(0)?new n("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16).plus(t).plus(1):t},toAddress:function(e){return p(e)?e:/^[0-9a-f]{40}$/.test(e)?"0x"+e:"0x"+a(h(e).substr(2),40)},isBigNumber:m,isStrictAddress:p,isAddress:function(e){return!!/^(0x)?[0-9a-f]{40}$/i.test(e)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(e)&&!/^(0x)?[0-9A-F]{40}$/.test(e))||b(e))},isChecksumAddress:b,toChecksumAddress:function(e){if(void 0===e)return"";e=e.toLowerCase().replace("0x","");for(var t=i(e),r="0x",n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return r},isFunction:function(e){return"function"==typeof e},isString:y,isObject:function(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e},isBoolean:g,isArray:function(e){return Array.isArray(e)},isJson:function(e){try{return!!JSON.parse(e)}catch(e){return!1}},isBloom:function(e){return!(!/^(0x)?[0-9a-f]{512}$/i.test(e)||!/^(0x)?[0-9a-f]{512}$/.test(e)&&!/^(0x)?[0-9A-F]{512}$/.test(e))},isTopic:function(e){return!(!/^(0x)?[0-9a-f]{64}$/i.test(e)||!/^(0x)?[0-9a-f]{64}$/.test(e)&&!/^(0x)?[0-9A-F]{64}$/.test(e))}}},{"./sha3.js":19,"bignumber.js":"bignumber.js",utf8:84}],21:[function(e,t,r){t.exports={version:"0.20.4"}},{}],22:[function(e,t,r){var n=e("./web3/requestmanager"),i=e("./web3/iban"),o=e("./web3/methods/eth"),s=e("./web3/methods/db"),a=e("./web3/methods/shh"),f=e("./web3/methods/net"),u=e("./web3/methods/personal"),c=e("./web3/methods/swarm"),h=e("./web3/settings"),d=e("./version.json"),l=e("./utils/utils"),p=e("./utils/sha3"),b=e("./web3/extend"),m=e("./web3/batch"),y=e("./web3/property"),g=e("./web3/httpprovider"),v=e("./web3/ipcprovider"),w=e("bignumber.js");function _(e){this._requestManager=new n(e),this.currentProvider=e,this.eth=new o(this),this.db=new s(this),this.shh=new a(this),this.net=new f(this),this.personal=new u(this),this.bzz=new c(this),this.settings=new h,this.version={api:d.version},this.providers={HttpProvider:g,IpcProvider:v},this._extend=b(this),this._extend({properties:S()})}_.providers={HttpProvider:g,IpcProvider:v},_.prototype.setProvider=function(e){this._requestManager.setProvider(e),this.currentProvider=e},_.prototype.reset=function(e){this._requestManager.reset(e),this.settings=new h},_.prototype.BigNumber=w,_.prototype.toHex=l.toHex,_.prototype.toAscii=l.toAscii,_.prototype.toUtf8=l.toUtf8,_.prototype.fromAscii=l.fromAscii,_.prototype.fromUtf8=l.fromUtf8,_.prototype.toDecimal=l.toDecimal,_.prototype.fromDecimal=l.fromDecimal,_.prototype.toBigNumber=l.toBigNumber,_.prototype.toWei=l.toWei,_.prototype.fromWei=l.fromWei,_.prototype.isAddress=l.isAddress,_.prototype.isChecksumAddress=l.isChecksumAddress,_.prototype.toChecksumAddress=l.toChecksumAddress,_.prototype.isIBAN=l.isIBAN,_.prototype.padLeft=l.padLeft,_.prototype.padRight=l.padRight,_.prototype.sha3=function(e,t){return"0x"+p(e,t)},_.prototype.fromICAP=function(e){return new i(e).address()};var S=function(){return[new y({name:"version.node",getter:"web3_clientVersion"}),new y({name:"version.network",getter:"net_version",inputFormatter:l.toDecimal}),new y({name:"version.ethereum",getter:"eth_protocolVersion",inputFormatter:l.toDecimal}),new y({name:"version.whisper",getter:"shh_version",inputFormatter:l.toDecimal})]};_.prototype.isConnected=function(){return this.currentProvider&&this.currentProvider.isConnected()},_.prototype.createBatch=function(){return new m(this)},t.exports=_},{"./utils/sha3":19,"./utils/utils":20,"./version.json":21,"./web3/batch":24,"./web3/extend":28,"./web3/httpprovider":32,"./web3/iban":33,"./web3/ipcprovider":34,"./web3/methods/db":37,"./web3/methods/eth":38,"./web3/methods/net":39,"./web3/methods/personal":40,"./web3/methods/shh":41,"./web3/methods/swarm":42,"./web3/property":45,"./web3/requestmanager":46,"./web3/settings":47,"bignumber.js":"bignumber.js"}],23:[function(e,t,r){var n=e("../utils/sha3"),i=e("./event"),o=e("./formatters"),s=e("../utils/utils"),a=e("./filter"),f=e("./methods/watches"),u=function(e,t,r){this._requestManager=e,this._json=t,this._address=r};u.prototype.encode=function(e){e=e||{};var t={};return["fromBlock","toBlock"].filter(function(t){return void 0!==e[t]}).forEach(function(r){t[r]=o.inputBlockNumberFormatter(e[r])}),t.address=this._address,t},u.prototype.decode=function(e){e.data=e.data||"",e.topics=e.topics||[];var t=e.topics[0].slice(2),r=this._json.filter(function(e){return t===n(s.transformToFullName(e))})[0];return r?new i(this._requestManager,r,this._address).decode(e):(console.warn("cannot find event for log"),e)},u.prototype.execute=function(e,t){s.isFunction(arguments[arguments.length-1])&&(t=arguments[arguments.length-1],1===arguments.length&&(e=null));var r=this.encode(e),n=this.decode.bind(this);return new a(r,"eth",this._requestManager,f.eth(),n,t)},u.prototype.attachToContract=function(e){var t=this.execute.bind(this);e.allEvents=t},t.exports=u},{"../utils/sha3":19,"../utils/utils":20,"./event":27,"./filter":29,"./formatters":30,"./methods/watches":43}],24:[function(e,t,r){var n=e("./jsonrpc"),i=e("./errors"),o=function(e){this.requestManager=e._requestManager,this.requests=[]};o.prototype.add=function(e){this.requests.push(e)},o.prototype.execute=function(){var e=this.requests;this.requestManager.sendBatch(e,function(t,r){r=r||[],e.map(function(e,t){return r[t]||{}}).forEach(function(t,r){if(e[r].callback){if(!n.isValidResponse(t))return e[r].callback(i.InvalidResponse(t));e[r].callback(null,e[r].format?e[r].format(t.result):t.result)}})})},t.exports=o},{"./errors":26,"./jsonrpc":35}],25:[function(e,t,r){var n=e("../utils/utils"),i=e("../solidity/coder"),o=e("./event"),s=e("./function"),a=e("./allevents"),f=function(e,t){return e.filter(function(e){return"constructor"===e.type&&e.inputs.length===t.length}).map(function(e){return e.inputs.map(function(e){return e.type})}).map(function(e){return i.encodeParams(e,t)})[0]||""},u=function(e){e.abi.filter(function(e){return"function"===e.type}).map(function(t){return new s(e._eth,t,e.address)}).forEach(function(t){t.attachToContract(e)})},c=function(e){var t=e.abi.filter(function(e){return"event"===e.type});new a(e._eth._requestManager,t,e.address).attachToContract(e),t.map(function(t){return new o(e._eth._requestManager,t,e.address)}).forEach(function(t){t.attachToContract(e)})},h=function(e,t){var r=0,n=!1,i=e._eth.filter("latest",function(o){if(!o&&!n)if(++r>50){if(i.stopWatching(function(){}),n=!0,!t)throw new Error("Contract transaction couldn't be found after 50 blocks");t(new Error("Contract transaction couldn't be found after 50 blocks"))}else e._eth.getTransactionReceipt(e.transactionHash,function(r,o){o&&o.blockHash&&!n&&e._eth.getCode(o.contractAddress,function(r,s){if(!n&&s)if(i.stopWatching(function(){}),n=!0,s.length>3)e.address=o.contractAddress,u(e),c(e),t&&t(null,e);else{if(!t)throw new Error("The contract code couldn't be stored, please check your gas amount.");t(new Error("The contract code couldn't be stored, please check your gas amount."))}})})})},d=function(e,t){this.eth=e,this.abi=t,this.new=function(){var e,r=new l(this.eth,this.abi),i={},o=Array.prototype.slice.call(arguments);n.isFunction(o[o.length-1])&&(e=o.pop());var s=o[o.length-1];if((n.isObject(s)&&!n.isArray(s)&&(i=o.pop()),i.value>0)&&!(t.filter(function(e){return"constructor"===e.type&&e.inputs.length===o.length})[0]||{}).payable)throw new Error("Cannot send value to non-payable constructor");var a=f(this.abi,o);if(i.data+=a,e)this.eth.sendTransaction(i,function(t,n){t?e(t):(r.transactionHash=n,e(null,r),h(r,e))});else{var u=this.eth.sendTransaction(i);r.transactionHash=u,h(r)}return r},this.new.getData=this.getData.bind(this)};d.prototype.at=function(e,t){var r=new l(this.eth,this.abi,e);return u(r),c(r),t&&t(null,r),r},d.prototype.getData=function(){var e={},t=Array.prototype.slice.call(arguments),r=t[t.length-1];n.isObject(r)&&!n.isArray(r)&&(e=t.pop());var i=f(this.abi,t);return e.data+=i,e.data};var l=function(e,t,r){this._eth=e,this.transactionHash=null,this.address=r,this.abi=t};t.exports=d},{"../solidity/coder":7,"../utils/utils":20,"./allevents":23,"./event":27,"./function":31}],26:[function(e,t,r){t.exports={InvalidNumberOfSolidityArgs:function(){return new Error("Invalid number of arguments to Solidity function")},InvalidNumberOfRPCParams:function(){return new Error("Invalid number of input parameters to RPC method")},InvalidConnection:function(e){return new Error("CONNECTION ERROR: Couldn't connect to node "+e+".")},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(t)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")}}},{}],27:[function(e,t,r){var n=e("../utils/utils"),i=e("../solidity/coder"),o=e("./formatters"),s=e("../utils/sha3"),a=e("./filter"),f=e("./methods/watches"),u=function(e,t,r){this._requestManager=e,this._params=t.inputs,this._name=n.transformToFullName(t),this._address=r,this._anonymous=t.anonymous};u.prototype.types=function(e){return this._params.filter(function(t){return t.indexed===e}).map(function(e){return e.type})},u.prototype.displayName=function(){return n.extractDisplayName(this._name)},u.prototype.typeName=function(){return n.extractTypeName(this._name)},u.prototype.signature=function(){return s(this._name)},u.prototype.encode=function(e,t){e=e||{},t=t||{};var r={};["fromBlock","toBlock"].filter(function(e){return void 0!==t[e]}).forEach(function(e){r[e]=o.inputBlockNumberFormatter(t[e])}),r.topics=[],r.address=this._address,this._anonymous||r.topics.push("0x"+this.signature());var s=this._params.filter(function(e){return!0===e.indexed}).map(function(t){var r=e[t.name];return void 0===r||null===r?null:n.isArray(r)?r.map(function(e){return"0x"+i.encodeParam(t.type,e)}):"0x"+i.encodeParam(t.type,r)});return r.topics=r.topics.concat(s),r},u.prototype.decode=function(e){e.data=e.data||"",e.topics=e.topics||[];var t=(this._anonymous?e.topics:e.topics.slice(1)).map(function(e){return e.slice(2)}).join(""),r=i.decodeParams(this.types(!0),t),n=e.data.slice(2),s=i.decodeParams(this.types(!1),n),a=o.outputLogFormatter(e);return a.event=this.displayName(),a.address=e.address,a.args=this._params.reduce(function(e,t){return e[t.name]=t.indexed?r.shift():s.shift(),e},{}),delete a.data,delete a.topics,a},u.prototype.execute=function(e,t,r){n.isFunction(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],2===arguments.length&&(t=null),1===arguments.length&&(t=null,e={}));var i=this.encode(e,t),o=this.decode.bind(this);return new a(i,"eth",this._requestManager,f.eth(),o,r)},u.prototype.attachToContract=function(e){var t=this.execute.bind(this),r=this.displayName();e[r]||(e[r]=t),e[r][this.typeName()]=this.execute.bind(this,e)},t.exports=u},{"../solidity/coder":7,"../utils/sha3":19,"../utils/utils":20,"./filter":29,"./formatters":30,"./methods/watches":43}],28:[function(e,t,r){var n=e("./formatters"),i=e("./../utils/utils"),o=e("./method"),s=e("./property");t.exports=function(e){var t=function(t){var r;t.property?(e[t.property]||(e[t.property]={}),r=e[t.property]):r=e,t.methods&&t.methods.forEach(function(t){t.attachToObject(r),t.setRequestManager(e._requestManager)}),t.properties&&t.properties.forEach(function(t){t.attachToObject(r),t.setRequestManager(e._requestManager)})};return t.formatters=n,t.utils=i,t.Method=o,t.Property=s,t}},{"./../utils/utils":20,"./formatters":30,"./method":36,"./property":45}],29:[function(e,t,r){var n=e("./formatters"),i=e("../utils/utils"),o=function(e){return null===e||void 0===e?null:0===(e=String(e)).indexOf("0x")?e:i.fromUtf8(e)},s=function(e,t){i.isString(e.options)||e.get(function(e,r){e&&t(e),i.isArray(r)&&r.forEach(function(e){t(null,e)})})},a=function(e){e.requestManager.startPolling({method:e.implementation.poll.call,params:[e.filterId]},e.filterId,function(t,r){if(t)return e.callbacks.forEach(function(e){e(t)});i.isArray(r)&&r.forEach(function(t){t=e.formatter?e.formatter(t):t,e.callbacks.forEach(function(e){e(null,t)})})},e.stopWatching.bind(e))},f=function(e,t,r,f,u,c,h){var d=this,l={};return f.forEach(function(e){e.setRequestManager(r),e.attachToObject(l)}),this.requestManager=r,this.options=function(e,t){if(i.isString(e))return e;switch(e=e||{},t){case"eth":return e.topics=e.topics||[],e.topics=e.topics.map(function(e){return i.isArray(e)?e.map(o):o(e)}),{topics:e.topics,from:e.from,to:e.to,address:e.address,fromBlock:n.inputBlockNumberFormatter(e.fromBlock),toBlock:n.inputBlockNumberFormatter(e.toBlock)};case"shh":return e}}(e,t),this.implementation=l,this.filterId=null,this.callbacks=[],this.getLogsCallbacks=[],this.pollFilters=[],this.formatter=u,this.implementation.newFilter(this.options,function(e,t){if(e)d.callbacks.forEach(function(t){t(e)}),"function"==typeof h&&h(e);else if(d.filterId=t,d.getLogsCallbacks.forEach(function(e){d.get(e)}),d.getLogsCallbacks=[],d.callbacks.forEach(function(e){s(d,e)}),d.callbacks.length>0&&a(d),"function"==typeof c)return d.watch(c)}),this};f.prototype.watch=function(e){return this.callbacks.push(e),this.filterId&&(s(this,e),a(this)),this},f.prototype.stopWatching=function(e){if(this.requestManager.stopPolling(this.filterId),this.callbacks=[],!e)return this.implementation.uninstallFilter(this.filterId);this.implementation.uninstallFilter(this.filterId,e)},f.prototype.get=function(e){var t=this;if(!i.isFunction(e)){if(null===this.filterId)throw new Error("Filter ID Error: filter().get() can't be chained synchronous, please provide a callback for the get() method.");return this.implementation.getLogs(this.filterId).map(function(e){return t.formatter?t.formatter(e):e})}return null===this.filterId?this.getLogsCallbacks.push(e):this.implementation.getLogs(this.filterId,function(r,n){r?e(r):e(null,n.map(function(e){return t.formatter?t.formatter(e):e}))}),this},t.exports=f},{"../utils/utils":20,"./formatters":30}],30:[function(e,t,r){"use strict";var n=e("../utils/utils"),i=e("../utils/config"),o=e("./iban"),s=function(e){if(void 0!==e)return function(e){return"latest"===e||"pending"===e||"earliest"===e}(e)?e:n.toHex(e)},a=function(e){return null!==e.blockNumber&&(e.blockNumber=n.toDecimal(e.blockNumber)),null!==e.transactionIndex&&(e.transactionIndex=n.toDecimal(e.transactionIndex)),e.nonce=n.toDecimal(e.nonce),e.gas=n.toDecimal(e.gas),e.gasPrice=n.toBigNumber(e.gasPrice),e.value=n.toBigNumber(e.value),e},f=function(e){return e.blockNumber&&(e.blockNumber=n.toDecimal(e.blockNumber)),e.transactionIndex&&(e.transactionIndex=n.toDecimal(e.transactionIndex)),e.logIndex&&(e.logIndex=n.toDecimal(e.logIndex)),e},u=function(e){var t=new o(e);if(t.isValid()&&t.isDirect())return"0x"+t.address();if(n.isStrictAddress(e))return e;if(n.isAddress(e))return"0x"+e;throw new Error("invalid address")};t.exports={inputDefaultBlockNumberFormatter:function(e){return void 0===e?i.defaultBlock:s(e)},inputBlockNumberFormatter:s,inputCallFormatter:function(e){return e.from=e.from||i.defaultAccount,e.from&&(e.from=u(e.from)),e.to&&(e.to=u(e.to)),["gasPrice","gas","value","nonce"].filter(function(t){return void 0!==e[t]}).forEach(function(t){e[t]=n.fromDecimal(e[t])}),e},inputTransactionFormatter:function(e){return e.from=e.from||i.defaultAccount,e.from=u(e.from),e.to&&(e.to=u(e.to)),["gasPrice","gas","value","nonce"].filter(function(t){return void 0!==e[t]}).forEach(function(t){e[t]=n.fromDecimal(e[t])}),e},inputAddressFormatter:u,inputPostFormatter:function(e){return e.ttl=n.fromDecimal(e.ttl),e.workToProve=n.fromDecimal(e.workToProve),e.priority=n.fromDecimal(e.priority),n.isArray(e.topics)||(e.topics=e.topics?[e.topics]:[]),e.topics=e.topics.map(function(e){return 0===e.indexOf("0x")?e:n.fromUtf8(e)}),e},outputBigNumberFormatter:function(e){return n.toBigNumber(e)},outputTransactionFormatter:a,outputTransactionReceiptFormatter:function(e){return null!==e.blockNumber&&(e.blockNumber=n.toDecimal(e.blockNumber)),null!==e.transactionIndex&&(e.transactionIndex=n.toDecimal(e.transactionIndex)),e.cumulativeGasUsed=n.toDecimal(e.cumulativeGasUsed),e.gasUsed=n.toDecimal(e.gasUsed),n.isArray(e.logs)&&(e.logs=e.logs.map(function(e){return f(e)})),e},outputBlockFormatter:function(e){return e.gasLimit=n.toDecimal(e.gasLimit),e.gasUsed=n.toDecimal(e.gasUsed),e.size=n.toDecimal(e.size),e.timestamp=n.toDecimal(e.timestamp),null!==e.number&&(e.number=n.toDecimal(e.number)),e.difficulty=n.toBigNumber(e.difficulty),e.totalDifficulty=n.toBigNumber(e.totalDifficulty),n.isArray(e.transactions)&&e.transactions.forEach(function(e){if(!n.isString(e))return a(e)}),e},outputLogFormatter:f,outputPostFormatter:function(e){return e.expiry=n.toDecimal(e.expiry),e.sent=n.toDecimal(e.sent),e.ttl=n.toDecimal(e.ttl),e.workProved=n.toDecimal(e.workProved),e.topics||(e.topics=[]),e.topics=e.topics.map(function(e){return n.toAscii(e)}),e},outputSyncingFormatter:function(e){return e?(e.startingBlock=n.toDecimal(e.startingBlock),e.currentBlock=n.toDecimal(e.currentBlock),e.highestBlock=n.toDecimal(e.highestBlock),e.knownStates&&(e.knownStates=n.toDecimal(e.knownStates),e.pulledStates=n.toDecimal(e.pulledStates)),e):e}}},{"../utils/config":18,"../utils/utils":20,"./iban":33}],31:[function(e,t,r){var n=e("../solidity/coder"),i=e("../utils/utils"),o=e("./errors"),s=e("./formatters"),a=e("../utils/sha3"),f=function(e,t,r){this._eth=e,this._inputTypes=t.inputs.map(function(e){return e.type}),this._outputTypes=t.outputs.map(function(e){return e.type}),this._constant=t.constant,this._payable=t.payable,this._name=i.transformToFullName(t),this._address=r};f.prototype.extractCallback=function(e){if(i.isFunction(e[e.length-1]))return e.pop()},f.prototype.extractDefaultBlock=function(e){if(e.length>this._inputTypes.length&&!i.isObject(e[e.length-1]))return s.inputDefaultBlockNumberFormatter(e.pop())},f.prototype.validateArgs=function(e){if(e.filter(function(e){return!(!0===i.isObject(e)&&!1===i.isArray(e)&&!1===i.isBigNumber(e))}).length!==this._inputTypes.length)throw o.InvalidNumberOfSolidityArgs()},f.prototype.toPayload=function(e){var t={};return e.length>this._inputTypes.length&&i.isObject(e[e.length-1])&&(t=e[e.length-1]),this.validateArgs(e),t.to=this._address,t.data="0x"+this.signature()+n.encodeParams(this._inputTypes,e),t},f.prototype.signature=function(){return a(this._name).slice(0,8)},f.prototype.unpackOutput=function(e){if(e){e=e.length>=2?e.slice(2):e;var t=n.decodeParams(this._outputTypes,e);return 1===t.length?t[0]:t}},f.prototype.call=function(){var e=Array.prototype.slice.call(arguments).filter(function(e){return void 0!==e}),t=this.extractCallback(e),r=this.extractDefaultBlock(e),n=this.toPayload(e);if(!t){var i=this._eth.call(n,r);return this.unpackOutput(i)}var o=this;this._eth.call(n,r,function(e,r){if(e)return t(e,null);var n=null;try{n=o.unpackOutput(r)}catch(t){e=t}t(e,n)})},f.prototype.sendTransaction=function(){var e=Array.prototype.slice.call(arguments).filter(function(e){return void 0!==e}),t=this.extractCallback(e),r=this.toPayload(e);if(r.value>0&&!this._payable)throw new Error("Cannot send value to non-payable function");if(!t)return this._eth.sendTransaction(r);this._eth.sendTransaction(r,t)},f.prototype.estimateGas=function(){var e=Array.prototype.slice.call(arguments),t=this.extractCallback(e),r=this.toPayload(e);if(!t)return this._eth.estimateGas(r);this._eth.estimateGas(r,t)},f.prototype.getData=function(){var e=Array.prototype.slice.call(arguments);return this.toPayload(e).data},f.prototype.displayName=function(){return i.extractDisplayName(this._name)},f.prototype.typeName=function(){return i.extractTypeName(this._name)},f.prototype.request=function(){var e=Array.prototype.slice.call(arguments),t=this.extractCallback(e),r=this.toPayload(e),n=this.unpackOutput.bind(this);return{method:this._constant?"eth_call":"eth_sendTransaction",callback:t,params:[r],format:n}},f.prototype.execute=function(){return!this._constant?this.sendTransaction.apply(this,Array.prototype.slice.call(arguments)):this.call.apply(this,Array.prototype.slice.call(arguments))},f.prototype.attachToContract=function(e){var t=this.execute.bind(this);t.request=this.request.bind(this),t.call=this.call.bind(this),t.sendTransaction=this.sendTransaction.bind(this),t.estimateGas=this.estimateGas.bind(this),t.getData=this.getData.bind(this);var r=this.displayName();e[r]||(e[r]=t),e[r][this.typeName()]=t},t.exports=f},{"../solidity/coder":7,"../utils/sha3":19,"../utils/utils":20,"./errors":26,"./formatters":30}],32:[function(e,t,r){var n=e("./errors");"undefined"!=typeof window&&window.XMLHttpRequest?XMLHttpRequest=window.XMLHttpRequest:XMLHttpRequest=e("xmlhttprequest").XMLHttpRequest;var i=e("xhr2"),o=function(e,t,r,n,i){this.host=e||"http://localhost:8545",this.timeout=t||0,this.user=r,this.password=n,this.headers=i};o.prototype.prepareRequest=function(e){var t;if(e?(t=new i).timeout=this.timeout:t=new XMLHttpRequest,t.open("POST",this.host,e),this.user&&this.password){var r="Basic "+new Buffer(this.user+":"+this.password).toString("base64");t.setRequestHeader("Authorization",r)}return t.setRequestHeader("Content-Type","application/json"),this.headers&&this.headers.forEach(function(e){t.setRequestHeader(e.name,e.value)}),t},o.prototype.send=function(e){var t=this.prepareRequest(!1);try{t.send(JSON.stringify(e))}catch(e){throw n.InvalidConnection(this.host)}var r=t.responseText;try{r=JSON.parse(r)}catch(e){throw n.InvalidResponse(t.responseText)}return r},o.prototype.sendAsync=function(e,t){var r=this.prepareRequest(!0);r.onreadystatechange=function(){if(4===r.readyState&&1!==r.timeout){var e=r.responseText,i=null;try{e=JSON.parse(e)}catch(e){i=n.InvalidResponse(r.responseText)}t(i,e)}},r.ontimeout=function(){t(n.ConnectionTimeout(this.timeout))};try{r.send(JSON.stringify(e))}catch(e){t(n.InvalidConnection(this.host))}},o.prototype.isConnected=function(){try{return this.send({id:9999999999,jsonrpc:"2.0",method:"net_listening",params:[]}),!0}catch(e){return!1}},t.exports=o},{"./errors":26,xhr2:85,xmlhttprequest:17}],33:[function(e,t,r){var n=e("bignumber.js"),i=function(e,t){for(var r=e;r.length<2*t;)r="0"+r;return r},o=function(e){var t="A".charCodeAt(0),r="Z".charCodeAt(0);return(e=(e=e.toUpperCase()).substr(4)+e.substr(0,4)).split("").map(function(e){var n=e.charCodeAt(0);return n>=t&&n<=r?n-t+10:e}).join("")},s=function(e){for(var t,r=e;r.length>2;)t=r.slice(0,9),r=parseInt(t,10)%97+r.slice(t.length);return parseInt(r,10)%97},a=function(e){this._iban=e};a.fromAddress=function(e){var t=new n(e,16).toString(36),r=i(t,15);return a.fromBban(r.toUpperCase())},a.fromBban=function(e){var t=("0"+(98-s(o("XE00"+e)))).slice(-2);return new a("XE"+t+e)},a.createIndirect=function(e){return a.fromBban("ETH"+e.institution+e.identifier)},a.isValid=function(e){return new a(e).isValid()},a.prototype.isValid=function(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===s(o(this._iban))},a.prototype.isDirect=function(){return 34===this._iban.length||35===this._iban.length},a.prototype.isIndirect=function(){return 20===this._iban.length},a.prototype.checksum=function(){return this._iban.substr(2,2)},a.prototype.institution=function(){return this.isIndirect()?this._iban.substr(7,4):""},a.prototype.client=function(){return this.isIndirect()?this._iban.substr(11):""},a.prototype.address=function(){if(this.isDirect()){var e=this._iban.substr(4),t=new n(e,36);return i(t.toString(16),20)}return""},a.prototype.toString=function(){return this._iban},t.exports=a},{"bignumber.js":"bignumber.js"}],34:[function(e,t,r){"use strict";var n=e("../utils/utils"),i=e("./errors"),o=function(e,t){var r=this;this.responseCallbacks={},this.path=e,this.connection=t.connect({path:this.path}),this.connection.on("error",function(e){console.error("IPC Connection Error",e),r._timeout()}),this.connection.on("end",function(){r._timeout()}),this.connection.on("data",function(e){r._parseResponse(e.toString()).forEach(function(e){var t=null;n.isArray(e)?e.forEach(function(e){r.responseCallbacks[e.id]&&(t=e.id)}):t=e.id,r.responseCallbacks[t]&&(r.responseCallbacks[t](null,e),delete r.responseCallbacks[t])})})};o.prototype._parseResponse=function(e){var t=this,r=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(e){t.lastChunk&&(e=t.lastChunk+e);var n=null;try{n=JSON.parse(e)}catch(r){return t.lastChunk=e,clearTimeout(t.lastChunkTimeout),void(t.lastChunkTimeout=setTimeout(function(){throw t._timeout(),i.InvalidResponse(e)},15e3))}clearTimeout(t.lastChunkTimeout),t.lastChunk=null,n&&r.push(n)}),r},o.prototype._addResponseCallback=function(e,t){var r=e.id||e[0].id,n=e.method||e[0].method;this.responseCallbacks[r]=t,this.responseCallbacks[r].method=n},o.prototype._timeout=function(){for(var e in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(e)&&(this.responseCallbacks[e](i.InvalidConnection("on IPC")),delete this.responseCallbacks[e])},o.prototype.isConnected=function(){return this.connection.writable||this.connection.connect({path:this.path}),!!this.connection.writable},o.prototype.send=function(e){if(this.connection.writeSync){var t;this.connection.writable||this.connection.connect({path:this.path});var r=this.connection.writeSync(JSON.stringify(e));try{t=JSON.parse(r)}catch(e){throw i.InvalidResponse(r)}return t}throw new Error('You tried to send "'+e.method+'" synchronously. Synchronous requests are not supported by the IPC provider.')},o.prototype.sendAsync=function(e,t){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(e)),this._addResponseCallback(e,t)},t.exports=o},{"../utils/utils":20,"./errors":26}],35:[function(e,t,r){var n={messageId:0,toPayload:function(e,t){return e||console.error("jsonrpc method should be specified!"),n.messageId++,{jsonrpc:"2.0",id:n.messageId,method:e,params:t||[]}},isValidResponse:function(e){return Array.isArray(e)?e.every(t):t(e);function t(e){return!!e&&!e.error&&"2.0"===e.jsonrpc&&"number"==typeof e.id&&void 0!==e.result}},toBatchPayload:function(e){return e.map(function(e){return n.toPayload(e.method,e.params)})}};t.exports=n},{}],36:[function(e,t,r){var n=e("../utils/utils"),i=e("./errors"),o=function(e){this.name=e.name,this.call=e.call,this.params=e.params||0,this.inputFormatter=e.inputFormatter,this.outputFormatter=e.outputFormatter,this.requestManager=null};o.prototype.setRequestManager=function(e){this.requestManager=e},o.prototype.getCall=function(e){return n.isFunction(this.call)?this.call(e):this.call},o.prototype.extractCallback=function(e){if(n.isFunction(e[e.length-1]))return e.pop()},o.prototype.validateArgs=function(e){if(e.length!==this.params)throw i.InvalidNumberOfRPCParams()},o.prototype.formatInput=function(e){return this.inputFormatter?this.inputFormatter.map(function(t,r){return t?t(e[r]):e[r]}):e},o.prototype.formatOutput=function(e){return this.outputFormatter&&e?this.outputFormatter(e):e},o.prototype.toPayload=function(e){var t=this.getCall(e),r=this.extractCallback(e),n=this.formatInput(e);return this.validateArgs(n),{method:t,params:n,callback:r}},o.prototype.attachToObject=function(e){var t=this.buildCall();t.call=this.call;var r=this.name.split(".");r.length>1?(e[r[0]]=e[r[0]]||{},e[r[0]][r[1]]=t):e[r[0]]=t},o.prototype.buildCall=function(){var e=this,t=function(){var t=e.toPayload(Array.prototype.slice.call(arguments));return t.callback?e.requestManager.sendAsync(t,function(r,n){t.callback(r,e.formatOutput(n))}):e.formatOutput(e.requestManager.send(t))};return t.request=this.request.bind(this),t},o.prototype.request=function(){var e=this.toPayload(Array.prototype.slice.call(arguments));return e.format=this.formatOutput.bind(this),e},t.exports=o},{"../utils/utils":20,"./errors":26}],37:[function(e,t,r){var n=e("../method"),i=function(){return[new n({name:"putString",call:"db_putString",params:3}),new n({name:"getString",call:"db_getString",params:2}),new n({name:"putHex",call:"db_putHex",params:3}),new n({name:"getHex",call:"db_getHex",params:2})]};t.exports=function(e){this._requestManager=e._requestManager;var t=this;i().forEach(function(r){r.attachToObject(t),r.setRequestManager(e._requestManager)})}},{"../method":36}],38:[function(e,t,r){"use strict";var n=e("../formatters"),i=e("../../utils/utils"),o=e("../method"),s=e("../property"),a=e("../../utils/config"),f=e("../contract"),u=e("./watches"),c=e("../filter"),h=e("../syncing"),d=e("../namereg"),l=e("../iban"),p=e("../transfer"),b=function(e){return i.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getBlockByHash":"eth_getBlockByNumber"},m=function(e){return i.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getTransactionByBlockHashAndIndex":"eth_getTransactionByBlockNumberAndIndex"},y=function(e){return i.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getUncleByBlockHashAndIndex":"eth_getUncleByBlockNumberAndIndex"},g=function(e){return i.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getBlockTransactionCountByHash":"eth_getBlockTransactionCountByNumber"},v=function(e){return i.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getUncleCountByBlockHash":"eth_getUncleCountByBlockNumber"};function w(e){this._requestManager=e._requestManager;var t=this;_().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)}),S().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)}),this.iban=l,this.sendIBANTransaction=p.bind(null,this)}Object.defineProperty(w.prototype,"defaultBlock",{get:function(){return a.defaultBlock},set:function(e){return a.defaultBlock=e,e}}),Object.defineProperty(w.prototype,"defaultAccount",{get:function(){return a.defaultAccount},set:function(e){return a.defaultAccount=e,e}});var _=function(){var e=new o({name:"getBalance",call:"eth_getBalance",params:2,inputFormatter:[n.inputAddressFormatter,n.inputDefaultBlockNumberFormatter],outputFormatter:n.outputBigNumberFormatter}),t=new o({name:"getStorageAt",call:"eth_getStorageAt",params:3,inputFormatter:[null,i.toHex,n.inputDefaultBlockNumberFormatter]}),r=new o({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[n.inputAddressFormatter,n.inputDefaultBlockNumberFormatter]}),s=new o({name:"getBlock",call:b,params:2,inputFormatter:[n.inputBlockNumberFormatter,function(e){return!!e}],outputFormatter:n.outputBlockFormatter}),a=new o({name:"getUncle",call:y,params:2,inputFormatter:[n.inputBlockNumberFormatter,i.toHex],outputFormatter:n.outputBlockFormatter}),f=new o({name:"getCompilers",call:"eth_getCompilers",params:0}),u=new o({name:"getBlockTransactionCount",call:g,params:1,inputFormatter:[n.inputBlockNumberFormatter],outputFormatter:i.toDecimal}),c=new o({name:"getBlockUncleCount",call:v,params:1,inputFormatter:[n.inputBlockNumberFormatter],outputFormatter:i.toDecimal}),h=new o({name:"getTransaction",call:"eth_getTransactionByHash",params:1,outputFormatter:n.outputTransactionFormatter}),d=new o({name:"getTransactionFromBlock",call:m,params:2,inputFormatter:[n.inputBlockNumberFormatter,i.toHex],outputFormatter:n.outputTransactionFormatter}),l=new o({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,outputFormatter:n.outputTransactionReceiptFormatter}),p=new o({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[null,n.inputDefaultBlockNumberFormatter],outputFormatter:i.toDecimal}),w=new o({name:"sendRawTransaction",call:"eth_sendRawTransaction",params:1,inputFormatter:[null]}),_=new o({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[n.inputTransactionFormatter]}),S=new o({name:"signTransaction",call:"eth_signTransaction",params:1,inputFormatter:[n.inputTransactionFormatter]}),A=new o({name:"sign",call:"eth_sign",params:2,inputFormatter:[n.inputAddressFormatter,null]});return[e,t,r,s,a,f,u,c,h,d,l,p,new o({name:"call",call:"eth_call",params:2,inputFormatter:[n.inputCallFormatter,n.inputDefaultBlockNumberFormatter]}),new o({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[n.inputCallFormatter],outputFormatter:i.toDecimal}),w,S,_,A,new o({name:"compile.solidity",call:"eth_compileSolidity",params:1}),new o({name:"compile.lll",call:"eth_compileLLL",params:1}),new o({name:"compile.serpent",call:"eth_compileSerpent",params:1}),new o({name:"submitWork",call:"eth_submitWork",params:3}),new o({name:"getWork",call:"eth_getWork",params:0})]},S=function(){return[new s({name:"coinbase",getter:"eth_coinbase"}),new s({name:"mining",getter:"eth_mining"}),new s({name:"hashrate",getter:"eth_hashrate",outputFormatter:i.toDecimal}),new s({name:"syncing",getter:"eth_syncing",outputFormatter:n.outputSyncingFormatter}),new s({name:"gasPrice",getter:"eth_gasPrice",outputFormatter:n.outputBigNumberFormatter}),new s({name:"accounts",getter:"eth_accounts"}),new s({name:"blockNumber",getter:"eth_blockNumber",outputFormatter:i.toDecimal}),new s({name:"protocolVersion",getter:"eth_protocolVersion"})]};w.prototype.contract=function(e){return new f(this,e)},w.prototype.filter=function(e,t,r){return new c(e,"eth",this._requestManager,u.eth(),n.outputLogFormatter,t,r)},w.prototype.namereg=function(){return this.contract(d.global.abi).at(d.global.address)},w.prototype.icapNamereg=function(){return this.contract(d.icap.abi).at(d.icap.address)},w.prototype.isSyncing=function(e){return new h(this._requestManager,e)},t.exports=w},{"../../utils/config":18,"../../utils/utils":20,"../contract":25,"../filter":29,"../formatters":30,"../iban":33,"../method":36,"../namereg":44,"../property":45,"../syncing":48,"../transfer":49,"./watches":43}],39:[function(e,t,r){var n=e("../../utils/utils"),i=e("../property"),o=function(){return[new i({name:"listening",getter:"net_listening"}),new i({name:"peerCount",getter:"net_peerCount",outputFormatter:n.toDecimal})]};t.exports=function(e){this._requestManager=e._requestManager;var t=this;o().forEach(function(r){r.attachToObject(t),r.setRequestManager(e._requestManager)})}},{"../../utils/utils":20,"../property":45}],40:[function(e,t,r){"use strict";var n=e("../method"),i=e("../property"),o=e("../formatters");var s=function(){var e=new n({name:"newAccount",call:"personal_newAccount",params:1,inputFormatter:[null]}),t=new n({name:"importRawKey",call:"personal_importRawKey",params:2}),r=new n({name:"sign",call:"personal_sign",params:3,inputFormatter:[null,o.inputAddressFormatter,null]}),i=new n({name:"ecRecover",call:"personal_ecRecover",params:2});return[e,t,new n({name:"unlockAccount",call:"personal_unlockAccount",params:3,inputFormatter:[o.inputAddressFormatter,null,null]}),i,r,new n({name:"sendTransaction",call:"personal_sendTransaction",params:2,inputFormatter:[o.inputTransactionFormatter,null]}),new n({name:"lockAccount",call:"personal_lockAccount",params:1,inputFormatter:[o.inputAddressFormatter]})]},a=function(){return[new i({name:"listAccounts",getter:"personal_listAccounts"})]};t.exports=function(e){this._requestManager=e._requestManager;var t=this;s().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)}),a().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)})}},{"../formatters":30,"../method":36,"../property":45}],41:[function(e,t,r){var n=e("../method"),i=e("../filter"),o=e("./watches"),s=function(e){this._requestManager=e._requestManager;var t=this;a().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)})};s.prototype.newMessageFilter=function(e,t,r){return new i(e,"shh",this._requestManager,o.shh(),null,t,r)};var a=function(){return[new n({name:"version",call:"shh_version",params:0}),new n({name:"info",call:"shh_info",params:0}),new n({name:"setMaxMessageSize",call:"shh_setMaxMessageSize",params:1}),new n({name:"setMinPoW",call:"shh_setMinPoW",params:1}),new n({name:"markTrustedPeer",call:"shh_markTrustedPeer",params:1}),new n({name:"newKeyPair",call:"shh_newKeyPair",params:0}),new n({name:"addPrivateKey",call:"shh_addPrivateKey",params:1}),new n({name:"deleteKeyPair",call:"shh_deleteKeyPair",params:1}),new n({name:"hasKeyPair",call:"shh_hasKeyPair",params:1}),new n({name:"getPublicKey",call:"shh_getPublicKey",params:1}),new n({name:"getPrivateKey",call:"shh_getPrivateKey",params:1}),new n({name:"newSymKey",call:"shh_newSymKey",params:0}),new n({name:"addSymKey",call:"shh_addSymKey",params:1}),new n({name:"generateSymKeyFromPassword",call:"shh_generateSymKeyFromPassword",params:1}),new n({name:"hasSymKey",call:"shh_hasSymKey",params:1}),new n({name:"getSymKey",call:"shh_getSymKey",params:1}),new n({name:"deleteSymKey",call:"shh_deleteSymKey",params:1}),new n({name:"post",call:"shh_post",params:1,inputFormatter:[null]})]};t.exports=s},{"../filter":29,"../method":36,"./watches":43}],42:[function(e,t,r){"use strict";var n=e("../method"),i=e("../property");var o=function(){return[new n({name:"blockNetworkRead",call:"bzz_blockNetworkRead",params:1,inputFormatter:[null]}),new n({name:"syncEnabled",call:"bzz_syncEnabled",params:1,inputFormatter:[null]}),new n({name:"swapEnabled",call:"bzz_swapEnabled",params:1,inputFormatter:[null]}),new n({name:"download",call:"bzz_download",params:2,inputFormatter:[null,null]}),new n({name:"upload",call:"bzz_upload",params:2,inputFormatter:[null,null]}),new n({name:"retrieve",call:"bzz_retrieve",params:1,inputFormatter:[null]}),new n({name:"store",call:"bzz_store",params:2,inputFormatter:[null,null]}),new n({name:"get",call:"bzz_get",params:1,inputFormatter:[null]}),new n({name:"put",call:"bzz_put",params:2,inputFormatter:[null,null]}),new n({name:"modify",call:"bzz_modify",params:4,inputFormatter:[null,null,null,null]})]},s=function(){return[new i({name:"hive",getter:"bzz_hive"}),new i({name:"info",getter:"bzz_info"})]};t.exports=function(e){this._requestManager=e._requestManager;var t=this;o().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)}),s().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)})}},{"../method":36,"../property":45}],43:[function(e,t,r){var n=e("../method");t.exports={eth:function(){return[new n({name:"newFilter",call:function(e){switch(e[0]){case"latest":return e.shift(),this.params=0,"eth_newBlockFilter";case"pending":return e.shift(),this.params=0,"eth_newPendingTransactionFilter";default:return"eth_newFilter"}},params:1}),new n({name:"uninstallFilter",call:"eth_uninstallFilter",params:1}),new n({name:"getLogs",call:"eth_getFilterLogs",params:1}),new n({name:"poll",call:"eth_getFilterChanges",params:1})]},shh:function(){return[new n({name:"newFilter",call:"shh_newMessageFilter",params:1}),new n({name:"uninstallFilter",call:"shh_deleteMessageFilter",params:1}),new n({name:"getLogs",call:"shh_getFilterMessages",params:1}),new n({name:"poll",call:"shh_getFilterMessages",params:1})]}}},{"../method":36}],44:[function(e,t,r){var n=e("../contracts/GlobalRegistrar.json"),i=e("../contracts/ICAPRegistrar.json");t.exports={global:{abi:n,address:"0xc6d9d2cd449a754c494264e1809c50e34d64562b"},icap:{abi:i,address:"0xa1a111bc074c9cfa781f0c38e63bd51c91b8af00"}}},{"../contracts/GlobalRegistrar.json":1,"../contracts/ICAPRegistrar.json":2}],45:[function(e,t,r){var n=e("../utils/utils"),i=function(e){this.name=e.name,this.getter=e.getter,this.setter=e.setter,this.outputFormatter=e.outputFormatter,this.inputFormatter=e.inputFormatter,this.requestManager=null};i.prototype.setRequestManager=function(e){this.requestManager=e},i.prototype.formatInput=function(e){return this.inputFormatter?this.inputFormatter(e):e},i.prototype.formatOutput=function(e){return this.outputFormatter&&null!==e&&void 0!==e?this.outputFormatter(e):e},i.prototype.extractCallback=function(e){if(n.isFunction(e[e.length-1]))return e.pop()},i.prototype.attachToObject=function(e){var t={get:this.buildGet(),enumerable:!0},r=this.name.split("."),n=r[0];r.length>1&&(e[r[0]]=e[r[0]]||{},e=e[r[0]],n=r[1]),Object.defineProperty(e,n,t),e[o(n)]=this.buildAsyncGet()};var o=function(e){return"get"+e.charAt(0).toUpperCase()+e.slice(1)};i.prototype.buildGet=function(){var e=this;return function(){return e.formatOutput(e.requestManager.send({method:e.getter}))}},i.prototype.buildAsyncGet=function(){var e=this,t=function(t){e.requestManager.sendAsync({method:e.getter},function(r,n){t(r,e.formatOutput(n))})};return t.request=this.request.bind(this),t},i.prototype.request=function(){var e={method:this.getter,params:[],callback:this.extractCallback(Array.prototype.slice.call(arguments))};return e.format=this.formatOutput.bind(this),e},t.exports=i},{"../utils/utils":20}],46:[function(e,t,r){var n=e("./jsonrpc"),i=e("../utils/utils"),o=e("../utils/config"),s=e("./errors"),a=function(e){this.provider=e,this.polls={},this.timeout=null};a.prototype.send=function(e){if(!this.provider)return console.error(s.InvalidProvider()),null;var t=n.toPayload(e.method,e.params),r=this.provider.send(t);if(!n.isValidResponse(r))throw s.InvalidResponse(r);return r.result},a.prototype.sendAsync=function(e,t){if(!this.provider)return t(s.InvalidProvider());var r=n.toPayload(e.method,e.params);this.provider.sendAsync(r,function(e,r){return e?t(e):n.isValidResponse(r)?void t(null,r.result):t(s.InvalidResponse(r))})},a.prototype.sendBatch=function(e,t){if(!this.provider)return t(s.InvalidProvider());var r=n.toBatchPayload(e);this.provider.sendAsync(r,function(e,r){return e?t(e):i.isArray(r)?void t(e,r):t(s.InvalidResponse(r))})},a.prototype.setProvider=function(e){this.provider=e},a.prototype.startPolling=function(e,t,r,n){this.polls[t]={data:e,id:t,callback:r,uninstall:n},this.timeout||this.poll()},a.prototype.stopPolling=function(e){delete this.polls[e],0===Object.keys(this.polls).length&&this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},a.prototype.reset=function(e){for(var t in this.polls)e&&-1!==t.indexOf("syncPoll_")||(this.polls[t].uninstall(),delete this.polls[t]);0===Object.keys(this.polls).length&&this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},a.prototype.poll=function(){if(this.timeout=setTimeout(this.poll.bind(this),o.ETH_POLLING_TIMEOUT),0!==Object.keys(this.polls).length)if(this.provider){var e=[],t=[];for(var r in this.polls)e.push(this.polls[r].data),t.push(r);if(0!==e.length){var a=n.toBatchPayload(e),f={};a.forEach(function(e,r){f[e.id]=t[r]});var u=this;this.provider.sendAsync(a,function(e,t){if(!e){if(!i.isArray(t))throw s.InvalidResponse(t);t.map(function(e){var t=f[e.id];return!!u.polls[t]&&(e.callback=u.polls[t].callback,e)}).filter(function(e){return!!e}).filter(function(e){var t=n.isValidResponse(e);return t||e.callback(s.InvalidResponse(e)),t}).forEach(function(e){e.callback(null,e.result)})}})}}else console.error(s.InvalidProvider())},t.exports=a},{"../utils/config":18,"../utils/utils":20,"./errors":26,"./jsonrpc":35}],47:[function(e,t,r){t.exports=function(){this.defaultBlock="latest",this.defaultAccount=void 0}},{}],48:[function(e,t,r){var n=e("./formatters"),i=e("../utils/utils"),o=1,s=function(e,t){var r;return this.requestManager=e,this.pollId="syncPoll_"+o++,this.callbacks=[],this.addCallback(t),this.lastSyncState=!1,(r=this).requestManager.startPolling({method:"eth_syncing",params:[]},r.pollId,function(e,t){if(e)return r.callbacks.forEach(function(t){t(e)});i.isObject(t)&&t.startingBlock&&(t=n.outputSyncingFormatter(t)),r.callbacks.forEach(function(e){r.lastSyncState!==t&&(!r.lastSyncState&&i.isObject(t)&&e(null,!0),setTimeout(function(){e(null,t)},0),r.lastSyncState=t)})},r.stopWatching.bind(r)),this};s.prototype.addCallback=function(e){return e&&this.callbacks.push(e),this},s.prototype.stopWatching=function(){this.requestManager.stopPolling(this.pollId),this.callbacks=[]},t.exports=s},{"../utils/utils":20,"./formatters":30}],49:[function(e,t,r){var n=e("./iban"),i=e("../contracts/SmartExchange.json"),o=function(e,t,r,n,i){return e.sendTransaction({address:r,from:t,value:n},i)},s=function(e,t,r,n,o,s){var a=i;return e.contract(a).at(r).deposit(o,{from:t,value:n},s)};t.exports=function(e,t,r,i,a){var f=new n(r);if(!f.isValid())throw new Error("invalid iban address");if(f.isDirect())return o(e,t,f.address(),i,a);if(!a){var u=e.icapNamereg().addr(f.institution());return s(e,t,u,i,f.client())}e.icapNamereg().addr(f.institution(),function(r,n){return s(e,t,n,i,f.client(),a)})}},{"../contracts/SmartExchange.json":3,"./iban":33}],50:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.BlockCipher,n=t.algo,i=[],o=[],s=[],a=[],f=[],u=[],c=[],h=[],d=[],l=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,i[r]=p,o[p]=r;var b=e[r],m=e[b],y=e[m],g=257*e[p]^16843008*p;s[r]=g<<24|g>>>8,a[r]=g<<16|g>>>16,f[r]=g<<8|g>>>24,u[r]=g;g=16843009*y^65537*m^257*b^16843008*r;c[p]=g<<24|g>>>8,h[p]=g<<16|g>>>16,d[p]=g<<8|g>>>24,l[p]=g,r?(r=b^e[e[e[y^b]]],n^=e[e[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],b=n.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],s=0;s<n;s++)if(s<r)o[s]=t[s];else{var a=o[s-1];s%r?r>6&&s%r==4&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=p[s/r|0]<<24),o[s]=o[s-r]^a}for(var f=this._invKeySchedule=[],u=0;u<n;u++){s=n-u;if(u%4)a=o[s];else a=o[s-4];f[u]=u<4||s<=4?a:c[i[a>>>24]]^h[i[a>>>16&255]]^d[i[a>>>8&255]]^l[i[255&a]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,f,u,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,c,h,d,l,o);r=e[t+1];e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,s,a){for(var f=this._nRounds,u=e[t]^r[0],c=e[t+1]^r[1],h=e[t+2]^r[2],d=e[t+3]^r[3],l=4,p=1;p<f;p++){var b=n[u>>>24]^i[c>>>16&255]^o[h>>>8&255]^s[255&d]^r[l++],m=n[c>>>24]^i[h>>>16&255]^o[d>>>8&255]^s[255&u]^r[l++],y=n[h>>>24]^i[d>>>16&255]^o[u>>>8&255]^s[255&c]^r[l++],g=n[d>>>24]^i[u>>>16&255]^o[c>>>8&255]^s[255&h]^r[l++];u=b,c=m,h=y,d=g}b=(a[u>>>24]<<24|a[c>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^r[l++],m=(a[c>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&u])^r[l++],y=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[u>>>8&255]<<8|a[255&c])^r[l++],g=(a[d>>>24]<<24|a[u>>>16&255]<<16|a[c>>>8&255]<<8|a[255&h])^r[l++];e[t]=b,e[t+1]=m,e[t+2]=y,e[t+3]=g},keySize:8});t.AES=r._createHelper(b)}(),e.AES},"object"==typeof r?t.exports=r=i(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52,"./enc-base64":53,"./evpkdf":55,"./md5":60}],51:[function(e,t,r){var n,i;n=this,i=function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,s=n.BufferedBlockAlgorithm,a=r.enc,f=(a.Utf8,a.Base64),u=r.algo.EvpKDF,c=n.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:y}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),h=(n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),r.mode={}),d=n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),l=h.CBC=function(){var e=d.extend();function r(e,r,n){var i=this._iv;if(i){var o=i;this._iv=t}else o=this._prevBlock;for(var s=0;s<n;s++)e[r+s]^=o[s]}return e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),e.Decryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);n.decryptBlock(e,t),r.call(this,e,t,i),this._prevBlock=o}}),e}(),p=(r.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(i);var f=o.create(s,n);e.concat(f)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},b=(n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:l,padding:p}),reset:function(){c.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{n=r.createDecryptor;this._minBufferSize=1}this._mode=n.call(r,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{t=this._process(!0);e.unpad(t)}return t},blockSize:4}),n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=o.create([1398893684,1701076831]).concat(r).concat(t);else n=t;return n.toString(f)},parse:function(e){var t=f.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=o.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return b.create({ciphertext:t,salt:n})}},y=n.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),s=i.cfg;return b.create({ciphertext:o,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),g=(r.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=o.random(8));var i=u.create({keySize:t+r}).compute(e,n),s=o.create(i.words.slice(t),4*r);return i.sigBytes=4*t,b.create({key:i,iv:s,salt:n})}},v=n.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:g}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var o=y.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,y.decrypt.call(this,e,t,i.key,n)}})}()},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":52}],52:[function(e,t,r){var n,i;n=this,i=function(){var e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){t=t;var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(r||e.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new s.init(n,t)}}),a=n.enc={},f=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new s.init(r,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new s.init(r,t)}},c=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,a=i/(4*o),f=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,u=e.min(4*f,i);if(f){for(var c=0;c<f;c+=o)this._doProcessBlock(n,c);var h=n.splice(0,f);r.sigBytes-=u}return new s.init(h,u)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(i.Hasher=h.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new d.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math);return e},"object"==typeof r?t.exports=r=i():"function"==typeof define&&define.amd?define([],i):n.CryptoJS=i()},{}],53:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var f=n.charAt(64);if(f)for(;i.length%4;)i.push(f);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,n){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2,f=n[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|f)<<24-o%4*8,o++}return r.create(i,o)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":52}],54:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.WordArray,n=t.enc;n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return r.create(n,2*t)}};function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o+=2){var s=i(t[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return r.create(n,2*t)}}}(),e.enc.Utf16},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":52}],55:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,o,s,a;return r=(t=e).lib,n=r.Base,i=r.WordArray,o=t.algo,s=o.MD5,a=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),o=i.create(),s=o.words,a=r.keySize,f=r.iterations;s.length<a;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var c=1;c<f;c++)u=n.finalize(u),n.reset();o.concat(u)}return o.sigBytes=4*a,o}}),t.EvpKDF=function(e,t,r){return a.create(r).compute(e,t)},e.EvpKDF},"object"==typeof r?t.exports=r=i(e("./core"),e("./sha1"),e("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],i):i(n.CryptoJS)},{"./core":52,"./hmac":57,"./sha1":76}],56:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n;return r=(t=e).lib.CipherParams,n=t.enc.Hex,t.format.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var t=n.parse(e);return r.create({ciphertext:t})}},e.format.Hex},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52}],57:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n;r=(t=e).lib.Base,n=t.enc.Utf8,t.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,f=s.words,u=0;u<r;u++)a[u]^=1549556828,f[u]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":52}],58:[function(e,t,r){var n,i;n=this,i=function(e){return e},"object"==typeof r?t.exports=r=i(e("./core"),e("./x64-core"),e("./lib-typedarrays"),e("./enc-utf16"),e("./enc-base64"),e("./md5"),e("./sha1"),e("./sha256"),e("./sha224"),e("./sha512"),e("./sha384"),e("./sha3"),e("./ripemd160"),e("./hmac"),e("./pbkdf2"),e("./evpkdf"),e("./cipher-core"),e("./mode-cfb"),e("./mode-ctr"),e("./mode-ctr-gladman"),e("./mode-ofb"),e("./mode-ecb"),e("./pad-ansix923"),e("./pad-iso10126"),e("./pad-iso97971"),e("./pad-zeropadding"),e("./pad-nopadding"),e("./format-hex"),e("./aes"),e("./tripledes"),e("./rc4"),e("./rabbit"),e("./rabbit-legacy")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy"],i):n.CryptoJS=i(n.CryptoJS)},{"./aes":50,"./cipher-core":51,"./core":52,"./enc-base64":53,"./enc-utf16":54,"./evpkdf":55,"./format-hex":56,"./hmac":57,"./lib-typedarrays":59,"./md5":60,"./mode-cfb":61,"./mode-ctr":63,"./mode-ctr-gladman":62,"./mode-ecb":64,"./mode-ofb":65,"./pad-ansix923":66,"./pad-iso10126":67,"./pad-iso97971":68,"./pad-nopadding":69,"./pad-zeropadding":70,"./pbkdf2":71,"./rabbit":73,"./rabbit-legacy":72,"./rc4":74,"./ripemd160":75,"./sha1":76,"./sha224":77,"./sha256":78,"./sha3":79,"./sha384":80,"./sha512":81,"./tripledes":82,"./x64-core":83}],59:[function(e,t,r){var n,i;n=this,i=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,r=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],i=0;i<t;i++)n[i>>>2]|=e[i]<<24-i%4*8;r.call(this,n,t)}else r.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":52}],60:[function(e,t,r){var n,i;n=this,i=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,s=r.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var f=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],f=e[t+1],l=e[t+2],p=e[t+3],b=e[t+4],m=e[t+5],y=e[t+6],g=e[t+7],v=e[t+8],w=e[t+9],_=e[t+10],S=e[t+11],A=e[t+12],E=e[t+13],k=e[t+14],M=e[t+15],x=o[0],I=o[1],B=o[2],P=o[3];I=d(I=d(I=d(I=d(I=h(I=h(I=h(I=h(I=c(I=c(I=c(I=c(I=u(I=u(I=u(I=u(I,B=u(B,P=u(P,x=u(x,I,B,P,s,7,a[0]),I,B,f,12,a[1]),x,I,l,17,a[2]),P,x,p,22,a[3]),B=u(B,P=u(P,x=u(x,I,B,P,b,7,a[4]),I,B,m,12,a[5]),x,I,y,17,a[6]),P,x,g,22,a[7]),B=u(B,P=u(P,x=u(x,I,B,P,v,7,a[8]),I,B,w,12,a[9]),x,I,_,17,a[10]),P,x,S,22,a[11]),B=u(B,P=u(P,x=u(x,I,B,P,A,7,a[12]),I,B,E,12,a[13]),x,I,k,17,a[14]),P,x,M,22,a[15]),B=c(B,P=c(P,x=c(x,I,B,P,f,5,a[16]),I,B,y,9,a[17]),x,I,S,14,a[18]),P,x,s,20,a[19]),B=c(B,P=c(P,x=c(x,I,B,P,m,5,a[20]),I,B,_,9,a[21]),x,I,M,14,a[22]),P,x,b,20,a[23]),B=c(B,P=c(P,x=c(x,I,B,P,w,5,a[24]),I,B,k,9,a[25]),x,I,p,14,a[26]),P,x,v,20,a[27]),B=c(B,P=c(P,x=c(x,I,B,P,E,5,a[28]),I,B,l,9,a[29]),x,I,g,14,a[30]),P,x,A,20,a[31]),B=h(B,P=h(P,x=h(x,I,B,P,m,4,a[32]),I,B,v,11,a[33]),x,I,S,16,a[34]),P,x,k,23,a[35]),B=h(B,P=h(P,x=h(x,I,B,P,f,4,a[36]),I,B,b,11,a[37]),x,I,g,16,a[38]),P,x,_,23,a[39]),B=h(B,P=h(P,x=h(x,I,B,P,E,4,a[40]),I,B,s,11,a[41]),x,I,p,16,a[42]),P,x,y,23,a[43]),B=h(B,P=h(P,x=h(x,I,B,P,w,4,a[44]),I,B,A,11,a[45]),x,I,M,16,a[46]),P,x,l,23,a[47]),B=d(B,P=d(P,x=d(x,I,B,P,s,6,a[48]),I,B,g,10,a[49]),x,I,k,15,a[50]),P,x,m,21,a[51]),B=d(B,P=d(P,x=d(x,I,B,P,A,6,a[52]),I,B,p,10,a[53]),x,I,_,15,a[54]),P,x,f,21,a[55]),B=d(B,P=d(P,x=d(x,I,B,P,v,6,a[56]),I,B,M,10,a[57]),x,I,y,15,a[58]),P,x,E,21,a[59]),B=d(B,P=d(P,x=d(x,I,B,P,b,6,a[60]),I,B,S,10,a[61]),x,I,l,15,a[62]),P,x,w,21,a[63]),o[0]=o[0]+x|0,o[1]=o[1]+I|0,o[2]=o[2]+B|0,o[3]=o[3]+P|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),s=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,f=a.words,u=0;u<4;u++){var c=f[u];f[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+i+s;return(a<<o|a>>>32-o)+t}function c(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+i+s;return(a<<o|a>>>32-o)+t}function h(e,t,r,n,i,o,s){var a=e+(t^r^n)+i+s;return(a<<o|a>>>32-o)+t}function d(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+i+s;return(a<<o|a>>>32-o)+t}r.MD5=o._createHelper(f),r.HmacMD5=o._createHmacHelper(f)}(Math),e.MD5},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":52}],61:[function(e,t,r){var n,i;n=this,i=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function r(e,t,r,n){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;n.encryptBlock(o,0);for(var s=0;s<r;s++)e[t+s]^=o[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i,n),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);r.call(this,e,t,i,n),this._prevBlock=o}}),t}(),e.mode.CFB},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52}],62:[function(e,t,r){var n,i;n=this,i=function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}var n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=r(e[0]))&&(e[1]=r(e[1]))}(s);var a=s.slice(0);n.encryptBlock(a,0);for(var f=0;f<i;f++)e[t+f]^=a[f]}});return t.Decryptor=n,t}(),e.mode.CTRGladman},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52}],63:[function(e,t,r){var n,i;n=this,i=function(e){var t,r;return e.mode.CTR=(t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);r.encryptBlock(s,0),o[n-1]=o[n-1]+1|0;for(var a=0;a<n;a++)e[t+a]^=s[a]}}),t.Decryptor=r,t),e.mode.CTR},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52}],64:[function(e,t,r){var n,i;n=this,i=function(e){var t;return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52}],65:[function(e,t,r){var n,i;n=this,i=function(e){var t,r;return e.mode.OFB=(t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var s=0;s<n;s++)e[t+s]^=o[s]}}),t.Decryptor=r,t),e.mode.OFB},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52}],66:[function(e,t,r){var n,i;n=this,i=function(e){return e.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,o=r+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52}],67:[function(e,t,r){var n,i;n=this,i=function(e){return e.pad.Iso10126={pad:function(t,r){var n=4*r,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52}],68:[function(e,t,r){var n,i;n=this,i=function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52}],69:[function(e,t,r){var n,i;n=this,i=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52}],70:[function(e,t,r){var n,i;n=this,i=function(e){return e.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1;!(t[r>>>2]>>>24-r%4*8&255);)r--;e.sigBytes=r+1}},e.pad.ZeroPadding},"object"==typeof r?t.exports=r=i(e("./core"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52}],71:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,o,s,a,f;return r=(t=e).lib,n=r.Base,i=r.WordArray,o=t.algo,s=o.SHA1,a=o.HMAC,f=o.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=a.create(r.hasher,e),o=i.create(),s=i.create([1]),f=o.words,u=s.words,c=r.keySize,h=r.iterations;f.length<c;){var d=n.update(t).finalize(s);n.reset();for(var l=d.words,p=l.length,b=d,m=1;m<h;m++){b=n.finalize(b),n.reset();for(var y=b.words,g=0;g<p;g++)l[g]^=y[g]}o.concat(d),u[0]++}return o.sigBytes=4*c,o}}),t.PBKDF2=function(e,t,r){return f.create(r).compute(e,t)},e.PBKDF2},"object"==typeof r?t.exports=r=i(e("./core"),e("./sha1"),e("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],i):i(n.CryptoJS)},{"./core":52,"./hmac":57,"./sha1":76}],72:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=[],i=[],o=[],s=t.algo.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)a.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(t){var o=t.words,s=o[0],f=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),h=u>>>16|4294901760&c,d=c<<16|65535&u;n[0]^=u,n[1]^=h,n[2]^=c,n[3]^=d,n[4]^=u,n[5]^=h,n[6]^=c,n[7]^=d;for(i=0;i<4;i++)a.call(this)}},_doProcessBlock:function(e,t){var r=this._X;a.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),e[t+i]^=n[i]},blockSize:4,ivSize:2});function a(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0;for(r=0;r<8;r++){var n=e[r]+t[r],s=65535&n,a=n>>>16,f=((s*s>>>17)+s*a>>>15)+a*a,u=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=f^u}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=r._createHelper(s)}(),e.RabbitLegacy},"object"==typeof r?t.exports=r=i(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52,"./enc-base64":53,"./evpkdf":55,"./md5":60}],73:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=[],i=[],o=[],s=t.algo.Rabbit=r.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(r=0;r<4;r++)a.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var o=t.words,s=o[0],f=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),h=u>>>16|4294901760&c,d=c<<16|65535&u;i[0]^=u,i[1]^=h,i[2]^=c,i[3]^=d,i[4]^=u,i[5]^=h,i[6]^=c,i[7]^=d;for(r=0;r<4;r++)a.call(this)}},_doProcessBlock:function(e,t){var r=this._X;a.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),e[t+i]^=n[i]},blockSize:4,ivSize:2});function a(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0;for(r=0;r<8;r++){var n=e[r]+t[r],s=65535&n,a=n>>>16,f=((s*s>>>17)+s*a>>>15)+a*a,u=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=f^u}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=r._createHelper(s)}(),e.Rabbit},"object"==typeof r?t.exports=r=i(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52,"./enc-base64":53,"./evpkdf":55,"./md5":60}],74:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,i=n.RC4=r.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var s=i%r,a=t[s>>>2]>>>24-s%4*8&255;o=(o+n[i]+a)%256;var f=n[i];n[i]=n[o],n[o]=f}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[r],e[r]=o,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}t.RC4=r._createHelper(i);var s=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});t.RC4Drop=r._createHelper(s)}(),e.RC4},"object"==typeof r?t.exports=r=i(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52,"./enc-base64":53,"./evpkdf":55,"./md5":60}],75:[function(e,t,r){var n,i;n=this,i=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,s=r.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),l=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,l,w,_,S,A,E,k,M,x,I=this._hash.words,B=h.words,P=d.words,C=a.words,T=f.words,R=u.words,L=c.words;S=o=I[0],A=s=I[1],E=l=I[2],k=w=I[3],M=_=I[4];for(r=0;r<80;r+=1)x=o+e[t+C[r]]|0,x+=r<16?p(s,l,w)+B[0]:r<32?b(s,l,w)+B[1]:r<48?m(s,l,w)+B[2]:r<64?y(s,l,w)+B[3]:g(s,l,w)+B[4],x=(x=v(x|=0,R[r]))+_|0,o=_,_=w,w=v(l,10),l=s,s=x,x=S+e[t+T[r]]|0,x+=r<16?g(A,E,k)+P[0]:r<32?y(A,E,k)+P[1]:r<48?m(A,E,k)+P[2]:r<64?b(A,E,k)+P[3]:p(A,E,k)+P[4],x=(x=v(x|=0,L[r]))+M|0,S=M,M=k,k=v(E,10),E=A,A=x;x=I[1]+l+k|0,I[1]=I[2]+w+M|0,I[2]=I[3]+_+S|0,I[3]=I[4]+o+A|0,I[4]=I[0]+s+E|0,I[0]=x},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,r){return e^t^r}function b(e,t,r){return e&t|~e&r}function m(e,t,r){return(e|~t)^r}function y(e,t,r){return e&r|t&~r}function g(e,t,r){return e^(t|~r)}function v(e,t){return e<<t|e>>>32-t}r.RIPEMD160=o._createHelper(l),r.HmacRIPEMD160=o._createHmacHelper(l)}(Math),e.RIPEMD160},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":52}],76:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,o,s;return r=(t=e).lib,n=r.WordArray,i=r.Hasher,o=[],s=t.algo.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],a=r[3],f=r[4],u=0;u<80;u++){if(u<16)o[u]=0|e[t+u];else{var c=o[u-3]^o[u-8]^o[u-14]^o[u-16];o[u]=c<<1|c>>>31}var h=(n<<5|n>>>27)+f+o[u];h+=u<20?1518500249+(i&s|~i&a):u<40?1859775393+(i^s^a):u<60?(i&s|i&a|s&a)-1894007588:(i^s^a)-899497514,f=a,a=s,s=i<<30|i>>>2,i=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+a|0,r[4]=r[4]+f|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=i._createHelper(s),t.HmacSHA1=i._createHmacHelper(s),e.SHA1},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":52}],77:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,o;return r=(t=e).lib.WordArray,n=t.algo,i=n.SHA256,o=n.SHA224=i.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}}),t.SHA224=i._createHelper(o),t.HmacSHA224=i._createHmacHelper(o),e.SHA224},"object"==typeof r?t.exports=r=i(e("./core"),e("./sha256")):"function"==typeof define&&define.amd?define(["./core","./sha256"],i):i(n.CryptoJS)},{"./core":52,"./sha256":78}],78:[function(e,t,r){var n,i;n=this,i=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,s=r.algo,a=[],f=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(a[i]=r(t.pow(n,.5))),f[i]=r(t.pow(n,1/3)),i++),n++}();var u=[],c=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],c=r[5],h=r[6],d=r[7],l=0;l<64;l++){if(l<16)u[l]=0|e[t+l];else{var p=u[l-15],b=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=u[l-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[l]=b+u[l-7]+y+u[l-16]}var g=n&i^n&o^i&o,v=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&h)+f[l]+u[l];d=h,h=c,c=a,a=s+w|0,s=o,o=i,i=n,n=w+(v+g)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+c|0,r[6]=r[6]+h|0,r[7]=r[7]+d|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=o._createHelper(c),r.HmacSHA256=o._createHmacHelper(c)}(Math),e.SHA256},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":52}],79:[function(e,t,r){var n,i;n=this,i=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,s=r.x64.Word,a=r.algo,f=[],u=[],c=[];!function(){for(var e=1,t=0,r=0;r<24;r++){f[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var a=0,h=0,d=0;d<7;d++){if(1&i){var l=(1<<d)-1;l<32?h^=1<<l:a^=1<<l-32}128&i?i=i<<1^113:i<<=1}c[o]=s.create(a,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=s.create()}();var d=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=e[t+2*i],s=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(I=r[i]).high^=s,I.low^=o}for(var a=0;a<24;a++){for(var d=0;d<5;d++){for(var l=0,p=0,b=0;b<5;b++){l^=(I=r[d+5*b]).high,p^=I.low}var m=h[d];m.high=l,m.low=p}for(d=0;d<5;d++){var y=h[(d+4)%5],g=h[(d+1)%5],v=g.high,w=g.low;for(l=y.high^(v<<1|w>>>31),p=y.low^(w<<1|v>>>31),b=0;b<5;b++){(I=r[d+5*b]).high^=l,I.low^=p}}for(var _=1;_<25;_++){var S=(I=r[_]).high,A=I.low,E=f[_];if(E<32)l=S<<E|A>>>32-E,p=A<<E|S>>>32-E;else l=A<<E-32|S>>>64-E,p=S<<E-32|A>>>64-E;var k=h[u[_]];k.high=l,k.low=p}var M=h[0],x=r[0];M.high=x.high,M.low=x.low;for(d=0;d<5;d++)for(b=0;b<5;b++){var I=r[_=d+5*b],B=h[_],P=h[(d+1)%5+5*b],C=h[(d+2)%5+5*b];I.high=B.high^~P.high&C.high,I.low=B.low^~P.low&C.low}I=r[0];var T=c[a];I.high^=T.high,I.low^=T.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,f=a/8,u=[],c=0;c<f;c++){var h=s[c],d=h.high,l=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),u.push(l),u.push(d)}return new i.init(u,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});r.SHA3=o._createHelper(d),r.HmacSHA3=o._createHmacHelper(d)}(Math),e.SHA3},"object"==typeof r?t.exports=r=i(e("./core"),e("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],i):i(n.CryptoJS)},{"./core":52,"./x64-core":83}],80:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,o,s,a;return r=(t=e).x64,n=r.Word,i=r.WordArray,o=t.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}}),t.SHA384=s._createHelper(a),t.HmacSHA384=s._createHmacHelper(a),e.SHA384},"object"==typeof r?t.exports=r=i(e("./core"),e("./x64-core"),e("./sha512")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./sha512"],i):i(n.CryptoJS)},{"./core":52,"./sha512":81,"./x64-core":83}],81:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib.Hasher,n=t.x64,i=n.Word,o=n.WordArray,s=t.algo;function a(){return i.create.apply(i,arguments)}var f=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=a()}();var c=s.SHA512=r.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],c=r[5],h=r[6],d=r[7],l=n.high,p=n.low,b=i.high,m=i.low,y=o.high,g=o.low,v=s.high,w=s.low,_=a.high,S=a.low,A=c.high,E=c.low,k=h.high,M=h.low,x=d.high,I=d.low,B=l,P=p,C=b,T=m,R=y,L=g,N=v,j=w,O=_,D=S,z=A,F=E,U=k,q=M,H=x,K=I,V=0;V<80;V++){var Y=u[V];if(V<16)var G=Y.high=0|e[t+2*V],W=Y.low=0|e[t+2*V+1];else{var J=u[V-15],Z=J.high,X=J.low,$=(Z>>>1|X<<31)^(Z>>>8|X<<24)^Z>>>7,Q=(X>>>1|Z<<31)^(X>>>8|Z<<24)^(X>>>7|Z<<25),ee=u[V-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),oe=u[V-7],se=oe.high,ae=oe.low,fe=u[V-16],ue=fe.high,ce=fe.low;G=(G=(G=$+se+((W=Q+ae)>>>0<Q>>>0?1:0))+ne+((W=W+ie)>>>0<ie>>>0?1:0))+ue+((W=W+ce)>>>0<ce>>>0?1:0);Y.high=G,Y.low=W}var he,de=O&z^~O&U,le=D&F^~D&q,pe=B&C^B&R^C&R,be=P&T^P&L^T&L,me=(B>>>28|P<<4)^(B<<30|P>>>2)^(B<<25|P>>>7),ye=(P>>>28|B<<4)^(P<<30|B>>>2)^(P<<25|B>>>7),ge=(O>>>14|D<<18)^(O>>>18|D<<14)^(O<<23|D>>>9),ve=(D>>>14|O<<18)^(D>>>18|O<<14)^(D<<23|O>>>9),we=f[V],_e=we.high,Se=we.low,Ae=H+ge+((he=K+ve)>>>0<K>>>0?1:0),Ee=ye+be;H=U,K=q,U=z,q=F,z=O,F=D,O=N+(Ae=(Ae=(Ae=Ae+de+((he=he+le)>>>0<le>>>0?1:0))+_e+((he=he+Se)>>>0<Se>>>0?1:0))+G+((he=he+W)>>>0<W>>>0?1:0))+((D=j+he|0)>>>0<j>>>0?1:0)|0,N=R,j=L,R=C,L=T,C=B,T=P,B=Ae+(me+pe+(Ee>>>0<ye>>>0?1:0))+((P=he+Ee|0)>>>0<he>>>0?1:0)|0}p=n.low=p+P,n.high=l+B+(p>>>0<P>>>0?1:0),m=i.low=m+T,i.high=b+C+(m>>>0<T>>>0?1:0),g=o.low=g+L,o.high=y+R+(g>>>0<L>>>0?1:0),w=s.low=w+j,s.high=v+N+(w>>>0<j>>>0?1:0),S=a.low=S+D,a.high=_+O+(S>>>0<D>>>0?1:0),E=c.low=E+F,c.high=A+z+(E>>>0<F>>>0?1:0),M=h.low=M+q,h.high=k+U+(M>>>0<q>>>0?1:0),I=d.low=I+K,d.high=x+H+(I>>>0<K>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=r._createHelper(c),t.HmacSHA512=r._createHmacHelper(c)}(),e.SHA512},"object"==typeof r?t.exports=r=i(e("./core"),e("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],i):i(n.CryptoJS)},{"./core":52,"./x64-core":83}],82:[function(e,t,r){var n,i;n=this,i=function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=s[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],c=f[o];for(r=0;r<24;r++)u[r/6|0]|=t[(a[r]-1+c)%28]<<31-r%6,u[4+(r/6|0)]|=t[28+(a[r+24]-1+c)%28]<<31-r%6;u[0]=u[0]<<1|u[0]>>>31;for(r=1;r<7;r++)u[r]=u[r]>>>4*(r-1)+3;u[7]=u[7]<<5|u[7]>>>27}var h=this._invSubKeys=[];for(r=0;r<16;r++)h[r]=i[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),l.call(this,2,858993459),l.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,s=this._rBlock,a=0,f=0;f<8;f++)a|=u[f][((s^i[f])&c[f])>>>0];this._lBlock=s,this._rBlock=o^a}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),l.call(this,8,16711935),l.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function l(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}t.DES=i._createHelper(h);var p=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=h.createEncryptor(n.create(e.slice(0,2))),this._des2=h.createEncryptor(n.create(e.slice(2,4))),this._des3=h.createEncryptor(n.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),e.TripleDES},"object"==typeof r?t.exports=r=i(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(n.CryptoJS)},{"./cipher-core":51,"./core":52,"./enc-base64":53,"./evpkdf":55,"./md5":60}],83:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,o;return r=(t=e).lib,n=r.Base,i=r.WordArray,(o=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var o=e[n];r.push(o.high),r.push(o.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}}),e},"object"==typeof r?t.exports=r=i(e("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(n.CryptoJS)},{"./core":52}],84:[function(e,t,r){!function(e){var n="object"==typeof r&&r,i="object"==typeof t&&t&&t.exports==n&&t,o="object"==typeof global&&global;o.global!==o&&o.window!==o||(e=o);var s,a,f,u=String.fromCharCode;function c(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function h(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function d(e,t){return u(e>>t&63|128)}function l(e){if(0==(4294967168&e))return u(e);var t="";return 0==(4294965248&e)?t=u(e>>6&31|192):0==(4294901760&e)?(h(e),t=u(e>>12&15|224),t+=d(e,6)):0==(4292870144&e)&&(t=u(e>>18&7|240),t+=d(e,12),t+=d(e,6)),t+=u(63&e|128)}function p(){if(f>=a)throw Error("Invalid byte index");var e=255&s[f];if(f++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function b(){var e,t;if(f>a)throw Error("Invalid byte index");if(f==a)return!1;if(e=255&s[f],f++,0==(128&e))return e;if(192==(224&e)){if((t=(31&e)<<6|p())>=128)return t;throw Error("Invalid continuation byte")}if(224==(240&e)){if((t=(15&e)<<12|p()<<6|p())>=2048)return h(t),t;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=(7&e)<<18|p()<<12|p()<<6|p())>=65536&&t<=1114111)return t;throw Error("Invalid UTF-8 detected")}var m={version:"2.1.2",encode:function(e){for(var t=c(e),r=t.length,n=-1,i="";++n<r;)i+=l(t[n]);return i},decode:function(e){s=c(e),a=s.length,f=0;for(var t,r=[];!1!==(t=b());)r.push(t);return function(e){for(var t,r=e.length,n=-1,i="";++n<r;)(t=e[n])>65535&&(i+=u((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=u(t);return i}(r)}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return m});else if(n&&!n.nodeType)if(i)i.exports=m;else{var y={}.hasOwnProperty;for(var g in m)y.call(m,g)&&(n[g]=m[g])}else e.utf8=m}(this)},{}],85:[function(e,t,r){t.exports=XMLHttpRequest},{}],"bignumber.js":[function(e,t,r){!function(e){"use strict";var r,n=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s=" not a boolean or binary digit",a="rounding mode",f="number type has more than 15 significant digits",u="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",c=1e14,h=14,d=9007199254740991,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,b=1e9;function m(e){var t=0|e;return e>0||e===t?t:t-1}function y(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(t=e[n++]+"",r=h-t.length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function g(e,t){var r,n,i=e.c,o=t.c,s=e.s,a=t.s,f=e.e,u=t.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=f==u,!i||!o)return n?0:!i^r?1:-1;if(!n)return f>u^r?1:-1;for(a=(f=i.length)<(u=o.length)?f:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return f==u?0:f>u^r?1:-1}function v(e,t,r){return(e=E(e))>=t&&e<=r}function w(e){return"[object Array]"==Object.prototype.toString.call(e)}function _(e,t,r){for(var n,i,o=[0],s=0,a=e.length;s<a;){for(i=o.length;i--;o[i]*=t);for(o[n=0]+=u.indexOf(e.charAt(s++));n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}function S(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function A(e,t){var r,n;if(t<0){for(n="0.";++t;n+="0");e=n+e}else if(++t>(r=e.length)){for(n="0",t-=r;--t;n+="0");e+=n}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}function E(e){return(e=parseFloat(e))<0?i(e):o(e)}(r=function e(t){var r,k,M,x,I,B,P,C,T=0,R=G.prototype,L=new G(1),N=20,j=4,O=-7,D=21,z=-1e7,F=1e7,U=!0,q=X,H=!1,K=1,V=0,Y={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};function G(e,t){var r,i,s,a,c,l,p=this;if(!(p instanceof G))return U&&Q(26,"constructor call without new",e),new G(e,t);if(null!=t&&q(t,2,64,T,"base")){if(l=e+"",10==(t|=0))return ee(p=new G(e instanceof G?e:l),N+p.e+1,j);if((a="number"==typeof e)&&0*e!=0||!new RegExp("^-?"+(r="["+u.slice(0,t)+"]+")+"(?:\\."+r+")?$",t<37?"i":"").test(l))return k(p,l,a,t);a?(p.s=1/e<0?(l=l.slice(1),-1):1,U&&l.replace(/^0\.0*|\./,"").length>15&&Q(T,f,e),a=!1):p.s=45===l.charCodeAt(0)?(l=l.slice(1),-1):1,l=W(l,10,t,p.s)}else{if(e instanceof G)return p.s=e.s,p.e=e.e,p.c=(e=e.c)?e.slice():e,void(T=0);if((a="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(i=0,s=e;s>=10;s/=10,i++);return p.e=i,p.c=[e],void(T=0)}l=e+""}else{if(!n.test(l=e+""))return k(p,l,a);p.s=45===l.charCodeAt(0)?(l=l.slice(1),-1):1}}for((i=l.indexOf("."))>-1&&(l=l.replace(".","")),(s=l.search(/e/i))>0?(i<0&&(i=s),i+=+l.slice(s+1),l=l.substring(0,s)):i<0&&(i=l.length),s=0;48===l.charCodeAt(s);s++);for(c=l.length;48===l.charCodeAt(--c););if(l=l.slice(s,c+1))if(c=l.length,a&&U&&c>15&&(e>d||e!==o(e))&&Q(T,f,p.s*e),(i=i-s-1)>F)p.c=p.e=null;else if(i<z)p.c=[p.e=0];else{if(p.e=i,p.c=[],s=(i+1)%h,i<0&&(s+=h),s<c){for(s&&p.c.push(+l.slice(0,s)),c-=h;s<c;)p.c.push(+l.slice(s,s+=h));l=l.slice(s),s=h-l.length}else s-=c;for(;s--;l+="0");p.c.push(+l)}else p.c=[p.e=0];T=0}function W(e,t,n,i){var o,s,a,f,c,h,d,l=e.indexOf("."),p=N,b=j;for(n<37&&(e=e.toLowerCase()),l>=0&&(a=V,V=0,e=e.replace(".",""),c=(d=new G(n)).pow(e.length-l),V=a,d.c=_(A(y(c.c),c.e),10,t),d.e=d.c.length),s=a=(h=_(e,n,t)).length;0==h[--a];h.pop());if(!h[0])return"0";if(l<0?--s:(c.c=h,c.e=s,c.s=i,h=(c=r(c,d,p,b,t)).c,f=c.r,s=c.e),l=h[o=s+p+1],a=t/2,f=f||o<0||null!=h[o+1],f=b<4?(null!=l||f)&&(0==b||b==(c.s<0?3:2)):l>a||l==a&&(4==b||f||6==b&&1&h[o-1]||b==(c.s<0?8:7)),o<1||!h[0])e=f?A("1",-p):"0";else{if(h.length=o,f)for(--t;++h[--o]>t;)h[o]=0,o||(++s,h=[1].concat(h));for(a=h.length;!h[--a];);for(l=0,e="";l<=a;e+=u.charAt(h[l++]));e=A(e,s)}return e}function J(e,t,r,n){var i,o,s,f,u;if(r=null!=r&&q(r,0,8,n,a)?0|r:j,!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)u=y(e.c),u=19==n||24==n&&s<=O?S(u,s):A(u,s);else if(o=(e=ee(new G(e),t,r)).e,f=(u=y(e.c)).length,19==n||24==n&&(t<=o||o<=O)){for(;f<t;u+="0",f++);u=S(u,o)}else if(t-=s,u=A(u,o),o+1>f){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=o-f)>0)for(o+1==f&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function Z(e,t){var r,n,i=0;for(w(e[0])&&(e=e[0]),r=new G(e[0]);++i<e.length;){if(!(n=new G(e[i])).s){r=n;break}t.call(r,n)&&(r=n)}return r}function X(e,t,r,n,i){return(e<t||e>r||e!=E(e))&&Q(n,(i||"decimal places")+(e<t||e>r?" out of range":" not an integer"),e),!0}function $(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*h-1)>F?e.c=e.e=null:r<z?e.c=[e.e=0]:(e.e=r,e.c=t),e}function Q(e,t,r){var n=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+r);throw n.name="BigNumber Error",T=0,n}function ee(e,t,r,n){var s,a,f,u,d,p,b,m=e.c,y=l;if(m){e:{for(s=1,u=m[0];u>=10;u/=10,s++);if((a=t-s)<0)a+=h,f=t,b=(d=m[p=0])/y[s-f-1]%10|0;else if((p=i((a+1)/h))>=m.length){if(!n)break e;for(;m.length<=p;m.push(0));d=b=0,s=1,f=(a%=h)-h+1}else{for(d=u=m[p],s=1;u>=10;u/=10,s++);b=(f=(a%=h)-h+s)<0?0:d/y[s-f-1]%10|0}if(n=n||t<0||null!=m[p+1]||(f<0?d:d%y[s-f-1]),n=r<4?(b||n)&&(0==r||r==(e.s<0?3:2)):b>5||5==b&&(4==r||n||6==r&&(a>0?f>0?d/y[s-f]:0:m[p-1])%10&1||r==(e.s<0?8:7)),t<1||!m[0])return m.length=0,n?(t-=e.e+1,m[0]=y[(h-t%h)%h],e.e=-t||0):m[0]=e.e=0,e;if(0==a?(m.length=p,u=1,p--):(m.length=p+1,u=y[h-a],m[p]=f>0?o(d/y[s-f]%y[f])*u:0),n)for(;;){if(0==p){for(a=1,f=m[0];f>=10;f/=10,a++);for(f=m[0]+=u,u=1;f>=10;f/=10,u++);a!=u&&(e.e++,m[0]==c&&(m[0]=1));break}if(m[p]+=u,m[p]!=c)break;m[p--]=0,u=1}for(a=m.length;0===m[--a];m.pop());}e.e>F?e.c=e.e=null:e.e<z&&(e.c=[e.e=0])}return e}return G.another=e,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(){var e,t,r=0,n={},i=arguments,o=i[0],a=o&&"object"==typeof o?function(){if(o.hasOwnProperty(t))return null!=(e=o[t])}:function(){if(i.length>r)return null!=(e=i[r++])};return a(t="DECIMAL_PLACES")&&q(e,0,b,2,t)&&(N=0|e),n[t]=N,a(t="ROUNDING_MODE")&&q(e,0,8,2,t)&&(j=0|e),n[t]=j,a(t="EXPONENTIAL_AT")&&(w(e)?q(e[0],-b,0,2,t)&&q(e[1],0,b,2,t)&&(O=0|e[0],D=0|e[1]):q(e,-b,b,2,t)&&(O=-(D=0|(e<0?-e:e)))),n[t]=[O,D],a(t="RANGE")&&(w(e)?q(e[0],-b,-1,2,t)&&q(e[1],1,b,2,t)&&(z=0|e[0],F=0|e[1]):q(e,-b,b,2,t)&&(0|e?z=-(F=0|(e<0?-e:e)):U&&Q(2,t+" cannot be zero",e))),n[t]=[z,F],a(t="ERRORS")&&(e===!!e||1===e||0===e?(T=0,q=(U=!!e)?X:v):U&&Q(2,t+s,e)),n[t]=U,a(t="CRYPTO")&&(!0===e||!1===e||1===e||0===e?e?!(e="undefined"==typeof crypto)&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?H=!0:U?Q(2,"crypto unavailable",e?void 0:crypto):H=!1:H=!1:U&&Q(2,t+s,e)),n[t]=H,a(t="MODULO_MODE")&&q(e,0,9,2,t)&&(K=0|e),n[t]=K,a(t="POW_PRECISION")&&q(e,0,b,2,t)&&(V=0|e),n[t]=V,a(t="FORMAT")&&("object"==typeof e?Y=e:U&&Q(2,t+" not an object",e)),n[t]=Y,n},G.max=function(){return Z(arguments,R.lt)},G.min=function(){return Z(arguments,R.gt)},G.random=(M=9007199254740992*Math.random()&2097151?function(){return o(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,s,a,f=0,u=[],c=new G(L);if(e=null!=e&&q(e,0,b,14)?0|e:N,s=i(e/h),H)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(s*=2));f<s;)(a=131072*t[f]+(t[f+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[f]=r[0],t[f+1]=r[1]):(u.push(a%1e14),f+=2);f=s/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(s*=7);f<s;)(a=281474976710656*(31&t[f])+1099511627776*t[f+1]+4294967296*t[f+2]+16777216*t[f+3]+(t[f+4]<<16)+(t[f+5]<<8)+t[f+6])>=9e15?crypto.randomBytes(7).copy(t,f):(u.push(a%1e14),f+=7);f=s/7}else H=!1,U&&Q(14,"crypto unavailable",crypto);if(!H)for(;f<s;)(a=M())<9e15&&(u[f++]=a%1e14);for(s=u[--f],e%=h,s&&e&&(a=l[h-e],u[f]=o(s/a)*a);0===u[f];u.pop(),f--);if(f<0)u=[n=0];else{for(n=-1;0===u[0];u.splice(0,1),n-=h);for(f=1,a=u[0];a>=10;a/=10,f++);f<h&&(n-=h-f)}return c.e=n,c.c=u,c}),r=function(){function e(e,t,r){var n,i,o,s,a=0,f=e.length,u=t%p,c=t/p|0;for(e=e.slice();f--;)a=((i=u*(o=e[f]%p)+(n=c*o+(s=e[f]/p|0)*u)%p*p+a)/r|0)+(n/p|0)+c*s,e[f]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,s,a,f){var u,d,l,p,b,y,g,v,w,_,S,A,E,k,M,x,I,B=n.s==i.s?1:-1,P=n.c,C=i.c;if(!(P&&P[0]&&C&&C[0]))return new G(n.s&&i.s&&(P?!C||P[0]!=C[0]:C)?P&&0==P[0]||!C?0*B:B/0:NaN);for(w=(v=new G(B)).c=[],B=s+(d=n.e-i.e)+1,f||(f=c,d=m(n.e/h)-m(i.e/h),B=B/h|0),l=0;C[l]==(P[l]||0);l++);if(C[l]>(P[l]||0)&&d--,B<0)w.push(1),p=!0;else{for(k=P.length,x=C.length,l=0,B+=2,(b=o(f/(C[0]+1)))>1&&(C=e(C,b,f),P=e(P,b,f),x=C.length,k=P.length),E=x,S=(_=P.slice(0,x)).length;S<x;_[S++]=0);I=C.slice(),I=[0].concat(I),M=C[0],C[1]>=f/2&&M++;do{if(b=0,(u=t(C,_,x,S))<0){if(A=_[0],x!=S&&(A=A*f+(_[1]||0)),(b=o(A/M))>1)for(b>=f&&(b=f-1),g=(y=e(C,b,f)).length,S=_.length;1==t(y,_,g,S);)b--,r(y,x<g?I:C,g,f),g=y.length,u=1;else 0==b&&(u=b=1),g=(y=C.slice()).length;if(g<S&&(y=[0].concat(y)),r(_,y,S,f),S=_.length,-1==u)for(;t(C,_,x,S)<1;)b++,r(_,x<S?I:C,S,f),S=_.length}else 0===u&&(b++,_=[0]);w[l++]=b,_[0]?_[S++]=P[E]||0:(_=[P[E]],S=1)}while((E++<k||null!=_[0])&&B--);p=null!=_[0],w[0]||w.splice(0,1)}if(f==c){for(l=1,B=w[0];B>=10;B/=10,l++);ee(v,s+(v.e=l+d*h-1)+1,a,p)}else v.e=d,v.r=+p;return v}}(),x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,I=/^([^.]+)\.$/,B=/^\.([^.]+)$/,P=/^-?(Infinity|NaN)$/,C=/^\s*\+(?=[\w.])|^\s+|\s+$/g,k=function(e,t,r,n){var i,o=r?t:t.replace(C,"");if(P.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(x,function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t}),n&&(i=n,o=o.replace(I,"$1").replace(B,"0.$1")),t!=o))return new G(o,i);U&&Q(T,"not a"+(n?" base "+n:"")+" number",t),e.s=null}e.c=e.e=null,T=0},R.absoluteValue=R.abs=function(){var e=new G(this);return e.s<0&&(e.s=1),e},R.ceil=function(){return ee(new G(this),this.e+1,2)},R.comparedTo=R.cmp=function(e,t){return T=1,g(this,new G(e,t))},R.decimalPlaces=R.dp=function(){var e,t,r=this.c;if(!r)return null;if(e=((t=r.length-1)-m(this.e/h))*h,t=r[t])for(;t%10==0;t/=10,e--);return e<0&&(e=0),e},R.dividedBy=R.div=function(e,t){return T=3,r(this,new G(e,t),N,j)},R.dividedToIntegerBy=R.divToInt=function(e,t){return T=4,r(this,new G(e,t),0,1)},R.equals=R.eq=function(e,t){return T=5,0===g(this,new G(e,t))},R.floor=function(){return ee(new G(this),this.e+1,3)},R.greaterThan=R.gt=function(e,t){return T=6,g(this,new G(e,t))>0},R.greaterThanOrEqualTo=R.gte=function(e,t){return T=7,1===(t=g(this,new G(e,t)))||0===t},R.isFinite=function(){return!!this.c},R.isInteger=R.isInt=function(){return!!this.c&&m(this.e/h)>this.c.length-2},R.isNaN=function(){return!this.s},R.isNegative=R.isNeg=function(){return this.s<0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.lessThan=R.lt=function(e,t){return T=8,g(this,new G(e,t))<0},R.lessThanOrEqualTo=R.lte=function(e,t){return T=9,-1===(t=g(this,new G(e,t)))||0===t},R.minus=R.sub=function(e,t){var r,n,i,o,s=this,a=s.s;if(T=10,t=(e=new G(e,t)).s,!a||!t)return new G(NaN);if(a!=t)return e.s=-t,s.plus(e);var f=s.e/h,u=e.e/h,d=s.c,l=e.c;if(!f||!u){if(!d||!l)return d?(e.s=-t,e):new G(l?s:NaN);if(!d[0]||!l[0])return l[0]?(e.s=-t,e):new G(d[0]?s:3==j?-0:0)}if(f=m(f),u=m(u),d=d.slice(),a=f-u){for((o=a<0)?(a=-a,i=d):(u=f,i=l),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=d.length)<(t=l.length))?a:t,a=t=0;t<n;t++)if(d[t]!=l[t]){o=d[t]<l[t];break}if(o&&(i=d,d=l,l=i,e.s=-e.s),(t=(n=l.length)-(r=d.length))>0)for(;t--;d[r++]=0);for(t=c-1;n>a;){if(d[--n]<l[n]){for(r=n;r&&!d[--r];d[r]=t);--d[r],d[n]+=c}d[n]-=l[n]}for(;0==d[0];d.splice(0,1),--u);return d[0]?$(e,d,u):(e.s=3==j?-1:1,e.c=[e.e=0],e)},R.modulo=R.mod=function(e,t){var n,i,o=this;return T=11,e=new G(e,t),!o.c||!e.s||e.c&&!e.c[0]?new G(NaN):!e.c||o.c&&!o.c[0]?new G(o):(9==K?(i=e.s,e.s=1,n=r(o,e,0,3),e.s=i,n.s*=i):n=r(o,e,0,K),o.minus(n.times(e)))},R.negated=R.neg=function(){var e=new G(this);return e.s=-e.s||null,e},R.plus=R.add=function(e,t){var r,n=this,i=n.s;if(T=12,t=(e=new G(e,t)).s,!i||!t)return new G(NaN);if(i!=t)return e.s=-t,n.minus(e);var o=n.e/h,s=e.e/h,a=n.c,f=e.c;if(!o||!s){if(!a||!f)return new G(i/0);if(!a[0]||!f[0])return f[0]?e:new G(a[0]?n:0*i)}if(o=m(o),s=m(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=f):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=f.length)<0&&(r=f,f=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+f[t]+i)/c|0,a[t]=c===a[t]?0:a[t]%c;return i&&(a=[i].concat(a),++s),$(e,a,s)},R.precision=R.sd=function(e){var t,r,n=this,i=n.c;if(null!=e&&e!==!!e&&1!==e&&0!==e&&(U&&Q(13,"argument"+s,e),e!=!!e&&(e=null)),!i)return null;if(t=(r=i.length-1)*h+1,r=i[r]){for(;r%10==0;r/=10,t--);for(r=i[0];r>=10;r/=10,t++);}return e&&n.e+1>t&&(t=n.e+1),t},R.round=function(e,t){var r=new G(this);return(null==e||q(e,0,b,15))&&ee(r,~~e+this.e+1,null!=t&&q(t,0,8,15,a)?0|t:j),r},R.shift=function(e){var t=this;return q(e,-d,d,16,"argument")?t.times("1e"+E(e)):new G(t.c&&t.c[0]&&(e<-d||e>d)?t.s*(e<0?0:1/0):t)},R.squareRoot=R.sqrt=function(){var e,t,n,i,o,s=this,a=s.c,f=s.s,u=s.e,c=N+4,h=new G("0.5");if(1!==f||!a||!a[0])return new G(!f||f<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(f=Math.sqrt(+s))||f==1/0?(((t=y(a)).length+u)%2==0&&(t+="0"),f=Math.sqrt(t),u=m((u+1)/2)-(u<0||u%2),n=new G(t=f==1/0?"1e"+u:(t=f.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new G(f+""),n.c[0])for((f=(u=n.e)+c)<3&&(f=0);;)if(o=n,n=h.times(o.plus(r(s,o,c,1))),y(o.c).slice(0,f)===(t=y(n.c)).slice(0,f)){if(n.e<u&&--f,"9999"!=(t=t.slice(f-3,f+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(ee(n,n.e+N+2,1),e=!n.times(n).eq(s));break}if(!i&&(ee(o,o.e+N+2,0),o.times(o).eq(s))){n=o;break}c+=4,f+=4,i=1}return ee(n,n.e+N+1,j,e)},R.times=R.mul=function(e,t){var r,n,i,o,s,a,f,u,d,l,b,y,g,v,w,_=this,S=_.c,A=(T=17,e=new G(e,t)).c;if(!(S&&A&&S[0]&&A[0]))return!_.s||!e.s||S&&!S[0]&&!A||A&&!A[0]&&!S?e.c=e.e=e.s=null:(e.s*=_.s,S&&A?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=m(_.e/h)+m(e.e/h),e.s*=_.s,(f=S.length)<(l=A.length)&&(g=S,S=A,A=g,i=f,f=l,l=i),i=f+l,g=[];i--;g.push(0));for(v=c,w=p,i=l;--i>=0;){for(r=0,b=A[i]%w,y=A[i]/w|0,o=i+(s=f);o>i;)r=((u=b*(u=S[--s]%w)+(a=y*u+(d=S[s]/w|0)*b)%w*w+g[o]+r)/v|0)+(a/w|0)+y*d,g[o--]=u%v;g[o]=r}return r?++n:g.splice(0,1),$(e,g,n)},R.toDigits=function(e,t){var r=new G(this);return e=null!=e&&q(e,1,b,18,"precision")?0|e:null,t=null!=t&&q(t,0,8,18,a)?0|t:j,e?ee(r,e,t):r},R.toExponential=function(e,t){return J(this,null!=e&&q(e,0,b,19)?1+~~e:null,t,19)},R.toFixed=function(e,t){return J(this,null!=e&&q(e,0,b,20)?~~e+this.e+1:null,t,20)},R.toFormat=function(e,t){var r=J(this,null!=e&&q(e,0,b,21)?~~e+this.e+1:null,t,21);if(this.c){var n,i=r.split("."),o=+Y.groupSize,s=+Y.secondaryGroupSize,a=Y.groupSeparator,f=i[0],u=i[1],c=this.s<0,h=c?f.slice(1):f,d=h.length;if(s&&(n=o,o=s,s=n,d-=n),o>0&&d>0){for(n=d%o||o,f=h.substr(0,n);n<d;n+=o)f+=a+h.substr(n,o);s>0&&(f+=a+h.slice(n)),c&&(f="-"+f)}r=u?f+Y.decimalSeparator+((s=+Y.fractionGroupSize)?u.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+Y.fractionGroupSeparator):u):f}return r},R.toFraction=function(e){var t,n,i,o,s,a,f,u,c,d=U,p=this,b=p.c,m=new G(L),g=n=new G(L),v=f=new G(L);if(null!=e&&(U=!1,a=new G(e),U=d,(d=a.isInt())&&!a.lt(L)||(U&&Q(22,"max denominator "+(d?"out of range":"not an integer"),e),e=!d&&a.c&&ee(a,a.e+1,1).gte(L)?a:null)),!b)return p.toString();for(c=y(b),o=m.e=c.length-p.e-1,m.c[0]=l[(s=o%h)<0?h+s:s],e=!e||a.cmp(m)>0?o>0?m:g:a,s=F,F=1/0,a=new G(c),f.c[0]=0;u=r(a,m,0,1),1!=(i=n.plus(u.times(v))).cmp(e);)n=v,v=i,g=f.plus(u.times(i=g)),f=i,m=a.minus(u.times(i=m)),a=i;return i=r(e.minus(n),v,0,1),f=f.plus(i.times(g)),n=n.plus(i.times(v)),f.s=g.s=p.s,t=r(g,v,o*=2,j).minus(p).abs().cmp(r(f,n,o,j).minus(p).abs())<1?[g.toString(),v.toString()]:[f.toString(),n.toString()],F=s,t},R.toNumber=function(){return+this},R.toPower=R.pow=function(e,t){var r,n,s,a=o(e<0?-e:+e),f=this;if(null!=t&&(T=23,t=new G(t)),!q(e,-d,d,23,"exponent")&&(!isFinite(e)||a>d&&(e/=0)||parseFloat(e)!=e&&!(e=NaN))||0==e)return r=Math.pow(+f,e),new G(t?r%t:r);for(t?e>1&&f.gt(L)&&f.isInt()&&t.gt(L)&&t.isInt()?f=f.mod(t):(s=t,t=null):V&&(r=i(V/h+2)),n=new G(L);;){if(a%2){if(!(n=n.times(f)).c)break;r?n.c.length>r&&(n.c.length=r):t&&(n=n.mod(t))}if(!(a=o(a/2)))break;f=f.times(f),r?f.c&&f.c.length>r&&(f.c.length=r):t&&(f=f.mod(t))}return t?n:(e<0&&(n=L.div(n)),s?n.mod(s):r?ee(n,V,j):n)},R.toPrecision=function(e,t){return J(this,null!=e&&q(e,1,b,24,"precision")?0|e:null,t,24)},R.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(t=y(r.c),t=null!=e&&q(e,2,64,25,"base")?W(A(t,i),0|e,10,n):i<=O||i>=D?S(t,i):A(t,i),n<0&&r.c[0]&&(t="-"+t)),t},R.truncated=R.trunc=function(){return ee(new G(this),this.e+1,1)},R.valueOf=R.toJSON=function(){var e,t=this,r=t.e;return null===r?t.toString():(e=y(t.c),e=r<=O||r>=D?S(e,r):A(e,r),t.s<0?"-"+e:e)},R.isBigNumber=!0,null!=t&&G.config(t),G}()).default=r.BigNumber=r,"function"==typeof define&&define.amd?define(function(){return r}):void 0!==t&&t.exports?t.exports=r:(e||(e="undefined"!=typeof self?self:Function("return this")()),e.BigNumber=r)}(this)},{}],web3:[function(e,t,r){var n=e("./lib/web3");"undefined"!=typeof window&&void 0===window.Web3&&(window.Web3=n),t.exports=n},{"./lib/web3":22}]},{},["web3"]);
/*eslint-disable block-scoped-var, no-redeclare, no-control-regex, no-prototype-builtins*/
(function($protobuf) {
    "use strict";

    // Common aliases
    var $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;
    
    // Exported root namespace
    var $root = $protobuf.roots["default"] || ($protobuf.roots["default"] = {});
    
    $root.ballgameBetting = (function() {
    
        /**
         * Namespace ballgameBetting.
         * @exports ballgameBetting
         * @namespace
         */
        var ballgameBetting = {};
    
        ballgameBetting.Match = (function() {
    
            /**
             * Properties of a Match.
             * @memberof ballgameBetting
             * @interface IMatch
             * @property {number} league_id Match league_id
             * @property {number} team1_id Match team1_id
             * @property {number} team2_id Match team2_id
             */
    
            /**
             * Constructs a new Match.
             * @memberof ballgameBetting
             * @classdesc Represents a Match.
             * @implements IMatch
             * @constructor
             * @param {ballgameBetting.IMatch=} [properties] Properties to set
             */
            function Match(properties) {
                if (properties)
                    for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)
                        if (properties[keys[i]] != null)
                            this[keys[i]] = properties[keys[i]];
            }
    
            /**
             * Match league_id.
             * @member {number} league_id
             * @memberof ballgameBetting.Match
             * @instance
             */
            Match.prototype.league_id = 0;
    
            /**
             * Match team1_id.
             * @member {number} team1_id
             * @memberof ballgameBetting.Match
             * @instance
             */
            Match.prototype.team1_id = 0;
    
            /**
             * Match team2_id.
             * @member {number} team2_id
             * @memberof ballgameBetting.Match
             * @instance
             */
            Match.prototype.team2_id = 0;
    
            /**
             * Creates a new Match instance using the specified properties.
             * @function create
             * @memberof ballgameBetting.Match
             * @static
             * @param {ballgameBetting.IMatch=} [properties] Properties to set
             * @returns {ballgameBetting.Match} Match instance
             */
            Match.create = function create(properties) {
                return new Match(properties);
            };
    
            /**
             * Encodes the specified Match message. Does not implicitly {@link ballgameBetting.Match.verify|verify} messages.
             * @function encode
             * @memberof ballgameBetting.Match
             * @static
             * @param {ballgameBetting.IMatch} message Match message or plain object to encode
             * @param {$protobuf.Writer} [writer] Writer to encode to
             * @returns {$protobuf.Writer} Writer
             */
            Match.encode = function encode(message, writer) {
                if (!writer)
                    writer = $Writer.create();
                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.league_id);
                writer.uint32(/* id 2, wireType 0 =*/16).uint32(message.team1_id);
                writer.uint32(/* id 3, wireType 0 =*/24).uint32(message.team2_id);
                return writer;
            };
    
            /**
             * Encodes the specified Match message, length delimited. Does not implicitly {@link ballgameBetting.Match.verify|verify} messages.
             * @function encodeDelimited
             * @memberof ballgameBetting.Match
             * @static
             * @param {ballgameBetting.IMatch} message Match message or plain object to encode
             * @param {$protobuf.Writer} [writer] Writer to encode to
             * @returns {$protobuf.Writer} Writer
             */
            Match.encodeDelimited = function encodeDelimited(message, writer) {
                return this.encode(message, writer).ldelim();
            };
    
            /**
             * Decodes a Match message from the specified reader or buffer.
             * @function decode
             * @memberof ballgameBetting.Match
             * @static
             * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from
             * @param {number} [length] Message length if known beforehand
             * @returns {ballgameBetting.Match} Match
             * @throws {Error} If the payload is not a reader or valid buffer
             * @throws {$protobuf.util.ProtocolError} If required fields are missing
             */
            Match.decode = function decode(reader, length) {
                if (!(reader instanceof $Reader))
                    reader = $Reader.create(reader);
                var end = length === undefined ? reader.len : reader.pos + length, message = new $root.ballgameBetting.Match();
                while (reader.pos < end) {
                    var tag = reader.uint32();
                    switch (tag >>> 3) {
                    case 1:
                        message.league_id = reader.uint32();
                        break;
                    case 2:
                        message.team1_id = reader.uint32();
                        break;
                    case 3:
                        message.team2_id = reader.uint32();
                        break;
                    default:
                        reader.skipType(tag & 7);
                        break;
                    }
                }
                if (!message.hasOwnProperty("league_id"))
                    throw $util.ProtocolError("missing required 'league_id'", { instance: message });
                if (!message.hasOwnProperty("team1_id"))
                    throw $util.ProtocolError("missing required 'team1_id'", { instance: message });
                if (!message.hasOwnProperty("team2_id"))
                    throw $util.ProtocolError("missing required 'team2_id'", { instance: message });
                return message;
            };
    
            /**
             * Decodes a Match message from the specified reader or buffer, length delimited.
             * @function decodeDelimited
             * @memberof ballgameBetting.Match
             * @static
             * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from
             * @returns {ballgameBetting.Match} Match
             * @throws {Error} If the payload is not a reader or valid buffer
             * @throws {$protobuf.util.ProtocolError} If required fields are missing
             */
            Match.decodeDelimited = function decodeDelimited(reader) {
                if (!(reader instanceof $Reader))
                    reader = new $Reader(reader);
                return this.decode(reader, reader.uint32());
            };
    
            /**
             * Verifies a Match message.
             * @function verify
             * @memberof ballgameBetting.Match
             * @static
             * @param {Object.<string,*>} message Plain object to verify
             * @returns {string|null} `null` if valid, otherwise the reason why it is not
             */
            Match.verify = function verify(message) {
                if (typeof message !== "object" || message === null)
                    return "object expected";
                if (!$util.isInteger(message.league_id))
                    return "league_id: integer expected";
                if (!$util.isInteger(message.team1_id))
                    return "team1_id: integer expected";
                if (!$util.isInteger(message.team2_id))
                    return "team2_id: integer expected";
                return null;
            };
    
            /**
             * Creates a Match message from a plain object. Also converts values to their respective internal types.
             * @function fromObject
             * @memberof ballgameBetting.Match
             * @static
             * @param {Object.<string,*>} object Plain object
             * @returns {ballgameBetting.Match} Match
             */
            Match.fromObject = function fromObject(object) {
                if (object instanceof $root.ballgameBetting.Match)
                    return object;
                var message = new $root.ballgameBetting.Match();
                if (object.league_id != null)
                    message.league_id = object.league_id >>> 0;
                if (object.team1_id != null)
                    message.team1_id = object.team1_id >>> 0;
                if (object.team2_id != null)
                    message.team2_id = object.team2_id >>> 0;
                return message;
            };
    
            /**
             * Creates a plain object from a Match message. Also converts values to other types if specified.
             * @function toObject
             * @memberof ballgameBetting.Match
             * @static
             * @param {ballgameBetting.Match} message Match
             * @param {$protobuf.IConversionOptions} [options] Conversion options
             * @returns {Object.<string,*>} Plain object
             */
            Match.toObject = function toObject(message, options) {
                if (!options)
                    options = {};
                var object = {};
                if (options.defaults) {
                    object.league_id = 0;
                    object.team1_id = 0;
                    object.team2_id = 0;
                }
                if (message.league_id != null && message.hasOwnProperty("league_id"))
                    object.league_id = message.league_id;
                if (message.team1_id != null && message.hasOwnProperty("team1_id"))
                    object.team1_id = message.team1_id;
                if (message.team2_id != null && message.hasOwnProperty("team2_id"))
                    object.team2_id = message.team2_id;
                return object;
            };
    
            /**
             * Converts this Match to JSON.
             * @function toJSON
             * @memberof ballgameBetting.Match
             * @instance
             * @returns {Object.<string,*>} JSON object
             */
            Match.prototype.toJSON = function toJSON() {
                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
            };
    
            return Match;
        })();
    
        /**
         * BettingType enum.
         * @name ballgameBetting.BettingType
         * @enum {string}
         * @property {number} WIN_LOSE_DRAW=0 WIN_LOSE_DRAW value
         * @property {number} ODD_EVEN=1 ODD_EVEN value
         * @property {number} SCORES=2 SCORES value
         */
        ballgameBetting.BettingType = (function() {
            var valuesById = {}, values = Object.create(valuesById);
            values[valuesById[0] = "WIN_LOSE_DRAW"] = 0;
            values[valuesById[1] = "ODD_EVEN"] = 1;
            values[valuesById[2] = "SCORES"] = 2;
            return values;
        })();
    
        ballgameBetting.Betting = (function() {
    
            /**
             * Properties of a Betting.
             * @memberof ballgameBetting
             * @interface IBetting
             * @property {ballgameBetting.BettingType} type Betting type
             */
    
            /**
             * Constructs a new Betting.
             * @memberof ballgameBetting
             * @classdesc Represents a Betting.
             * @implements IBetting
             * @constructor
             * @param {ballgameBetting.IBetting=} [properties] Properties to set
             */
            function Betting(properties) {
                if (properties)
                    for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)
                        if (properties[keys[i]] != null)
                            this[keys[i]] = properties[keys[i]];
            }
    
            /**
             * Betting type.
             * @member {ballgameBetting.BettingType} type
             * @memberof ballgameBetting.Betting
             * @instance
             */
            Betting.prototype.type = 0;
    
            /**
             * Creates a new Betting instance using the specified properties.
             * @function create
             * @memberof ballgameBetting.Betting
             * @static
             * @param {ballgameBetting.IBetting=} [properties] Properties to set
             * @returns {ballgameBetting.Betting} Betting instance
             */
            Betting.create = function create(properties) {
                return new Betting(properties);
            };
    
            /**
             * Encodes the specified Betting message. Does not implicitly {@link ballgameBetting.Betting.verify|verify} messages.
             * @function encode
             * @memberof ballgameBetting.Betting
             * @static
             * @param {ballgameBetting.IBetting} message Betting message or plain object to encode
             * @param {$protobuf.Writer} [writer] Writer to encode to
             * @returns {$protobuf.Writer} Writer
             */
            Betting.encode = function encode(message, writer) {
                if (!writer)
                    writer = $Writer.create();
                writer.uint32(/* id 1, wireType 0 =*/8).int32(message.type);
                return writer;
            };
    
            /**
             * Encodes the specified Betting message, length delimited. Does not implicitly {@link ballgameBetting.Betting.verify|verify} messages.
             * @function encodeDelimited
             * @memberof ballgameBetting.Betting
             * @static
             * @param {ballgameBetting.IBetting} message Betting message or plain object to encode
             * @param {$protobuf.Writer} [writer] Writer to encode to
             * @returns {$protobuf.Writer} Writer
             */
            Betting.encodeDelimited = function encodeDelimited(message, writer) {
                return this.encode(message, writer).ldelim();
            };
    
            /**
             * Decodes a Betting message from the specified reader or buffer.
             * @function decode
             * @memberof ballgameBetting.Betting
             * @static
             * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from
             * @param {number} [length] Message length if known beforehand
             * @returns {ballgameBetting.Betting} Betting
             * @throws {Error} If the payload is not a reader or valid buffer
             * @throws {$protobuf.util.ProtocolError} If required fields are missing
             */
            Betting.decode = function decode(reader, length) {
                if (!(reader instanceof $Reader))
                    reader = $Reader.create(reader);
                var end = length === undefined ? reader.len : reader.pos + length, message = new $root.ballgameBetting.Betting();
                while (reader.pos < end) {
                    var tag = reader.uint32();
                    switch (tag >>> 3) {
                    case 1:
                        message.type = reader.int32();
                        break;
                    default:
                        reader.skipType(tag & 7);
                        break;
                    }
                }
                if (!message.hasOwnProperty("type"))
                    throw $util.ProtocolError("missing required 'type'", { instance: message });
                return message;
            };
    
            /**
             * Decodes a Betting message from the specified reader or buffer, length delimited.
             * @function decodeDelimited
             * @memberof ballgameBetting.Betting
             * @static
             * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from
             * @returns {ballgameBetting.Betting} Betting
             * @throws {Error} If the payload is not a reader or valid buffer
             * @throws {$protobuf.util.ProtocolError} If required fields are missing
             */
            Betting.decodeDelimited = function decodeDelimited(reader) {
                if (!(reader instanceof $Reader))
                    reader = new $Reader(reader);
                return this.decode(reader, reader.uint32());
            };
    
            /**
             * Verifies a Betting message.
             * @function verify
             * @memberof ballgameBetting.Betting
             * @static
             * @param {Object.<string,*>} message Plain object to verify
             * @returns {string|null} `null` if valid, otherwise the reason why it is not
             */
            Betting.verify = function verify(message) {
                if (typeof message !== "object" || message === null)
                    return "object expected";
                switch (message.type) {
                default:
                    return "type: enum value expected";
                case 0:
                case 1:
                case 2:
                    break;
                }
                return null;
            };
    
            /**
             * Creates a Betting message from a plain object. Also converts values to their respective internal types.
             * @function fromObject
             * @memberof ballgameBetting.Betting
             * @static
             * @param {Object.<string,*>} object Plain object
             * @returns {ballgameBetting.Betting} Betting
             */
            Betting.fromObject = function fromObject(object) {
                if (object instanceof $root.ballgameBetting.Betting)
                    return object;
                var message = new $root.ballgameBetting.Betting();
                switch (object.type) {
                case "WIN_LOSE_DRAW":
                case 0:
                    message.type = 0;
                    break;
                case "ODD_EVEN":
                case 1:
                    message.type = 1;
                    break;
                case "SCORES":
                case 2:
                    message.type = 2;
                    break;
                }
                return message;
            };
    
            /**
             * Creates a plain object from a Betting message. Also converts values to other types if specified.
             * @function toObject
             * @memberof ballgameBetting.Betting
             * @static
             * @param {ballgameBetting.Betting} message Betting
             * @param {$protobuf.IConversionOptions} [options] Conversion options
             * @returns {Object.<string,*>} Plain object
             */
            Betting.toObject = function toObject(message, options) {
                if (!options)
                    options = {};
                var object = {};
                if (options.defaults)
                    object.type = options.enums === String ? "WIN_LOSE_DRAW" : 0;
                if (message.type != null && message.hasOwnProperty("type"))
                    object.type = options.enums === String ? $root.ballgameBetting.BettingType[message.type] : message.type;
                return object;
            };
    
            /**
             * Converts this Betting to JSON.
             * @function toJSON
             * @memberof ballgameBetting.Betting
             * @instance
             * @returns {Object.<string,*>} JSON object
             */
            Betting.prototype.toJSON = function toJSON() {
                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
            };
    
            return Betting;
        })();
    
        /**
         * WinLoseDraw enum.
         * @name ballgameBetting.WinLoseDraw
         * @enum {string}
         * @property {number} WIN=0 WIN value
         * @property {number} LOSE=1 LOSE value
         * @property {number} DRAW=2 DRAW value
         */
        ballgameBetting.WinLoseDraw = (function() {
            var valuesById = {}, values = Object.create(valuesById);
            values[valuesById[0] = "WIN"] = 0;
            values[valuesById[1] = "LOSE"] = 1;
            values[valuesById[2] = "DRAW"] = 2;
            return values;
        })();
    
        /**
         * OddEven enum.
         * @name ballgameBetting.OddEven
         * @enum {string}
         * @property {number} ODD=0 ODD value
         * @property {number} EVEN=1 EVEN value
         */
        ballgameBetting.OddEven = (function() {
            var valuesById = {}, values = Object.create(valuesById);
            values[valuesById[0] = "ODD"] = 0;
            values[valuesById[1] = "EVEN"] = 1;
            return values;
        })();
    
        /**
         * Scores enum.
         * @name ballgameBetting.Scores
         * @enum {string}
         * @property {number} SCORES_0V0=0 SCORES_0V0 value
         * @property {number} SCORES_0V1=1 SCORES_0V1 value
         * @property {number} SCORES_1V0=2 SCORES_1V0 value
         * @property {number} SCORES_0V2=3 SCORES_0V2 value
         * @property {number} SCORES_2V0=4 SCORES_2V0 value
         * @property {number} SCORES_1V1=5 SCORES_1V1 value
         * @property {number} SCORES_1V2=6 SCORES_1V2 value
         * @property {number} SCORES_2V1=7 SCORES_2V1 value
         * @property {number} SCORES_2V2=8 SCORES_2V2 value
         * @property {number} SCORES_WIN=9 SCORES_WIN value
         * @property {number} SCORES_LOSE=10 SCORES_LOSE value
         * @property {number} SCORES_DRAW=11 SCORES_DRAW value
         */
        ballgameBetting.Scores = (function() {
            var valuesById = {}, values = Object.create(valuesById);
            values[valuesById[0] = "SCORES_0V0"] = 0;
            values[valuesById[1] = "SCORES_0V1"] = 1;
            values[valuesById[2] = "SCORES_1V0"] = 2;
            values[valuesById[3] = "SCORES_0V2"] = 3;
            values[valuesById[4] = "SCORES_2V0"] = 4;
            values[valuesById[5] = "SCORES_1V1"] = 5;
            values[valuesById[6] = "SCORES_1V2"] = 6;
            values[valuesById[7] = "SCORES_2V1"] = 7;
            values[valuesById[8] = "SCORES_2V2"] = 8;
            values[valuesById[9] = "SCORES_WIN"] = 9;
            values[valuesById[10] = "SCORES_LOSE"] = 10;
            values[valuesById[11] = "SCORES_DRAW"] = 11;
            return values;
        })();
    
        ballgameBetting.BettingResult = (function() {
    
            /**
             * Properties of a BettingResult.
             * @memberof ballgameBetting
             * @interface IBettingResult
             * @property {ballgameBetting.WinLoseDraw|null} [win_lose_draw] BettingResult win_lose_draw
             * @property {ballgameBetting.OddEven|null} [odd_even] BettingResult odd_even
             * @property {ballgameBetting.Scores|null} [scores] BettingResult scores
             */
    
            /**
             * Constructs a new BettingResult.
             * @memberof ballgameBetting
             * @classdesc Represents a BettingResult.
             * @implements IBettingResult
             * @constructor
             * @param {ballgameBetting.IBettingResult=} [properties] Properties to set
             */
            function BettingResult(properties) {
                if (properties)
                    for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)
                        if (properties[keys[i]] != null)
                            this[keys[i]] = properties[keys[i]];
            }
    
            /**
             * BettingResult win_lose_draw.
             * @member {ballgameBetting.WinLoseDraw} win_lose_draw
             * @memberof ballgameBetting.BettingResult
             * @instance
             */
            BettingResult.prototype.win_lose_draw = 0;
    
            /**
             * BettingResult odd_even.
             * @member {ballgameBetting.OddEven} odd_even
             * @memberof ballgameBetting.BettingResult
             * @instance
             */
            BettingResult.prototype.odd_even = 0;
    
            /**
             * BettingResult scores.
             * @member {ballgameBetting.Scores} scores
             * @memberof ballgameBetting.BettingResult
             * @instance
             */
            BettingResult.prototype.scores = 0;
    
            // OneOf field names bound to virtual getters and setters
            var $oneOfFields;
    
            /**
             * BettingResult value.
             * @member {"win_lose_draw"|"odd_even"|"scores"|undefined} value
             * @memberof ballgameBetting.BettingResult
             * @instance
             */
            Object.defineProperty(BettingResult.prototype, "value", {
                get: $util.oneOfGetter($oneOfFields = ["win_lose_draw", "odd_even", "scores"]),
                set: $util.oneOfSetter($oneOfFields)
            });
    
            /**
             * Creates a new BettingResult instance using the specified properties.
             * @function create
             * @memberof ballgameBetting.BettingResult
             * @static
             * @param {ballgameBetting.IBettingResult=} [properties] Properties to set
             * @returns {ballgameBetting.BettingResult} BettingResult instance
             */
            BettingResult.create = function create(properties) {
                return new BettingResult(properties);
            };
    
            /**
             * Encodes the specified BettingResult message. Does not implicitly {@link ballgameBetting.BettingResult.verify|verify} messages.
             * @function encode
             * @memberof ballgameBetting.BettingResult
             * @static
             * @param {ballgameBetting.IBettingResult} message BettingResult message or plain object to encode
             * @param {$protobuf.Writer} [writer] Writer to encode to
             * @returns {$protobuf.Writer} Writer
             */
            BettingResult.encode = function encode(message, writer) {
                if (!writer)
                    writer = $Writer.create();
                if (message.win_lose_draw != null && message.hasOwnProperty("win_lose_draw"))
                    writer.uint32(/* id 1, wireType 0 =*/8).int32(message.win_lose_draw);
                if (message.odd_even != null && message.hasOwnProperty("odd_even"))
                    writer.uint32(/* id 2, wireType 0 =*/16).int32(message.odd_even);
                if (message.scores != null && message.hasOwnProperty("scores"))
                    writer.uint32(/* id 3, wireType 0 =*/24).int32(message.scores);
                return writer;
            };
    
            /**
             * Encodes the specified BettingResult message, length delimited. Does not implicitly {@link ballgameBetting.BettingResult.verify|verify} messages.
             * @function encodeDelimited
             * @memberof ballgameBetting.BettingResult
             * @static
             * @param {ballgameBetting.IBettingResult} message BettingResult message or plain object to encode
             * @param {$protobuf.Writer} [writer] Writer to encode to
             * @returns {$protobuf.Writer} Writer
             */
            BettingResult.encodeDelimited = function encodeDelimited(message, writer) {
                return this.encode(message, writer).ldelim();
            };
    
            /**
             * Decodes a BettingResult message from the specified reader or buffer.
             * @function decode
             * @memberof ballgameBetting.BettingResult
             * @static
             * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from
             * @param {number} [length] Message length if known beforehand
             * @returns {ballgameBetting.BettingResult} BettingResult
             * @throws {Error} If the payload is not a reader or valid buffer
             * @throws {$protobuf.util.ProtocolError} If required fields are missing
             */
            BettingResult.decode = function decode(reader, length) {
                if (!(reader instanceof $Reader))
                    reader = $Reader.create(reader);
                var end = length === undefined ? reader.len : reader.pos + length, message = new $root.ballgameBetting.BettingResult();
                while (reader.pos < end) {
                    var tag = reader.uint32();
                    switch (tag >>> 3) {
                    case 1:
                        message.win_lose_draw = reader.int32();
                        break;
                    case 2:
                        message.odd_even = reader.int32();
                        break;
                    case 3:
                        message.scores = reader.int32();
                        break;
                    default:
                        reader.skipType(tag & 7);
                        break;
                    }
                }
                return message;
            };
    
            /**
             * Decodes a BettingResult message from the specified reader or buffer, length delimited.
             * @function decodeDelimited
             * @memberof ballgameBetting.BettingResult
             * @static
             * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from
             * @returns {ballgameBetting.BettingResult} BettingResult
             * @throws {Error} If the payload is not a reader or valid buffer
             * @throws {$protobuf.util.ProtocolError} If required fields are missing
             */
            BettingResult.decodeDelimited = function decodeDelimited(reader) {
                if (!(reader instanceof $Reader))
                    reader = new $Reader(reader);
                return this.decode(reader, reader.uint32());
            };
    
            /**
             * Verifies a BettingResult message.
             * @function verify
             * @memberof ballgameBetting.BettingResult
             * @static
             * @param {Object.<string,*>} message Plain object to verify
             * @returns {string|null} `null` if valid, otherwise the reason why it is not
             */
            BettingResult.verify = function verify(message) {
                if (typeof message !== "object" || message === null)
                    return "object expected";
                var properties = {};
                if (message.win_lose_draw != null && message.hasOwnProperty("win_lose_draw")) {
                    properties.value = 1;
                    switch (message.win_lose_draw) {
                    default:
                        return "win_lose_draw: enum value expected";
                    case 0:
                    case 1:
                    case 2:
                        break;
                    }
                }
                if (message.odd_even != null && message.hasOwnProperty("odd_even")) {
                    if (properties.value === 1)
                        return "value: multiple values";
                    properties.value = 1;
                    switch (message.odd_even) {
                    default:
                        return "odd_even: enum value expected";
                    case 0:
                    case 1:
                        break;
                    }
                }
                if (message.scores != null && message.hasOwnProperty("scores")) {
                    if (properties.value === 1)
                        return "value: multiple values";
                    properties.value = 1;
                    switch (message.scores) {
                    default:
                        return "scores: enum value expected";
                    case 0:
                    case 1:
                    case 2:
                    case 3:
                    case 4:
                    case 5:
                    case 6:
                    case 7:
                    case 8:
                    case 9:
                    case 10:
                    case 11:
                        break;
                    }
                }
                return null;
            };
    
            /**
             * Creates a BettingResult message from a plain object. Also converts values to their respective internal types.
             * @function fromObject
             * @memberof ballgameBetting.BettingResult
             * @static
             * @param {Object.<string,*>} object Plain object
             * @returns {ballgameBetting.BettingResult} BettingResult
             */
            BettingResult.fromObject = function fromObject(object) {
                if (object instanceof $root.ballgameBetting.BettingResult)
                    return object;
                var message = new $root.ballgameBetting.BettingResult();
                switch (object.win_lose_draw) {
                case "WIN":
                case 0:
                    message.win_lose_draw = 0;
                    break;
                case "LOSE":
                case 1:
                    message.win_lose_draw = 1;
                    break;
                case "DRAW":
                case 2:
                    message.win_lose_draw = 2;
                    break;
                }
                switch (object.odd_even) {
                case "ODD":
                case 0:
                    message.odd_even = 0;
                    break;
                case "EVEN":
                case 1:
                    message.odd_even = 1;
                    break;
                }
                switch (object.scores) {
                case "SCORES_0V0":
                case 0:
                    message.scores = 0;
                    break;
                case "SCORES_0V1":
                case 1:
                    message.scores = 1;
                    break;
                case "SCORES_1V0":
                case 2:
                    message.scores = 2;
                    break;
                case "SCORES_0V2":
                case 3:
                    message.scores = 3;
                    break;
                case "SCORES_2V0":
                case 4:
                    message.scores = 4;
                    break;
                case "SCORES_1V1":
                case 5:
                    message.scores = 5;
                    break;
                case "SCORES_1V2":
                case 6:
                    message.scores = 6;
                    break;
                case "SCORES_2V1":
                case 7:
                    message.scores = 7;
                    break;
                case "SCORES_2V2":
                case 8:
                    message.scores = 8;
                    break;
                case "SCORES_WIN":
                case 9:
                    message.scores = 9;
                    break;
                case "SCORES_LOSE":
                case 10:
                    message.scores = 10;
                    break;
                case "SCORES_DRAW":
                case 11:
                    message.scores = 11;
                    break;
                }
                return message;
            };
    
            /**
             * Creates a plain object from a BettingResult message. Also converts values to other types if specified.
             * @function toObject
             * @memberof ballgameBetting.BettingResult
             * @static
             * @param {ballgameBetting.BettingResult} message BettingResult
             * @param {$protobuf.IConversionOptions} [options] Conversion options
             * @returns {Object.<string,*>} Plain object
             */
            BettingResult.toObject = function toObject(message, options) {
                if (!options)
                    options = {};
                var object = {};
                if (message.win_lose_draw != null && message.hasOwnProperty("win_lose_draw")) {
                    object.win_lose_draw = options.enums === String ? $root.ballgameBetting.WinLoseDraw[message.win_lose_draw] : message.win_lose_draw;
                    if (options.oneofs)
                        object.value = "win_lose_draw";
                }
                if (message.odd_even != null && message.hasOwnProperty("odd_even")) {
                    object.odd_even = options.enums === String ? $root.ballgameBetting.OddEven[message.odd_even] : message.odd_even;
                    if (options.oneofs)
                        object.value = "odd_even";
                }
                if (message.scores != null && message.hasOwnProperty("scores")) {
                    object.scores = options.enums === String ? $root.ballgameBetting.Scores[message.scores] : message.scores;
                    if (options.oneofs)
                        object.value = "scores";
                }
                return object;
            };
    
            /**
             * Converts this BettingResult to JSON.
             * @function toJSON
             * @memberof ballgameBetting.BettingResult
             * @instance
             * @returns {Object.<string,*>} JSON object
             */
            BettingResult.prototype.toJSON = function toJSON() {
                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
            };
    
            return BettingResult;
        })();
    
        ballgameBetting.Draw = (function() {
    
            /**
             * Properties of a Draw.
             * @memberof ballgameBetting
             * @interface IDraw
             * @property {number} score1 Draw score1
             * @property {number} score2 Draw score2
             */
    
            /**
             * Constructs a new Draw.
             * @memberof ballgameBetting
             * @classdesc Represents a Draw.
             * @implements IDraw
             * @constructor
             * @param {ballgameBetting.IDraw=} [properties] Properties to set
             */
            function Draw(properties) {
                if (properties)
                    for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)
                        if (properties[keys[i]] != null)
                            this[keys[i]] = properties[keys[i]];
            }
    
            /**
             * Draw score1.
             * @member {number} score1
             * @memberof ballgameBetting.Draw
             * @instance
             */
            Draw.prototype.score1 = 0;
    
            /**
             * Draw score2.
             * @member {number} score2
             * @memberof ballgameBetting.Draw
             * @instance
             */
            Draw.prototype.score2 = 0;
    
            /**
             * Creates a new Draw instance using the specified properties.
             * @function create
             * @memberof ballgameBetting.Draw
             * @static
             * @param {ballgameBetting.IDraw=} [properties] Properties to set
             * @returns {ballgameBetting.Draw} Draw instance
             */
            Draw.create = function create(properties) {
                return new Draw(properties);
            };
    
            /**
             * Encodes the specified Draw message. Does not implicitly {@link ballgameBetting.Draw.verify|verify} messages.
             * @function encode
             * @memberof ballgameBetting.Draw
             * @static
             * @param {ballgameBetting.IDraw} message Draw message or plain object to encode
             * @param {$protobuf.Writer} [writer] Writer to encode to
             * @returns {$protobuf.Writer} Writer
             */
            Draw.encode = function encode(message, writer) {
                if (!writer)
                    writer = $Writer.create();
                writer.uint32(/* id 1, wireType 0 =*/8).uint32(message.score1);
                writer.uint32(/* id 2, wireType 0 =*/16).uint32(message.score2);
                return writer;
            };
    
            /**
             * Encodes the specified Draw message, length delimited. Does not implicitly {@link ballgameBetting.Draw.verify|verify} messages.
             * @function encodeDelimited
             * @memberof ballgameBetting.Draw
             * @static
             * @param {ballgameBetting.IDraw} message Draw message or plain object to encode
             * @param {$protobuf.Writer} [writer] Writer to encode to
             * @returns {$protobuf.Writer} Writer
             */
            Draw.encodeDelimited = function encodeDelimited(message, writer) {
                return this.encode(message, writer).ldelim();
            };
    
            /**
             * Decodes a Draw message from the specified reader or buffer.
             * @function decode
             * @memberof ballgameBetting.Draw
             * @static
             * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from
             * @param {number} [length] Message length if known beforehand
             * @returns {ballgameBetting.Draw} Draw
             * @throws {Error} If the payload is not a reader or valid buffer
             * @throws {$protobuf.util.ProtocolError} If required fields are missing
             */
            Draw.decode = function decode(reader, length) {
                if (!(reader instanceof $Reader))
                    reader = $Reader.create(reader);
                var end = length === undefined ? reader.len : reader.pos + length, message = new $root.ballgameBetting.Draw();
                while (reader.pos < end) {
                    var tag = reader.uint32();
                    switch (tag >>> 3) {
                    case 1:
                        message.score1 = reader.uint32();
                        break;
                    case 2:
                        message.score2 = reader.uint32();
                        break;
                    default:
                        reader.skipType(tag & 7);
                        break;
                    }
                }
                if (!message.hasOwnProperty("score1"))
                    throw $util.ProtocolError("missing required 'score1'", { instance: message });
                if (!message.hasOwnProperty("score2"))
                    throw $util.ProtocolError("missing required 'score2'", { instance: message });
                return message;
            };
    
            /**
             * Decodes a Draw message from the specified reader or buffer, length delimited.
             * @function decodeDelimited
             * @memberof ballgameBetting.Draw
             * @static
             * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from
             * @returns {ballgameBetting.Draw} Draw
             * @throws {Error} If the payload is not a reader or valid buffer
             * @throws {$protobuf.util.ProtocolError} If required fields are missing
             */
            Draw.decodeDelimited = function decodeDelimited(reader) {
                if (!(reader instanceof $Reader))
                    reader = new $Reader(reader);
                return this.decode(reader, reader.uint32());
            };
    
            /**
             * Verifies a Draw message.
             * @function verify
             * @memberof ballgameBetting.Draw
             * @static
             * @param {Object.<string,*>} message Plain object to verify
             * @returns {string|null} `null` if valid, otherwise the reason why it is not
             */
            Draw.verify = function verify(message) {
                if (typeof message !== "object" || message === null)
                    return "object expected";
                if (!$util.isInteger(message.score1))
                    return "score1: integer expected";
                if (!$util.isInteger(message.score2))
                    return "score2: integer expected";
                return null;
            };
    
            /**
             * Creates a Draw message from a plain object. Also converts values to their respective internal types.
             * @function fromObject
             * @memberof ballgameBetting.Draw
             * @static
             * @param {Object.<string,*>} object Plain object
             * @returns {ballgameBetting.Draw} Draw
             */
            Draw.fromObject = function fromObject(object) {
                if (object instanceof $root.ballgameBetting.Draw)
                    return object;
                var message = new $root.ballgameBetting.Draw();
                if (object.score1 != null)
                    message.score1 = object.score1 >>> 0;
                if (object.score2 != null)
                    message.score2 = object.score2 >>> 0;
                return message;
            };
    
            /**
             * Creates a plain object from a Draw message. Also converts values to other types if specified.
             * @function toObject
             * @memberof ballgameBetting.Draw
             * @static
             * @param {ballgameBetting.Draw} message Draw
             * @param {$protobuf.IConversionOptions} [options] Conversion options
             * @returns {Object.<string,*>} Plain object
             */
            Draw.toObject = function toObject(message, options) {
                if (!options)
                    options = {};
                var object = {};
                if (options.defaults) {
                    object.score1 = 0;
                    object.score2 = 0;
                }
                if (message.score1 != null && message.hasOwnProperty("score1"))
                    object.score1 = message.score1;
                if (message.score2 != null && message.hasOwnProperty("score2"))
                    object.score2 = message.score2;
                return object;
            };
    
            /**
             * Converts this Draw to JSON.
             * @function toJSON
             * @memberof ballgameBetting.Draw
             * @instance
             * @returns {Object.<string,*>} JSON object
             */
            Draw.prototype.toJSON = function toJSON() {
                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);
            };
    
            return Draw;
        })();
    
        return ballgameBetting;
    })();

    return $root;
})(protobuf);

switch (location.hash.toLocaleLowerCase()) {
    case "#admin": __ADMIN_ENTRY__ = true; break;
    case "#bank": __BANK_ENTRY__ = true; break;
    default: __GAME_ENTRY__ = true; break;
}

format.extend(String.prototype, {});

Number.prototype.toFixed = function(x) {
    return (Math.floor(this * Math.pow(10, x)) / Math.pow(10, x)).toString();
};

goblin = {
    currencyName: "ETH",
    valuePrecision: 3,
    keyObject: null,
    privateKey: null,

    protocol: {
        ballgameBetting: protobuf.roots["default"].ballgameBetting
    }
};

var isPrivateIP = function (ip) {
    return /^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(ip) ||
    /^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(ip) ||
    /^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(ip) ||
    /^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(ip) ||
    /^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(ip) ||
    /^f[cd][0-9a-f]{2}:/i.test(ip) ||
    /^fe80:/i.test(ip) ||
    /^::1$/.test(ip) ||
    /^::$/.test(ip);
};

if (false && location.hostname == "localhost" || isPrivateIP(location.hostname)) {
    if (typeof web3 !== "undefined") {
        web3 = new Web3(web3.currentProvider);
    } else {
        web3 = new Web3(new Web3.providers.HttpProvider("http://" + (
            // location.hostname == "localhost" ?
            // "localhost" :
            "127.0.0.1"
        ) + ":8545"));
    }


    goblin.contract = {
        bank: web3.eth.contract([{"constant":true,"inputs":[],"name":"get_proposal","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"game_admin","type":"address"}],"name":"add_game_admin","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"manager","type":"address"}],"name":"remove_manager","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_total_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"game","type":"address"}],"name":"add_game","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"manager","type":"address"}],"name":"add_manager","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"beneficiary","type":"address"}],"name":"add_beneficiary","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_games","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_managers","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_beneficiaries","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"accept_proposal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"beneficiary","type":"address"},{"name":"amount","type":"uint256"}],"name":"benefit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"reject_proposal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_last_proposal_record","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"address1","type":"address"}],"name":"is_game_admin","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"game_admin","type":"address"}],"name":"remove_game_admin","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"beneficiary","type":"address"}],"name":"remove_beneficiary","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"game","type":"address"}],"name":"remove_game","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_game_admins","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"destination","type":"address"},{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"manager1","type":"address"},{"name":"manager2","type":"address"}],"payable":true,"stateMutability":"payable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"
    }]).at("0x89b66a573d4134f6fbc30c704006c3833043fa2b"),
        kuaisan: web3.eth.contract([{"constant":false,"inputs":[],"name":"draw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_disabled","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"disabled","type":"bool"}],"name":"set_disabled","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"customer","type":"address"}],"name":"get_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"current_time","type":"uint64"}],"name":"calculate_wait_time_to_draw","outputs":[{"name":"","type":"int64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_total_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"odds","type":"uint256"}],"name":"set_odds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_sum_missing_counts","outputs":[{"name":"","type":"uint256[16]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"LUCKY_NUMBER_2_CODE","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"NO_CODE","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"duration","type":"uint64"}],"name":"set_duration","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_duration","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"max_total_ticket_count","type":"uint8"}],"name":"set_max_total_ticket_count","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_lucky_codes","outputs":[{"name":"","type":"uint8[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_deadline","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_bank","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_max_drawing_step_count","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"ticket_price","type":"uint256"}],"name":"set_ticket_price","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"CODE_2_WEIGHT","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_max_total_ticket_count","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_odds","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_round_count","outputs":[{"name":"","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"tickets","type":"bytes"},{"name":"round_number","type":"uint32"}],"name":"buy_tickets","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"max_drawing_step_count","type":"uint8"}],"name":"set_max_drawing_step_count","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_ticket_price","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"customer","type":"address"},{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_bought_tickets","outputs":[{"name":"","type":"uint8[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_CODE","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"bank_address","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"round_count","type":"uint32"}],"name":"RoundStart","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"round_count","type":"uint32"},{"indexed":false,"name":"lucky_code","type":"uint8"}],"name":"RoundEnd","type":"event"
    }]).at("0x7d2514dbef96f56510faf0ce8fdb81f246dba0f9"),
        coinFlipping: web3.eth.contract([{"constant":false,"inputs":[],"name":"draw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_disabled","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"disabled","type":"bool"}],"name":"set_disabled","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"NO_SIDE","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"customer","type":"address"}],"name":"get_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"current_time","type":"uint64"}],"name":"calculate_wait_time_to_draw","outputs":[{"name":"","type":"int64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_total_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"duration","type":"uint64"}],"name":"set_duration","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_duration","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"max_total_ticket_count","type":"uint8"}],"name":"set_max_total_ticket_count","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_deadline","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_bank","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_max_drawing_step_count","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"ticket_price","type":"uint256"}],"name":"set_ticket_price","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"odds_x_10","type":"uint256"}],"name":"set_odds_x_10","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_max_total_ticket_count","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_round_count","outputs":[{"name":"","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"tickets","type":"bytes"},{"name":"round_number","type":"uint32"}],"name":"buy_tickets","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"get_lucky_sides","outputs":[{"name":"","type":"uint8[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"max_drawing_step_count","type":"uint8"}],"name":"set_max_drawing_step_count","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_lucky_block_hash","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_ticket_counts_of_sides","outputs":[{"name":"","type":"uint256[2]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_ticket_price","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"customer","type":"address"},{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_odds_x_10","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_bought_tickets","outputs":[{"name":"","type":"uint8[]"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"bank_address","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"round_count","type":"uint32"}],"name":"RoundStart","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"round_count","type":"uint32"},{"indexed":false,"name":"lucky_side","type":"uint8"},{"indexed":false,"name":"lucky_block_hash","type":"uint256"}],"name":"RoundEnd","type":"event"
    }]).at("0x8116e506d8097f466090eb8257c1040ae990a097"),
        ballgameBetting: web3.eth.contract([{"constant":false,"inputs":[{"components":[{"name":"id","type":"uint32"},{"name":"index","type":"int8"},{"name":"is_ended","type":"bool"},{"name":"data","type":"bytes"},{"name":"betting_start_time","type":"uint64"},{"name":"betting_stop_time","type":"uint64"},{"components":[{"name":"data","type":"bytes"},{"components":[{"name":"data","type":"bytes"},{"name":"better_count","type":"uint32"},{"name":"total_value","type":"uint256"}],"name":"results","type":"tuple[]"},{"name":"result_index","type":"int8"}],"name":"bettings","type":"tuple[]"}],"name":"match_desc","type":"tuple"}],"name":"post_match","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"draw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_disabled","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"disabled","type":"bool"}],"name":"set_disabled","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"customer","type":"address"}],"name":"get_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_water_percent","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_total_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"match_index","type":"uint8"},{"name":"betting_index","type":"uint8"},{"name":"betting_result_index","type":"uint8"},{"name":"betting_value","type":"uint256"}],"name":"bet_infos","type":"tuple[]"}],"name":"bet","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"match_index","type":"uint8"},{"name":"match_betting_stop_time","type":"uint64"}],"name":"set_match_betting_stop_time","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"match_index","type":"uint8"},{"name":"betting_result_indexes","type":"int8[]"},{"name":"draw_data","type":"bytes"}],"name":"end_match","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"max_total_ticket_count","type":"uint8"}],"name":"set_max_total_ticket_count","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"match_data","type":"bytes"},{"name":"betting_start_time","type":"uint64"},{"name":"betting_stop_time","type":"uint64"}],"name":"post_football_match","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_bank","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"water_percent","type":"uint8"}],"name":"set_water_percent","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"MAX_NUMBER_OF_MATCHES","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_max_drawing_step_count","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"ticket_price","type":"uint256"}],"name":"set_ticket_price","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"is_time_to_draw","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_NUMBER_OF_BETTING_RESULTS","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_max_total_ticket_count","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_matches","outputs":[{"components":[{"name":"id","type":"uint32"},{"name":"index","type":"int8"},{"name":"is_ended","type":"bool"},{"name":"data","type":"bytes"},{"name":"betting_start_time","type":"uint64"},{"name":"betting_stop_time","type":"uint64"},{"components":[{"name":"data","type":"bytes"},{"components":[{"name":"data","type":"bytes"},{"name":"better_count","type":"uint32"},{"name":"total_value","type":"uint256"}],"name":"results","type":"tuple[]"},{"name":"result_index","type":"int8"}],"name":"bettings","type":"tuple[]"}],"name":"","type":"tuple[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_NUMBER_OF_BETTINGS","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"max_drawing_step_count","type":"uint8"}],"name":"set_max_drawing_step_count","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_ticket_price","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_draw_infos","outputs":[{"components":[{"name":"match_id","type":"uint32"},{"name":"data","type":"bytes"},{"components":[{"name":"result_index","type":"int8"},{"name":"odds","type":"uint256"}],"name":"bettings","type":"tuple[]"}],"name":"","type":"tuple[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"match_index","type":"uint8"},{"name":"match_data","type":"bytes"}],"name":"set_match_data","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"customer","type":"address"},{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"bank_address","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[],"name":"TimeToDraw","type":"event"
    }]).at("0x5d544e71137ecf3707b4d93b42e5711cb9ef423e")
    };

    goblin.privateKey = ethereumjs.Buffer.Buffer.from("c4a04ae817e512685611278e57d8bb2c910f553b31853f8871368752e1203e48", "hex");
} else {
    if (typeof web3 !== "undefined") {
        web3 = new Web3(web3.currentProvider);
    } else {
        // 公链
        var nodes = [/*'http://pub-node1.etherscan.io:8545', */'http://120.78.13.193:8545']
        var r = Math.floor(Math.random() * nodes.length);
        web3 = new Web3(new Web3.providers.HttpProvider(nodes[r]));
        console.log("connect to geth public node " + nodes[r])
        //web3 = new Web3(new Web3.providers.HttpProvider("http://120.78.13.193:8545"));
        //web3 = new Web3(new Web3.providers.HttpProvider("http://127.0.0.1:8545"));
    }

    goblin.contract = {
        bank: web3.eth.contract(
            [{"constant":true,"inputs":[],"name":"get_proposal","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"game_admin","type":"address"}],"name":"add_game_admin","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"manager","type":"address"}],"name":"remove_manager","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_total_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"game","type":"address"}],"name":"add_game","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"manager","type":"address"}],"name":"add_manager","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"beneficiary","type":"address"}],"name":"add_beneficiary","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_games","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_managers","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_beneficiaries","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"accept_proposal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"beneficiary","type":"address"},{"name":"amount","type":"uint256"}],"name":"benefit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"reject_proposal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_last_proposal_record","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"address1","type":"address"}],"name":"is_game_admin","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"game_admin","type":"address"}],"name":"remove_game_admin","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"beneficiary","type":"address"}],"name":"remove_beneficiary","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"game","type":"address"}],"name":"remove_game","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_game_admins","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"destination","type":"address"},{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"manager1","type":"address"},{"name":"manager2","type":"address"}],"payable":true,"stateMutability":"payable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"}]
        ).at("0xd2c119acaa38419f879ddbcf6c3a3253380a54e6"),
        kuaisan: web3.eth.contract(
            [{"constant":false,"inputs":[],"name":"draw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_disabled","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"disabled","type":"bool"}],"name":"set_disabled","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"customer","type":"address"}],"name":"get_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"current_time","type":"uint64"}],"name":"calculate_wait_time_to_draw","outputs":[{"name":"","type":"int64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_total_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"odds","type":"uint256"}],"name":"set_odds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_sum_missing_counts","outputs":[{"name":"","type":"uint256[16]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"LUCKY_NUMBER_2_CODE","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"NO_CODE","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"duration","type":"uint64"}],"name":"set_duration","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_duration","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"max_total_ticket_count","type":"uint8"}],"name":"set_max_total_ticket_count","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_lucky_codes","outputs":[{"name":"","type":"uint8[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_deadline","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_bank","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_max_drawing_step_count","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"ticket_price","type":"uint256"}],"name":"set_ticket_price","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"CODE_2_WEIGHT","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_max_total_ticket_count","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_odds","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_round_count","outputs":[{"name":"","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"tickets","type":"bytes"},{"name":"round_number","type":"uint32"}],"name":"buy_tickets","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"max_drawing_step_count","type":"uint8"}],"name":"set_max_drawing_step_count","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_ticket_price","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"customer","type":"address"},{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_bought_tickets","outputs":[{"name":"","type":"uint8[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_CODE","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"bank_address","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"round_count","type":"uint32"}],"name":"RoundStart","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"round_count","type":"uint32"},{"indexed":false,"name":"lucky_code","type":"uint8"}],"name":"RoundEnd","type":"event"}]
        ).at("0x01f5b16581575fde758a5e24f3acb5098d37b97b"),
        coinFlipping: web3.eth.contract(
            [{"constant":false,"inputs":[],"name":"draw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_disabled","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"disabled","type":"bool"}],"name":"set_disabled","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"NO_SIDE","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"customer","type":"address"}],"name":"get_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"current_time","type":"uint64"}],"name":"calculate_wait_time_to_draw","outputs":[{"name":"","type":"int64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_total_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"duration","type":"uint64"}],"name":"set_duration","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_duration","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"max_total_ticket_count","type":"uint8"}],"name":"set_max_total_ticket_count","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_deadline","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_bank","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_max_drawing_step_count","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"ticket_price","type":"uint256"}],"name":"set_ticket_price","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"odds_x_10","type":"uint256"}],"name":"set_odds_x_10","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_max_total_ticket_count","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_round_count","outputs":[{"name":"","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"tickets","type":"bytes"},{"name":"round_number","type":"uint32"}],"name":"buy_tickets","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"get_lucky_sides","outputs":[{"name":"","type":"uint8[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"max_drawing_step_count","type":"uint8"}],"name":"set_max_drawing_step_count","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_lucky_block_hash","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_ticket_counts_of_sides","outputs":[{"name":"","type":"uint256[2]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_ticket_price","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"customer","type":"address"},{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_odds_x_10","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_bought_tickets","outputs":[{"name":"","type":"uint8[]"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"bank_address","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"round_count","type":"uint32"}],"name":"RoundStart","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"round_count","type":"uint32"},{"indexed":false,"name":"lucky_side","type":"uint8"},{"indexed":false,"name":"lucky_block_hash","type":"uint256"}],"name":"RoundEnd","type":"event"}]
        ).at("0xBe970a43Ce8c4CE56FbA9375F8d469Ac01D96Fe5"),
        ballgameBetting: web3.eth.contract(
            [{"constant":false,"inputs":[{"components":[{"name":"id","type":"uint32"},{"name":"index","type":"int8"},{"name":"is_ended","type":"bool"},{"name":"data","type":"bytes"},{"name":"betting_start_time","type":"uint64"},{"name":"betting_stop_time","type":"uint64"},{"components":[{"name":"data","type":"bytes"},{"components":[{"name":"data","type":"bytes"},{"name":"better_count","type":"uint32"},{"name":"total_value","type":"uint256"}],"name":"results","type":"tuple[]"},{"name":"result_index","type":"int8"}],"name":"bettings","type":"tuple[]"}],"name":"match_desc","type":"tuple"}],"name":"post_match","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"draw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_disabled","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"disabled","type":"bool"}],"name":"set_disabled","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"customer","type":"address"}],"name":"get_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_water_percent","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_total_balance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"match_index","type":"uint8"},{"name":"betting_index","type":"uint8"},{"name":"betting_result_index","type":"uint8"},{"name":"betting_value","type":"uint256"}],"name":"bet_infos","type":"tuple[]"}],"name":"bet","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"match_index","type":"uint8"},{"name":"match_betting_stop_time","type":"uint64"}],"name":"set_match_betting_stop_time","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"match_index","type":"uint8"},{"name":"betting_result_indexes","type":"int8[]"},{"name":"draw_data","type":"bytes"}],"name":"end_match","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"max_total_ticket_count","type":"uint8"}],"name":"set_max_total_ticket_count","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"match_data","type":"bytes"},{"name":"betting_start_time","type":"uint64"},{"name":"betting_stop_time","type":"uint64"}],"name":"post_football_match","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_bank","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"water_percent","type":"uint8"}],"name":"set_water_percent","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"MAX_NUMBER_OF_MATCHES","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_max_drawing_step_count","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"ticket_price","type":"uint256"}],"name":"set_ticket_price","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"is_time_to_draw","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_NUMBER_OF_BETTING_RESULTS","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_max_total_ticket_count","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_matches","outputs":[{"components":[{"name":"id","type":"uint32"},{"name":"index","type":"int8"},{"name":"is_ended","type":"bool"},{"name":"data","type":"bytes"},{"name":"betting_start_time","type":"uint64"},{"name":"betting_stop_time","type":"uint64"},{"components":[{"name":"data","type":"bytes"},{"components":[{"name":"data","type":"bytes"},{"name":"better_count","type":"uint32"},{"name":"total_value","type":"uint256"}],"name":"results","type":"tuple[]"},{"name":"result_index","type":"int8"}],"name":"bettings","type":"tuple[]"}],"name":"","type":"tuple[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_NUMBER_OF_BETTINGS","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"max_drawing_step_count","type":"uint8"}],"name":"set_max_drawing_step_count","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get_ticket_price","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"get_draw_infos","outputs":[{"components":[{"name":"match_id","type":"uint32"},{"name":"data","type":"bytes"},{"components":[{"name":"result_index","type":"int8"},{"name":"odds","type":"uint256"}],"name":"bettings","type":"tuple[]"}],"name":"","type":"tuple[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"match_index","type":"uint8"},{"name":"match_data","type":"bytes"}],"name":"set_match_data","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"customer","type":"address"},{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"bank_address","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[],"name":"TimeToDraw","type":"event"}]
        ).at("0xac0AAC2d0df0985FDD86c7633cA119aE9E5e8913")
    };
}
goblin.texts = {
    1000: "快三",
    1001: "數據載入中...",
    1002: "手續費: {}",
    1003: "提現中...",
    1004: "提現成功！",
    1005: "注",
    1006: "和值",
    1007: "三同號單選",
    1008: "三同號通選",
    1009: "二同號複選",
    1010: "二同號單選",
    1011: "三不同號",
    1012: "三不同號膽拖",
    1013: "三連號通選",
    1014: "二不同號",
    1015: "二不同號膽拖",
    1016: "訂單創建中...",
    1017: "訂單已提交礦機確認，請耐心等待，可在投注記錄中查詢訂單狀態。",
    1018: "共{}注, {}",
    1019: "倍",
    1020: "等待投注",
    1021: "等待開獎",
    1022: "{}期開獎號碼",
    1023: "第{}期已經開始！",
    1024: "第{}期已經束，中獎號碼為{}。",
    1025: "大小",
    1026: "單雙",
    1027: "無效的keystore。",
    1028: "密碼錯誤！",
    1029: "{}期",
    1030: "等待開獎",
    1031: "未中獎",
    1032: "已中獎",
    1033: "{}注",
    1034: "小",
    1035: "大",
    1036: "單",
    1037: "雙",
    1038: "小&單",
    1039: "小&雙",
    1040: "大&單",
    1041: "大&雙",
    1042: "拋硬幣",
    1043: "投注失敗",
    1044: "等待確認",
    1045: "訂單創建失敗，投注記錄中有未確認訂單，請耐心等待礦機確認。",
    1046: "三同號",
    1047: "二同號",
    1048: "三連號",
    1049: "數據不同步，已為您更新數據，請重新下單。",
    1050: "{}注 {}倍",
    1051: "{}期開獎號碼",
    1052: "複製失敗！請手動複製。",
    1053: "和值：猜中開獎號相加的和。\n三同號單選：猜中111~666中指定一個。\n三同號通選：猜中111~666任意一個。\n二同號單選：猜中3個號（其中2個號相同）。\n二同號複選：猜中開獎中相同的2個號。\n三不同號：猜中3個號（各不相同）。\n二不同號：猜中開獎中不相同的2個號。\n三連號通選：猜中123、234、345、456任意一個。\n\n膽拖玩法\n在膽拖投注中，我們把號碼分成膽碼和託碼兩部分，膽碼在每一注彩票裡都固定出現，託碼即補充其他可能會出的不同號碼。由託碼和膽碼共同組成一注完成的投注號碼。\n例如：你認為 1 2 必出，4 5 可能會出，那麼將 1 2 作為膽碼，4 5 作為託碼，將組成 1 2 4 和 1 2 5兩注號碼。",
    1054: "暫未開放，敬請期待！",
    1055: "猜開獎號相加的和是什麼狀態\n小：3~10\n大：11~18\n單：奇數\n雙：偶數",
    1056: "單期最高投注為{}注，已將倍數設置到當前最大投注",
    1057: "轉移中...",
    1058: "轉移成功！",
    1060: "總押注：{}",
    1061: "我的資金：{}",
    1062: "正面",
    1063: "反面",
    1064: "{}期開獎結果",
    1065: "暫無數據",
    1066: "第{}期已經束，開獎結果為：{}。",
    1067: "距離{}期開獎時間",
    1068: "高度: ",
    1069: "時間: ",
    1070: "哈希: ",
    1071: "主勝",
    1072: "客勝",
    1073: "平",
    1074: "進球單數",
    1075: "進球雙數",
    1076: "0 - 0",
    1077: "0 - 1",
    1078: "1 - 0",
    1079: "0 - 2",
    1080: "2 - 0",
    1081: "1 - 1",
    1082: "1 - 2",
    1083: "2 - 1",
    1084: "2 - 2",
    1085: "贏其他",
    1086: "輸其他",
    1087: "平其他",
    1088: "點擊選擇比分",
    1089: "進球",
    1090: "勝平負",
    1091: "比分",
    1092: "足彩",
    1093: "進行中",
    1094: "賽事取消",
    1095: "{} : {}",
    1096: "開啟玩法",
    1097: "關閉玩法",
    1098: "執行中...",
    1099: "執行成功！",
    1100: "投注已經開始，確定要取消賽事嗎？",
    1101: "賽果一旦錄入無法更改，請確認比分無誤: {} - {}",
    1102: "賽事將在{}分鐘後對用戶可見",
    1103: "主隊客隊必須不同",
    1104: "添加{}: {}",
    1105: "移除{}: {}",
    1106: "超級權限賬戶",
    1107: "遊戲合約",
    1108: "遊戲運營賬戶",
    1109: "資金轉出賬戶",
    1110: "全票通過",
    1111: "一票否決",
    1112: "轉出資金{}到賬戶{}",
    1113: "{}管理",
    1114: "添加{}",
    1115: "分鐘",
    1116: "返獎率",
    1117: "單注價格",
    1118: "投注上限",
    1119: "開獎時間",
    1120: "修改{}",
    1121: "設置{}",
    1122: "開啟玩法",
    1123: "關閉玩法",
    1124: "餘額不足，請充值。",
    1125: "未知錯誤，請稍後重試。",
    1126: "確定要清空訂單嗎？",
    1127: "確定要{}嗎？",
    1128: "密碼為6-20個字符，必須包含數字+字母或者字母+特殊字符或者數字+特殊字符！",
    1129: "請輸入大於等於三個字符的用戶名!",
};
goblin.util = new (function () {
    "use strict";

    this.gasPriceScale = function(price) {
        return price.dividedBy(1);
    }

    this.randomBetween = function (min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
    };

    this.secondsToHHMMSS = function (sec_num) {
        var hours   = Math.floor(sec_num / 3600);
        var minutes = Math.floor((sec_num - (hours * 3600)) / 60);
        var seconds = sec_num - (hours * 3600) - (minutes * 60);

        if (hours   < 10) {hours   = "0"+hours;}
        if (minutes < 10) {minutes = "0"+minutes;}
        if (seconds < 10) {seconds = "0"+seconds;}
        return hours+':'+minutes+':'+seconds;
    };

    this.buildTxParams = function (txParams, privateKey) {
        return (new Promise(function (resolve, reject) {
            txParams.from = "0x" + ethereumjs.Util.privateToAddress(privateKey).toString("hex");

            web3.eth.getTransactionCount(txParams.from, function (error, result) {
                if (error) {
                    reject(error);
                } else {
                    txParams.nonce = result;
                    resolve();
                }
            });
        })).then(function () {
            return new Promise(function(resolve, reject) {
                web3.eth.getGasPrice(function (error, result) {
                    if (error) {
                        reject(error);
                    } else {
                        console.log("gas price = " + result);
                        txParams.gasPrice = goblin.util.gasPriceScale(result);
                        resolve();
                    }
                });
            });
        }).then(function () {
            return new Promise(function(resolve, reject) {
                web3.eth.estimateGas(txParams, function (error, result) {
                    if (error) {
                        reject(error);
                        // txParams.gasLimit = new web3.BigNumber(4712388);
                        // resolve();
                    } else {
                        txParams.gasLimit = new web3.BigNumber(result);
                        resolve();
                    }
                });
            });
        });
    };

    var sendTransaction = function (txParams, privateKey) {
        return (new Promise(function (resolve, reject) {
            if (txParams.nonce != undefined) {
                txParams.nonce = web3.toHex(txParams.nonce.toString());
            }

            if (txParams.gasPrice != undefined) {
                txParams.gasPrice = web3.toHex(txParams.gasPrice.toString());
            }

            if (txParams.gasLimit != undefined) {
                txParams.gasLimit = web3.toHex(txParams.gasLimit.mul(2).toString());
            }

            if (txParams.value != undefined) {
                txParams.value = web3.toHex(txParams.value.toString());
            }

            var tx = new ethereumjs.Tx(txParams);
            tx.sign(privateKey);

            web3.eth.sendRawTransaction("0x" + tx.serialize().toString("hex"), function (error, result) {
                if (error) {
                    reject(error);
                } else {
                    resolve(result);
                }
            });
        }));
    };

    this.sendTransaction = sendTransaction;

    var getTransactionReceipt = function (transactionHash, gasLimit) {
        return (new Promise(function (resolve, reject) {
            var callback = function () {
                web3.eth.getTransactionReceipt(transactionHash, function (error, result) {
                    if (error) {
                        if (error.message == "unknown transaction") {
                            setTimeout(callback, 1000);
                            return;
                        }

                        reject(error);
                    } else {
                        if (!result) {
                            setTimeout(callback, 1000);
                            return;
                        }

                        if (new web3.BigNumber(result.gasUsed).eq(gasLimit)) {
                            reject(Error("unknown error"));
                        } else {
                            resolve(transactionHash);
                        }
                    }
                });
            };

            callback();
        }));
    };

    this.getTransactionReceipt = getTransactionReceipt;

    this.sendTransactionAndGetReceipt = function (txParams, privateKey) {
        return sendTransaction(txParams, privateKey).then(function (transactionHash) {
            return getTransactionReceipt(transactionHash, txParams.gasLimit);
        });
    };

    this.makeText = function (args) {
        if (typeof(args) == "string") {
            return args;
        }

        var textID = args[0];
        var formatArgs = Array.prototype.slice.call(args, 1);
        return String.prototype.format.apply(goblin.texts[textID], formatArgs);
    };

    this.padNumber = function (n, p, w) {
        return (p.repeat(w) + n.toString()).slice(-w);
    };

    this.copyToClipboard = function (text) {
        var textToCopy = document.getElementById("text-to-copy");
                textToCopy.textContent = text;
        var copyHelper = document.getElementById("copy-helper");
                copyHelper.style.display = "inherit";
    };
    this.uint256ToHash = function (uint256) {
        var hash = web3.toHex(uint256);
        hash = hash.substring(0, 2) + "0".repeat(66 - hash.length) + hash.substring(2);
        return hash;
    };
    this.uint256ToAddress = function (uint256) {
        var addr = web3.toHex(uint256);
        addr = addr.substring(0, 2) + "0".repeat(42 - addr.length) + addr.substring(2);
        return addr;
    };
    this.drawQRCode = function (text, image) {
        var qrCode = new QRCode(
            Laya.Browser.document.createElement("div"),
            {
                width: image.width,
                height: image.height,
            }
        );
        qrCode.makeCode(text);
        var intervalID = setInterval(function () {
            var data = qrCode._oDrawing._elImage.src;
            if (!data) return;
            clearInterval(intervalID);
            image.loadImage(data);
        }.bind(this), 100);
    };
    this.displayTransactionError = function (error, parent) {
        switch (error.message) {
            case "replacement transaction underpriced":
                parent.addChild(new goblin.misc.Tips(goblin.texts[1045]));
                break;
            case "insufficient funds for gas * price + value":
                parent.addChild(new goblin.misc.Tips(goblin.texts[1124]));
                break;
            case "unknown error":
            case "gas required exceeds allowance or always failing transaction":
                parent.addChild(new goblin.misc.Tips(goblin.texts[1125]));
                break;
            default:
                alert("Error: " + error.message);
        }
    };
})();

(function () {
    "use strict";

    var Handler = laya.utils.Handler;
    var Event = laya.events.Event;

    function Loading(message) {
        Loading.super(this);
        this.on(Event.CLICK, this, function () {});

        this.Message.text = message;
    }

    function Tips(message, callback) {
        Tips.super(this);
        this.on(Event.CLICK, this, function () {});

        this.Message.text = message;

        this.BtnOk.on(Event.CLICK, this, function () {
            this.destroy();
            if (callback) callback();
        });
    }

    function Confirm(message, callback) {
        Tips.super(this);
        this.on(Event.CLICK, this, function () {});

        this.Message.text = message;

        this.BtnOk.on(Event.CLICK, this, function () {
            this.destroy();
            if (callback) callback();
        });
        this.BtnNo.on(Event.CLICK, this, function () {
            this.destroy();
        });
    }

    Laya.class(Loading, "Loading", loadingUI);
    Laya.class(Tips, "Tips", tipsUI);
    Laya.class(Confirm, "Confirm", confirmUI);

    goblin.misc = {
        Loading: Loading,
        Tips: Tips,
        Confirm: Confirm,
    };
})();
if (typeof __GAME_ENTRY__ !== "undefined") goblin.kuaisan = new (function () {
    "use strict";

    var CODE_2_NUMBER = [
        111, 112, 113, 114, 115, 116, 122, 123, 124, 125,
        126, 133, 134, 135, 136, 144, 145, 146, 155, 156,
        166, 222, 223, 224, 225, 226, 233, 234, 235, 236,
        244, 245, 246, 255, 256, 266, 333, 334, 335, 336,
        344, 345, 346, 355, 356, 366, 444, 445, 446, 455,
        456, 466, 555, 556, 566, 666
    ];

    var NUMBER_2_CODE = (function () {
        var number_2_code = {};

        for (var code = 0; code < CODE_2_NUMBER.length; ++code) {
            var number = CODE_2_NUMBER[code];
            number_2_code[number] = code;
        }

        return number_2_code;
    })();

    var CODE_2_WEIGHT = [
        1, 3, 3, 3, 3, 3, 3, 6, 6, 6,
        6, 3, 6, 6, 6, 3, 6, 6, 3, 6,
        3, 1, 3, 3, 3, 3, 3, 6, 6, 6,
        3, 6, 6, 3, 6, 3, 1, 3, 3, 3,
        3, 6, 6, 3, 6, 3, 1, 3, 3, 3,
        6, 3, 1, 3, 3, 1
    ];

    var NO_CODE = 255; // end of ticket

    var make_number = function (x, y, z) {
        if (y < x) { var t = x; x = y; y = t; }
        if (z < x) { var t = x; x = z; z = t; }
        if (z < y) { var t = y; y = z; z = t; }
        var number = x * 100 + y * 10 + z;
        return number;
    };

    var make_numbers = function (x, y) {
        var z;
        var numbers = [];

        if (y == undefined) {
            for (y = 1; y < x; ++y) {
                for (z = y; z < x; ++z) {
                    var number = y * 100 + z * 10 + x;
                    numbers.push(number);
                }
            }

            for (y = 1; y < x; ++y) {
                for (z = x; z < 7; ++z) {
                    var number = y * 100 + x * 10 + z;
                    numbers.push(number);
                }
            }

            for (y = x; y < 7; ++y) {
                for (z = y; z < 7; ++z) {
                    var number = x * 100 + y * 10 + z;
                    numbers.push(number);
                }
            }
        } else {
            if (y < x) { var t = x; x = y; y = t; }

            for (z = 1; z < x; ++z) {
                var number = z * 100 + x * 10 + y;
                numbers.push(number);
            }

            for (z = x; z < y; ++z) {
                var number = x * 100 + z * 10 + y;
                numbers.push(number);
            }

            for (z = y; z < 7; ++z) {
                var number = x * 100 + y * 10 + z;
                numbers.push(number);
            }
        }

        return numbers;
    };

    // 和值
    // @hezhis: 指定和值
    var hezhi = function (hezhis) {
        var tickets = [];

        for (var i = 0; i < hezhis.length; ++i) {
            var hezhi_ = hezhis[i];
            var ticket = [];

            for (var x = 1; x < 7; ++x) {
                for (var y = x; y < 7; ++y) {
                    for (var z = y; z < 7; ++z) {
                        if (x + y + z == hezhi_) {
                            var number = x * 100 + y * 10 + z;
                            ticket.push(number);
                        }
                    }
                }
            }

            tickets.push(ticket);
        }

        return tickets
    };

    // 三同号通选
    var santonghaotongxuan = function () {
        return [[111, 222, 333, 444, 555, 666]];
    };

    // 三同号单选
    // @tonghaos: 指定同号
    var santonghaodanxuan = function (tonghaos) {
        var tickets = [];
        
        for (var i = 0; i < tonghaos.length; ++i) {
            var tonghao = tonghaos[i];
            tickets.push([make_number(tonghao, tonghao, tonghao)]);
        }

        return tickets;
    };

    // 二同号复选
    // @tonghaos: 指定同号
    var ertonghaofuxuan = function (tonghaos) {
        var tickets = [];

        for (var i = 0; i < tonghaos.length; ++i) {
            var tonghao = tonghaos[i];
            tickets.push(make_numbers(tonghao, tonghao));
        }

        return tickets;
    };

    // 二同号单选
    // @tonghaos: 指定同号
    // @butonghaos: 指定不同号
    var ertonghaodanxuan = function (tonghaos, butonghaos) {
        var tickets = [];

        for (var i = 0; i < tonghaos.length; ++i) {
            var tonghao = tonghaos[i];

            for (var j = 0; j < butonghaos.length; ++j) {
                var butonghao = butonghaos[j];
                tickets.push([make_number(tonghao, tonghao, butonghao)]);
            }
        }

        return tickets;
    };

    // 三不同号
    // @butonghaos: 指定不同号
    // @dans: 定胆（undefined为不定胆）
    var sanbutonghao = function (butonghaos, dans) {
        var tickets = [];

        for (var i = 0; i < butonghaos.length - 2; ++i) {
            for (var j = i + 1; j < butonghaos.length - 1; ++j) {
                for (var k = j + 1; k < butonghaos.length; ++k) {
                    var x = butonghaos[i];
                    var y = butonghaos[j];
                    var z = butonghaos[k];

                    if (dans != undefined) {
                        var skip = false;

                        for (var l = 0; l < dans.length; ++l) {
                            var dan = dans[l];

                            if (dan != x && dan != y && dan != z) {
                                skip = true;
                                break;
                            }
                        }

                        if (skip) {
                            continue;
                        }
                    }

                    tickets.push([make_number(x, y, z)]);
                }
            }
        }

        return tickets;
    };

    // 二不同号
    // @butonghaos: 指定不同号
    // @dans: 定胆（undefined为不定胆）
    var erbutonghao = function (butonghaos, dans) {
        var tickets = [];

        for (var i = 0; i < butonghaos.length - 1; ++i) {
            for (var j = i + 1; j < butonghaos.length; ++j) {
                var x = butonghaos[i];
                var y = butonghaos[j];

                if (dans != undefined) {
                    var skip = false;

                    for (var l = 0; l < dans.length; ++l) {
                        var dan = dans[l];

                        if (dan != x && dan != y) {
                            skip = true;
                            break;
                        }
                    }

                    if (skip) {
                        continue;
                    }
                }

                tickets.push(make_numbers(x, y));
            }
        }

        return tickets;
    };

    // 三连号通选
    var sanlianhaotongxuan = function() {
        return [[123, 234, 345, 456]];
    };

    // 任意选号
    // @xuanhao: 指定选号
    var renyixuanhao = function (xuanhao) {
        return [make_numbers(xuanhao)];
    };

    var fix_ticket_counts = function (number_of_tickets, ticket_counts) {
        var default_ticket_count;

        if (ticket_counts == undefined) {
            default_ticket_count = 1;
            ticket_counts = [];
        } else {
            if (typeof(ticket_counts) == "number") {
                default_ticket_count = ticket_counts;
                ticket_counts = [];
            } else {
                default_ticket_count = 1;
            }
        }

        for (var i = ticket_counts.length; i < number_of_tickets; ++i) {
            ticket_counts.push(default_ticket_count);
        }

        return ticket_counts;
    }

    var dump_ticket_bundle = function (tickets, ticket_counts) {
        ticket_counts = fix_ticket_counts(tickets.length, ticket_counts);

        var raw_ticket_bundle = [];

        for (var i = 0; i < tickets.length; ++i) {
            var ticket_count = ticket_counts[i];
            raw_ticket_bundle.push(ticket_count)
            var ticket = tickets[i];

            for (var j = 0; j < ticket.length; ++j) {
                var number = ticket[j];
                var code = NUMBER_2_CODE[number];
                raw_ticket_bundle.push(code);
            }

            raw_ticket_bundle.push(NO_CODE);
        }

        return raw_ticket_bundle;
    };

    var load_ticket_bundle = function (raw_ticket_bundle) {
        var tickets = [];
        var ticket_counts = [];
        var ticket;

        for (var i = 0, j = 0; j < raw_ticket_bundle.length; ++j) {
            var code = raw_ticket_bundle[j];

            if (code == NO_CODE) {
                tickets.push(ticket);
                i = j + 1;
            } else {
                if (j == i) {
                    ticket_counts.push(code);
                    ticket = [];
                } else {
                    var number = CODE_2_NUMBER[code];
                    ticket.push(number);
                }
            }
        }

        return [tickets, ticket_counts];
    };

    var calculate_input = function (ticket_price, number_of_tickets, ticket_counts) {
        ticket_counts = fix_ticket_counts(number_of_tickets, ticket_counts);
        var input = 0;

        for (var i = 0; i < ticket_counts.length; ++i) {
            var ticket_count = ticket_counts[i];
            input += ticket_count * ticket_price;
        }

        return input;
    };

    var calculate_output = function (ticket_price, odds, tickets, ticket_counts) {
        ticket_counts = fix_ticket_counts(tickets.length, ticket_counts);
        var code_2_output = {};

        for (var i = 0; i < tickets.length; ++i) {
            var ticket_count = ticket_counts[i];
            var ticket = tickets[i];
            var codes = [];
            var code_count = 0;

            for (var j = 0; j < ticket.length; ++j) {
                var number = ticket[j];
                var code = NUMBER_2_CODE[number];
                var code_weight = CODE_2_WEIGHT[code];
                codes.push(code);
                code_count += code_weight;
            }

            var output = (ticket_count * ticket_price * odds) / code_count;

            for (var j = 0; j < codes.length; ++j) {
                var code = codes[j];

                if (code_2_output[code] == undefined) {
                    code_2_output[code] = output;
                } else {
                    code_2_output[code] += output;
                }
            }
        }

        var output_min = Number.MAX_VALUE;
        var output_max = Number.MIN_VALUE;

        for (var code in code_2_output) {
            var output = code_2_output[code];

            if (output < output_min) {
                output_min = output;
            }

            if (output > output_max) {
                output_max = output;
            }
        }

        return [output_min, output_max];
    };

    this.NO_CODE = NO_CODE;

    this.hezhi = hezhi;
    this.santonghaotongxuan = santonghaotongxuan;
    this.santonghaodanxuan = santonghaodanxuan;
    this.ertonghaofuxuan = ertonghaofuxuan;
    this.ertonghaodanxuan = ertonghaodanxuan;
    this.sanbutonghao = sanbutonghao;
    this.erbutonghao = erbutonghao;
    this.sanlianhaotongxuan = sanlianhaotongxuan;
    this.renyixuanhao = renyixuanhao;

    this.dump_ticket_bundle = dump_ticket_bundle;
    this.load_ticket_bundle = load_ticket_bundle;
    this.calculate_input = calculate_input;
    this.calculate_output = calculate_output;

    this.code_2_number = function (code) { return CODE_2_NUMBER[code]; };
    this.code_2_weight = function (code) { return CODE_2_WEIGHT[code]; };
    this.number_2_code = function (number) { return NUMBER_2_CODE[number]; };
})();

if (typeof __GAME_ENTRY__ !== "undefined") (function () {
    "use strict";

    var KEY_HEZHI = "hezhi";
    var KEY_SANTONGHAODANXUAN = "santonghaodanxuan";
    var KEY_SANTONGHAOTONGXUAN = "santonghaotongxuan";
    var KEY_ERTONGHAOFUXUAN = "ertonghaofuxuan";
    var KEY_ERTONGHAODANXUAN = "ertonghaodanxuan";
    var KEY_SANBUTONGHAO = "sanbutonghao";
    var KEY_SANBUTONGHAODANTUO = "sanbutonghaodantuo";
    var KEY_SANLIANHAOTONGXUAN = "sanlianhaotongxuan";
    var KEY_ERBUTONGHAO = "erbutonghao";
    var KEY_ERBUTONGHAODANTUO = "erbutongdantuo";

    var makeOnEvent = function () {
        return {
            [KEY_HEZHI]: [],
            [KEY_SANTONGHAODANXUAN]: [],
            [KEY_SANTONGHAOTONGXUAN]: [],
            [KEY_ERTONGHAOFUXUAN]: [],
            [KEY_ERTONGHAODANXUAN]: [],
            [KEY_SANBUTONGHAO]: [],
            [KEY_SANBUTONGHAODANTUO]: [],
            [KEY_SANLIANHAOTONGXUAN]: [],
            [KEY_ERBUTONGHAO]: [],
            [KEY_ERBUTONGHAODANTUO]: [],
        };
    };

    var scheduleCallbacks = function (callbacks, args) {
        for (var i = 0; i < callbacks.length; ++i) {
            var callback = callbacks[i];
            callback.apply(this, args);
        }
    };

    goblin.KuaisanCart = function (ticketPrice) {
        this._list = null;
        this._key2Obj = {};
        this._onRemove = makeOnEvent();
        this._onCheck = makeOnEvent();
        this._onUpdate = makeOnEvent();
        this._ticketPrice = ticketPrice;
    };

    goblin.KuaisanCart.prototype.bindList = function (list) {
        this._list = list;
    };

    goblin.KuaisanCart.prototype.setHezhi = function (hezhis) {
        var newObj;

        if (hezhis == undefined) {
            newObj = undefined;
        } else {
            var tickets = goblin.kuaisan.hezhi(hezhis);
            newObj = {_key: KEY_HEZHI, _tickets: tickets, Numbers: hezhis.join(","), Type: goblin.texts[1006], _rawType: [1006]
                      , Hands: tickets.length.toString() + goblin.texts[1005], Price: (tickets.length * this._ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName };
        }

        this._setKey(KEY_HEZHI, newObj);
    };

    goblin.KuaisanCart.prototype.onHezhiRemove = function (callback) {
        this._onRemove[KEY_HEZHI].push(callback);
    }

    goblin.KuaisanCart.prototype.onHezhiCheck = function (callback) {
        this._onCheck[KEY_HEZHI].push(callback);
    }

    goblin.KuaisanCart.prototype.onHezhiUpdate = function (callback) {
        this._onUpdate[KEY_HEZHI].push(callback);
    }

    goblin.KuaisanCart.prototype.setSantonghaodanxuan = function (tonghaos) {
        var newObj;

        if (tonghaos == undefined) {
            newObj = undefined;
        } else {
            var tickets = goblin.kuaisan.santonghaodanxuan(tonghaos);
            newObj = {_key: KEY_SANTONGHAODANXUAN, _tickets: tickets, Numbers: tickets.join(","), Type: goblin.texts[1007], _rawType: [1007]
                      , Hands: tickets.length.toString() + goblin.texts[1005], Price: (tickets.length * this._ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName };
        }

        this._setKey(KEY_SANTONGHAODANXUAN, newObj);
    };

    goblin.KuaisanCart.prototype.onSantonghaodanxuanRemove = function (callback) {
        this._onRemove[KEY_SANTONGHAODANXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.onSantonghaodanxuanCheck = function (callback) {
        this._onCheck[KEY_SANTONGHAODANXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.onSantonghaodanxuanUpdate = function (callback) {
        this._onUpdate[KEY_SANTONGHAODANXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.setSantonghaotongxuan = function (onOff) {
        var newObj;

        if (!onOff) {
            newObj = undefined;
        } else {
            var tickets = goblin.kuaisan.santonghaotongxuan();
            newObj = {_key: KEY_SANTONGHAOTONGXUAN, _tickets: tickets, Numbers: tickets.join(","), Type: goblin.texts[1008], _rawType: [1008]
                      , Hands: tickets.length.toString() + goblin.texts[1005], Price: (tickets.length * this._ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName };
        }

        this._setKey(KEY_SANTONGHAOTONGXUAN, newObj);
    };

    goblin.KuaisanCart.prototype.onSantonghaotongxuanRemove = function (callback) {
        this._onRemove[KEY_SANTONGHAOTONGXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.onSantonghaotongxuanCheck = function (callback) {
        this._onCheck[KEY_SANTONGHAOTONGXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.onSantonghaotongxuanUpdate = function (callback) {
        this._onUpdate[KEY_SANTONGHAOTONGXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.setErtonghaofuxuan = function (tonghaos) {
        var newObj;

        if (tonghaos == undefined) {
            newObj = undefined;
        } else {
            var tickets = goblin.kuaisan.ertonghaofuxuan(tonghaos);
            var temp = [];

            for (var i = 0; i < tonghaos.length; ++i) {
                temp.push((tonghaos[i] * 11).toString() + "*");
            }

            newObj = {_key: KEY_ERTONGHAOFUXUAN, _tickets: tickets, Numbers: temp.join(","), Type: goblin.texts[1009], _rawType: [1009]
                      , Hands: tickets.length.toString() + goblin.texts[1005], Price: (tickets.length * this._ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName };
        }

        this._setKey(KEY_ERTONGHAOFUXUAN, newObj);
    };

    goblin.KuaisanCart.prototype.onErtonghaofuxuanRemove = function (callback) {
        this._onRemove[KEY_ERTONGHAOFUXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.onErtonghaofuxuanCheck = function (callback) {
        this._onCheck[KEY_ERTONGHAOFUXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.onErtonghaofuxuanUpdate = function (callback) {
        this._onUpdate[KEY_ERTONGHAOFUXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.setErtonghaodanxuan = function (tonghaos, butonghaos) {
        var newObj;

        if (tonghaos == undefined || butonghaos == undefined) {
            newObj = undefined;
        } else {
            var tickets = goblin.kuaisan.ertonghaodanxuan(tonghaos, butonghaos);
            newObj = {_key: KEY_ERTONGHAODANXUAN, _tickets: tickets, Numbers: tickets.join(","), Type: goblin.texts[1010], _rawType: [1010]
                      , Hands: tickets.length.toString() + goblin.texts[1005], Price: (tickets.length * this._ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName };
        }

        this._setKey(KEY_ERTONGHAODANXUAN, newObj);
    };

    goblin.KuaisanCart.prototype.onErtonghaodanxuanRemove = function (callback) {
        this._onRemove[KEY_ERTONGHAODANXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.onErtonghaodanxuanCheck = function (callback) {
        this._onCheck[KEY_ERTONGHAODANXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.onErtonghaodanxuanUpdate = function (callback) {
        this._onUpdate[KEY_ERTONGHAODANXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.setSanbutonghao = function (butonghaos) {
        var newObj;

        if (butonghaos == undefined) {
            newObj = undefined;
        } else {
            var tickets = goblin.kuaisan.sanbutonghao(butonghaos);
            newObj = {_key: KEY_SANBUTONGHAO, _tickets: tickets, Numbers: tickets.join(","), Type: goblin.texts[1011], _rawType: [1011]
                      , Hands: tickets.length.toString() + goblin.texts[1005], Price: (tickets.length * this._ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName };
        }

        this._setKey(KEY_SANBUTONGHAO, newObj);
    };

    goblin.KuaisanCart.prototype.onSanbutonghaoRemove = function (callback) {
        this._onRemove[KEY_SANBUTONGHAO].push(callback);
    }

    goblin.KuaisanCart.prototype.onSanbutonghaoCheck = function (callback) {
        this._onCheck[KEY_SANBUTONGHAO].push(callback);
    }

    goblin.KuaisanCart.prototype.onSanbutonghaoUpdate = function (callback) {
        this._onUpdate[KEY_SANBUTONGHAO].push(callback);
    }

    goblin.KuaisanCart.prototype.setSanbutonghaodantuo = function (butonghaos, dans) {
        var newObj;

        if (butonghaos == undefined) {
            newObj = undefined;
        } else {
            var tickets = goblin.kuaisan.sanbutonghao(butonghaos, dans);
            newObj = {_key: KEY_SANBUTONGHAODANTUO, _tickets: tickets, Numbers: tickets.join(","), Type: goblin.texts[1012], _rawType: [1012]
                      , Hands: tickets.length.toString() + goblin.texts[1005], Price: (tickets.length * this._ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName };
        }

        this._setKey(KEY_SANBUTONGHAODANTUO, newObj);
    };

    goblin.KuaisanCart.prototype.onSanbutonghaodantuoRemove = function (callback) {
        this._onRemove[KEY_SANBUTONGHAODANTUO].push(callback);
    }

    goblin.KuaisanCart.prototype.onSanbutonghaodantuoCheck = function (callback) {
        this._onCheck[KEY_SANBUTONGHAODANTUO].push(callback);
    }

    goblin.KuaisanCart.prototype.onSanbutonghaodantuoUpdate = function (callback) {
        this._onUpdate[KEY_SANBUTONGHAODANTUO].push(callback);
    }

    goblin.KuaisanCart.prototype.setSanlianhaotongxuan = function (onOff) {
        var newObj;

        if (!onOff) {
            newObj = undefined;
        } else {
            var tickets = goblin.kuaisan.sanlianhaotongxuan();
            newObj = {_key: KEY_SANLIANHAOTONGXUAN, _tickets: tickets, Numbers: tickets.join(","), Type: goblin.texts[1013], _rawType: [1013]
                      , Hands: tickets.length.toString() + goblin.texts[1005], Price: (tickets.length * this._ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName };
        }

        this._setKey(KEY_SANLIANHAOTONGXUAN, newObj);
    };

    goblin.KuaisanCart.prototype.onSanlianhaotongxuanRemove = function (callback) {
        this._onRemove[KEY_SANLIANHAOTONGXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.onSanlianhaotongxuanCheck = function (callback) {
        this._onCheck[KEY_SANLIANHAOTONGXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.onSanlianhaotongxuanUpdate = function (callback) {
        this._onUpdate[KEY_SANLIANHAOTONGXUAN].push(callback);
    }

    goblin.KuaisanCart.prototype.setErbutonghao = function (butonghaos) {
        var newObj;

        if (butonghaos == undefined) {
            newObj = undefined;
        } else {
            var tickets = goblin.kuaisan.erbutonghao(butonghaos);
            var temp = [];

            for (var i = 0; i < butonghaos.length; ++i) {
                for (var j = i + 1; j < butonghaos.length; ++j) {
                    var ns = [butonghaos[i], butonghaos[j]].sort();
                    temp.push(ns.join("") + "*");
                }
            }
            newObj = {_key: KEY_ERBUTONGHAO, _tickets: tickets, Numbers: temp.join(","), Type: goblin.texts[1014], _rawType: [1014]
                      , Hands: tickets.length.toString() + goblin.texts[1005], Price: (tickets.length * this._ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName };
        }

        this._setKey(KEY_ERBUTONGHAO, newObj);
    };

    goblin.KuaisanCart.prototype.onErbutonghaoRemove = function (callback) {
        this._onRemove[KEY_ERBUTONGHAO].push(callback);
    }

    goblin.KuaisanCart.prototype.onErbutonghaoCheck = function (callback) {
        this._onCheck[KEY_ERBUTONGHAO].push(callback);
    }

    goblin.KuaisanCart.prototype.onErbutonghaoUpdate = function (callback) {
        this._onUpdate[KEY_ERBUTONGHAO].push(callback);
    }

    goblin.KuaisanCart.prototype.setErbutonghaodantuo = function (butonghaos, dan) {
        var newObj;

        if (butonghaos == undefined) {
            newObj = undefined;
        } else {
            var tickets = goblin.kuaisan.erbutonghao(butonghaos, [dan]);
            var temp = [];

            for (var i = 0; i < butonghaos.length; ++i) {
                for (var j = i + 1; j < butonghaos.length; ++j) {
                    var ns = [butonghaos[i], butonghaos[j]].sort();

                    if (ns.indexOf(dan) < 0) {
                        continue;
                    }

                    temp.push(ns.join("") + "*");
                }
            }

            newObj = {_key: KEY_ERBUTONGHAODANTUO, _tickets: tickets, Numbers: temp.join(","), Type: goblin.texts[1015], _rawType: [1015]
                      , Hands: tickets.length.toString() + goblin.texts[1005], Price: (tickets.length * this._ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName };
        }

        this._setKey(KEY_ERBUTONGHAODANTUO, newObj);
    };

    goblin.KuaisanCart.prototype.onErbutonghaodantuoRemove = function (callback) {
        this._onRemove[KEY_ERBUTONGHAODANTUO].push(callback);
    }

    goblin.KuaisanCart.prototype.onErbutonghaodantuoCheck = function (callback) {
        this._onCheck[KEY_ERBUTONGHAODANTUO].push(callback);
    }

    goblin.KuaisanCart.prototype.onErbutonghaodantuoUpdate = function (callback) {
        this._onUpdate[KEY_ERBUTONGHAODANTUO].push(callback);
    }

    goblin.KuaisanCart.prototype._setKey = function (key, newObj) {
        var arr = this._list.array;
        var oldObj = this._key2Obj[key];
        var refresh = false;

        if (newObj == undefined) {
            if (oldObj != undefined) {
                var i = arr.indexOf(oldObj);
                arr.splice(i, 1);
                delete this._key2Obj[key];
                refresh = true;
            }
        } else {
            if (oldObj == undefined) {
                arr.push(newObj);
            } else {
                var i = arr.indexOf(oldObj);
                arr[i] = newObj;
            }

            this._key2Obj[key] = newObj;
            refresh = true;
        }

        if (refresh) {
            this._list.array = arr;
            scheduleCallbacks(this._onUpdate[key], [oldObj, newObj]);
        }
    };

    goblin.KuaisanCart.prototype.removeByIndex = function (index) {
        var arr = this._list.array;
        var obj = arr[index];
        scheduleCallbacks(this._onRemove[obj._key]);
    };

    goblin.KuaisanCart.prototype.empty = function () {
        for (var n = this._list.array.length; n >= 1; --n) {
            this.removeByIndex(0);
        }
    };

    goblin.KuaisanCart.prototype.checkByIndex = function (index) {
        var arr = this._list.array;
        var obj = arr[index];
        scheduleCallbacks(this._onCheck[obj._key]);
    };
})();
if (typeof __GAME_ENTRY__ !== "undefined") (function () {
    "use strict";

    var Handler = laya.utils.Handler;
    var Event = laya.events.Event;

    function newGameMain(parent, callback) {
        var loading = new goblin.misc.Loading(goblin.texts[1001]);
        parent.addChild(loading);

        getData(function (error, result) {
            parent.removeChild(loading);

            if (error) {
                throw error;
            }

            var gameMain = new GameMain(result);
            parent.addChild(gameMain);
            callback(gameMain);
        });
    }

    function GameMain(data) {
        GameMain.super(this);
        var gameMain = this;

        var odds = data.odds.toNumber();
        var ticketPrice = Number(web3.fromWei(data.ticket_price, "ether"));
        var maxTotalTicketCount = Number(data.max_total_ticket_count);

        function OrderList() {
            OrderList.super(this);

            this.OrderList.vScrollBarSkin = "";

            this.BtnBack.on(Event.CLICK, this, function () {
                this.parent.removeChild(this);
            });

            this.BtnClear.on(Event.CLICK, this, function () {
                this.parent.addChild(new goblin.misc.Confirm(goblin.texts[1126], cart.empty.bind(cart)));
            });

            this.BtnRandom.on(Event.CLICK, this, function () {
                gameMain.user_random();
            });

            this.BtnRate.on(Event.CLICK, this, function () {
                this.RateList.visible = true;
            });

            this.BtnHideRateList.on(Event.CLICK, this, function () {
                this.RateList.visible = false;
            });

            this.BtnRate50.on(Event.CLICK, this, function () {
                this.RateList.visible = false;
                changeFactor(50 - factor);
            });

            this.BtnRate20.on(Event.CLICK, this, function () {
                this.RateList.visible = false;
                changeFactor(20 - factor);
            });

            this.BtnRate10.on(Event.CLICK, this, function () {
                this.RateList.visible = false;
                changeFactor(10 - factor);
            });

            var pay = function() {
                var arr = this.OrderList.array;
                var tickets = [];
                for (var i = 0; i < arr.length; ++i) {
                    Array.prototype.push.apply(tickets, arr[i]._tickets);
                }
                var raw_ticket_bundle = goblin.kuaisan.dump_ticket_bundle(tickets, factor);
                var roundNumber = getCurRoundCount();
                if (getTimeout() <= 0) {
                    ++roundNumber;
                }
                var txParams = {
                    to: contract.address,
                    value: data.ticket_price.mul(tickets.length * factor),
                    data: contract.buy_tickets.getData(
                        "0x" + ethereumjs.Buffer.Buffer.from(raw_ticket_bundle).toString("hex"),
                        roundNumber
                    )
                };
                var loading = new goblin.misc.Loading(goblin.texts[1016]);
                this.parent.addChild(loading);
                goblin.util.buildTxParams(txParams, goblin.privateKey).then(function () {
                    console.info("total value: ", web3.fromWei(txParams.value.toString(), "ether"));
                    console.info("total fee: ", web3.fromWei(txParams.gasLimit.mul(txParams.gasPrice).toString(), "ether"));
                    return goblin.util.sendTransaction(txParams, goblin.privateKey);
                }).then(function (result) {
                    goblin.addPendingKuaisanRecords(
                        result,
                        txParams.gasLimit,
                        roundNumber, this.OrderList, ticketPrice, odds, factor
                    );
                    this.parent.removeChild(loading);
                    this.parent.addChild(new goblin.misc.Tips(goblin.texts[1017], function () {
                        cart.empty();
                        this.parent.removeChild(this);
                    }.bind(this)));
                }.bind(this)).catch(function (error) {
                    this.parent.removeChild(loading);
                    goblin.util.displayTransactionError(error, this.parent);
                }.bind(this));
            }.bind(this);

            this.BtnPay.on(Event.CLICK, this, function () {
                contract.get_round_count(function (error, result) {
                    if (error) throw error;
                    if (result.toNumber() != getCurRoundCount()) {
                        this.parent.addChild(new goblin.misc.Tips(goblin.texts[1049], function () {
                            destroy();
                        }));
                    } else {
                        pay();
                    }
                }.bind(this));
            });

            this.OrderList.array = [];

            var OnBtnDeleteClick = function (index) {
                cart.removeByIndex(index);
            };

            var OnBtnCheckClick = function (index) {
                cart.checkByIndex(index);
            };

            this.OrderList.renderHandler = new Handler(this, function (item, index) {
                var btnDelete = item.getChildByName("BtnDelete");
                btnDelete.on(Event.CLICK, this, OnBtnDeleteClick, [index]);
                var btnCheck = item.getChildByName("BtnCheck");
                btnCheck.on(Event.CLICK, this, OnBtnCheckClick, [index]);
            });

            cart.bindList(this.OrderList);

            var count = 0;

            var changeCount = function (delta) {
                count += delta;
                if (count * factor > maxTotalTicketCount) {
                    var newFactor = Math.floor(maxTotalTicketCount / count);
                    changeFactor(newFactor - factor);
                    if (delta == 0)
                        this.parent.addChild(new goblin.misc.Tips(goblin.texts[1056].format(maxTotalTicketCount)));
                }
                var c = count * factor;
                this.BetTxt.text = goblin.texts[1018].format(c, (c * ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName);
                this.BtnPay.disabled = c == 0;
            }.bind(this);

            var onUpdate = function (oldObj, newObj) {
                if (oldObj == undefined) {
                    changeCount(newObj._tickets.length);
                } else if (newObj == undefined) {
                    changeCount(-oldObj._tickets.length);
                } else {
                    changeCount(newObj._tickets.length - oldObj._tickets.length);
                }
            }.bind(this);

            cart.onHezhiUpdate(onUpdate);
            cart.onSantonghaodanxuanUpdate(onUpdate);
            cart.onSantonghaotongxuanUpdate(onUpdate);
            cart.onErtonghaodanxuanUpdate(onUpdate);
            cart.onErtonghaofuxuanUpdate(onUpdate);
            cart.onSanlianhaotongxuanUpdate(onUpdate);
            cart.onSanbutonghaoUpdate(onUpdate);
            cart.onSanbutonghaodantuoUpdate(onUpdate);
            cart.onErbutonghaoUpdate(onUpdate);
            cart.onErbutonghaodantuoUpdate(onUpdate);

            var factor = 1;

            var changeFactor = function (delta) {
                var newFactor = factor + delta;

                if (newFactor < 1) {
                    return;
                }

                factor += delta;
                this.RateTxt.text = factor.toString() + goblin.texts[1019];
                changeCount(0);
            }.bind(this);

            this.BtnAdd.on(Event.CLICK, this, function () {
                changeFactor(1);
            });

            this.BtnDec.on(Event.CLICK, this, function () {
                changeFactor(-1);
            });

            changeCount(0);
            changeFactor(0);
        }

        function BetSum() {
            BetSum.super(this);

            var rate = [1, 3, 6, 10, 15, 21, 25, 27, 27, 25, 21, 15, 10, 6, 3, 1];

            for (var i = 0; i < rate.length; ++i) {
                var j = i + 3;
                this['Bonus_' + j.toString()].text = (odds / rate[i]).toFixed(goblin.valuePrecision) + goblin.texts[1019];
            }

            var updateCart = function () {
                var hezhis = [];

                for (var j = 3; j < 19; ++j) {
                    if (this['Bet_' + j.toString()].selected) {
                        hezhis.push(j);
                    }
                }

                if (hezhis.length == 0) {
                    cart.setHezhi();
                } else {
                    cart.setHezhi(hezhis);
                }
            }.bind(this);

            var clearBetAll = function () {
                this.BetAll_Small.selected = false;
                this.BetAll_Big.selected = false;
                this.BetAll_Even.selected = false;
                this.BetAll_Singular.selected = false;
                updateCart();
            }.bind(this);

            var setBetAll = function (betAll) {
                if (betAll == "Big") {
                    this.BetAll_Small.selected = false;
                } else if (betAll == "Small") {
                    this.BetAll_Big.selected = false;
                } else if (betAll == "Singular") {
                    this.BetAll_Even.selected = false;
                } else if (betAll == "Even") {
                    this.BetAll_Singular.selected = false;
                }

                for (var j = 3; j < 19; ++j) {
                    var f = true;
                    var c = 0;
                    if (this.BetAll_Small.selected) {
                        f = f && j <= 10;
                        ++c;
                    } else if (this.BetAll_Big.selected) {
                        f = f && j >= 11;
                        ++c;
                    }
                    if (this.BetAll_Even.selected) {
                        f = f && j % 2 == 0;
                        ++c;
                    } else if (this.BetAll_Singular.selected) {
                        f = f && j % 2 == 1;
                        ++c;
                    }
                    this['Bet_' + j.toString()].selected = f && c >= 1;
                }

                updateCart();
            }.bind(this);

            this.BetAll_Big.on(Event.CLICK, this, function () {
                if (!this.BetAll_Big.selected) {
                    setBetAll();
                } else {
                    setBetAll('Big');
                }
            });

            this.BetAll_Small.on(Event.CLICK, this, function () {
                if (!this.BetAll_Small.selected) {
                    setBetAll();
                } else {
                    setBetAll('Small');
                }
            });

            this.BetAll_Singular.on(Event.CLICK, this, function () {
                if (!this.BetAll_Singular.selected) {
                    setBetAll();
                } else {
                    setBetAll('Singular');
                }
            });

            this.BetAll_Even.on(Event.CLICK, this, function () {
                if (!this.BetAll_Even.selected) {
                    setBetAll();
                } else {
                    setBetAll('Even');
                }
            });

            for (var j = 3; j < 19; ++j) {
                this['Bet_' + j.toString()].on(Event.CLICK, this, function () {
                    clearBetAll();
                });
            }

            var onRemove = function () {
                for (var j = 3; j < 19; ++j) {
                    this['Bet_' + j.toString()].selected = false;
                }
                clearBetAll();
            }.bind(this);

            cart.onHezhiRemove(onRemove);

            cart.onHezhiCheck(function () {
                setTabUI(this);
                orderList.parent.removeChild(orderList);
            }.bind(this));

            this.user_random = function () {
                var k = goblin.util.randomBetween(3, 19);
                for (var j = 3; j < 19; ++j) {
                    this['Bet_' + j.toString()].selected = j == k;
                }
                clearBetAll();
            };

            var count = 0;

            var onUpdate = function (oldObj, newObj) {
                if (oldObj == undefined) {
                    count += newObj._tickets.length;
                } else if (newObj == undefined) {
                    count -= oldObj._tickets.length;
                } else {
                    count += newObj._tickets.length - oldObj._tickets.length;
                }
                updateTabUI(this);
            }.bind(this);

            cart.onHezhiUpdate(onUpdate);

            this.user_get_count = function () {
                return count;
            };
        }

        function BetSame3() {
            BetSame3.super(this);

            for (var j = 111; j <= 666; j += 111) {
                this['Bonus_' + j.toString()].text = odds.toFixed(goblin.valuePrecision) + goblin.texts[1019];
            }

            this.Bonus_Same.text = (odds / 6).toFixed(goblin.valuePrecision) + goblin.texts[1019];


            var updateCart = function () {
                var tonghaos = [];

                for (var j = 111; j <= 666; j += 111) {
                    if (this['Bet_' + j.toString()].selected) {
                        tonghaos.push(j / 111);
                    }
                }

                if (tonghaos.length == 0) {
                    cart.setSantonghaodanxuan();
                } else {
                    cart.setSantonghaodanxuan(tonghaos);
                }

                cart.setSantonghaotongxuan(this.Bet_Same.selected);
            }.bind(this);

            for (var j = 111; j <= 666; j += 111) {
                this['Bet_' + j.toString()].on(Event.CLICK, this, updateCart);
            }

            cart.onSantonghaodanxuanRemove(function () {
                for (var j = 111; j <= 666; j += 111) {
                    this['Bet_' + j.toString()].selected = false;
                }

                updateCart();
            }.bind(this));

            cart.onSantonghaodanxuanCheck(function () {
                setTabUI(this);
                orderList.parent.removeChild(orderList);
            }.bind(this));

            this.Bet_Same.on(Event.CLICK, this, updateCart);

            cart.onSantonghaotongxuanRemove(function () {
                this.Bet_Same.selected = false;
                updateCart();
            }.bind(this));

            cart.onSantonghaotongxuanCheck(function () {
                setTabUI(this);
                orderList.parent.removeChild(orderList);
            }.bind(this));

            this.user_random = function () {
                var r = goblin.util.randomBetween(1, 6);

                for (var j = 111; j <= 666; j += 111) {
                    this['Bet_' + j.toString()].selected = j == r * 111;
                }

                updateCart();
            };

            var count = 0;

            var onUpdate = function (oldObj, newObj) {
                if (oldObj == undefined) {
                    count += newObj._tickets.length;
                } else if (newObj == undefined) {
                    count -= oldObj._tickets.length;
                } else {
                    count += newObj._tickets.length - oldObj._tickets.length;
                }
                updateTabUI(this);
            }.bind(this);

            cart.onSantonghaodanxuanUpdate(onUpdate);
            cart.onSantonghaotongxuanUpdate(onUpdate);

            this.user_get_count = function () {
                return count;
            };
        }

        function BetSame2() {
            BetSame2.super(this);

            this.Txt1.text += (odds / 3).toFixed(goblin.valuePrecision) + goblin.texts[1019];
            this.Txt2.text += (odds / 16).toFixed(goblin.valuePrecision) + goblin.texts[1019];

            var updateCart = function () {
                var tonghaos = [];

                for (var j = 11; j <= 66; j += 11) {
                    if (this['Bet_Same2_' + j.toString() + 'A'].selected) {
                        tonghaos.push(j / 11);
                    }
                }

                if (tonghaos.length == 0) {
                    cart.setErtonghaofuxuan();
                } else {
                    cart.setErtonghaofuxuan(tonghaos);
                }

                var tonghaos1 = [];
                var butonghaos1 = [];

                for (var j = 11; j <= 66; j += 11) {
                    if (this['Bet_Same2_' + j.toString()].selected) {
                        tonghaos1.push(j / 11);
                    }
                }

                for (var j = 1; j <= 6; j += 1) {
                    if (this['Bet_Same2_' + j.toString()].selected) {
                        butonghaos1.push(j);
                    }
                }

                if (tonghaos1.length * butonghaos1.length == 0) {
                    cart.setErtonghaodanxuan();
                } else {
                    cart.setErtonghaodanxuan(tonghaos1, butonghaos1);
                }
            }.bind(this);

            for (var j = 11; j <= 66; j += 11) {
                this['Bet_Same2_' + j.toString() + 'A'].on(Event.CLICK, this, updateCart);
            }

            cart.onErtonghaofuxuanRemove(function () {
                for (var j = 11; j <= 66; j += 11) {
                    this['Bet_Same2_' + j.toString() + 'A'].selected = false;
                }

                updateCart();
            }.bind(this));

            cart.onErtonghaofuxuanCheck(function () {
                setTabUI(this);
                orderList.parent.removeChild(orderList);
            }.bind(this));

            for (var j = 11; j <= 66; j += 11) {
                this['Bet_Same2_' + j.toString()].on(Event.CLICK, this, function (j) {
                    var k = j / 11;
                    this['Bet_Same2_' + k.toString()].selected = false;
                    updateCart();
                }, [j]);
            }

            for (var j = 1; j <= 6; j += 1) {
                this['Bet_Same2_' + j.toString()].on(Event.CLICK, this, function (j) {
                    var k = j * 11;
                    this['Bet_Same2_' + k.toString()].selected = false;
                    updateCart();
                }, [j]);
            }

            cart.onErtonghaodanxuanRemove(function () {
                for (var j = 11; j <= 66; j += 11) {
                    this['Bet_Same2_' + j.toString()].selected = false;
                }
                for (var j = 1; j <= 6; j += 1) {
                    this['Bet_Same2_' + j.toString()].selected = false;
                }
                updateCart();
            }.bind(this));

            cart.onErtonghaodanxuanCheck(function () {
                setTabUI(this);
                orderList.parent.removeChild(orderList);
            }.bind(this));

            this.user_random = function () {
                var r1 = goblin.util.randomBetween(1, 6);

                for (var j = 11; j <= 66; j += 11) {
                    this['Bet_Same2_' + j.toString()].selected = j == r1 * 11;
                }

                var r2;
                do { r2 = goblin.util.randomBetween(1, 6); } while (r2 == r1);

                for (var j = 1; j <= 6; j += 1) {
                    this['Bet_Same2_' + j.toString()].selected = j == r2;
                }

                updateCart();
            };

            var count = 0;

            var onUpdate = function (oldObj, newObj) {
                if (oldObj == undefined) {
                    count += newObj._tickets.length;
                } else if (newObj == undefined) {
                    count -= oldObj._tickets.length;
                } else {
                    count += newObj._tickets.length - oldObj._tickets.length;
                }
                updateTabUI(this);
            }.bind(this);

            cart.onErtonghaodanxuanUpdate(onUpdate);
            cart.onErtonghaofuxuanUpdate(onUpdate);

            this.user_get_count = function () {
                return count;
            };
        }

        function BetDiff3() {
            BetDiff3.super(this);

            this.Txt1.text += (odds / 6).toFixed(goblin.valuePrecision) + goblin.texts[1019];
            this.Txt2.text += (odds / 24).toFixed(goblin.valuePrecision) + goblin.texts[1019];

            var updateCart = function () {
                var butonghaos = [];

                for (var j = 1; j <= 6; j += 1) {
                    if (this['Bet_Diff3_' + j.toString()].selected) {
                        butonghaos.push(j);
                    }
                }

                if (butonghaos.length < 3) {
                    cart.setSanbutonghao();
                } else {
                    cart.setSanbutonghao(butonghaos);
                }

                var tuos = [];
                var dans = [];

                for (var j = 1; j <= 6; j += 1) {
                    if (this['Bet_Diff3_' + j.toString() + 'T'].selected) {
                        tuos.push(j);
                    }
                }

                for (var j = 1; j <= 6; j += 1) {
                    if (this['Bet_Diff3_' + j.toString() + 'D'].selected) {
                        dans.push(j);
                    }
                }

                if (tuos.length * dans.length == 0 || tuos.length + dans.length < 3) {
                    cart.setSanbutonghaodantuo();
                } else {
                    cart.setSanbutonghaodantuo(tuos.concat(dans), dans);
                }

                cart.setSanlianhaotongxuan(this.Bet_Diff3_Lian.selected);
            }.bind(this);

            for (var j = 1; j <= 6; j += 1) {
                this['Bet_Diff3_' + j.toString()].on(Event.CLICK, this, updateCart);
            }

            cart.onSanbutonghaoRemove(function () {
                for (var j = 1; j <= 6; j += 1) {
                    this['Bet_Diff3_' + j.toString()].selected = false;
                }

                updateCart();
            }.bind(this));

            cart.onSanbutonghaoCheck(function () {
                setTabUI(this);
                orderList.parent.removeChild(orderList);
            }.bind(this));

            var q = [];

            for (var j = 1; j <= 6; j += 1) {
                this['Bet_Diff3_' + j.toString() + 'D'].on(Event.CLICK, this, function (j) {
                    if (this['Bet_Diff3_' + j.toString() + 'D'].selected) {
                        q.push(j);

                        if (q.length > 2) {
                            var k = q.shift();
                            this['Bet_Diff3_' + k.toString() + 'D'].selected = false;
                        }
                    } else {
                        var k = q.indexOf(j);
                        q.splice(k, 1);
                    }

                    this['Bet_Diff3_' + j.toString() + 'T'].selected = false;
                    updateCart();
                }, [j]);
                this['Bet_Diff3_' + j.toString() + 'T'].on(Event.CLICK, this, function (j) {
                    this['Bet_Diff3_' + j.toString() + 'D'].selected = false;
                    var k = q.indexOf(j);

                    if (k >= 0) {
                        q.splice(k, 1);
                    }

                    updateCart();
                }, [j]);
            }

            cart.onSanbutonghaodantuoRemove(function () {
                for (var j = 1; j <= 6; j += 1) {
                    this['Bet_Diff3_' + j.toString() + 'D'].selected = false;
                    this['Bet_Diff3_' + j.toString() + 'T'].selected = false;
                }

                updateCart();
            }.bind(this));

            cart.onSanbutonghaodantuoCheck(function () {
                setTabUI(this);
                orderList.parent.removeChild(orderList);
            }.bind(this));

            this.Bet_Diff3_Lian.on(Event.CLICK, this, updateCart);

            cart.onSanlianhaotongxuanRemove(function () {
                this.Bet_Diff3_Lian.selected = false;
                updateCart();
            }.bind(this));

            cart.onSanlianhaotongxuanCheck(function () {
                setTabUI(this);
                orderList.parent.removeChild(orderList);
            }.bind(this));

            this.user_random = function () {
                var r1 = goblin.util.randomBetween(1, 6);
                var r2;
                do { r2 = goblin.util.randomBetween(1, 6); } while (r2 == r1);
                var r3;
                do { r3 = goblin.util.randomBetween(1, 6); } while (r3 == r1 || r3 == r2);
                for (var j = 1; j <= 6; j += 1) {
                    this['Bet_Diff3_' + j.toString()].selected = j == r1 || j == r2 || j == r3;
                }
                updateCart();
            };

            var count = 0;

            var onUpdate = function (oldObj, newObj) {
                if (oldObj == undefined) {
                    count += newObj._tickets.length;
                } else if (newObj == undefined) {
                    count -= oldObj._tickets.length;
                } else {
                    count += newObj._tickets.length - oldObj._tickets.length;
                }
                updateTabUI(this);
            }.bind(this);

            cart.onSanlianhaotongxuanUpdate(onUpdate);
            cart.onSanbutonghaoUpdate(onUpdate);
            cart.onSanbutonghaodantuoUpdate(onUpdate);

            this.user_get_count = function () {
                return count;
            };
        }

        function BetDiff2() {
            BetDiff2.super(this);

            this.Txt1.text += (odds / 30).toFixed(goblin.valuePrecision) + goblin.texts[1019];

            var updateCart = function () {
                var butonghaos = [];

                for (var j = 1; j <= 6; j += 1) {
                    if (this['Bet_Diff2_' + j.toString()].selected) {
                        butonghaos.push(j);
                    }
                }

                if (butonghaos.length < 2) {
                    cart.setErbutonghao();
                } else {
                    cart.setErbutonghao(butonghaos);
                }

                var tuos = [];
                var dan = undefined;

                for (var j = 1; j <= 6; j += 1) {
                    if (this['Bet_Diff2_' + j.toString() + 'T'].selected) {
                        tuos.push(j);
                    }
                }

                for (var j = 1; j <= 6; j += 1) {
                    if (this['Bet_Diff2_' + j.toString() + 'D'].selected) {
                        dan = j;
                        break;
                    }
                }

                if (tuos.length == 0 || dan == undefined) {
                    cart.setErbutonghaodantuo();
                } else {
                    cart.setErbutonghaodantuo(tuos.concat([dan]), dan);
                }
            }.bind(this);

            for (var j = 1; j <= 6; j += 1) {
                this['Bet_Diff2_' + j.toString()].on(Event.CLICK, this, updateCart);
            }

            cart.onErbutonghaoRemove(function () {
                for (var j = 1; j <= 6; j += 1) {
                    this['Bet_Diff2_' + j.toString()].selected = false;
                }

                updateCart();
            }.bind(this));

            cart.onErbutonghaoCheck(function () {
                setTabUI(this);
                orderList.parent.removeChild(orderList);
            }.bind(this));

            for (var j = 1; j <= 6; j += 1) {
                this['Bet_Diff2_' + j.toString() + 'D'].on(Event.CLICK, this, function (j) {
                    for (var k = 1; k <= 6; ++k) {
                        if (k == j) {
                            continue;
                        }
                        this['Bet_Diff2_' + k.toString() + 'D'].selected = false;
                    }

                    this['Bet_Diff2_' + j.toString() + 'T'].selected = false;
                    updateCart();
                }, [j]);
                this['Bet_Diff2_' + j.toString() + 'T'].on(Event.CLICK, this, function (j) {
                    this['Bet_Diff2_' + j.toString() + 'D'].selected = false;
                    updateCart();
                }, [j]);
            }

            cart.onErbutonghaodantuoRemove(function () {
                for (var j = 1; j <= 6; j += 1) {
                    this['Bet_Diff2_' + j.toString() + 'D'].selected = false;
                    this['Bet_Diff2_' + j.toString() + 'T'].selected = false;
                }

                updateCart();
            }.bind(this));

            cart.onErbutonghaodantuoCheck(function () {
                setTabUI(this);
                orderList.parent.removeChild(orderList);
            }.bind(this));

            this.user_random = function () {
                var r1 = goblin.util.randomBetween(1, 6);
                var r2;
                do { r2 = goblin.util.randomBetween(1, 6); } while (r2 == r1);
                for (var j = 1; j <= 6; j += 1) {
                    this['Bet_Diff2_' + j.toString()].selected = j == r1 || j == r2;
                }
                updateCart();
            };

            var count = 0;

            var onUpdate = function (oldObj, newObj) {
                if (oldObj == undefined) {
                    count += newObj._tickets.length;
                } else if (newObj == undefined) {
                    count -= oldObj._tickets.length;
                } else {
                    count += newObj._tickets.length - oldObj._tickets.length;
                }
                updateTabUI(this);
            }.bind(this);

            cart.onErbutonghaoUpdate(onUpdate);
            cart.onErbutonghaodantuoUpdate(onUpdate);

            this.user_get_count = function () {
                return count;
            };
        }

        function More() {
            More.super(this);

            this.on(Event.CLICK, this, function () {
                this.parent.removeChild(this);
            });

            this.BtnReport.on(Event.CLICK, this, function () {
                this.parent.addChild(new Report(getCurRoundCount(), getLucyCodes()));
            });

            this.BtnDesc.on(Event.CLICK, this, function() {
                this.parent.addChild(new Desc());
            });
        }

        Laya.class(OrderList, "KuaisanOrderList", Kuai3OrderListUI);
        Laya.class(BetSum, "BetSum", BetSumUI);
        Laya.class(BetSame3, "BetSame3", BetSame3UI);
        Laya.class(BetSame2, "BetSame2", BetSame2UI);
        Laya.class(BetDiff3, "BetDiff3", BetDiff3UI);
        Laya.class(BetDiff2, "BetDiff2", BetDiff2UI);
        Laya.class(More, "KuaisanMore", MoreUI);

        var cart = new goblin.KuaisanCart(ticketPrice);
        var orderList = new OrderList();
        var betSum = new BetSum();
        var betSame3 = new BetSame3();
        var betSame2 = new BetSame2();
        var betDiff3 = new BetDiff3();
        var betDiff2 = new BetDiff2();
        var more = new More();

        //-----------------------

        var tabUIs = [
            betSum,
            betSame3,
            betSame2,
            betDiff3,
            betDiff2,
        ];

        var currentTabUI = null;

        var setTabUI = function (tabUI) {
            var tabUIIndex = tabUIs.indexOf(tabUI);

            if (this.BtnType.selectedIndex != tabUIIndex) {
                this.BtnType.selectedIndex = tabUIIndex;
            }

            if (tabUI != currentTabUI) {
                if (currentTabUI) {
                    this.GameMain.removeChild(currentTabUI);
                }

                currentTabUI = tabUI;
                updateTabUI(tabUI);
                this.GameMain.addChild(currentTabUI);
            }
        }.bind(this);

        var updateTabUI = function (tabUI) {
            if (tabUI == currentTabUI) {
                var c = tabUI.user_get_count();
                this.BetTxt.text = goblin.texts[1018].format(c, (c * ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName);
            }
        }.bind(this);

        setTabUI(betSum);

        //-----------------------

        this.BtnBack.on(Event.CLICK, this, function () {
            this.parent.removeChild(this);
        });

        this.BtnType.on(Event.CLICK, this, function () {
            var nextTabUI = tabUIs[this.BtnType.selectedIndex];
            setTabUI(nextTabUI);
        });

        this.BtnOk.on(Event.CLICK, this, function () {
            this.parent.addChild(orderList);
        });

        this.BtnRandom.on(Event.CLICK, this, function () {
            this.user_random();
        });

        this.BtnMore.on(Event.CLICK, this, function () {
            this.parent.addChild(more);
        });

        this.user_random = function () {
            currentTabUI.user_random();
        };

        //-----------------------

        var timeout;

        var setTimeout_ = function (deadline) {
            timeout = deadline == 0 ? -1 : Math.max(deadline - Math.floor(Date.now() / 1000), 0);
            changeTimeout(0);
        };

        var getTimeout = function () { return timeout; };

        var changeTimeout = function (delta) {
            var t;
            if (timeout < 0) {
                t = goblin.texts[1020];
            } else {
                timeout += delta;
                if (timeout < 0) {
                    timeout = 0;
                    t = goblin.texts[1021];
                } else {
                    t = goblin.util.secondsToHHMMSS(timeout);
                }
            }
            this.NextTime.text = t;
            orderList.EndTime.text = t;
        }.bind(this);

        setTimeout_(data.deadline.toNumber());

        this.timer.loop(1000, this, function () {
            changeTimeout(-1);
        });

        //-----------------------

        var _roundCount = data.round_count.toNumber();
        var _luckyCodes = data.lucky_codes;

        var getCurRoundCount = function () { return _roundCount; };
        var getLucyCodes = function () { return _luckyCodes; };

        var refreshHistory = function () {
            var i = 0;
            for (; i < _luckyCodes.length; ++i) {
                if (_luckyCodes[i] != goblin.kuaisan.NO_CODE) {
                    break;
                }
            }
            var luckyCode = i == _luckyCodes.length ? -1 : _luckyCodes[i];
            this.ResultTxt.text = goblin.texts[1022].format(_roundCount - i);
            var luckyNumber = luckyCode < 0 ? 0 : goblin.kuaisan.code_2_number(luckyCode);
            var a = luckyNumber.toString().split("").map(Number);
            // this.LastResult.text = a.join(" ");
            this.Num1.skin = "resource/dice{}.png".format(a[0]);
            this.Num2.skin = "resource/dice{}.png".format(a[1]);
            this.Num3.skin = "resource/dice{}.png".format(a[2]);
        }.bind(this);

        var updateHistory = function (roundCount, luckyCode) {
            if (luckyCode == undefined) luckyCode = goblin.kuaisan.NO_CODE;
            if (roundCount <= _roundCount) {
                _luckyCodes[_roundCount - roundCount] = luckyCode;
                refreshHistory();
            } else {
                _luckyCodes.unshift(luckyCode);
                _roundCount = roundCount;
            }
        };

        refreshHistory();

        //-----------------------

        var contract = goblin.contract.kuaisan;

        var eventRoundStart = contract.RoundStart(function(error, result) {
            if (error) throw error;
            var roundCount = result.args.round_count.toNumber();
            if (this.parent)
                this.parent.addChild(new goblin.misc.Tips(goblin.texts[1023].format(roundCount)));
            contract.get_deadline(function (error, result) {
                if (error) throw error;
                setTimeout_(result.toNumber());
            });
            updateHistory(roundCount);
        }.bind(this));

        var eventRoundEnd = contract.RoundEnd(function(error, result) {
            if (error) throw error;
            var roundCount = result.args.round_count.toNumber();
            var luckyCode = Number(result.args.lucky_code);
            if (this.parent)
                this.parent.addChild(new goblin.misc.Tips(
                    goblin.texts[1024].format(roundCount, goblin.kuaisan.code_2_number(luckyCode))
                ));
            if (getCurRoundCount() == roundCount/* && getTimeout() == 0*/) {
                setTimeout_(0);
            }
            updateHistory(roundCount, luckyCode);
        }.bind(this));

        //-----------------------

        var destroy = function () {
            eventRoundStart.stopWatching();
            eventRoundEnd.stopWatching();
            this.destroy();
            orderList.destroy();
            more.destroy();
        }.bind(this);
    }

    var getData = function (callback) {
        var data = {};
        var count = 0;
        var stop = false;

        var put = function (error, key, value) {
            if (stop) {
                return;
            }

            if (error) {
                stop = true;
                callback(error);
            } else {
                data[key] = value;
                ++count;

                if (count == n) {
                    callback(null, data);
                }
            }
        };

        var contract = goblin.contract.kuaisan;
        var n = 0;

        contract.get_ticket_price(function (error, result) {
            put(error, "ticket_price", result);
        }), ++n;

        contract.get_odds(function (error, result) {
            put(error, "odds", result);
        }), ++n;

        contract.get_max_total_ticket_count(function (error, result) {
            put(error, "max_total_ticket_count", result);
        }), ++n;

        contract.get_deadline(function (error, result) {
            put(error, "deadline", result);
        }), ++n;

        contract.get_round_count(function (error, result) {
            put(error, "round_count", result);
        }), ++n;

        contract.get_lucky_codes(function (error, result) {
            put(error, "lucky_codes", result);
        }), ++n;
    };
    function Desc(){
        Desc.super(this);
        this.Desc.text = goblin.texts[1053];
        this.BtnBack.on(Event.CLICK, this, function () {
            this.destroy();
        });
    }
    function Report(roundCount, luckyCodes) {
        Report.super(this);

        this.RecordList.vScrollBarSkin = "";

        this.BtnBack.on(Event.CLICK, this, function () {
            this.destroy();
        });

        this.ReportType.renderHandler = new Handler(this, function (item, index) {
            item.on(Event.CLICK, this, function (index) {
                setTab(index);
            }, [index]);
        });

        this.BtnSum.on(Event.CLICK, this, function() {
            sumArr(roundCount, luckyCodes);
        });
        this.BtnDiff.on(Event.CLICK, this, function() {
            diffArr(roundCount, luckyCodes);
        });
        this.BtnHotCold.on(Event.CLICK, this, function() {
            hotColdArr(roundCount, luckyCodes);
        });

        var sumArr = function(roundCount, luckyCodes) {
            var arr = [{Round: "期数", Number: "开奖号", Sum: "和值", Size: "大小", Parity: "单双"}];

            for (var i = 0; i < luckyCodes.length; ++i) {
                if (luckyCodes[i] == goblin.kuaisan.NO_CODE) continue;
                var luckyNumber = goblin.kuaisan.code_2_number(luckyCodes[i]);
                var a = luckyNumber.toString().split("").map(Number);
                var sum = a[0] + a[1] + a[2];
                arr.push({
                    Round: (roundCount - i).toString(),
                    Number: a.join(" "),
                    Sum: sum,
                    Size: goblin.texts[1025][sum >= 11 ? 0 : 1],
                    Parity: goblin.texts[1026][sum % 2 == 1 ? 0 : 1],
                });
            }

            this.RecordList.array = arr
        }.bind(this);

        var getTimes = function(lucky_codes, times, sum) {
            var t = 0;
            for (var i = 0; i < luckyCodes.length && i < times; ++i) {
                if (luckyCodes[i] == goblin.kuaisan.NO_CODE) continue;
                var luckyNumber = goblin.kuaisan.code_2_number(luckyCodes[i]);
                var a = luckyNumber.toString().split("").map(Number);
                var s = a[0] + a[1] + a[2];
                if (s == sum) {
                    t ++;
                }
            }
            return t;
        }

        var hotColdArr = function(roundCount, lucky_codes) {
            var arr = [{Round:"和值", Number:"30期", Sum:"50期", Size:"100期", Parity:"遗漏"}];
            for (var i=3; i<=18; i++) {
                arr.push({
                    Round:i.toString(),
                    Number:getTimes(lucky_codes, 30, i),
                    Sum:getTimes(lucky_codes, 50, i),
                    Size:getTimes(lucky_codes, 100, i),
                    Parity:"-",
                });
            }


            var contract = goblin.contract.kuaisan;

            contract.get_sum_missing_counts(function (error, result) {
                if (error) throw error;
                for (var i=0; i<result.length; i++) {
                    arr[i+1].Parity = result[i].toNumber();
                }
                this.RecordList.array = arr;
            }.bind(this));

            this.RecordList.array = arr;
        }.bind(this);
        var diffArr = function(roundCount, luckyCodes) {
            var arr = [{Round:"期数", Number:"开奖号", Sum:"三同号", Size:"三不同", Parity:"二同号"}];
            for (var i=0; i<luckyCodes.length; ++i) {
                if (luckyCodes[i] == goblin.kuaisan.NO_CODE) continue;

                var luckyNumber = goblin.kuaisan.code_2_number(luckyCodes[i]);
                var a = luckyNumber.toString().split("").map(Number);
                var sum = "";
                var size = "";
                var parity = "";
                if (a[0] == a[1] && a[1] == a[2]) {
                    sum = goblin.texts[1046];
                } else if ( a[0] == a[1] || a[1] == a[2] || a[0] == a[2]) {
                    parity = goblin.texts[1047];
                } else if (a[0] + 1 == a[1] && a[1] + 1 == a[2]) {
                    sum = goblin.texts[1048];
                } else {
                    size = goblin.texts[1011];
                }
                arr.push({
                    Round:(roundCount -i).toString(),
                    Number: a.join(" "),
                    Sum:sum,
                    Size:size,
                    Parity:parity,
                })
            }
            this.RecordList.array = arr;
        }.bind(this);


        sumArr(roundCount, luckyCodes);
    }

    Laya.class(GameMain, "KuaisanMain", GameMain1UI);
    Laya.class(Report, "KuaisanReport", ReportUI);
    Laya.class(Desc, "KuaisanDesc", DescUI);
    goblin.newKuaisanMain = newGameMain;
})();

if (typeof __GAME_ENTRY__ !== "undefined") (function () {
    "use strict";

    goblin.coinFlipping = {NO_SIDE: 255};

    var Handler = laya.utils.Handler;
    var Event = laya.events.Event;

    var contract = goblin.contract.coinFlipping;

    function newGameMain(parent, callback) {
        var loading = new goblin.misc.Loading(goblin.texts[1001]);
        parent.addChild(loading);

        getData(function (error, result) {
            parent.removeChild(loading);

            if (error) {
                throw error;
            }

            var gameMain = new GameMain(result);
            parent.addChild(gameMain);
            callback(gameMain);
        });
    }

    function GameMain(data) {
        GameMain.super(this);

        var oddsX10 = data.odds_x_10.toNumber();
        var ticketPrice = web3.fromWei(data.ticket_price, "ether").toNumber();
        var maxTotalTicketCount = data.max_total_ticket_count.toNumber();

        function BetInfo(coinSide) {
            BetInfo.super(this);
            var factor = 0;
            var factorDiffs = [1, 2, 5, 10, 20];
            var clickCount = 0;
            
            var setFactor = function (newFactor) {
                if (newFactor > maxTotalTicketCount) newFactor = maxTotalTicketCount;
                factor = newFactor;
                this.BetTxt.text = (newFactor * ticketPrice).toFixed(goblin.valuePrecision);
            }.bind(this);

            setFactor(2);

            this.BtnBack.on(Event.CLICK, this, function () {
                this.destroy();
            });

            this.BtnReset.on(Event.CLICK, this, function () {
                setFactor(2);
                clickCount = 0;
            });

            this.BtnClose.on(Event.CLICK, this, function () {
                this.destroy();
            });

            for (var i = 0; i < factorDiffs.length; ++i) {
                var factorDiff = factorDiffs[i];
                var btn = this["Btn" + factorDiff.toString()];
                btn.label = "+" + factorDiff * ticketPrice;

                btn.on(Event.CLICK, this, function (factorDiff) {
                    if (++clickCount == 1 && factorDiff >= 10) {
                        setFactor(factorDiff);
                    } else {
                        setFactor(factor + factorDiff);
                    }
                }, [factorDiff]);
            }

            this.BtnMax.on(Event.CLICK, this, function () {
                setFactor(maxTotalTicketCount);
            });

            this.BtnOk.on(Event.CLICK, this, function () {
                contract.get_round_count(function (error, result) {
                    if (error) throw error;
                    if (result.toNumber() != getCurRoundCount()) {
                        this.parent.addChild(new goblin.misc.Tips(goblin.texts[1049], function () {
                            this.destroy();
                            destroy();
                        }.bind(this)));
                    } else {
                        submit();
                    }
                }.bind(this));
            });
            var submit = function () {
                var roundNumber = getCurRoundCount();
                if (getTimeout() <= 0) {
                    ++roundNumber;
                }
                var txParams = {
                    to: contract.address,
                    value: data.ticket_price.mul(factor),
                    data: contract.buy_tickets.getData(
                        "0x" + ethereumjs.Buffer.Buffer.from([factor, coinSide]).toString("hex"),
                        roundNumber
                    )
                };
                var loading = new goblin.misc.Loading(goblin.texts[1016]);
                this.parent.addChild(loading);
                goblin.util.buildTxParams(txParams, goblin.privateKey).then(function () {
                    console.info("total value: ", web3.fromWei(txParams.value.toString(), "ether"));
                    console.info("total fee: ", web3.fromWei(txParams.gasLimit.mul(txParams.gasPrice).toString(), "ether"));
                    return goblin.util.sendTransaction(txParams, goblin.privateKey);
                }).then(function (result) {
                    goblin.addPendingCoinFlippingRecord(
                        result,
                        txParams.gasLimit,
                        roundNumber, {_coinSide: coinSide, _rawType: [coinSide == 0 ? 1062 : 1063]}, ticketPrice, oddsX10, factor
                    );
                    this.parent.removeChild(loading);
                    this.parent.addChild(new goblin.misc.Tips(goblin.texts[1017], function () {
                        this.destroy();
                    }.bind(this)));
                }.bind(this)).catch(function (error) {
                    this.parent.removeChild(loading);
                    goblin.util.displayTransactionError(error, this.parent);
                }.bind(this));
            }.bind(this);
        }

        Laya.class(BetInfo, "CoinFlippingBetInfo", Game2BetInfoUI);

        this.TxtHeadsRate.text = this.TxtTailsRate.text = (oddsX10 / 10).toString() + goblin.texts[1019];
        this.TxtHeadsMoney.text = this.TxtTailsMoney.text = goblin.texts[1060].format(0);
        this.BetMoney.text = this.BonusMoney.text = "--";
        var address = "0x" + ethereumjs.Util.privateToAddress(goblin.privateKey).toString("hex");

        var refreshMoneys = function () {
            contract.get_ticket_counts_of_sides(function (error, result) {
                if (error) throw error;
                this.TxtHeadsMoney.text = goblin.texts[1060].format(web3.fromWei(data.ticket_price.mul(result[0]), "ether")
                                          .toNumber().toFixed(goblin.valuePrecision));
                this.TxtTailsMoney.text = goblin.texts[1060].format(web3.fromWei(data.ticket_price.mul(result[1]), "ether")
                                          .toNumber().toFixed(goblin.valuePrecision));
            }.bind(this));

            web3.eth.getBalance(address, function (error, result) {
                if (error) throw error;
                this.BetMoney.text = web3.fromWei(result, "ether").toNumber().toFixed(goblin.valuePrecision);
                this.Txt1.text = goblin.currencyName;
            }.bind(this));
            goblin.contract.bank.get_balance({from: address}, function (error, result) {
                if (error) throw error;
                this.BonusMoney.text = web3.fromWei(result, "ether").toNumber().toFixed(goblin.valuePrecision);
                this.Txt2.text = goblin.currencyName;
            }.bind(this))
        }.bind(this);

        refreshMoneys();
        this.timer.loop(15000, this, refreshMoneys);

        //--------------------------------------------------

        this.BtnBack.on(Event.CLICK, this, function () {
            this.parent.removeChild(this);
        });

        this.BtnHeads.on(Event.CLICK, this, function () {
            this.parent.addChild(new BetInfo(0));
        });

        this.BtnTails.on(Event.CLICK, this, function () {
            this.parent.addChild(new BetInfo(1));
        });

        this.BtnReport.on(Event.CLICK, this, function () {
            this.parent.addChild(new Report(getLuckySides(), getCurRoundCount()));
        });

        this.BtnRecord.on(Event.CLICK, this, function () {
            this.parent.addChild(new Record());
        });
        /*
        this.BtnBlockLink.on(Event.clickCount, this, function() {
            console.log(this.parent.href);
            Browser.window.href = this.parent.href;
        });
        */
        //--------------------------------------------------

        var _roundCount = data.round_count.toNumber();
        var _luckySides = data.lucky_sides;
        var _luckyBlockHash = goblin.util.uint256ToHash(data.lucky_block_hash);

        var getCurRoundCount = function () { return _roundCount; };
        var getLuckySides = function () { return _luckySides; };

        var refreshHistory = function () {
            var i = 0;
            for (; i < _luckySides.length; ++i) {
                if (_luckySides[i] != goblin.coinFlipping.NO_SIDE) {
                    break;
                }
            }
            var luckySide = i == _luckySides.length ? 0 : _luckySides[i];
            this.ResultTxt.text = goblin.texts[1064].format(_roundCount - i);
            if (luckySide == 0) {
                this.Coin.skin = "resource/coin_heads.png";
            } else {
                this.Coin.skin = "resource/coin_tails.png";
            }

            web3.eth.getBlock(_luckyBlockHash, function (error, block) {
                if (error) throw error;
                if (!block) block = {
                    number: 0,
                    timestamp: 0
                };
                var txtResultContainer = this.TxtResultContainer;
                var txtResult = this.TxtResult;
                var htmlTempl = ("<div style='position:fixed;padding:0;margin:0;top:0;left:0;width:100%;height:100%;color:#bbbbbb;fontSize:24;font-weight:bold'>" +
                                "<p>{}{{}}</p><br/>" + 
                                "<p>{}{{}}</p><br/>" + 
                                "<p>{}{{}}..{{}}<font color='gold'>{{}}</font></p>" +
                                "</div>").format(goblin.texts[1068], goblin.texts[1069], goblin.texts[1070]);
                
                this.href = "https://etherscan.io/block/" + block.number;
                if (!txtResult) {
                    txtResult = new Laya.HTMLDivElement();
                    txtResult.width = txtResultContainer.width;
                    txtResult.height = txtResultContainer.height;
                    txtResult.x = 0;
                    txtResult.y = 0;
                    txtResultContainer.addChild(txtResult);
                    this.TxtResult = txtResult;                    
                }
                var d = new Date();
                d.setTime(block.timestamp * 1000);
                var ds = d.getFullYear() + "-" + 
                         ("00" + (d.getMonth() + 1)).slice(-2) + "-" + 
                         ("00" + d.getDate()).slice(-2) + " " +
                         ("00" + d.getHours()).slice(-2) + ":" + 
                         ("00" + d.getMinutes()).slice(-2) + ":" + 
                         ("00" + d.getSeconds()).slice(-2);
                var s = _luckyBlockHash.substring(0, 2) + "0".repeat(66 - _luckyBlockHash.length) + _luckyBlockHash.substring(2);
                txtResult.innerHTML = htmlTempl.format(
                    block.number,
                    ds,
                    s.substring(0, 9),
                    s.substring(s.length - 7, s.length - 1),
                    s.substring(s.length - 1)
                );
            }.bind(this));
        }.bind(this);

        var updateHistory = function (roundCount, luckySide, luckyBlockHash) {
            if (luckySide == undefined) {
                luckySide = goblin.coinFlipping.NO_SIDE;
            } else {
                _luckyBlockHash = luckyBlockHash;
            }
            if (roundCount <= _roundCount) {
                _luckySides[_roundCount - roundCount] = luckySide;
                refreshHistory();
            } else {
                _luckySides.unshift(luckySide);
                _roundCount = roundCount;
            }
        };

        refreshHistory();

        //-----------------------

        var eventRoundStart = contract.RoundStart(function(error, result) {
            if (error) throw error;
            var roundCount = result.args.round_count.toNumber();
            if (this.parent)
                this.parent.addChild(new goblin.misc.Tips(goblin.texts[1023].format(roundCount)));
            contract.get_deadline(function (error, result) {
                if (error) throw error;
                setTimeout_(result.toNumber());
            });
            updateHistory(roundCount);
        }.bind(this));

        var eventRoundEnd = contract.RoundEnd(function(error, result) {
            if (error) throw error;
            var roundCount = result.args.round_count.toNumber();
            var luckySide = result.args.lucky_side.toNumber();
            var luckyBlockHash = goblin.util.uint256ToHash(result.args.lucky_block_hash);
            if (this.parent)
                this.parent.addChild(new goblin.misc.Tips(
                    goblin.texts[1066].format(roundCount, goblin.texts[luckySide == 0 ? 1062 : 1063])
                ));
            if (getCurRoundCount() == roundCount) {
                setTimeout_(0);
            }
            updateHistory(roundCount, luckySide, luckyBlockHash);
        }.bind(this));

        //--------------------------------------------------

        var _timeout;

        var setTimeout_ = function (deadline) {
            if (deadline == 0) {
                _timeout = -1;
                this.TimeTxt.text = goblin.texts[1067].format(_roundCount + 1);
            } else {
                _timeout = Math.max(deadline - Math.floor(Date.now() / 1000), 0);
                this.TimeTxt.text = goblin.texts[1067].format(_roundCount);
            }

            changeTimeout(0);
        }.bind(this);

        var getTimeout = function () { return _timeout; };

        var changeTimeout = function (delta) {
            var t;
            if (_timeout < 0) {
                t = goblin.texts[1020];
            } else {
                _timeout += delta;
                if (_timeout < 0) {
                    _timeout = 0;
                    t = goblin.texts[1021];
                } else {
                    t = goblin.util.secondsToHHMMSS(_timeout);
                }
            }
            this.NextTime.text = t;
        }.bind(this);

        setTimeout_(data.deadline.toNumber());

        this.timer.loop(1000, this, function () {
            changeTimeout(-1);
        });

        //-----------------------

        var destroy = function () {
            eventRoundStart.stopWatching();
            eventRoundEnd.stopWatching();
            this.destroy();
        }.bind(this);
    }

    function Report(luckySides, roundCount) {
        Report.super(this);
        
        this.BtnClose.on(Event.CLICK, this, function () {
            this.destroy();
        });

        var arr = [];
        for (var i = 0; i < luckySides.length; ++i) {
            var luckySide = luckySides[i];
            if (luckySide == goblin.coinFlipping.NO_SIDE) continue;
            arr.push({Round: goblin.texts[1029].format(roundCount - i), Coin: luckySide == 0 ? "resource/coin_heads.png" : "resource/coin_tails.png" /*Result: goblin.texts[luckySide == 0 ? 1062 : 1063]*/});
            if (arr == 12) break;
        }
        this.HistoryList.array = arr;
        if (arr.length == 0) {
            this.Desc.text = goblin.texts[1065];
        } else {
            this.Desc.text = "";
        }
    }

    function Record() {
        Record.super(this);

        this.BtnClose.on(Event.CLICK, this, function () {
            this.destroy();
        });

        this.RecordList.array = [];
        this.Desc.text = goblin.texts[1001];

        goblin.updateRecords(function (records) {
            var arr = [];

            for (var i = 0; i < records.length; ++i) {
                var rawRecord = records[i]._raw;
                if (rawRecord._type != goblin.RECORD_TYPE_COIN_FLIPPING) continue;
                var obj = {Round: goblin.util.makeText(rawRecord._rawRound), Coin: rawRecord._coinSide == 0 ? "resource/coin_heads.png" : "resource/coin_tails.png"/*Result: goblin.texts[rawRecord._coinSide == 0 ? 1062 : 1063]*/};
                if (rawRecord._luckySide == undefined) {
                    obj.Status = goblin.util.makeText(rawRecord._rawText);
                    obj.BetMoney = goblin.util.makeText(rawRecord._rawPrice);
                    obj.BonueMoney = "";
                } else {
                    if (rawRecord._bonus == undefined) {
                        obj.Status = goblin.util.makeText(rawRecord._rawText);
                        obj.BetMoney = goblin.util.makeText(rawRecord._rawPrice);
                        obj.BonueMoney = "";
                    } else {
                        obj.Status = goblin.texts[1032];
                        obj.BetMoney = "";
                        obj.BonueMoney = rawRecord._bonus.toFixed(goblin.valuePrecision) + " " + goblin.currencyName;
                    }
                }
                arr.push(obj);
                if (arr == 6) break;
            }
            this.RecordList.array = arr;
            if (arr.length == 0) {
                this.Desc.text = goblin.texts[1065];
            } else {
                this.Desc.text = "";
            }
        }.bind(this));

    }

    var getData = function (callback) {
        var data = {};
        var stop = false;
        var putCount = 0;

        var put = function (error, key, value) {
            if (stop) {
                return;
            }

            if (error) {
                stop = true;
                callback(error);
            } else {
                data[key] = value;

                if (--putCount == 0) {
                    callback(null, data);
                }
            }
        };

        contract.get_ticket_price(function (error, result) {
            put(error, "ticket_price", result);
        }), ++putCount;

        contract.get_odds_x_10(function (error, result) {
            put(error, "odds_x_10", result);
        }), ++putCount;

        contract.get_max_total_ticket_count(function (error, result) {
            put(error, "max_total_ticket_count", result);
        }), ++putCount;

        contract.get_deadline(function (error, result) {
            put(error, "deadline", result);
        }), ++putCount;

        contract.get_round_count(function (error, result) {
            put(error, "round_count", result);
        }), ++putCount;

        contract.get_lucky_sides(function (error, result) {
            put(error, "lucky_sides", result);
        }), ++putCount;

        contract.get_lucky_block_hash(function (error, result) {
            put(error, "lucky_block_hash", result);
        }), ++putCount;
    };

    Laya.class(GameMain, "CoinFlippingMain", GameMain2UI);
    Laya.class(Report, "CoinFlippingReport", Game2ReportUI);
    Laya.class(Record, "CoinFlippingRecord", Game2RecordUI);
    goblin.newCoinFlippingMain = newGameMain;
})();
if (typeof __GAME_ENTRY__ !== "undefined") (function () {
    "use strict";

    var Handler = laya.utils.Handler;
    var Event = laya.events.Event;

    var contract = goblin.contract.ballgameBetting;
    var protocol = goblin.protocol.ballgameBetting;

    function newGameMain(parent, callback) {
        var loading = new goblin.misc.Loading(goblin.texts[1001]);
        parent.addChild(loading);

        getData(function (error, result) {
            parent.removeChild(loading);

            if (error) {
                throw error;
            }

            var gameMain = new GameMain(result);
            parent.addChild(gameMain);
            callback(gameMain);
        });
    }

    function GameMain(data) {
        GameMain.super(this);
        var gameMain = this;
        var ticketPrice = 0;
        var maxTotalTicketCount = 0;

        function BetGoal(source) {
            var bettingType = protocol.BettingType.ODD_EVEN;
            BetGoal.super(this);
            this.BettingList.vScrollBarSkin = "";

            var betNames = ["BetOdd", "BetEven"];

            var onBet = function (index, betName) {
                cart.toggleBettingResult(this.BettingList.array[index][betName]._bettingResult);
                updateTabUI(this);
            };
            var onDeleteCallback = null;
            var onDelete = function (index) {
                cart.clearBetting(this.BettingList.array[index]._betting);
                this.BettingList.array.splice(index, 1);
                this.BettingList.refresh();
                source.BettingList.refresh();
                updateTabUI(source);
                if (onDeleteCallback) onDeleteCallback();
            };
            this.BettingList.renderHandler = new Handler(this, function (item, index) {
                for (var i = 0; i < betNames.length; ++i) {
                    var betName = betNames[i];
                    var btnBet = item.getChildByName(betName);
                    if (source || this.BettingList.array[index].isEnded) {
                        btnBet.mouseEnabled = false;
                    } else {
                        btnBet.on(Event.CLICK, this, onBet, [index, betName]);
                    }
                    btnBet.selected = cart.testBettingResult(this.BettingList.array[index][betName]._bettingResult);
                }
                var btnDelete = item.getChildByName("BtnDelete");
                if (source) {
                    btnDelete.on(Event.CLICK, this, onDelete, [index]);
                } else {
                    btnDelete.visible = false;
                }
            });

            if (source) {
                var arr1 = source.BettingList.array;
                var arr2 = [];
                for (var i = 0; i < arr1.length; ++i) {
                    var e = arr1[i];
                    var betNameTextIDs = e._betNameTextIDs = [];
                    if (cart.testBetting(e._betting)) {
                        for (var j = 0; j < betNames.length; ++j) {
                            var betName = betNames[j];
                            if (cart.testBettingResult(e[betName]._bettingResult)) {
                                betNameTextIDs.push(e[betName]._labelBasicTextID);
                            }
                        }
                        arr2.push(e);
                    }
                }
                this.BettingList.array = arr2;

                this.user_clearChosen = function () {
                    cart.clearBettings(bettingType);
                    source.BettingList.refresh();
                    updateTabUI(source);
                }
                this.user_getBetInfos = function (bettingValueForPerResult) {
                    var betInfos = [];
                    for (var i = 0; i < this.BettingList.array.length; ++i) {
                        var itemData = this.BettingList.array[i];
                        itemData._betInfos = cart.getBetInfos(itemData._betting, bettingValueForPerResult);
                        Array.prototype.push.apply(betInfos, itemData._betInfos);
                    }
                    return betInfos;
                }
                this.user_onDelete = function (callback) { onDeleteCallback = callback; };
            } else {
                this.user_setList = function (array) {
                    cart.clearUnmarkedBettingsBegin(bettingType);
                    for (var i = 0; i < array.length; ++i) {
                        cart.markBetting(array[i]._betting);
                    }
                    cart.clearUnmarkedBettingsEnd();
                    updateTabUI(this);
                    this.BettingList.array = array;
                };
                this.user_getChosenCount = function () {
                    return cart.getNumberOfBettingResults(bettingType);
                };
                this.user_copyChosen = function () {
                    return new BetGoal(this);
                };
            }
        }

        function BetWinlose(source) {
            var bettingType = protocol.BettingType.WIN_LOSE_DRAW;
            BetWinlose.super(this);
            this.BettingList.vScrollBarSkin = "";

            var betNames = ["BetHome", "BetVisitor", "BetDraw"];

            var onBet = function (index, betName) {
                cart.toggleBettingResult(this.BettingList.array[index][betName]._bettingResult);
                updateTabUI(this);
            };
            var onDeleteCallback = null;
            var onDelete = function (index) {
                cart.clearBetting(this.BettingList.array[index]._betting);
                this.BettingList.array.splice(index, 1);
                this.BettingList.refresh();
                source.BettingList.refresh();
                updateTabUI(source);
                if (onDeleteCallback) onDeleteCallback();
            };
            this.BettingList.renderHandler = new Handler(this, function (item, index) {
                for (var i = 0; i < betNames.length; ++i) {
                    var betName = betNames[i];
                    var btnBet = item.getChildByName(betName);
                    if (source || this.BettingList.array[index].isEnded) {
                        btnBet.mouseEnabled = false;
                    } else {
                        btnBet.on(Event.CLICK, this, onBet, [index, betName]);
                    }
                    btnBet.selected = cart.testBettingResult(this.BettingList.array[index][betName]._bettingResult);
                }
                var btnDelete = item.getChildByName("BtnDelete");
                if (source) {
                    btnDelete.on(Event.CLICK, this, onDelete, [index]);
                } else {
                    btnDelete.visible = false;
                }
            });

            if (source) {
                var arr1 = source.BettingList.array;
                var arr2 = [];
                for (var i = 0; i < arr1.length; ++i) {
                    var e = arr1[i];
                    var betNameTextIDs = e._betNameTextIDs = [];
                    if (cart.testBetting(e._betting)) {
                        for (var j = 0; j < betNames.length; ++j) {
                            var betName = betNames[j];
                            if (cart.testBettingResult(e[betName]._bettingResult)) {
                                betNameTextIDs.push(e[betName]._labelBasicTextID);
                            }
                        }
                        arr2.push(e);
                    }
                }
                this.BettingList.array = arr2;

                this.user_clearChosen = function () {
                    cart.clearBettings(bettingType);
                    source.BettingList.refresh();
                    updateTabUI(source);
                }
                this.user_getBetInfos = function (bettingValueForPerResult) {
                    var betInfos = [];
                    for (var i = 0; i < this.BettingList.array.length; ++i) {
                        var itemData = this.BettingList.array[i];
                        itemData._betInfos = cart.getBetInfos(itemData._betting, bettingValueForPerResult);
                        Array.prototype.push.apply(betInfos, itemData._betInfos);
                    }
                    return betInfos;
                }
                this.user_onDelete = function (callback) { onDeleteCallback = callback; };
            } else {
                this.user_setList = function (array) {
                    cart.clearUnmarkedBettingsBegin(bettingType);
                    for (var i = 0; i < array.length; ++i) {
                        cart.markBetting(array[i]._betting);
                    }
                    cart.clearUnmarkedBettingsEnd();
                    updateTabUI(this);
                    this.BettingList.array = array;
                };
                this.user_getChosenCount = function () {
                    return cart.getNumberOfBettingResults(bettingType);
                };
                this.user_copyChosen = function () {
                    return new BetWinlose(this);
                };
            }
        }

        function BetScore(source) {
            var bettingType = protocol.BettingType.SCORES;
            BetScore.super(this);
            this.BettingList.vScrollBarSkin = "";

            var betNames = ["Bet10", "Bet00", "Bet01", "Bet20", "Bet11", "Bet02", "Bet21", "Bet22", "Bet12", "BetWin", "BetDraw", "BetLose"];

            var onChoose = function (index) {
                var itemData = this.BettingList.array[index];
                gameMain.parent.addChild(new BetScoreInfo(itemData, function () {
                    this.BettingList.refresh();
                    updateTabUI(this);
                }.bind(this)));
            };
            var onDeleteCallback = null;
            var onDelete = function (index) {
                cart.clearBetting(this.BettingList.array[index]._betting);
                this.BettingList.array.splice(index, 1);
                this.BettingList.refresh();
                source.BettingList.refresh();
                updateTabUI(source);
                if (onDeleteCallback) onDeleteCallback();
            };
            this.BettingList.renderHandler = new Handler(this, function (item, index) {
                var btnChoose = item.getChildByName("BtnChoose");
                if (this.BettingList.array[index].isEnded) {
                    btnChoose.mouseEnabled = false;
                } if (!source) {
                    btnChoose.on(Event.CLICK, this, onChoose, [index]);
                }
                var itemData = this.BettingList.array[index];
                var label = "";
                for (var i = 0; i < betNames.length; ++i) {
                    var betName = betNames[i];
                    if (cart.testBettingResult(itemData[betName]._bettingResult)) {
                        label += goblin.texts[itemData[betName]._labelBasicTextID] + ", ";
                    }
                }
                if (label.length == 0) {
                    label = goblin.texts[1088];
                    btnChoose.selected = false;
                } else {
                    label = label.substr(0, label.length - 2);
                    btnChoose.selected = true;
                }
                btnChoose.label = label;
                var btnDelete = item.getChildByName("BtnDelete");
                if (source) {
                    btnDelete.on(Event.CLICK, this, onDelete, [index]);
                } else {
                    btnDelete.visible = false;
                }
            });

            if (source) {
                var arr1 = source.BettingList.array;
                var arr2 = [];
                for (var i = 0; i < arr1.length; ++i) {
                    var e = arr1[i];
                    var betNameTextIDs = e._betNameTextIDs = [];
                    if (cart.testBetting(e._betting)) {
                        for (var j = 0; j < betNames.length; ++j) {
                            var betName = betNames[j];
                            if (cart.testBettingResult(e[betName]._bettingResult)) {
                                betNameTextIDs.push(e[betName]._labelBasicTextID);
                            }
                        }
                        arr2.push(e);
                    }
                }
                this.BettingList.array = arr2;

                this.user_clearChosen = function () {
                    cart.clearBettings(bettingType);
                    source.BettingList.refresh();
                    updateTabUI(source);
                }
                this.user_getBetInfos = function (bettingValueForPerResult) {
                    var betInfos = [];
                    for (var i = 0; i < this.BettingList.array.length; ++i) {
                        var itemData = this.BettingList.array[i];
                        itemData._betInfos = cart.getBetInfos(itemData._betting, bettingValueForPerResult);
                        Array.prototype.push.apply(betInfos, itemData._betInfos);
                    }
                    return betInfos;
                }
                this.user_onDelete = function (callback) { onDeleteCallback = callback; };
            } else {
                this.user_setList = function (array) {
                    cart.clearUnmarkedBettingsBegin(bettingType);
                    for (var i = 0; i < array.length; ++i) {
                        cart.markBetting(array[i]._betting);
                    }
                    cart.clearUnmarkedBettingsEnd();
                    updateTabUI(this);
                    this.BettingList.array = array;
                };
                var BetScoreInfo = function (itemData, refresh) {
                    BetScoreInfo.super(this);
                    this.HomeName.text = itemData.HomeName;
                    this.VisitorName.text = itemData.VisitorName;

                    var bettingResults = [];

                    var onBet = function (bettingResult) {
                        var i = bettingResults.indexOf(bettingResult);
                        if (i < 0) {
                            bettingResults.push(bettingResult);
                        } else {
                            bettingResults.splice(i, 1);
                        }
                    };

                    for (var i = 0; i < betNames.length; ++i) {
                        var betName = betNames[i];
                        var btnBet = this[betName];
                        var bettingResult = itemData[betName]._bettingResult;
                        btnBet.label = itemData[betName].label;
                        btnBet.on(Event.CLICK, this, onBet, [bettingResult]);
                        btnBet.selected = cart.testBettingResult(bettingResult);
                        this[betName + "Per"].text = itemData[betName + "Per"];
                    }

                    this.BtnConfirm.on(Event.CLICK, this, function () {
                        for (var i = 0; i < bettingResults.length; ++i) {
                            var bettingResult = bettingResults[i];
                            cart.toggleBettingResult(bettingResult);
                        }
                        refresh();
                        this.destroy();
                    });
                    this.BtnCancel.on(Event.CLICK, this, function () {
                        this.destroy();
                    });
                }

                Laya.class(BetScoreInfo, "BallgameBetScoreInfo", BetScoreInfoUI);

                this.user_getChosenCount = function () {
                    return cart.getNumberOfBettingResults(bettingType);
                };
                this.user_copyChosen = function () {
                    return new BetScore(this);
                };
            }
        }

        function OrderList(bettingList) {
            OrderList.super(this);
            this.OrderList.addChild(bettingList);

            this.BtnBack.on(Event.CLICK, this, function () {
                this.destroy();
            });
            this.BtnClear.on(Event.CLICK, this, function () {
                this.parent.addChild(new goblin.misc.Confirm(goblin.texts[1126], function () {
                    bettingList.user_clearChosen();
                    this.destroy();
                }.bind(this)));
            });

            this.BtnRate.on(Event.CLICK, this, function () {
                this.RateList.visible = true;
            });

            this.BtnHideRateList.on(Event.CLICK, this, function () {
                this.RateList.visible = false;
            });

            this.BtnRate50.on(Event.CLICK, this, function () {
                this.RateList.visible = false;
                changeFactor(50 - factor);
            });

            this.BtnRate20.on(Event.CLICK, this, function () {
                this.RateList.visible = false;
                changeFactor(20 - factor);
            });

            this.BtnRate10.on(Event.CLICK, this, function () {
                this.RateList.visible = false;
                changeFactor(10 - factor);
            });

            this.BtnAdd.on(Event.CLICK, this, function () {
                changeFactor(1);
            });

            this.BtnDec.on(Event.CLICK, this, function () {
                changeFactor(-1);
            });

            var factor = 1;

            var changeFactor = function (delta) {
                var newFactor = factor + delta;

                if (newFactor < 1) {
                    return;
                }

                factor += delta;
                this.RateTxt.text = factor.toString() + goblin.texts[1019];
                updateCount();
            }.bind(this);

            var getBetInfos = function () {
                return
            };

            var betInfos = null;
            var count = null;

            bettingList.user_onDelete(function () {
                updateCount();
            })

            var updateCount = function () {
                betInfos = bettingList.user_getBetInfos(data.ticket_price.mul(factor).toString());
                count = betInfos.length;
                if (count * factor > maxTotalTicketCount) {
                    var newFactor = Math.floor(maxTotalTicketCount / count);
                    changeFactor(newFactor - factor);
                    this.parent.addChild(new goblin.misc.Tips(goblin.texts[1056].format(maxTotalTicketCount)));
                }
                var c = count * factor;
                this.BetTxt.text = goblin.texts[1018].format(c, (c * ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName);
                this.BtnPay.disabled = c == 0;
            }.bind(this);

            changeFactor(0);

            this.BtnPay.on(Event.CLICK, this, function () {
                var iface = new ethers.Interface(contract.abi);
                var txParams = {
                    to: contract.address,
                    value: (new web3.BigNumber(data.ticket_price.toString())).mul(count * factor),
                    data: iface.functions.bet(betInfos).data
                };
                var loading = new goblin.misc.Loading(goblin.texts[1016]);
                this.parent.addChild(loading);
                goblin.util.buildTxParams(txParams, goblin.privateKey).then(function () {
                    console.info("total value: ", web3.fromWei(txParams.value.toString(), "ether"));
                    console.info("total fee: ", web3.fromWei(txParams.gasLimit.mul(txParams.gasPrice).toString(), "ether"));
                    return goblin.util.sendTransaction(txParams, goblin.privateKey);
                }).then(function (result) {
                    goblin.addPendingBallgameBettingRecords(
                        result,
                        txParams.gasLimit,
                        bettingList.BettingList, ticketPrice, factor
                    );
                    this.parent.removeChild(loading);
                    this.parent.addChild(new goblin.misc.Tips(goblin.texts[1017], function () {
                        bettingList.user_clearChosen();
                        this.destroy();
                    }.bind(this)));
                }.bind(this)).catch(function (error) {
                    this.parent.removeChild(loading);
                    goblin.util.displayTransactionError(error, this.parent);
                }.bind(this));
            });
        }

        Laya.class(BetGoal, "BallgameBetGoal", BetGoalUI);
        Laya.class(BetScore, "BallgameBetScore", BetScoreUI);
        Laya.class(BetWinlose, "BallgameBetWinlose", BetWinloseUI);
        Laya.class(OrderList, "BallgameOrderList", FootBallOrderListUI);
        var betGoal = new BetGoal();
        var betScore = new BetScore();
        var betWinlose = new BetWinlose();
        var cart = new goblin.BallgameBettingCart();

        var tabUIs = [
            betWinlose,
            betScore,
            betGoal
        ];

        var currentTabUI = null;

        var setTabUI = function (tabUI) {
            var tabUIIndex = tabUIs.indexOf(tabUI);
            this.BtnType.selectedIndex = tabUIIndex;
            if (this.BtnType.selectedIndex != tabUIIndex) {
                this.BtnType.selectedIndex = tabUIIndex;
            }
            if (tabUI != currentTabUI) {
                if (currentTabUI) {
                    this.GameMain.removeChild(currentTabUI);
                }

                currentTabUI = tabUI;
                updateTabUI(tabUI);
                this.GameMain.addChild(currentTabUI);
            }
        }.bind(this);

        var updateTabUI = function (tabUI) {
            if (tabUI != currentTabUI) {
                return;
            }
            var c = tabUI.user_getChosenCount();
            this.BetTxt.text = goblin.texts[1018].format(c, (c * ticketPrice).toFixed(goblin.valuePrecision) + " " + goblin.currencyName);
            this.BtnOk.disabled = c == 0;
        }.bind(this);

        setTabUI(tabUIs[0]);

        this.BtnType.on(Event.CLICK, this, function () {
            var nextTabUI = tabUIs[this.BtnType.selectedIndex];
            setTabUI(nextTabUI);
        });

        //---------------------------------------------------

        var batIsEnd = function (match) {
            var now = Math.floor(Date.now() / 1000);                
            return now > match.betting_stop_time.toNumber();
        }
        var acceptData = function (data) {
            var now = Math.floor(Date.now() / 1000);
            ticketPrice = Number(web3.fromWei(data.ticket_price, "ether"));
            maxTotalTicketCount = Number(data.max_total_ticket_count);

            var bettingTypeToBettings = {};
            bettingTypeToBettings[protocol.BettingType.WIN_LOSE_DRAW] = [];
            bettingTypeToBettings[protocol.BettingType.ODD_EVEN] = [];
            bettingTypeToBettings[protocol.BettingType.SCORES] = [];
            var aday = 24 * 60 *60; // 已经投注完的比赛保留一天
            for (var i = 0; i < data.matches.length; ++i) {
                var match = data.matches[i];
                if (match.betting_start_time.toNumber() >= now || match.betting_stop_time.toNumber() < now - aday) continue;
                var matchIsInvalid = false;
                for (var j = 0; j < match.bettings.length; ++j) {
                    var betting = match.bettings[j];
                    if (bettingTypeToBettings[betting.data.type] == undefined) {
                        matchIsInvalid = true;
                        break;
                    }
                }
                if (matchIsInvalid) {
                    continue;
                }
                for (var j = 0; j < match.bettings.length; ++j) {
                    var betting = match.bettings[j];
                    bettingTypeToBettings[betting.data.type].push(betting);
                }
            }

            var timestampToString = function (ts) {
                var d = new Date();
                d.setTime(ts * 1000);
                var endText = "";
                var now = Math.floor(Date.now() / 1000);
                if (ts <= now) {
                    endText = "(投注已截止)";
                }
                return ("00" + (d.getMonth() + 1)).slice(-2) + "-" +
                    ("00" + d.getDate()).slice(-2) + " " +
                    ("00" + d.getHours()).slice(-2) + ":" +
                    ("00" + d.getMinutes()).slice(-2) + endText;
            };

            var config = goblin.config.ballgameBetting;
            var none = "--";
            var p = (100 - data.water_percent.toNumber()) * 10;
            var bettings;
            var arr;
            var t;

            //---------------------------
            bettings = bettingTypeToBettings[protocol.BettingType.ODD_EVEN];
            arr = [];
            t = {
                BetOdd: [protocol.OddEven.ODD, 1074],
                BetEven: [protocol.OddEven.EVEN, 1075],
            };
            for (var i = 0; i < bettings.length; ++i) {
                var betting = bettings[i];
                var totalValue1 = betting.total_value;
                var match = betting.parent;

                var isEnded = batIsEnd(match);
                var itemData = {
                    TotalBonus: Number(web3.fromWei(totalValue1.toString(), "ether")).toFixed(goblin.valuePrecision) + " " + goblin.currencyName,
                    GameType: config.leagueName(match.data.league_id),
                    HomeName: config.teamName(match.data.team1_id),
                    VisitorName: config.teamName(match.data.team2_id),
                    EndTime: timestampToString(match.betting_stop_time.toNumber()),
                    _rawType: [1089],
                    _betting: betting, 
                    isEnded: isEnded,
                };

                for (var key in t) {
                    var val = t[key];
                    var bettingResult = betting.result_of_type[val[0]];
                    var totalValue2 = bettingResult.total_value;
                    var labelText = goblin.texts[val[1]];
                    if (isEnded) {
                        labelText = "{} ({})".format(goblin.texts[val[1]], totalValue2.eq(0) ? none : (totalValue1.mul(p).div(totalValue2).toNumber() / 1000));
                    }
                    itemData[key] = {
                        label: labelText,
                        selected: false,
                        _labelBasicTextID: val[1],
                        _bettingResult: bettingResult
                    };
                    itemData[key + "Per"] = "{}%".format(totalValue1.eq(0) ? none : (totalValue2.mul(1000).div(totalValue1).toNumber() / 10))
                }
                arr.unshift(itemData);
                //arr.push(itemData);
            }
            betGoal.user_setList(arr);
            //---------------------------
            bettings = bettingTypeToBettings[protocol.BettingType.WIN_LOSE_DRAW];
            arr = [];
            t = {
                BetHome: [protocol.WinLoseDraw.WIN, 1071],
                BetVisitor: [protocol.WinLoseDraw.LOSE, 1072],
                BetDraw: [protocol.WinLoseDraw.DRAW, 1073]
            };
            for (var i = 0; i < bettings.length; ++i) {
                var betting = bettings[i];
                var totalValue1 = betting.total_value;
                var match = betting.parent;

                var isEnded = batIsEnd(match);
                var itemData = {
                    TotalBonus: Number(web3.fromWei(totalValue1.toString(), "ether")).toFixed(goblin.valuePrecision) + " " + goblin.currencyName,
                    GameType: config.leagueName(match.data.league_id),
                    HomeName: config.teamName(match.data.team1_id),
                    VisitorName: config.teamName(match.data.team2_id),
                    EndTime: timestampToString(match.betting_stop_time.toNumber()),
                    _rawType: [1090],
                    _betting: betting,
                    isEnded: isEnded
                };

                for (var key in t) {
                    var val = t[key];
                    var labelText = goblin.texts[val[1]];
                    var bettingResult = betting.result_of_type[val[0]];
                    var totalValue2 = bettingResult.total_value;
                    if (isEnded) {
                        labelText = "{} ({})".format(goblin.texts[val[1]], totalValue2.eq(0) ? none : (totalValue1.mul(p).div(totalValue2).toNumber() / 1000));
                    }
                    itemData[key] = {
                        label: labelText,
                        selected: false,
                        _labelBasicTextID: val[1],
                        _bettingResult: bettingResult
                    };
                    itemData[key + "Per"] = "{}%".format(totalValue1.eq(0) ? none : (totalValue2.mul(1000).div(totalValue1).toNumber() / 10))
                }

                arr.unshift(itemData);
            }
            betWinlose.user_setList(arr);
            //---------------------------
            bettings = bettingTypeToBettings[protocol.BettingType.SCORES];
            arr = [];
            t = {
                Bet00: [protocol.Scores.SCORES_0V0, 1076],
                Bet01: [protocol.Scores.SCORES_0V1, 1077],
                Bet10: [protocol.Scores.SCORES_1V0, 1078],
                Bet02: [protocol.Scores.SCORES_0V2, 1079],
                Bet20: [protocol.Scores.SCORES_2V0, 1080],
                Bet11: [protocol.Scores.SCORES_1V1, 1081],
                Bet12: [protocol.Scores.SCORES_1V2, 1082],
                Bet21: [protocol.Scores.SCORES_2V1, 1083],
                Bet22: [protocol.Scores.SCORES_2V2, 1084],
                BetWin: [protocol.Scores.SCORES_WIN, 1085],
                BetLose: [protocol.Scores.SCORES_LOSE, 1086],
                BetDraw: [protocol.Scores.SCORES_DRAW, 1087]
            };
            for (var i = 0; i < bettings.length; ++i) {
                var betting = bettings[i];
                var totalValue1 = betting.total_value;
                var match = betting.parent;

                var isEnded = batIsEnd(match);
                var itemData = {
                    TotalBonus: Number(web3.fromWei(totalValue1.toString(), "ether")).toFixed(goblin.valuePrecision) + " " + goblin.currencyName,
                    GameType: config.leagueName(match.data.league_id),
                    HomeName: config.teamName(match.data.team1_id),
                    VisitorName: config.teamName(match.data.team2_id),
                    EndTime: timestampToString(match.betting_stop_time.toNumber()),
                    _rawType: [1091],
                    _betting: betting,
                    isEnded: isEnded
                };

                for (var key in t) {
                    var val = t[key];
                    var bettingResult = betting.result_of_type[val[0]];
                    var totalValue2 = bettingResult.total_value;

                    var labelText = goblin.texts[val[1]];
                    if (isEnded) {
                        labelText = "{} ({})".format(goblin.texts[val[1]], totalValue2.eq(0) ? none : (totalValue1.mul(p).div(totalValue2).toNumber() / 1000));
                    }
                    itemData[key] = {
                        label: labelText,
                        selected: false,
                        _labelBasicTextID: val[1],
                        _bettingResult: bettingResult
                    };
                    itemData[key + "Per"] = "{}%".format(totalValue1.eq(0) ? none : (totalValue2.mul(1000).div(totalValue1).toNumber() / 10))
                }

                arr.unshift(itemData);
            }
            betScore.user_setList(arr);
        };

        acceptData(data);
        setInterval(function () {
            getData(function (error, newData) {
                if (error) throw error;
                acceptData(newData);
                data = newData;
            });
        }, 15000);

        //---------------------------

        this.BtnBack.on(Event.CLICK, this, function () {
            this.parent.removeChild(this);
        });

        this.BtnOk.on(Event.CLICK, this, function () {
            this.addChild(new OrderList(currentTabUI.user_copyChosen()));
        });
    }

    var getData = function (callback) {
        var data = {};
        var stop = false;
        var putCount = 0;

        var put = function (error, key, value) {
            if (stop) {
                return;
            }

            if (error) {
                stop = true;
                callback(error);
            } else {
                data[key] = value;

                if (--putCount == 0) {
                    callback(null, data);
                }
            }
        };

        var contract2 = new ethers.Contract(contract.address, contract.abi, new ethers.providers.Web3Provider(web3.currentProvider));

        contract2.get_matches().then(function (result) {
            for (var i = 0; i < result.length; ++i) {
                var match = result[i];
                match.length = 0;
                match.betting_of_type = {};
                match.data = protocol.Match.decode(ethereumjs.Buffer.Buffer.from(match.data.substr(2), "hex"));
                for (var j = 0; j < match.bettings.length; ++j) {
                    var betting = match.bettings[j];
                    betting.length = 0;
                    betting.parent = match;
                    betting.index = j;
                    betting.result_of_type = {};
                    betting.total_value = new ethers.utils.BigNumber(0);
                    betting.better_count = 0;
                    betting.data = protocol.Betting.decode(ethereumjs.Buffer.Buffer.from(betting.data.substr(2), "hex"));
                    match.betting_of_type[betting.data.type] = betting;
                    for (var k = 0; k < betting.results.length; ++k) {
                        var bettingResult = betting.results[k];
                        bettingResult.length = 0;
                        bettingResult.parent = betting;
                        bettingResult.index = k;
                        bettingResult.data = protocol.BettingResult.decode(ethereumjs.Buffer.Buffer.from(bettingResult.data.substr(2), "hex"));
                        betting.result_of_type[bettingResult.data[bettingResult.data.value]] = bettingResult;
                        betting.total_value = betting.total_value.add(bettingResult.total_value);
                        betting.better_count += betting.better_count;
                    }
                }
            }
            put(null, "matches", result);
        }).catch(function (error) {
            put(error);
        }), ++putCount;

        contract.get_water_percent(function (error, result) {
            put(error, "water_percent", result);
        }), ++putCount;

        contract.get_ticket_price(function (error, result) {
            put(error, "ticket_price", result);
        }), ++putCount;

        contract.get_max_total_ticket_count(function (error, result) {
            put(error, "max_total_ticket_count", result);
        }), ++putCount;
    };

    Laya.class(GameMain, "BallgameBettingMain", GameMain3UI);
    goblin.newBallgameBettingMain = newGameMain;
})();
if (typeof __GAME_ENTRY__ !== "undefined") (function () {
    "use strict";

    goblin.BallgameBettingCart = function () {
        this.matchIndex2BettingIndex2ResultIndexes = {};
        this.bettingType2FullIndexes = {};
        this.unmarkedBettingType = null;
        this.unmarkedBettingFullIndexes = null;
    };

    var CartPrototype = goblin.BallgameBettingCart.prototype;

    var makeBettingFullIndex = function (matchIndex, bettingIndex) {
        return "{}:{}".format(matchIndex, bettingIndex);
    };

    var parseBettingFullIndex = function (bettingFullIndex) {
        return bettingFullIndex.split(":").map(Number);
    }

    CartPrototype.toggleBettingResult = function (bettingResult) {
        var betting = bettingResult.parent;
        var match = betting.parent;
        var bettingIndex2ResultIndexes = this.matchIndex2BettingIndex2ResultIndexes[match.index];
        if (bettingIndex2ResultIndexes == undefined) {
            bettingIndex2ResultIndexes = {};
            this.matchIndex2BettingIndex2ResultIndexes[match.index] = bettingIndex2ResultIndexes;
        }
        var bettingResultIndexes = bettingIndex2ResultIndexes[betting.index];
        if (bettingResultIndexes == undefined) {
            bettingResultIndexes = [];
            bettingIndex2ResultIndexes[betting.index] = bettingResultIndexes;
        }
        var oldBettingResultIndexCount = bettingResultIndexes.length;
        var i = bettingResultIndexes.indexOf(bettingResult.index);
        if (i < 0) {
            bettingResultIndexes.push(bettingResult.index);
        } else {
            bettingResultIndexes.splice(i, 1);
        }
        var newBettingResultIndexCount = bettingResultIndexes.length;
        var bettingFullIndexes = this.bettingType2FullIndexes[betting.data.type];
        var bettingFullIndex = makeBettingFullIndex(match.index, betting.index);
        if (oldBettingResultIndexCount == 0) {
            if (bettingFullIndexes == undefined) {
                bettingFullIndexes = {};
                this.bettingType2FullIndexes[betting.data.type] = bettingFullIndexes;
            }
            bettingFullIndexes[bettingFullIndex] = true;
        } else if (newBettingResultIndexCount == 0) {
            delete bettingFullIndexes[bettingFullIndex];
        }
    };

    CartPrototype._clearBetting = function (matchIndex, bettingIndex, bettingType) {
        var bettingIndex2ResultIndexes = this.matchIndex2BettingIndex2ResultIndexes[matchIndex];
        var bettingFullIndexes = this.bettingType2FullIndexes[bettingType];
        var bettingFullIndex = makeBettingFullIndex(matchIndex, bettingIndex);
        delete bettingIndex2ResultIndexes[bettingIndex];
        delete bettingFullIndexes[bettingFullIndex];
    };

    CartPrototype.clearBetting = function (betting) {
        var match = betting.parent;
        this._clearBetting(match.index, betting.index, betting.data.type);
    };

    CartPrototype.clearBettings = function (bettingType) {
        var bettingFullIndexes = this.bettingType2FullIndexes[bettingType];
        if (bettingFullIndexes == undefined) {
            bettingFullIndexes = {};
        }
        for (var matchIndex in this.matchIndex2BettingIndex2ResultIndexes) {
            var bettingIndex2ResultIndexes = this.matchIndex2BettingIndex2ResultIndexes[matchIndex];
            for (var bettingIndex in bettingIndex2ResultIndexes) {
                var bettingFullIndex = makeBettingFullIndex(matchIndex, bettingIndex);
                if (bettingFullIndexes[bettingFullIndex]) {
                    delete bettingIndex2ResultIndexes[bettingIndex];
                    delete bettingFullIndexes[bettingFullIndex];
                }
            }
        }
    }

    CartPrototype.clearUnmarkedBettingsBegin = function (bettingType) {
        this.unmarkedBettingType = bettingType;
        this.unmarkedBettingFullIndexes = {};
        var bettingFullIndexes = this.bettingType2FullIndexes[bettingType];
        if (bettingFullIndexes != undefined) {
            for (var bettingFullIndex in bettingFullIndexes) {
                this.unmarkedBettingFullIndexes[bettingFullIndex] = true;
            }
        }
    }

    CartPrototype.markBetting = function (betting) {
        var match = betting.parent;
        var bettingFullIndex = makeBettingFullIndex(match.index, betting.index);
        delete this.unmarkedBettingFullIndexes[bettingFullIndex];
    }

    CartPrototype.clearUnmarkedBettingsEnd = function () {
        for (var bettingFullIndex in this.unmarkedBettingFullIndexes) {
            var temp = parseBettingFullIndex(bettingFullIndex);
            this._clearBetting(temp[0], temp[1], this.unmarkedBettingType);
        }
        this.unmarkedBettingType = null;
        this.unmarkedBettingFullIndexes = null;
    }

    CartPrototype.getNumberOfBettingResults = function (bettingType) {
        var bettingResultCount = 0;
        var bettingFullIndexes = this.bettingType2FullIndexes[bettingType];
        if (bettingFullIndexes == undefined) {
            bettingFullIndexes = {};
        }
        for (var matchIndex in this.matchIndex2BettingIndex2ResultIndexes) {
            var bettingIndex2ResultIndexes = this.matchIndex2BettingIndex2ResultIndexes[matchIndex];
            for (var bettingIndex in bettingIndex2ResultIndexes) {
                var bettingFullIndex = makeBettingFullIndex(matchIndex, bettingIndex);
                if (bettingFullIndexes[bettingFullIndex]) {
                    var bettingResultIndexes = bettingIndex2ResultIndexes[bettingIndex];
                    bettingResultCount += bettingResultIndexes.length;
                }
            }
        }

        return bettingResultCount;
    }

    CartPrototype.testBettingResult = function (bettingResult) {
        var betting = bettingResult.parent;
        var match = betting.parent;
        var bettingIndex2ResultIndexes = this.matchIndex2BettingIndex2ResultIndexes[match.index];
        if (bettingIndex2ResultIndexes == undefined) return false;
        var bettingResultIndexes = bettingIndex2ResultIndexes[betting.index];
        if (bettingResultIndexes == undefined) return false;
        var i = bettingResultIndexes.indexOf(bettingResult.index);
        return i >= 0;
    };

    CartPrototype.testBetting = function (betting) {
        var match = betting.parent;
        var bettingIndex2ResultIndexes = this.matchIndex2BettingIndex2ResultIndexes[match.index];
        if (bettingIndex2ResultIndexes == undefined) return false;
        var bettingResultIndexes = bettingIndex2ResultIndexes[betting.index];
        if (bettingResultIndexes == undefined) return false;
        return bettingResultIndexes.length >= 1;
    };

    CartPrototype.getBetInfos = function (betting, bettingValueForPerResult) {
        var match = betting.parent;
        var bettingIndex2ResultIndexes = this.matchIndex2BettingIndex2ResultIndexes[match.index];
        if (bettingIndex2ResultIndexes == undefined) return [];
        var bettingResultIndexes = bettingIndex2ResultIndexes[betting.index];
        if (bettingResultIndexes == undefined) return [];
        var betInfos = [];
        for (var i = 0; i < bettingResultIndexes.length; ++i) {
            betInfos.push([match.index, betting.index, bettingResultIndexes[i], bettingValueForPerResult]);
        }
        return betInfos;
    };
})();
if (typeof __GAME_ENTRY__ !== "undefined") (function () {
    "use strict";

    var TYPE_KUAISAN = "kuaisan";
    var TYPE_COIN_FLIPPING = "coin_flipping";
    var TYPE_BALLGAME_BETTING = "ballgame_betting";
    goblin.RECORD_TYPE_KUAISAN = TYPE_KUAISAN;
    goblin.RECORD_TYPE_COIN_FLIPPING = TYPE_COIN_FLIPPING;
    goblin.RECORD_TYPE_BALLGAME_BETTING = TYPE_BALLGAME_BETTING;

    var PENDING_RECORDS_STORAGE_NAME = "rawPendingRecords.v5";
    var RECORDS_STORAGE_NAME = "rawRecords.v5";

    var TYPE_2_GAME_NAME = {
        [TYPE_KUAISAN]: goblin.util.makeText([1000]),
        [TYPE_COIN_FLIPPING]: goblin.util.makeText([1042]),
        [TYPE_BALLGAME_BETTING]: goblin.util.makeText([1092]),
    };

    var STAUTS_PENDING = 0;
    var STAUTS_ERROR = 1;
    var STAUTS_WON = 2;
    var STAUTS_WAIT = 3;
    var STAUTS_LOST = 4;

    var addPendingRecords = function (transactionHash, gasLimit, rawRecords) {
        var json = Laya.LocalStorage.getItem(PENDING_RECORDS_STORAGE_NAME);
        var rawPendingRecords = json ? JSON.parse(json) : {};
        var now = Math.floor(Date.now() / 1000);
        rawPendingRecords[transactionHash] = {
            gasLimit: gasLimit.toString(),
            rawRecords: rawRecords,
            deadline: now + 10 * 60,
        };
        json = JSON.stringify(rawPendingRecords);
        Laya.LocalStorage.setItem(PENDING_RECORDS_STORAGE_NAME, json);
    };

    goblin.addPendingKuaisanRecords = function (transactionHash, gasLimit, roundNumber, orderList, ticketPrice, odds, factor) {
        var rawRecords = [];
        for (var i = 0; i < orderList.array.length; ++i) {
            var t = orderList.array[i];
            rawRecords.push({
                _type: TYPE_KUAISAN,
                _roundNumber: roundNumber,
                _factor: factor,
                _status: STAUTS_PENDING,
                _hands: t._tickets.length,

                _tickets: t._tickets,
                _ticketPrice: ticketPrice,
                _odds: odds,

                _rawRound: [1029, roundNumber],
                _rawType: t._rawType,
                _rawPrice: (t._tickets.length * ticketPrice * factor).toFixed(goblin.valuePrecision) + " " + goblin.currencyName,
                _rawText: [1044],
                _rawBonus: "",

                _rawNumbers: t.Numbers,
            });
        }
        addPendingRecords(transactionHash, gasLimit, rawRecords);
    };

    goblin.addPendingCoinFlippingRecord = function (transactionHash, gasLimit, roundNumber, order, ticketPrice, oddsX10, factor) {
        addPendingRecords(transactionHash, gasLimit, [{
                _type: TYPE_COIN_FLIPPING,
                _roundNumber: roundNumber,
                _factor: factor,
                _status: STAUTS_PENDING,
                _hands: 1,

                _coinSide: order._coinSide,
                _ticketPrice: ticketPrice,
                _oddsX10: oddsX10,

                _rawRound: [1029, roundNumber],
                _rawType: order._rawType,
                _rawPrice: (ticketPrice * factor).toFixed(goblin.valuePrecision) + " " + goblin.currencyName,
                _rawText: [1044],
                _rawBonus: "",
        }]);
    };

    goblin.addPendingBallgameBettingRecords = function (transactionHash, gasLimit, bettingList, ticketPrice, factor) {
        var rawRecords = [];
        for (var i = 0; i < bettingList.array.length; ++i) {
            var t = bettingList.array[i];
            rawRecords.push({
                _type: TYPE_BALLGAME_BETTING,
                _factor: factor,
                _status: STAUTS_PENDING,

                _matchId: t._betting.parent.id,
                _matchData: t._betting.parent.data,
                _betInfos: t._betInfos,
                _betNameTextIDs: t._betNameTextIDs,
                _ticketPrice: ticketPrice,

                _rawRound: "",
                _rawType: t._rawType,
                _rawPrice: (t._betInfos.length * ticketPrice * factor).toFixed(goblin.valuePrecision) + " " + goblin.currencyName,
                _rawText: [1044],
                _rawBonus: "",
            });
        }
        addPendingRecords(transactionHash, gasLimit, rawRecords);
    };

    var getTransactionReceipt = function (transactionHash, gasLimit, callback) {
        web3.eth.getTransactionReceipt(transactionHash, function (error, result) {
            if (error) {
                if (error.message == "unknown transaction") {
                    callback(transactionHash, 0);
                    return;
                }

                throw error;
            }

            if (!result) {
                callback(transactionHash, 0);
                return;
            }

            if (new web3.BigNumber(result.gasUsed).eq(gasLimit)) {
                callback(transactionHash, -1);
            } else {
                callback(transactionHash, 1);
            }
        });
    };

    var updatePendingRecords = function (rawRecords, callback) {
        var rawPendingRecordList = [];
        var json = Laya.LocalStorage.getItem(PENDING_RECORDS_STORAGE_NAME);
        var rawPendingRecords = json ? JSON.parse(json) : {};
        var doneCount = 0;
        var done = function (transactionHash, result) {
            var rawPendingRecords2 = rawPendingRecords[transactionHash];
            if (result == 0) {
                var now = Math.floor(Date.now() / 1000);
                if (now > rawPendingRecords2.deadline) {
                    delete rawPendingRecords[transactionHash];
                } else {
                    Array.prototype.push.apply(rawPendingRecordList, rawPendingRecords2.rawRecords);
                }
            } else if (result > 0) {
                for (var i = 0; i < rawPendingRecords2.rawRecords.length; ++i) {
                    var rawRecord = rawPendingRecords2.rawRecords[i];
                    rawRecord._status = STAUTS_WAIT;
                    rawRecord._rawText = [rawRecord._type == TYPE_BALLGAME_BETTING ? 1093 : 1030];
                    rawRecords.push(rawRecord);
                }
                delete rawPendingRecords[transactionHash];
            } else {
                for (var i = 0; i < rawPendingRecords2.rawRecords.length; ++i) {
                    var rawRecord = rawPendingRecords2.rawRecords[i];
                    rawRecord._status = STAUTS_ERROR;
                    rawRecord._rawText = [1043];
                    rawRecords.push(rawRecord);
                }
                delete rawPendingRecords[transactionHash];
            }
            if (++doneCount < doCount) return;
            json = JSON.stringify(rawPendingRecords);
            Laya.LocalStorage.setItem(PENDING_RECORDS_STORAGE_NAME, json);
            callback(rawPendingRecordList);
        };
        var doCount = 0;
        for (var transactionHash in rawPendingRecords) {
            var rawPendingRecords2 = rawPendingRecords[transactionHash];
            getTransactionReceipt(transactionHash, rawPendingRecords2.gasLimit, done), ++doCount;
        }
        if (doCount == 0) {
            setTimeout(callback, 0, rawPendingRecordList);
        }
    };

    function setRecordBonus(rawRecord, bonus, resultFieldName, resultFieldValue) {
        rawRecord[resultFieldName] = resultFieldValue;
        if (bonus == 0) {
            rawRecord._status = STAUTS_LOST;
            rawRecord._rawText = [1031];
        } else {
            rawRecord._status = STAUTS_WON;
            rawRecord._rawText = "";
            rawRecord._bonus = bonus;
            rawRecord._rawBonus = "+" + bonus.toFixed(goblin.valuePrecision) + " " + goblin.currencyName;
        }
    }

    function updateKuaisanRecords(rawRecords, callback) {
        var rawRecordsNeedUpdating = [];
        for (var i = 0; i < rawRecords.length; ++i) {
            var rawRecord = rawRecords[i];
            if (rawRecord._type != TYPE_KUAISAN || rawRecord._status != STAUTS_WAIT) continue;
            rawRecordsNeedUpdating.push(rawRecord);
        }
        if (rawRecordsNeedUpdating.length == 0) {
            setTimeout(callback, 0);
            return;
        }

        var roundCount;
        var luckyNumbers;

        var doneCount = 0;
        var done = function () {
            if (++doneCount < doCount) return;
            for (var i = 0; i < rawRecordsNeedUpdating.length; ++i) {
                var rawRecord = rawRecordsNeedUpdating[i];
                var j = roundCount - rawRecord._roundNumber;
                if (j < 0 || j >= luckyNumbers.length) continue;
                var luckyNumber = luckyNumbers[j];
                if (luckyNumber == 0) continue;

                var totalGain = 0;

                for (j = 0; j < rawRecord._tickets.length; ++j) {
                    var ticket = rawRecord._tickets[j];
                    var m = 0;
                    var n = 0;
                    for (var k = 0; k < ticket.length; ++k) {
                        var number = ticket[k];
                        if (number == luckyNumber) {
                            ++m;
                        }
                        n += goblin.kuaisan.code_2_weight(goblin.kuaisan.number_2_code(number));
                    }
                    var gain = rawRecord._ticketPrice * rawRecord._odds * rawRecord._factor * m / n;
                    totalGain += gain;
                }

                setRecordBonus(rawRecord, totalGain, "_luckyNumber", luckyNumber);
            }
            callback();
        };

        var kuaisanContract = goblin.contract.kuaisan;
        var doCount = 0;

        kuaisanContract.get_round_count(function (error, result) {
            if (error) throw error;
            roundCount = result.toNumber()
            done();
        }), ++doCount;

        kuaisanContract.get_lucky_codes(function (error, result) {
            if (error) throw error;
            var luckyCodes = result;
            luckyNumbers = [];
            for (var i = 0; i < luckyCodes.length; ++i) {
                var luckyNumber;
                if (luckyCodes[i] == goblin.kuaisan.NO_CODE) {
                    luckyNumber = 0;
                } else {
                    luckyNumber = goblin.kuaisan.code_2_number(luckyCodes[i]);
                }
                luckyNumbers.push(luckyNumber);
            }
            done();
        }), ++doCount;
    }

    function updateCoinFlippingRecords(rawRecords, callback) {
        var rawRecordsNeedUpdating = [];
        for (var i = 0; i < rawRecords.length; ++i) {
            var rawRecord = rawRecords[i];
            if (rawRecord._type != TYPE_COIN_FLIPPING || rawRecord._status != STAUTS_WAIT) continue;
            rawRecordsNeedUpdating.push(rawRecord);
        }
        if (rawRecordsNeedUpdating.length == 0) {
            setTimeout(callback, 0);
            return;
        }

        var roundCount;
        var luckySides;

        var doneCount = 0;
        var done = function () {
            if (++doneCount < doCount) return;
            for (var i = 0; i < rawRecordsNeedUpdating.length; ++i) {
                var rawRecord = rawRecordsNeedUpdating[i];
                var j = roundCount - rawRecord._roundNumber;
                if (j < 0 || j >= luckySides.length) continue;
                var luckySide = luckySides[j];
                if (luckySide < 0) continue;

                var totalGain;

                if (rawRecord._coinSide == luckySide) {
                    totalGain = rawRecord._ticketPrice * rawRecord._factor * rawRecord._oddsX10 / 10;
                } else {
                    totalGain = 0;
                }

                setRecordBonus(rawRecord, totalGain, "_luckySide", luckySide);
            }
            callback();
        };

        var coinFlippingContract = goblin.contract.coinFlipping;
        var doCount = 0;

        coinFlippingContract.get_round_count(function (error, result) {
            if (error) throw error;
            roundCount = result.toNumber()
            done();
        }), ++doCount;

        coinFlippingContract.get_lucky_sides(function (error, result) {
            if (error) throw error;
            luckySides = [];
            for (var i = 0; i < result.length; ++i) {
                var luckySide;
                if (result[i] == goblin.coinFlipping.NO_SIDE) {
                    luckySide = -1;
                } else {
                    luckySide = result[i];
                }
                luckySides.push(luckySide);
            }
            done();
        }), ++doCount;
    }

    function updateBallgameBettingRecords(rawRecords, callback) {
        var rawRecordsNeedUpdating = [];
        for (var i = 0; i < rawRecords.length; ++i) {
            var rawRecord = rawRecords[i];
            if (rawRecord._type != TYPE_BALLGAME_BETTING || rawRecord._status != STAUTS_WAIT) continue;
            rawRecordsNeedUpdating.push(rawRecord);
        }
        if (rawRecordsNeedUpdating.length == 0) {
            setTimeout(callback, 0);
            return;
        }

        var doneCount = 0;
        var done = function () {
            if (++doneCount < doCount) return;
            for (var i = 0; i < rawRecordsNeedUpdating.length; ++i) {
                var rawRecord = rawRecordsNeedUpdating[i];
                var drawInfo = matchIdToDrawInfo[rawRecord._matchId];
                if (!drawInfo) continue;
                var totalGain = 0;
                var scores;
                for (var j = 0; j < rawRecord._betInfos.length; ++j) {
                    var betInfo = rawRecord._betInfos[j];
                    var betting = drawInfo.bettings[betInfo[1]];
                    var bettingResultIndex = betting.result_index;
                    var odds = new web3.BigNumber(betting.odds.toString());
                    if (bettingResultIndex < 0) {
                        totalGain += web3.fromWei(odds.mul(rawRecord._ticketPrice * rawRecord._factor), "ether").toNumber();
                        scores = [];
                    } else if (betInfo[2] == bettingResultIndex) {
                        totalGain += web3.fromWei(odds.mul(rawRecord._ticketPrice * rawRecord._factor), "ether").toNumber();
                        scores = [drawInfo.data.score1, drawInfo.data.score2];
                    } else {
                        scores = [drawInfo.data.score1, drawInfo.data.score2];
                    }
                }
                setRecordBonus(rawRecord, totalGain, "_scores", scores);
            }
            callback();
        };

        var ballgameBettingContract = goblin.contract.ballgameBetting;
        var ballgameBettingProtocol = goblin.protocol.ballgameBetting;
        ballgameBettingContract = new ethers.Contract(ballgameBettingContract.address, ballgameBettingContract.abi, new ethers.providers.Web3Provider(web3.currentProvider));
        var doCount = 0;

        var matchIdToDrawInfo = {};
        ballgameBettingContract.get_draw_infos().then(function (result) {
            for (var i = 0; i < result.length; ++i) {
                var drawInfo = result[i];
                drawInfo.data = ballgameBettingProtocol.Draw.decode(ethereumjs.Buffer.Buffer.from(drawInfo.data.substr(2), "hex"))
                matchIdToDrawInfo[drawInfo.match_id] = drawInfo;
            }
            done();
        }).catch(function (error) {
            throw error;
        }), ++doCount;
    }

    goblin.updateRecords = function (callback) {
        var json = Laya.LocalStorage.getItem(RECORDS_STORAGE_NAME);
        var rawRecords = json ? JSON.parse(json) : [];
        updatePendingRecords(rawRecords, function (rawPendingRecords) {
            if (rawRecords.length > 100) {
                rawRecords = rawRecords.slice(rawRecords.length - 100);
            }

            var doneCount = 0;
            var done = function () {
                if (++doneCount < doCount) return;
                json = JSON.stringify(rawRecords);
                Laya.LocalStorage.setItem(RECORDS_STORAGE_NAME, json);
                Array.prototype.push.apply(rawRecords, rawPendingRecords);

                var records = [];
                for (var i = rawRecords.length - 1; i >= 0; --i) {
                    var rawRecord = rawRecords[i];
                    records.push({
                        _raw: rawRecord,
                        Round: goblin.util.makeText(rawRecord._rawRound),
                        Type: TYPE_2_GAME_NAME[rawRecord._type] + " - " + goblin.util.makeText(rawRecord._rawType),
                        Price: goblin.util.makeText(rawRecord._rawPrice),
                        Text: goblin.util.makeText(rawRecord._rawText),
                        Bonus: goblin.util.makeText(rawRecord._rawBonus),
                    });
                }
                callback(records);
            };

            var doCount = 0;
            updateKuaisanRecords(rawRecords, done), ++doCount;
            updateCoinFlippingRecords(rawRecords, done), ++doCount;
            updateBallgameBettingRecords(rawRecords, done), ++doCount;
        });
    }
})();

(function () {
    "use strict";

    var Handler = laya.utils.Handler;
    var Event = laya.events.Event;

    function Deposit(address) {
        Deposit.super(this);

        this.Address.text = address.substring(2);
        var amount = 0;

        var redrawQRCode = function () {
            goblin.util.drawQRCode("ethereum:" + address + "?value=" + amount, this.WalletIcon);
        }.bind(this);

        redrawQRCode();

        this.EditMoney.on(Event.INPUT, this, function () {
            try {
                amount = web3.toWei(new web3.BigNumber(this.EditMoney.text), "ether");
            } catch (e) {
                this.EditMoney.text = "";
                amount = new web3.BigNumber(0);
            }

            redrawQRCode();
        });

        this.BtnBack.on(Event.CLICK, this, function () {
            this.destroy();
        });

        this.BtnCopy.on(Event.CLICK, this, function () {
            goblin.util.copyToClipboard(this.Address.text);
        });
    }

    Laya.class(Deposit, "Deposit", DepositUI);
})();
    
if (typeof __GAME_ENTRY__ !== "undefined") (function () {
    "use strict";

    var Handler = laya.utils.Handler;
    var Event = laya.events.Event;

    var INDEX_LOBBY = 0;
    var INDEX_RECORD = 1;
    var INDEX_WALLET = 2;

    function newHomeMain(parent, callback) {
        var loading = new goblin.misc.Loading(goblin.texts[1001]);
        parent.addChild(loading);

        initGameIndexes(function () {
            parent.removeChild(loading);
            var homeMain = new HomeMain();
            parent.addChild(homeMain);
            callback(homeMain);
        });
    }

    var INDEX_KUAISAN;
    var INDEX_COIN_FLIPPING;
    var INDEX_BALLGAME_BETTING;

    var initGameIndexes = function(callback) {
        var count = 0;
        var done = function() {
            if (--count >= 1) return;
            callback();
        };
        var nextGameIndex = 0;
        goblin.contract.coinFlipping.get_disabled(function (error, result) {
            //if (error) throw error;
            INDEX_COIN_FLIPPING = result ? -1 : nextGameIndex++;
            done();
        }), ++count;
        goblin.contract.kuaisan.get_disabled(function (error, result) {
            //if (error) throw error;
            INDEX_KUAISAN = result ? -1 : nextGameIndex++;
            done();
        }), ++count;
        goblin.contract.ballgameBetting.get_disabled(function (error, result) {
            //if (error) throw error;
            INDEX_BALLGAME_BETTING = result ? -1 : nextGameIndex++;
            done();
        }), ++count;
    };

    function HomeMain() {
        HomeMain.super(this);

        var kuaisanMain = null;
        var coinFlippingMain = null;
        var ballgameBettingMain = null;

        var array = [];
        if (INDEX_KUAISAN >= 0) array[INDEX_KUAISAN] = {Icon: "resource/icon1.png"};
        if (INDEX_COIN_FLIPPING >= 0) array[INDEX_COIN_FLIPPING] = {Icon: "resource/icon2.png"};
        if (INDEX_BALLGAME_BETTING >= 0) array[INDEX_BALLGAME_BETTING] = {Icon: "resource/icon3.png"};
        this.GameList.array = array;
        this.GameList.vScrollBarSkin = "";

        var kuaisanOnClick = function () {
            if (kuaisanMain && !kuaisanMain.destroyed) {
                this.parent.addChild(kuaisanMain);
            } else {
                goblin.newKuaisanMain(this.parent, function (gameMain) {
                    kuaisanMain = gameMain;
                });
            }
        };

        var coinFlippingOnClick = function () {
            if (coinFlippingMain && !coinFlippingMain.destroyed) {
                this.parent.addChild(coinFlippingMain);
            } else {
                goblin.newCoinFlippingMain(this.parent, function (gameMain) {
                    coinFlippingMain = gameMain;
                });
            }
        };

        var ballgameBettingOnClick = function () {
            if (ballgameBettingMain && !ballgameBettingMain.destroyed) {
                this.parent.addChild(ballgameBettingMain);
            } else {
                goblin.newBallgameBettingMain(this.parent, function (gameMain) {
                    ballgameBettingMain = gameMain;
                });
            }
        };

        this.GameList.renderHandler = new Handler(this, function (item, index) {
            switch (index) {
            case INDEX_KUAISAN: item.on(Event.CLICK, this, kuaisanOnClick); break;
            case INDEX_COIN_FLIPPING: item.on(Event.CLICK, this, coinFlippingOnClick); break;
            case INDEX_BALLGAME_BETTING: item.on(Event.CLICK, this, ballgameBettingOnClick); break;
            }
        });

        var curFuncIndex = 0;
        this.BtnFunc.selectedIndex = curFuncIndex;

        this.BtnFunc.on(Event.CLICK, this, function () {
            if (this.BtnFunc.selectedIndex == INDEX_RECORD) {
                this.BtnFunc.selectedIndex = curFuncIndex;
                var loading = new goblin.misc.Loading(goblin.texts[1001]);
                this.parent.addChild(loading);
                goblin.updateRecords(function (records) {
                    this.parent.removeChild(loading);
                    this.parent.addChild(new Record(records));
                }.bind(this));
            } else if (this.BtnFunc.selectedIndex == INDEX_WALLET) {
                this.BtnFunc.selectedIndex = curFuncIndex;
                this.parent.addChild(new MyWallet(this));
            } else {
                curFuncIndex = this.BtnFunc.selectedIndex;
            }
        });
    }

    function MyWallet(homeMain) {
        MyWallet.super(this);

        var address = "0x" + ethereumjs.Util.privateToAddress(goblin.privateKey).toString("hex");
        this.Address.text = address.substring(2);

        goblin.util.drawQRCode("ethereum:" + address, this.WalletIcon);

        this.BtnBack.on(Event.CLICK, this, function () {
            this.destroy();
        });

        this.BtnLoginOut.on(Event.CLICK, this, function () {
            goblin.privateKey = null;
            goblin.newLoginMain(this.parent);
            this.destroy();
            homeMain.destroy();
        });

        this.BtnRecharge.on(Event.CLICK, this, function () {
            this.parent.addChild(new Deposit(address));
        });

        var ethAmount = new web3.BigNumber(0);
        var kxcAmount = new web3.BigNumber(0);

        var getBalances = function () {
            var balanceCount = 0;

            var showTotalBalance = function () {
                if (--balanceCount >= 1) return;
                this.TotalMoney.text = web3.fromWei(ethAmount.add(kxcAmount), "ether").toNumber().toFixed(goblin.valuePrecision);
                this.Txt1.text = goblin.currencyName;
            }.bind(this);

            web3.eth.getBalance(address, function (error, result) {
                if (error) {
                    //throw error;
                    console.log("wallet get eth error: " + error.toString());
                    result = 0;
                }
                ethAmount = result;
                this.BtnTransfer.disabled = ethAmount.eq(0);
                this.BetMoney.text = web3.fromWei(ethAmount, "ether").toNumber().toFixed(goblin.valuePrecision);
                this.Txt2.text = goblin.currencyName;
                showTotalBalance();
            }.bind(this)), ++balanceCount;

            goblin.contract.bank.get_balance({from: address}, function (error, result) {
                if (error) {
                    //throw error;
                    console.log("wallet get bonus money error: " + error.toString());
                    result = 0;
                }
                kxcAmount = result;
                this.BtnCash.disabled = kxcAmount.eq(0);
                this.BonusMoney.text = web3.fromWei(kxcAmount, "ether").toNumber().toFixed(goblin.valuePrecision);
                this.Txt3.text = goblin.currencyName;
                showTotalBalance();
            }.bind(this)), ++balanceCount;
        }.bind(this);

        getBalances();

        this.BtnTransfer.on(Event.CLICK, this, function () {
            this.parent.addChild(new WithDraw(address, ethAmount, getBalances));
        });

        this.BtnCash.on(Event.CLICK, this, function () {
            var bankContract = goblin.contract.bank;
            var txParams = {to: bankContract.address, data: bankContract.withdraw.getData(address, kxcAmount)};
            var loading = new goblin.misc.Loading(goblin.texts[1057]);
            this.parent.addChild(loading);
            goblin.util.buildTxParams(txParams, goblin.privateKey).then(function () {
                return goblin.util.sendTransactionAndGetReceipt(txParams, goblin.privateKey);
            }).then(function (result) {
                this.parent.removeChild(loading);
                this.parent.addChild(new goblin.misc.Tips(goblin.texts[1058]));
                getBalances();
            }.bind(this)).catch(function (error) {
                this.parent.removeChild(loading);
                goblin.util.displayTransactionError(error, this.parent);
            }.bind(this));
        });

        this.BtnCopy.on(Event.CLICK, this, function () {
            goblin.util.copyToClipboard(this.Address.text);
        });

        this.BtnOut.on(Event.CLICK, this, function () {
            var keystore = JSON.stringify(goblin.keyObject);
            var blob = new Blob([keystore], {type: "text/plain;charset=utf-8"});
            var fileName = keythereum.generateKeystoreFilename(goblin.keyObject.address);
            saveAs(blob, fileName);
        });
    }

    function WithDraw(addr, /*coinType, */maxAmount, callback) {
        WithDraw.super(this);

        var gasPrice = new web3.BigNumber(0);
        var gasLimit = new web3.BigNumber(0);

        web3.eth.getGasPrice(function (error, result) {
            if (error) throw error;
            gasPrice = goblin.util.gasPriceScale(result);
            this.EditGasPrice.text = gasPrice.toString();
            refreshLoss();
            disableNext();
        }.bind(this));

        var txParams;

        // if (coinType == "ETH") {
        txParams = {from: addr, to: addr, value: maxAmount, data: web3.toHex("*".repeat(80))};
        // } else if (coinType == "KXC") {
        //     var bankContract = goblin.contract.bank;
        //     txParams = {from: addr, to: bankContract.address, data: bankContract.withdraw.getData(addr, maxAmount)};
        // }

        web3.eth.estimateGas(txParams, function (error, result) {
            if (error) throw error;
            gasLimit = (new web3.BigNumber(result)).add(1);
            this.EditGasLimit.text = gasLimit.toString();
            refreshLoss();
            disableNext();
        }.bind(this));

        var refreshLoss = function() {
            this.Loss.text = goblin.texts[1002].format(web3.fromWei(gasPrice.mul(gasLimit), "ether").toString() + " " + goblin.currencyName);
        }.bind(this);

        refreshLoss();

        var disableNext = function () {
            this.BtnNext.disabled = this.EditAddress.text.length * this.EditMoney.text.length * this.EditGasPrice.text.length * this.EditGasLimit.text.length == 0;
        }.bind(this);

        disableNext();

        this.EditGasLimit.on(Event.INPUT, this, function () {
            try {
                gasLimit = new web3.BigNumber(this.EditGasLimit.text);
            } catch (e) {
                this.EditGasLimit.text = "";
                gasLimit = new web3.BigNumber(0);
            }
            refreshLoss();
            disableNext();
        });

        this.EditGasPrice.on(Event.INPUT, this, function () {
            try {
                gasPrice = new web3.BigNumber(this.EditGasPrice.text);
            } catch (e) {
                this.EditGasPrice.text = "";
                gasPrice = new web3.BigNumber(0);
            }
            refreshLoss();
            disableNext();
        });

        this.EditAddress.on(Event.INPUT, this, function () {
            if (this.EditAddress.text.substring(0,2).toLowerCase() == "0x") {
                this.EditAddress.text = this.EditAddress.text.substring(2);
            }
            if (!ethereumjs.Util.isValidAddress("0x" + this.EditAddress.text)) {
                this.EditAddress.text = "";
            }
            disableNext();
        });

        var amount = new web3.BigNumber(0);

        this.EditMoney.on(Event.INPUT, this, function () {
            try {
                amount = web3.toWei(new web3.BigNumber(this.EditMoney.text), "ether");
            } catch (e) {
                this.EditMoney.text = "";
                amount = new web3.BigNumber(0);
            }
            if (amount.gt(maxAmount)) {
                this.EditMoney.text = "";
                amount = new web3.BigNumber(0);
            }
            disableNext();
        });

        this.BtnNext.on(Event.CLICK, this, function () {
            var fromAddr = addr;
            var toAddr = '0x' + this.EditAddress.text;
            // if (coinType == "ETH") {
            txParams = {
                from: fromAddr,
                to: toAddr,
                value: amount,
                data: web3.toHex(this.EditNote.text),
                gasLimit: gasLimit,
                gasPrice: gasPrice,
            };
            // } else if (coinType == "KXC") {
            //     var bankContract = goblin.contract.bank;
            //     txParams = {
            //         from: fromAddr,
            //         to: bankContract.address,
            //         data: bankContract.withdraw.getData(toAddr, amount),
            //         gasLimit: gasLimit,
            //         gasPrice: gasPrice,
            //     };
            //     fromAddr = bankContract.address;
            // }
            web3.eth.getTransactionCount(txParams.from, function (error, result) {
                if (error) throw error;
                txParams.nonce = result;
                this.parent.addChild(new WithDrawConfirm(this, fromAddr, toAddr, gasPrice.mul(gasLimit), amount, txParams, callback));
            }.bind(this));
        });

        this.BtnBack.on(Event.CLICK, this, function () {
            this.destroy();
        });

        this.BtnMore.on(Event.CLICK, this, function () {
            var b = this.BtnMore.selected;
            this.EditGasPrice.visible = b;
            this.EditGasLimit.visible = b;
            this.Loss.visible = b;
        });

        this.AbleWithDraw.text += web3.fromWei(maxAmount, "ether").toNumber().toFixed(goblin.valuePrecision) + " " + goblin.currencyName;
    }

    function WithDrawConfirm(withDraw, fromAddr, toAddr, loss, amount, txParams, callback) {
        WithDrawConfirm.super(this);

        this.BtnBack.on(Event.CLICK, this, function () {
            this.destroy();
        });

        this.BtnConfirm.on(Event.CLICK, this, function () {
            var loading = new goblin.misc.Loading(goblin.texts[1003]);
            this.parent.addChild(loading);
            goblin.util.sendTransactionAndGetReceipt(txParams, goblin.privateKey).then(function (result) {
                this.parent.removeChild(loading);
                this.parent.addChild(new goblin.misc.Tips(goblin.texts[1004], function () {
                    this.destroy();
                    withDraw.destroy();
                }.bind(this)));
                callback();
            }.bind(this)).catch(function (error) {
                goblin.util.displayTransactionError(error, this.parent);
                this.parent.removeChild(loading);
                this.destroy();
                withDraw.destroy();
            }.bind(this));
        });

        this.RecipientAddress.text = toAddr.substring(2);
        this.PaymentAddress.text = fromAddr.substring(2);
        this.TransFee.text = web3.fromWei(loss, "ether");
        this.TransAmount.text = web3.fromWei(amount, "ether");
    }

    function Record(records) {
        Record.super(this);
        this.RecordList.vScrollBarSkin = "";
        this.RecordList.array = records;
        if (records.length == 0) {
            this.Desc.text = goblin.texts[1065];
        } else {
            this.Desc.text = "";
        }

        this.BtnBack.on(Event.CLICK, this, function () {
            this.destroy();
        });

        this.BtnRefresh.on(Event.CLICK, this, function () {
            this.BtnRefresh.disabled = true;
            goblin.updateRecords(function (newRecords) {
                this.BtnRefresh.disabled = false;
                records = newRecords;
                this.RecordList.array = records;
            }.bind(this));
        });

        var onClick = function (index) {
            var rawRecord = records[index]._raw;
            if (rawRecord._type == goblin.RECORD_TYPE_KUAISAN) {
                this.parent.addChild(new RecordInfo(rawRecord));
            } else if (rawRecord._type == goblin.RECORD_TYPE_COIN_FLIPPING) {
                this.parent.addChild(new CoinFlippingRecordInfo(rawRecord));
            } else if (rawRecord._type == goblin.RECORD_TYPE_BALLGAME_BETTING) {
                this.parent.addChild(new BallgameBettingRecordInfo(rawRecord));
            }
        }.bind(this);

        this.RecordList.renderHandler = new Handler(this, function (item, index) {
            item.on(Event.CLICK, this, onClick, [index]);
        });
    }

    function RecordInfo(rawRecord) {
        RecordInfo.super(this);
        this.on(Event.CLICK, this, function () { this.destroy(); });
        if (rawRecord._luckyNumber == undefined) {
            this.Result.text = goblin.texts[1029].format(rawRecord._roundNumber);
            this.Result.valign = "middle";
            this.Num1.visible = false;
            this.Num2.visible = false;
            this.Num3.visible = false;
        } else {
            this.Result.text = goblin.texts[1051].format(rawRecord._roundNumber);
            var a = rawRecord._luckyNumber.toString().split("").map(Number);
            this.Num1.skin = "resource/dice{}.png".format(a[0]);
            this.Num2.skin = "resource/dice{}.png".format(a[1]);
            this.Num3.skin = "resource/dice{}.png".format(a[2]);
        }
        if (rawRecord._bonus == undefined) {
            this.Status.text = goblin.util.makeText(rawRecord._rawText);
            this.BonusTitle.visible = false;
            this.Bonus.visible = false;
        } else {
            this.Status.text = goblin.texts[1032];
            this.Bonus.text = rawRecord._bonus.toFixed(goblin.valuePrecision) + " " + goblin.currencyName;
        }
        this.Type.text += goblin.util.makeText(rawRecord._rawType);
        this.Numbers.text = goblin.util.makeText(rawRecord._rawNumbers);
        this.Hands.text =  "{}{}{}{}".format(
            rawRecord._hands, goblin.texts[1005],
            rawRecord._factor, goblin.texts[1019]
        );
        this.Price.text = goblin.util.makeText(rawRecord._rawPrice);
    }

    function CoinFlippingRecordInfo(rawRecord) {
        CoinFlippingRecordInfo.super(this);
        this.on(Event.CLICK, this, function () { this.destroy(); });
        if (rawRecord._luckySide == undefined) {
            this.Result.text = goblin.texts[1029].format(rawRecord._roundNumber);
            this.Result.valign = "middle";
            this.Coin.visible = false;
        } else {
            this.Result.text = goblin.texts[1064].format(rawRecord._roundNumber);
            if (rawRecord._luckySide == 0) {
                this.Coin.skin = "resource/coin_heads.png";
            } else {
                this.Coin.skin = "resource/coin_tails.png";
            }
        }
        if (rawRecord._bonus == undefined) {
            this.Status.text = goblin.util.makeText(rawRecord._rawText);
            this.BonusTitle.visible = false;
            this.Bonus.visible = false;
        } else {
            this.Status.text = goblin.texts[1032];
            this.Bonus.text = rawRecord._bonus.toFixed(goblin.valuePrecision) + " " + goblin.currencyName;
        }
        this.Numbers.text = goblin.util.makeText(rawRecord._rawType);
        this.Price.text = goblin.util.makeText(rawRecord._rawPrice);
    }

    function BallgameBettingRecordInfo(rawRecord) {
        BallgameBettingRecordInfo.super(this);
        this.on(Event.CLICK, this, function () { this.destroy(); });
        if (rawRecord._scores == undefined || rawRecord._scores.length == 0) {
            this.TxtResult.text = goblin.texts[1095].format("∞", "∞");
        } else {
            this.TxtResult.text = goblin.texts[1095].format(rawRecord._scores[0], rawRecord._scores[1]);
        }
        if (rawRecord._bonus == undefined) {
            this.Status.text = goblin.util.makeText(rawRecord._rawText);
            this.BonusTitle.visible = false;
            this.Bonus.visible = false;
        } else {
            this.Status.text = goblin.texts[rawRecord._scores.length == 0 ? 1094 : 1032];
            this.Bonus.text = rawRecord._bonus.toFixed(goblin.valuePrecision) + " " + goblin.currencyName;
        }
        this.HomeName.text = goblin.config.ballgameBetting.teamName(rawRecord._matchData.team1_id),
        this.VisitorName.text = goblin.config.ballgameBetting.teamName(rawRecord._matchData.team2_id),
        this.Type.text += goblin.util.makeText(rawRecord._rawType);

        var ss = [];
        for (var i = 0; i < rawRecord._betNameTextIDs.length; ++i) {
            ss.push(goblin.texts[rawRecord._betNameTextIDs[i]]);
        }
        this.Numbers.text = ss.join(", ");

        this.Price.text = goblin.util.makeText(rawRecord._rawPrice);
    }

    Laya.class(HomeMain, "HomeMain", HomeMainUI);
    Laya.class(MyWallet, "MyWallet", MyWalletUI);
    Laya.class(WithDraw, "WithDraw", WithDrawUI);
    Laya.class(WithDrawConfirm, "WithDrawConfirm", WithDrawConfirmUI);
    Laya.class(Record, "Record", RecordUI);
    Laya.class(RecordInfo, "RecordInfo", RecordInfoUI);
    Laya.class(CoinFlippingRecordInfo, "CoinFlippingRecordInfo", RecordInfo1UI);
    Laya.class(BallgameBettingRecordInfo, "BallgameBettingRecordInfo", RecordInfo2UI);
    goblin.newHomeMain = newHomeMain;
})();

if (typeof __ADMIN_ENTRY__ !== "undefined") (function () {
    "use strict";

    var Handler = laya.utils.Handler;
    var Event = laya.events.Event;

    function newAdminMain(parent, callback) {
        var adminMain = new AdminMain();
        parent.addChild(adminMain);
        callback(adminMain);
    }

    var INDEX_KUAISAN = 1;
    var INDEX_COIN_FLIPPING = 0;
    var INDEX_BALLGAME_BETTING = 2;

    var sendTx = function (txParams, parent, callback) {
        var loading = new goblin.misc.Loading(goblin.texts[1098]);
        parent.addChild(loading);
        goblin.util.buildTxParams(txParams, goblin.privateKey).then(function () {
            return goblin.util.sendTransactionAndGetReceipt(txParams, goblin.privateKey);
        }).then(function (result) {
            parent.removeChild(loading);
            parent.addChild(new goblin.misc.Tips(goblin.texts[1099]));
            callback();
        }).catch(function (error) {
            parent.removeChild(loading);
            goblin.util.displayTransactionError(error, parent);
        });
    };

    function AdminMain() {
        AdminMain.super(this);
        this.BtnLoginOut.on(Event.CLICK, this, function () {
            goblin.privateKey = null;
            goblin.newLoginMain(this.parent);
            this.destroy();
        });

        var address = "0x" + ethereumjs.Util.privateToAddress(goblin.privateKey).toString("hex");
        this.Address.text = address.substr(2);
        goblin.util.drawQRCode("ethereum:" + address, this.QRCode);

        var refresh = function () {
            this.Money.text = "--";
            web3.eth.getBalance(address, function (error, result) {
                if (error) throw error;
                this.Money.text = web3.fromWei(result, "ether").toNumber().toFixed(goblin.valuePrecision);
            }.bind(this));
        }.bind(this);
        this.BtnRefresh.on(Event.CLICK, this, refresh);
        refresh();
        
        var array = [];
        array[INDEX_KUAISAN] = {Icon: "resource/icon1.png"};
        array[INDEX_COIN_FLIPPING] = {Icon: "resource/icon2.png"};
        array[INDEX_BALLGAME_BETTING] = {Icon: "resource/icon3.png"};
        this.GameList.array = array;
        this.GameList.vScrollBarSkin = "";

        var onIconClick = function (gameIndex) {
            if (gameIndex == INDEX_BALLGAME_BETTING) {
                this.parent.addChild(new AdminGameManage3());
            } else {
                this.parent.addChild(new AdminGameManage(gameIndex));
            }
        };

        this.GameList.renderHandler = new Handler(this, function (item, index) {
            item.on(Event.CLICK, this, onIconClick, [index]);
        });
    }

    function AdminGameManage(gameIndex) {
        AdminGameManage.super(this);

        var contract;

        if (gameIndex == INDEX_KUAISAN) {
            contract = goblin.contract.kuaisan;
            this.GameName.text = goblin.texts[1000];
        } else if (gameIndex == INDEX_COIN_FLIPPING) {
            contract = goblin.contract.coinFlipping;
            this.GameName.text = goblin.texts[1042];
        }

        this.BtnBack.on(Event.CLICK, this, function () {
            this.destroy();
        });

        var refreshOdds = function () {
            this.BetOdds.text = "";
            this.BtnModifyOdds.disabled = true;
            if (gameIndex == INDEX_KUAISAN) {
                contract.get_odds(function (error, result) {
                    if (error) throw error;
                    var context = {
                        title: goblin.texts[1116],
                        minValue: 1,
                        maxValue: 216,
                        value: result.toNumber(),
                        valueFilter: function (value) { return Math.floor(value); },
                        valueSetter: function (value) { return contract.set_odds.getData(value); },
                        refresher: refreshOdds
                    };
                    this.BetOdds.text = "{} / {} ({}%)".format(context.value, context.maxValue, (context.value / context.maxValue * 100).toFixed(goblin.valuePrecision));
                    this.BtnModifyOdds.user_Context = context;
                    this.BtnModifyOdds.disabled = false;
                }.bind(this));
            } else if (gameIndex == INDEX_COIN_FLIPPING) {
                contract.get_odds_x_10(function (error, result) {
                    if (error) throw error;
                    var context = {
                        title: goblin.texts[1116],
                        minValue: 1,
                        maxValue: 20,
                        value: result.toNumber(),
                        valueFilter: function (value) { return Math.floor(value); },
                        valueSetter: function (value) { return contract.set_odds_x_10.getData(value); },
                        refresher: refreshOdds
                    };
                    this.BetOdds.text = "{} / {} ({}%)".format(context.value, context.maxValue, (context.value / context.maxValue * 100).toFixed(goblin.valuePrecision));
                    this.BtnModifyOdds.user_Context = context;
                    this.BtnModifyOdds.disabled = false;
                }.bind(this));
            }
        }.bind(this);
        refreshOdds();

        var refreshPrice = function () {
            this.BetPrice.text = "";
            this.BtnModifyPrice.disabled = true;
            contract.get_ticket_price(function (error, result) {
                if (error) throw error;
                var context = {
                    title: goblin.texts[1117],
                    minValue: null,
                    maxValue: null,
                    value: web3.fromWei(result, "ether").toNumber(),
                    valueFilter: function (value) { return value; },
                    valueSetter: function (value) { return contract.set_ticket_price.getData(web3.toWei(value, "ether")); },
                    refresher: refreshPrice
                };
                this.BetPrice.text = context.value.toFixed(goblin.valuePrecision) + " " + goblin.currencyName;
                this.BtnModifyPrice.user_Context = context;
                this.BtnModifyPrice.disabled = false;
            }.bind(this));
        }.bind(this);
        refreshPrice();

        var refreshMax = function () {
            this.BetMax.text = "";
            this.BtnModifyMax.disabled = true;
            contract.get_max_total_ticket_count(function (error, result) {
                if (error) throw error;
                var context = {
                    title: goblin.texts[1118],
                    minValue: 1,
                    maxValue: 127,
                    value: result.toNumber(),
                    valueFilter: function (value) { return Math.floor(value); },
                    valueSetter: function (value) { return contract.set_max_total_ticket_count.getData(value); },
                    refresher: refreshMax
                };
                this.BetMax.text = context.value.toString() + goblin.texts[1005];
                this.BtnModifyMax.user_Context = context;
                this.BtnModifyMax.disabled = false;
            }.bind(this));
        }.bind(this);
        refreshMax();

        var refreshTime = function () {
            this.BetTime.text = "";
            this.BtnModifyTime.disabled = true;
            contract.get_duration(function (error, result) {
                if (error) throw error;
                var context = {
                    title: goblin.texts[1119],
                    minValue: null,
                    maxValue: null,
                    value: result.toNumber() / 60,
                    valueFilter: function (value) { return Math.floor(value); },
                    valueSetter: function (value) { return contract.set_duration.getData(value * 60); },
                    refresher: refreshTime
                };
                this.BetTime.text = context.value + goblin.texts[1115];
                this.BtnModifyTime.user_Context = context;
                this.BtnModifyTime.disabled = false;
            }.bind(this));
        }.bind(this);
        refreshTime();

        var onModify = function (btn) {
            this.parent.addChild(new AdminModify(contract, btn.user_Context));
        };

        this.BtnModifyMax.on(Event.CLICK, this, onModify.bind(this, this.BtnModifyMax));
        this.BtnModifyOdds.on(Event.CLICK, this, onModify.bind(this, this.BtnModifyOdds));
        this.BtnModifyPrice.on(Event.CLICK, this, onModify.bind(this, this.BtnModifyPrice));
        this.BtnModifyTime.on(Event.CLICK, this, onModify.bind(this, this.BtnModifyTime));

        var isDisabled;
        this.BtnCloseGame.visible = false;

        contract.get_disabled(function (error, result) {
            if (error) throw error;
            isDisabled = result;
            this.BtnCloseGame.label = goblin.texts[isDisabled ? 1122 : 1123];
            this.BtnCloseGame.visible = true;
        }.bind(this));

        this.BtnCloseGame.on(Event.CLICK, this, function () {
            this.parent.addChild(new goblin.misc.Confirm(goblin.texts[1127].format(this.BtnCloseGame.label), function () {
                sendTx(
                    {to: contract.address, data: contract.set_disabled.getData(!isDisabled)},
                    this.parent,
                    function () {
                        isDisabled = !isDisabled;
                        this.BtnCloseGame.label = goblin.texts[isDisabled ? 1122 : 1123];
                    }.bind(this)
                );
            }.bind(this)));
        });
    }

    function AdminGameManage3() {
        AdminGameManage3.super(this);

        var contract = goblin.contract.ballgameBetting;
        this.GameName.text = goblin.texts[1092];

        this.BtnBack.on(Event.CLICK, this, function () {
            this.destroy();
        });

        var list = new AdminGame3List(contract);
        this.List.addChild(list);

        this.BtnCreateRound.on(Event.CLICK, this, function () {
            this.parent.addChild(new AdminGame3Create(contract, list.refresh.bind(list)));
        });

        var refreshWater = function () {
            // this.BetOdds.text = "";
            this.BtnModifyWater.disabled = true;
            contract.get_water_percent(function (error, result) {
                if (error) throw error;
                var context = {
                    title: goblin.texts[1116] + "(%)",
                    minValue: 0,
                    maxValue: 99,
                    value: 100 - result.toNumber(),
                    valueFilter: function (value) { return Math.floor(value); },
                    valueSetter: function (value) { return contract.set_water_percent.getData(100 - value); },
                    refresher: refreshWater
                };
                // this.BetOdds.text = "{} / {} ({}%)".format(context.value, context.maxValue, (context.value / context.maxValue).toFixed(goblin.valuePrecision));
                this.BtnModifyWater.user_Context = context;
                this.BtnModifyWater.disabled = false;
            }.bind(this));
        }.bind(this);
        refreshWater();

        var refreshPrice = function () {
            // this.BetPrice.text = "";
            this.BtnModifyPrice.disabled = true;
            contract.get_ticket_price(function (error, result) {
                if (error) throw error;
                var context = {
                    title: goblin.texts[1117] + "({})".format(goblin.currencyName),
                    minValue: null,
                    maxValue: null,
                    value: web3.fromWei(result, "ether").toNumber(),
                    valueFilter: function (value) { return value; },
                    valueSetter: function (value) { return contract.set_ticket_price.getData(web3.toWei(value, "ether")); },
                    refresher: refreshPrice
                };
                // this.BetPrice.text = context.value.toFixed(goblin.valuePrecision) + " " + goblin.currencyName;
                this.BtnModifyPrice.user_Context = context;
                this.BtnModifyPrice.disabled = false;
            }.bind(this));
        }.bind(this);
        refreshPrice();

        var refreshMax = function () {
            // this.BetMax.text = "";
            this.BtnModifyMax.disabled = true;
            contract.get_max_total_ticket_count(function (error, result) {
                if (error) throw error;
                var context = {
                    title: goblin.texts[1118] + "({})".format(goblin.texts[1005]),
                    minValue: 1,
                    maxValue: 127,
                    value: result.toNumber(),
                    valueFilter: function (value) { return Math.floor(value); },
                    valueSetter: function (value) { return contract.set_max_total_ticket_count.getData(value); },
                    refresher: refreshMax
                };
                // this.BetMax.text = context.value.toString() + goblin.texts[1005];
                this.BtnModifyMax.user_Context = context;
                this.BtnModifyMax.disabled = false;
            }.bind(this));
        }.bind(this);
        refreshMax();

        var onModify = function (btn) {
            this.parent.addChild(new AdminModify(contract, btn.user_Context));
        };

        this.BtnModifyMax.on(Event.CLICK, this, onModify.bind(this, this.BtnModifyMax));
        this.BtnModifyWater.on(Event.CLICK, this, onModify.bind(this, this.BtnModifyWater));
        this.BtnModifyPrice.on(Event.CLICK, this, onModify.bind(this, this.BtnModifyPrice));

        var isDisabled;
        this.BtnCloseGame.visible = false;

        contract.get_disabled(function (error, result) {
            if (error) throw error;
            isDisabled = result;
            this.BtnCloseGame.label = goblin.texts[isDisabled ? 1122 : 1123];
            this.BtnCloseGame.visible = true;
        }.bind(this));

        this.BtnCloseGame.on(Event.CLICK, this, function () {
            this.parent.addChild(new goblin.misc.Confirm(goblin.texts[1127].format(this.BtnCloseGame.label), function () {
                sendTx(
                    {to: contract.address, data: contract.set_disabled.getData(!isDisabled)},
                    this.parent,
                    function () {
                        isDisabled = !isDisabled;
                        this.BtnCloseGame.label = goblin.texts[isDisabled ? 1122 : 1123];
                    }.bind(this)
                );
            }.bind(this)));
        });
    }

    function AdminGame3List(contract) {
        AdminGame3List.super(this);

        this.MatchList.array = [];
        this.MatchList.vScrollBarSkin = "";

        var contract2 = new ethers.Contract(contract.address, contract.abi, new ethers.providers.Web3Provider(web3.currentProvider));
        var protocol = goblin.protocol.ballgameBetting;

        var refresh = function() {
            contract2.get_matches().then(function (matches) {
                for (var i = 0; i < matches.length; ++i) {
                    var match = matches[i];
                    match.length = 0;
                    match.betting_of_type = {};
                    match.data = protocol.Match.decode(ethereumjs.Buffer.Buffer.from(match.data.substr(2), "hex"));
                    for (var j = 0; j < match.bettings.length; ++j) {
                        var betting = match.bettings[j];
                        betting.length = 0;
                        betting.parent = match;
                        betting.index = j;
                        betting.result_of_type = {};
                        betting.data = protocol.Betting.decode(ethereumjs.Buffer.Buffer.from(betting.data.substr(2), "hex"));
                        match.betting_of_type[betting.data.type] = betting;
                        for (var k = 0; k < betting.results.length; ++k) {
                            var bettingResult = betting.results[k];
                            bettingResult.length = 0;
                            bettingResult.parent = betting;
                            bettingResult.index = k;
                            bettingResult.data = protocol.BettingResult.decode(ethereumjs.Buffer.Buffer.from(bettingResult.data.substr(2), "hex"));
                            betting.result_of_type[bettingResult.data[bettingResult.data.value]] = bettingResult;
                        }
                    }
                }

                var timestampToString = function (ts) {
                    var d = new Date();
                    d.setTime(ts * 1000);
                    return ("00" + (d.getMonth() + 1)).slice(-2) + "-" + 
                        ("00" + d.getDate()).slice(-2) + " " +
                        ("00" + d.getHours()).slice(-2) + ":" + 
                        ("00" + d.getMinutes()).slice(-2);
                };

                var now = Math.floor(Date.now() / 1000);
                var config = goblin.config.ballgameBetting;
                var arr1 = [];
                var arr2 = [];

                for (var i = 0; i < matches.length; ++i) {
                    var match = matches[i];
                    var itemData = {
                        GameType: config.leagueName(match.data.league_id),
                        HomeName: config.teamName(match.data.team1_id),
                        VisitorName: config.teamName(match.data.team2_id),
                        EndTime: timestampToString(match.betting_stop_time.toNumber()),
                        _match: match
                    };
                    if (match.betting_stop_time.toNumber() < now) {
                        arr1.push(itemData);
                    } else {
                        itemData.BtnConfirm = {visible: false};
                        arr2.push(itemData);
                    }
                }

                this.MatchList.array = arr1.concat(arr2);
            }.bind(this));
        }.bind(this);

        this.refresh = refresh;
        refresh();

        var onCancel = function (match) {
            var doCancel = function () {
                var iface = new ethers.Interface(contract.abi);
                var txParams = {
                    to: contract.address,
                    data: iface.functions.end_match(
                        match.index,
                        [-1, -1, -1],
                        protocol.Draw.encode({score1: 0, score2: 0}).finish()
                    ).data
                };
                sendTx(
                    txParams,
                    this.parent,
                    refresh
                );
            }.bind(this);

            var now = Math.floor(Date.now() / 1000);

            if (match.betting_start_time.toNumber() < now) {
                this.parent.addChild(new goblin.misc.Confirm(goblin.texts[1100], doCancel));
            } else {
                doCancel();
            }
        };

        var onConfirm = function (match) {
            var doConfirm = function (score1, score2) {
                var bettingResultIndexes = [-1, -1, -1];
                var betting;
                var bettingResult;

                betting = match.betting_of_type[protocol.BettingType.WIN_LOSE_DRAW];
                if (score1 > score2) {
                    bettingResult = betting.result_of_type[protocol.WinLoseDraw.WIN];
                } else if (score1 < score2) {
                    bettingResult = betting.result_of_type[protocol.WinLoseDraw.LOSE];
                } else {
                    bettingResult = betting.result_of_type[protocol.WinLoseDraw.DRAW];
                }
                bettingResultIndexes[betting.index] = bettingResult.index;
                
                betting = match.betting_of_type[protocol.BettingType.ODD_EVEN];
                if ((score1 + score2) % 2 == 1) {
                    bettingResult = betting.result_of_type[protocol.OddEven.ODD];
                } else {
                    bettingResult = betting.result_of_type[protocol.OddEven.EVEN];
                }
                bettingResultIndexes[betting.index] = bettingResult.index;

                betting = match.betting_of_type[protocol.BettingType.SCORES];
                if (score1 == 0 && score2 == 0) {
                    bettingResult = betting.result_of_type[protocol.Scores.SCORES_0V0];
                } else if (score1 == 0 && score2 == 1) {
                    bettingResult = betting.result_of_type[protocol.Scores.SCORES_0V1];
                } else if (score1 == 1 && score2 == 0) {
                    bettingResult = betting.result_of_type[protocol.Scores.SCORES_1V0];
                } else if (score1 == 0 && score2 == 2) {
                    bettingResult = betting.result_of_type[protocol.Scores.SCORES_0V2];
                } else if (score1 == 2 && score2 == 0) {
                    bettingResult = betting.result_of_type[protocol.Scores.SCORES_2V0];
                } else if (score1 == 1 && score2 == 1) {
                    bettingResult = betting.result_of_type[protocol.Scores.SCORES_1V1];
                } else if (score1 == 1 && score2 == 2) {
                    bettingResult = betting.result_of_type[protocol.Scores.SCORES_1V2];
                } else if (score1 == 2 && score2 == 1) {
                    bettingResult = betting.result_of_type[protocol.Scores.SCORES_2V1];
                } else if (score1 == 2 && score2 == 2) {
                    bettingResult = betting.result_of_type[protocol.Scores.SCORES_2V2];
                } else if (score1 > score2) {
                    bettingResult = betting.result_of_type[protocol.Scores.SCORES_WIN];
                } else if (score1 < score2) {
                    bettingResult = betting.result_of_type[protocol.Scores.SCORES_LOSE];
                } else {
                    bettingResult = betting.result_of_type[protocol.Scores.SCORES_DRAW];
                }
                bettingResultIndexes[betting.index] = bettingResult.index;

                console.log("fvck", match.id, bettingResultIndexes);

                var iface = new ethers.Interface(contract.abi);
                var txParams = {
                    to: contract.address,
                    data: iface.functions.end_match(
                        match.index,
                        bettingResultIndexes,
                        protocol.Draw.encode({score1: score1, score2: score2}).finish()
                    ).data
                };
                sendTx(
                    txParams,
                    this.parent,
                    refresh
                );
            }.bind(this);

            this.parent.addChild(new AdminGame3Confirm(match.data, doConfirm));
        };

        this.MatchList.renderHandler = new Handler(this, function (item, index) {
            var btnCancel = item.getChildByName("BtnCancel");
            btnCancel.on(Event.CLICK, this, onCancel, [this.MatchList.array[index]._match]);
            var btnConfirm = item.getChildByName("BtnConfirm");
            btnConfirm.on(Event.CLICK, this, onConfirm, [this.MatchList.array[index]._match]);
        });
    }

    function AdminGame3Create(contract, refresh) {
        AdminGame3Create.super(this);

        this.BtnClose.on(Event.CLICK, this, function () {
            this.destroy();
        });

        var config = goblin.config.ballgameBetting;
        var comboIndex2LeagueId = [];
        var comboIndex2LeagueName = [];

        for (var i = 0; i < config.leagues.length; ++i) {
            var league = config.leagues[i];
            comboIndex2LeagueId.push(league.id);
            comboIndex2LeagueName.push(league.name);
        }

        this.LeagueName.labels = comboIndex2LeagueName.join(",");

        var updateBtnOk = function () {
            this.BtnOk.disabled = (this.StopDate.text.length * this.StopTime.text.length == 0) || (
                this.LeagueName.selectedIndex < 0 ||
                this.HomeName.selectedIndex < 0 ||
                this.VisitorName.selectedIndex < 0
            );
        }.bind(this);

        var comboIndex2TeamId;
        var comboIndex2TeamName;

        // this.HomeName.vScrollBarSkin = this.VisitorName.vScrollBarSkin = "";

        this.LeagueName.on(Event.CHANGE, this, function () {
            var league = config.leagueById[comboIndex2LeagueId[this.LeagueName.selectedIndex]];
            comboIndex2TeamId = [];
            comboIndex2TeamName = [];
            for (var i = 0; i < league.teams.length; ++i) {
                var team = league.teams[i];
                comboIndex2TeamId.push(team.id);
                comboIndex2TeamName.push(team.name);
            }
            this.HomeName.selectedIndex = this.VisitorName.selectedIndex = -1;
            this.HomeName.labels = this.VisitorName.labels = comboIndex2TeamName.join(",");
            updateBtnOk();
        });

        this.HomeName.on(Event.CHANGE, this, updateBtnOk);
        this.VisitorName.on(Event.CHANGE, this, updateBtnOk);
        this.StopDate.on(Event.INPUT, this, updateBtnOk);
        this.StopTime.on(Event.INPUT, this, updateBtnOk);

        updateBtnOk();

        this.BtnOk.on(Event.CLICK, this, function () {
            if (this.HomeName.selectedIndex == this.VisitorName.selectedIndex) {
                this.parent.addChild(new goblin.misc.Tips(goblin.texts[1103]));
            } else {
                var now = Math.floor(Date.now() / 1000);
                var m = (this.StopDate.text + " " + this.StopTime.text).match(/^(\d+)-(\d+)-(\d+) (\d+)\:(\d+)$/);
                var date = Math.floor(new Date(m[1], m[2] - 1, m[3], m[4], m[5]) / 1000);

                var iface = new ethers.Interface(contract.abi);
                var protocol = goblin.protocol.ballgameBetting;
                var delayMins = 1;
                var txParams = {
                    to: contract.address,
                    data: iface.functions.post_football_match(
                        protocol.Match.encode({
                            league_id: comboIndex2LeagueId[this.LeagueName.selectedIndex],
                            team1_id: comboIndex2TeamId[this.HomeName.selectedIndex],
                            team2_id: comboIndex2TeamId[this.VisitorName.selectedIndex]
                        }).finish(),
                        now + delayMins * 60,
                        date
                    ).data
                };

                sendTx(
                    txParams,
                    this.parent,
                    function () {
                        this.parent.addChild(new goblin.misc.Tips(goblin.texts[1102].format(delayMins), function () {
                            this.destroy();
                            refresh();
                        }.bind(this)));
                    }.bind(this)
                );
            }
        });
    }

    function AdminGame3Confirm(matchData, doConfirm) {
        AdminGame3Confirm.super(this);

        this.BtnClose.on(Event.CLICK, this, function () {
            this.destroy();
        });

        var config = goblin.config.ballgameBetting;
        this.HomeName.text = config.teamName(matchData.team1_id);
        this.VisitorName.text = config.teamName(matchData.team2_id);

        var score1 = null;
        var score2 = null;

        var updateBtnOk = function () {
            this.BtnOk.disabled = this.HomeGoal.text.length * this.VisitorGoal.text.length == 0;
        }.bind(this);

        updateBtnOk();

        this.HomeGoal.on(Event.INPUT, this, function () {
            score1 = parseInt(this.HomeGoal.text);
            if (score1 < 0) {
                score1 = 0;
                this.HomeGoal.text = score1.toString();
            }
            updateBtnOk();
        });
        this.VisitorGoal.on(Event.INPUT, this, function () {
            score2 = parseInt(this.VisitorGoal.text);
            if (score2 < 0) {
                score2 = 0;
                this.VisitorGoal.text = score2.toString();
            }
            updateBtnOk();
        });
        this.BtnOk.on(Event.CLICK, this, function () {
            this.parent.addChild(new goblin.misc.Confirm(goblin.texts[1101].format(score1, score2), function () {
                this.destroy();
                doConfirm(score1, score2);
            }.bind(this)));
        });
    }

    function AdminModify(contract, context) {
        AdminModify.super(this);

        this.BtnClose.on(Event.CLICK, this, function () {
            this.destroy();
        });

        this.Title1.text = goblin.texts[1120].format(context.title);
        this.Title2.text = goblin.texts[1121].format(context.title);
        this.Value.text = context.value.toString();;

        this.Value.on(Event.INPUT, this, function () {
            var value = Number(this.Value.text);
            if (isNaN(value)) {
                this.Value.text = context.value.toString();
            } else {
                value = context.valueFilter(value);
                if (context.maxValue != null && value > context.maxValue) {
                    this.Value.text = context.maxValue.toString();
                }
                if (context.minValue != null && value < context.minValue) {
                    this.Value.text = context.minValue.toString();
                }
            }
        });
        this.BtnOk.on(Event.CLICK, this, function () {
            var value = context.valueFilter(Number(this.Value.text));
            this.Value.text = value.toString();

            if (value == context.value) {
                this.destroy();
                return;
            }

            sendTx(
                {to: contract.address, data: context.valueSetter(value)},
                this.parent,
                function () {
                    context.refresher();
                    this.destroy();
                }.bind(this)
            );
        });
    }

    Laya.class(AdminMain, "AdminMain", AdminMainUI);
    Laya.class(AdminGameManage, "AdminGameManage", AdminGame1ManageUI);
    Laya.class(AdminGameManage3, "AdminGameManage3", AdminGame3ManageUI);
    Laya.class(AdminGame3List, "AdminGame3List", AdminGame3ListUI);
    Laya.class(AdminGame3Create, "AdminGame3Create", AdminGame3CreateUI);
    Laya.class(AdminGame3Confirm, "AdminGame3Confirm", AdminGame3ConfirmUI);
    Laya.class(AdminModify, "AdminModify", AdminModifyUI);
    goblin.newHomeMain = newAdminMain;
})();
if (typeof __BANK_ENTRY__ !== "undefined") (function () {
    "use strict";

    goblin.bank = {
        NO: 0,
        ADD_MANAGER: 1,
        REMOVE_MANAGER: 2,
        ADD_GAME: 3,
        REMOVE_GAME: 4,
        ADD_GAME_ADMIN: 5,
        REMOVE_GAME_ADMIN: 6,
        ADD_BENEFICIARY: 7,
        REMOVE_BENEFICIARY: 8,
        BENEFIT: 9
    };

    var ADDR_TYPE_MANAGER = 1;
    var ADDR_TYPE_GAME = 2;
    var ADDR_TYPE_GAME_ADMIN = 3;

    var Handler = laya.utils.Handler;
    var Event = laya.events.Event;

    var contract = goblin.contract.bank;

    function newBankMain(parent, callback) {
        var bankMain = new BankMain();
        parent.addChild(bankMain);
        callback(bankMain);
    }

    function makeProposalDesc(cmd, param1, param2) {
        var desc;
        switch (cmd.toNumber()) {
        case goblin.bank.ADD_MANAGER:
            desc = goblin.texts[1104].format(goblin.texts[1106], goblin.util.uint256ToAddress(param1));
            break;
        case goblin.bank.REMOVE_MANAGER:
            desc = goblin.texts[1105].format(goblin.texts[1106], goblin.util.uint256ToAddress(param1));
            break;
        case goblin.bank.ADD_GAME:
            desc = goblin.texts[1104].format(goblin.texts[1107], goblin.util.uint256ToAddress(param1));
            break;
        case goblin.bank.REMOVE_GAME:
            desc = goblin.texts[1105].format(goblin.texts[1107], goblin.util.uint256ToAddress(param1));
            break;
        case goblin.bank.ADD_GAME_ADMIN:
            desc = goblin.texts[1104].format(goblin.texts[1108], goblin.util.uint256ToAddress(param1));
            break;
        case goblin.bank.REMOVE_GAME_ADMIN:
            desc = goblin.texts[1105].format(goblin.texts[1108], goblin.util.uint256ToAddress(param1));
            break;
        case goblin.bank.ADD_BENEFICIARY:
            desc = goblin.texts[1104].format(goblin.texts[1109], goblin.util.uint256ToAddress(param1));
            break;
        case goblin.bank.REMOVE_BENEFICIARY:
            desc = goblin.texts[1105].format(goblin.texts[1109], goblin.util.uint256ToAddress(param1));
            break;
        case goblin.bank.BENEFIT:
            desc = goblin.texts[1112].format(web3.fromWei(param2, "ether").toNumber().toFixed(goblin.valuePrecision)
                                             , goblin.util.uint256ToAddress(param1));
            break;
        }
        return desc;
    }

    function BankMain() {
        BankMain.super(this);
        this.BtnLoginOut.on(Event.CLICK, this, function () {
            goblin.privateKey = null;
            goblin.newLoginMain(this.parent);
            this.destroy();
        });

        var address = "0x" + ethereumjs.Util.privateToAddress(goblin.privateKey).toString("hex");
        this.Address.text = address.substr(2);
        goblin.util.drawQRCode("ethereum:" + address, this.QRCode);
        var proposalInProgress;

        var refresh = function () {
            this.BtnAccept.visible = this.BtnReject.visible = this.BtnAccepted.visible = false;
            this.BtnAdmin.disabled = this.BtnAccount.disabled = this.BtnMoney.disabled = this.BtnContract.disabled = true;

            contract.get_proposal(function (error, result) {
                if (error) throw error;
                proposalInProgress = result.length >= 1;
                if (!proposalInProgress) {
                    this.TxtCurProposalDesc.text = "";
                } else {
                    this.TxtCurProposalDesc.text = makeProposalDesc(result[0], result[1], result[2]);
                    var a = new web3.BigNumber(address);
                    var i = 0;
                    for (i = 3; i < result.length; ++i) {
                        if (result[i].eq(a)) break;
                    }
                    if (i < result.length) {
                        this.BtnAccepted.visible = true;
                    } else {
                        this.BtnAccept.visible = this.BtnReject.visible = true;
                    }
                }
                this.BtnAdmin.disabled = this.BtnAccount.disabled = this.BtnMoney.disabled = this.BtnContract.disabled = false;
            }.bind(this));

            contract.get_last_proposal_record(function (error, result) {
                if (error) throw error;
                if (result.length == 0) {
                    this.TxtLastProposalDesc.text = "";
                    this.TxtLastProposalStatus.text = "";
                } else {
                    this.TxtLastProposalDesc.text = makeProposalDesc(result[0], result[1], result[2]);
                    this.TxtLastProposalStatus.text = result[3].eq(0) ? goblin.texts[1111] : goblin.texts[1110];
                }
            }.bind(this));

            this.Money.text = "--";
            web3.eth.getBalance(address, function (error, result) {
                if (error) throw error;
                this.Money.text = web3.fromWei(result, "ether").toNumber().toFixed(goblin.valuePrecision);
            }.bind(this));
        }.bind(this);

        refresh();
        this.BtnRefresh.on(Event.CLICK, this, refresh);

        this.BtnAccept.on(Event.CLICK, this, function () {
            sendTx(
                {to: contract.address, data: contract.accept_proposal.getData()},
                this.parent,
                refresh
            );
        });
        this.BtnReject.on(Event.CLICK, this, function () {
            sendTx(
                {to: contract.address, data: contract.reject_proposal.getData()},
                this.parent,
                refresh
            );
        });
        this.BtnAdmin.on(Event.CLICK, this, function () {
            this.parent.addChild(new AddressList(ADDR_TYPE_GAME_ADMIN, proposalInProgress, refresh));
        });
        this.BtnAccount.on(Event.CLICK, this, function () {
            this.parent.addChild(new AddressList(ADDR_TYPE_MANAGER, proposalInProgress, refresh));
        });
        this.BtnContract.on(Event.CLICK, this, function () {
            this.parent.addChild(new AddressList(ADDR_TYPE_GAME, proposalInProgress, refresh));
        });
        this.BtnMoney.on(Event.CLICK, this, function () {
            this.parent.addChild(new AdminMoney(address, proposalInProgress, refresh));
        });
    }

    function AddressList(addressType, proposalInProgress, onBack) {
        AddressList.super(this);
        this.AddressList.array = [];
        this.AddressList.vScrollBarSkin = "";
        var itemGetter = null;
        var itemAdder = null;
        var itemRemover = null;
        var txCount = 0;

        if (addressType == ADDR_TYPE_GAME) {
            this.Title.text = goblin.texts[1113].format(goblin.texts[1107]);
            this.BtnAdd.label = goblin.texts[1114].format(goblin.texts[1107]);
            itemGetter = contract.get_games;
            itemAdder = contract.add_game;
            itemRemover = contract.remove_game;
        } else if (addressType == ADDR_TYPE_GAME_ADMIN) {
            this.Title.text = goblin.texts[1113].format(goblin.texts[1108]);
            this.BtnAdd.label = goblin.texts[1114].format(goblin.texts[1108]);
            itemGetter = contract.get_game_admins;
            itemAdder = contract.add_game_admin;
            itemRemover = contract.remove_game_admin;
        } else if (addressType == ADDR_TYPE_MANAGER) {
            this.Title.text = goblin.texts[1113].format(goblin.texts[1106]);
            this.BtnAdd.label = goblin.texts[1114].format(goblin.texts[1106]);
            itemGetter = contract.get_managers;
            itemAdder = contract.add_manager;
            itemRemover = contract.remove_manager;
        }

        var onDelete = function (addressToDelete) {
            sendTx(
                {to: contract.address, data: itemRemover.getData(addressToDelete)},
                this.parent,
                refresh
            );
        };

        this.AddressList.renderHandler = new Handler(this, function (item, index) {
            var btnDelete = item.getChildByName("BtnDelete");
            btnDelete.on(Event.CLICK, this, onDelete, [this.AddressList.array[index].Address]);
            if (proposalInProgress) {
                btnDelete.disabled = true;
            }
            if (addressType == ADDR_TYPE_MANAGER && this.AddressList.array.length < 3) {
                btnDelete.visible = false;
            } else {
                if (proposalInProgress) {
                    btnDelete.disabled = true;
                }
            }
        });

        itemGetter.call(contract, function (error, result) {
            if (error) throw error;
            var arr = [];
            for (var i = 0; i < result.length; ++i) {
                arr.push({Address: goblin.util.uint256ToAddress(result[i])});
            }
            this.AddressList.array = arr;
        }.bind(this))

        this.BtnBack.on(Event.CLICK, this, function () {
            this.destroy();
            if (txCount >= 1) {
                onBack();
            }
        });

        this.BtnAdd.on(Event.CLICK, this, function () {
            this.parent.addChild(new AddAddress(this.BtnAdd.label, itemAdder, refresh));
        });

        if (proposalInProgress) {
            this.BtnAdd.disabled = true;
        }

        var refresh = function () {
            proposalInProgress = true;
            this.BtnAdd.disabled = true;
            this.AddressList.refresh();
            ++txCount;
        }.bind(this);
    }

    var sendTx = function (txParams, parent, callback) {
        var loading = new goblin.misc.Loading(goblin.texts[1098]);
        parent.addChild(loading);
        goblin.util.buildTxParams(txParams, goblin.privateKey).then(function () {
            return goblin.util.sendTransactionAndGetReceipt(txParams, goblin.privateKey);
        }).then(function (result) {
            parent.removeChild(loading);
            parent.addChild(new goblin.misc.Tips(goblin.texts[1099]));
            callback();
        }).catch(function (error) {
            parent.removeChild(loading);
            goblin.util.displayTransactionError(error, parent);
        });
    };

    function AddAddress(title, itemAdder, refresh) {
        AddAddress.super(this);
        this.Title.text = title;

        this.BtnClose.on(Event.CLICK, this, function () {
            this.destroy();
        });

        this.BtnOk.on(Event.CLICK, this, function () {
            sendTx(
                {to: contract.address, data: itemAdder.getData("0x" + this.Address.text)},
                this.parent,
                function () {
                    this.destroy();
                    refresh();
                }.bind(this)
            );
        });

        var updateBtnOk = function () {
            this.BtnOk.disabled = this.Address.text.length == 0;
        }.bind(this);

        updateBtnOk();

        this.Address.on(Event.INPUT, this, function () {
            if (this.Address.text.substring(0,2).toLowerCase() == "0x") {
                this.Address.text = this.Address.text.substring(2);
            }
            if (!ethereumjs.Util.isValidAddress("0x" + this.Address.text)) {
                this.Address.text = "";
            }
            updateBtnOk();
        });
    }

    function AdminMoney(address, proposalInProgress, onBack) {
        AdminMoney.super(this);

        this.Currency1.text = this.Currency2.text = goblin.currencyName;

        var txCount = 0;

        this.BtnBack.on(Event.CLICK, this, function () {
            this.destroy();
            if (txCount >= 1) {
                onBack();
            }
        });

        var money;
        this.BtnTransfer.disabled = true;
        web3.eth.getBalance(contract.address, function (error, result) {
            if (error) throw error;
            money = result;
            this.Money.text = web3.fromWei(money, "ether").toNumber();
            if (!(money.eq(0) || proposalInProgress)) this.BtnTransfer.disabled = false;
        }.bind(this));

        contract.get_total_balance(function (error, result) {
            if (error) throw error;
            this.Bonus.text = web3.fromWei(result, "ether").toNumber().toFixed(goblin.valuePrecision);
        }.bind(this));

        var refresh = function () {
            proposalInProgress = true;
            this.BtnAdd.disabled = true;
            this.BtnTransfer.disabled = true;
            this.AddressList.refresh();
            ++txCount;
        }.bind(this);

        var onDelete = function (addressToDelete) {
            sendTx(
                {to: contract.address, data: contract.remove_beneficiary.getData(addressToDelete)},
                this.parent,
                refresh
            );
        };

        this.AddressList.renderHandler = new Handler(this, function (item, index) {
            var btnDelete = item.getChildByName("BtnDelete");
            btnDelete.on(Event.CLICK, this, onDelete, [this.AddressList.array[index].Address]);
            if (proposalInProgress) {
                btnDelete.disabled = true;
            }
        });

        var beneficiaries = [];
        this.AddressList.array = beneficiaries;
        this.AddressList.vScrollBarSkin = "";

        contract.get_beneficiaries(function (error, result) {
            if (error) throw error;
            var arr = [];
            for (var i = 0; i < result.length; ++i) {
                var a = goblin.util.uint256ToAddress(result[i]);
                beneficiaries.push(a)
                arr.push({Address: a});
            }
            this.AddressList.array = arr;
        }.bind(this))

        this.BtnAdd.on(Event.CLICK, this, function () {
            this.parent.addChild(new AddAddress(this.BtnAdd.label, contract.add_beneficiary, refresh));
        });

        if (proposalInProgress) {
            this.BtnAdd.disabled = true;
        }
        this.BtnRecharge.on(Event.CLICK, this, function () {
            this.parent.addChild(new Deposit(contract.address));
        });
        this.BtnTransfer.on(Event.CLICK, this, function () {
            this.parent.addChild(new AdminWithDraw(money, beneficiaries, function () {
                this.destroy();
                onBack();
            }.bind(this)));
        });
    }

    function AdminWithDraw(maxAmount, beneficiaries, callback) {
        AdminWithDraw.super(this);
        this.BtnBack.on(Event.CLICK, this, function () {
            this.destroy();
        });
        this.AbleWithDraw.text += web3.fromWei(maxAmount, "ether").toNumber().toFixed(goblin.valuePrecision) + " " + goblin.currencyName;
        this.ChooseAddress.labels = beneficiaries.join(",");

        var updateBtnOk = function () {
            this.BtnOk.disabled = this.ChooseAddress.selectedIndex < 0 || this.EditMoney.text.length == 0;
        }.bind(this);

        updateBtnOk();
        var amount = new web3.BigNumber(0);

        this.EditMoney.on(Event.INPUT, this, function () {
            try {
                amount = web3.toWei(new web3.BigNumber(this.EditMoney.text), "ether");
            } catch (e) {
                this.EditMoney.text = "";
                amount = new web3.BigNumber(0);
            }
            if (amount.gt(maxAmount)) {
                this.EditMoney.text = "";
                amount = new web3.BigNumber(0);
            }
            updateBtnOk();
        });

        this.ChooseAddress.on(Event.CHANGE, this, function () {
            updateBtnOk();
        });

        this.BtnOk.on(Event.CLICK, this, function () {
            sendTx(
                {to: contract.address, data: contract.benefit.getData(beneficiaries[this.ChooseAddress.selectedIndex], amount)},
                this.parent,
                function () {
                    this.destroy();
                    callback();
                }.bind(this)
            );
        });
    }

    Laya.class(BankMain, "AdminBankMain", AdminWalletMainUI);
    Laya.class(AddressList, "AdminAddressList", AdminWalletAddressUI);
    Laya.class(AddAddress, "AdminAddAddress", AdminWalletAddAddressUI);
    Laya.class(AdminMoney, "AdminMoney", AdminWalleMoneyUI);
    Laya.class(AdminWithDraw, "AdminWithDraw", AdminWithDrawUI);
    goblin.newHomeMain = newBankMain;
})();
(function () {
    "use strict";

    var Handler = laya.utils.Handler;
    var Event = laya.events.Event;

    var addKeystore = function (keystore, username) {
        var json = Laya.LocalStorage.getItem('keystores');
        var keystores = json == undefined ? [] : JSON.parse(json);
        var re = /"address":\s*"([^"]+)"/;
        var address1 = re.exec(keystore)[1];
        var i;
        for (i = 0; i < keystores.length; ++i) {
            var address2 = re.exec(keystores[i])[1];
            if (address1 == address2) break;
        }
        if (i < keystores.length) {
            keystores.splice(i, 1);
        }
        keystores.push(keystore);
        json = JSON.stringify(keystores);
        Laya.LocalStorage.setItem('keystores', json);
        if (username != undefined)
            Laya.LocalStorage.setItem(address1, username);
    };

    var getUserName = function(address) {
        var username = Laya.LocalStorage.getItem(address);
        return username || address;
    }

    var getKeystores = function () {
        var json = Laya.LocalStorage.getItem('keystores');
        var keystores = json == undefined ? [] : JSON.parse(json);
        return keystores;
    };

    function login(keystore, password, username) {
        try {
            var keyObject = JSON.parse(keystore);
        } catch (error) {
            this.parent.addChild(new goblin.misc.Tips(goblin.texts[1027]));
            return;
        }

        addKeystore(keystore, username);
        var privateKey = keythereum.recover(password, keyObject, function (error, privateKey) {
            if (error) {
                this.parent.addChild(new goblin.misc.Tips(goblin.texts[1028]));
            } else {
                goblin.keyObject = keyObject;
                goblin.privateKey = privateKey;
                goblin.newHomeMain(Laya.stage, function () { this.destroy(); }.bind(this));
            }
        }.bind(this));
    }

    function QuickLogin(keystores) {
        QuickLogin.super(this);

        var addresses = [];
        var re = /"address":\s*"([^"]+)"/;
        for (var i = keystores.length - 1; i >= 0; --i) {
            addresses.push(getUserName(re.exec(keystores[i])[1]));
        }
        this.Addresses.labels = addresses.join(",");
        this.Addresses.selectedIndex = 0;

        this.WalletPassword.on(Event.INPUT, this, function () {
            this.BtnLogin.disabled = this.WalletPassword.text.length == 0;
        });

        this.BtnLogin.on(Event.CLICK, this, function () {
            var keystore = keystores[keystores.length - this.Addresses.selectedIndex - 1];
            login.call(this, keystore, this.WalletPassword.text);
        });

        this.BtnSwitch.on(Event.CLICK, this, function () {
            var keystore = keystores[keystores.length - this.Addresses.selectedIndex - 1];
            this.parent.addChild(new Login(keystore));
            this.destroy();
        });
    }

    function Login(keystore) {
        Login.super(this);

        if (keystore != undefined) {
            this.WalletKeystore.text = keystore;
        }

        this.BtnLogin.disabled = this.WalletKeystore.text.length * this.WalletPassword.text.length == 0;

        this.WalletPassword.on(Event.INPUT, this, function () {
            this.BtnLogin.disabled = this.WalletKeystore.text.length * this.WalletPassword.text.length == 0;
        });

        this.WalletKeystore.on(Event.INPUT, this, function () {
            this.BtnLogin.disabled = this.WalletKeystore.text.length * this.WalletPassword.text.length == 0;
        });

        this.BtnLogin.on(Event.CLICK, this, function () {

            if (this.WalletUserName.text.length < 3) {
                this.parent.addChild(new goblin.misc.Tips(goblin.texts[1129]));
                return;
            }

            login.call(this, this.WalletKeystore.text, this.WalletPassword.text, this.WalletUserName.text);
        });

        this.BtnCreate.on(Event.CLICK, this, function () {
            this.parent.addChild(new Create(keystore));
            this.destroy();
        });
    }

    function isPasswd(s) {
        var patrn = /^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&*]+$)[a-zA-Z\d!@#$%^&*]+$/;
        if (!patrn.exec(s)) return false
        return true
    }    

    function Create(keystore) {
        Create.super(this);
        // this.BtnCreate.disabled = true;

        this.WalletPassword.on(Event.INPUT, this, function () {
            // this.BtnCreate.disabled = this.WalletPassword.text.length < 3;
        });

        this.BtnCreate.on(Event.CLICK, this, function () {
            if (this.WalletUserName.text.length < 3) {
                this.parent.addChild(new goblin.misc.Tips(goblin.texts[1129]));
                return;
            }

            if (!isPasswd(this.WalletPassword.text)) {
                this.parent.addChild(new goblin.misc.Tips(goblin.texts[1128]));
                return;
            }

            var params = { keyBytes: 32, ivBytes: 16 };

            keythereum.create(params, function (dk) {
                var options = {
                    kdf: "pbkdf2",
                    cipher: "aes-128-ctr",
                    kdfparams: {
                        c: 65536,
                        dklen: 32,
                        prf: "hmac-sha256"
                    }
                };

                var password = this.WalletPassword.text;
                goblin.userName = this.WalletUserName.text;

                keythereum.dump(password, dk.privateKey, dk.salt, dk.iv, options, function (keyObject) {
                    goblin.keyObject = keyObject;
                    goblin.privateKey = dk.privateKey;
                    var keystore = JSON.stringify(keyObject)
                    addKeystore(keystore, goblin.userName);
                    this.parent.addChild(new CreateSuccess(keystore));
                    this.destroy();
                }.bind(this));
            }.bind(this));
        });

        this.BtnChange.on(Event.CLICK, this, function () {
            this.parent.addChild(new Login(keystore));
            this.destroy();
        });
    }

    function CreateSuccess(keystore) {
        CreateSuccess.super(this);

        this.AccountInfo.text = keystore;

        this.BtnCopy.on(Event.CLICK, this, function () {
            goblin.util.copyToClipboard(this.AccountInfo.text);
        });

        this.BtnLogin.on(Event.CLICK, this, function () {
            goblin.newHomeMain(Laya.stage, function () { this.destroy(); }.bind(this));
        });
    }

    Laya.class(QuickLogin, "QuickLogin", QuickLoginUI);
    Laya.class(Login, "Login", LoginUI);
    Laya.class(Create, "Create", CreateUI);
    Laya.class(CreateSuccess, "CreateSuccess", CreateSuccessUI);

    goblin.newLoginMain = function (parent) {
        var keystores = getKeystores();

        if (keystores.length == 0) {
            parent.addChild(new Create());
        } else {
            parent.addChild(new QuickLogin(keystores));
        }
    };
})();
(function () {
    var Loader = laya.net.Loader;
    var Handler = laya.utils.Handler;

    //程序入口
    Laya.init(480, 800);
    Laya.stage.alignV = "middle";
    Laya.stage.alignH = "center";
    Laya.stage.scaleMode = "showall";
    //自动竖屏，让游戏的水平方向始终与浏览器显示屏幕的最长边保持垂直。
    // Laya.stage.screenMode = "vertical";
    //激活资源版本控制
    Laya.ResourceVersion.enable("version.json", Handler.create(null, beginLoad), Laya.ResourceVersion.FILENAME_VERSION);

    var langFileName = "res/atlas/zh-cht.lang";
    var ballgameBettingConfigFileName = "json/ballgame_betting_config.json";

    var resources = [
        ["res/atlas/comp.atlas", Loader.ATLAS],
        ["res/atlas/resource.atlas", Loader.ATLAS],
        [langFileName, Loader.JSON],
        [ballgameBettingConfigFileName, Loader.JSON]
    ];

    function beginLoad() {
        for (var i = 0; i < resources.length; ++i) {
            var resource = resources[i];
            Laya.loader.load(resource[0], Handler.create(null, onLoaded), null, resource[1]);
        }
    }

    var loadCount = 0;

    function initConfigs() {
        var getBallgameBettingConfig = function () {
            var result = Laya.loader.getRes(ballgameBettingConfigFileName);
            var leagues = result.leagues;
            var leagueById = result.leagueById = {};
            var teamById = result.teamById = {};
            for (var i = 0; i < leagues.length; ++i) {
                var league = leagues[i];
                leagueById[league.id] = league;
                var teams = league.teams;
                for (var j = 0; j < teams.length; ++j) {
                    var team = teams[j];
                    teamById[team.id] = team;
                }
            }
            result.leagueName = function(leagueId) {
                var l = this.leagueById[leagueId];
                if (!l) return "?";
                return l.name;
            };
            result.teamName = function(teamId) {
                var t = this.teamById[teamId];
                if (!t) return "?";
                return t.name;
            };
            return result;
        };
        goblin.config = {
            ballgameBetting: getBallgameBettingConfig()
        };
    }

    function onLoaded() {
        ++loadCount;

        if (loadCount == resources.length) {
            laya.display.Text.langPacks = Laya.loader.getRes(langFileName);
            initConfigs();

            if (goblin.privateKey) {
                goblin.newHomeMain(Laya.stage, function () {});
            } else {
                goblin.newLoginMain(Laya.stage);
            }
        }
    }
})();
